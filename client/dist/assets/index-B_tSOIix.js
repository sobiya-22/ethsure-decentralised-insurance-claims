const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CbshS3Pv.js","assets/is-plan-event-enabled-DeNtQvA5.js","assets/index-BxNOrR5M.js","assets/index-CC-oSAZ4.js","assets/solanaRpcMiddlewares-DezUEEdq.js","assets/index-DLhuWB-R.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function $i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var h1={},vh={},GC;function wU(){if(GC)return vh;GC=1,vh.byteLength=s,vh.toByteArray=l,vh.fromByteArray=g;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(v){var y=v.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=v.indexOf("=");w===-1&&(w=y);var C=w===y?0:4-w%4;return[w,C]}function s(v){var y=o(v),w=y[0],C=y[1];return(w+C)*3/4-C}function u(v,y,w){return(y+w)*3/4-w}function l(v){var y,w=o(v),C=w[0],x=w[1],M=new n(u(v,C,x)),k=0,z=x>0?C-4:C,P;for(P=0;P<z;P+=4)y=e[v.charCodeAt(P)]<<18|e[v.charCodeAt(P+1)]<<12|e[v.charCodeAt(P+2)]<<6|e[v.charCodeAt(P+3)],M[k++]=y>>16&255,M[k++]=y>>8&255,M[k++]=y&255;return x===2&&(y=e[v.charCodeAt(P)]<<2|e[v.charCodeAt(P+1)]>>4,M[k++]=y&255),x===1&&(y=e[v.charCodeAt(P)]<<10|e[v.charCodeAt(P+1)]<<4|e[v.charCodeAt(P+2)]>>2,M[k++]=y>>8&255,M[k++]=y&255),M}function h(v){return t[v>>18&63]+t[v>>12&63]+t[v>>6&63]+t[v&63]}function p(v,y,w){for(var C,x=[],M=y;M<w;M+=3)C=(v[M]<<16&16711680)+(v[M+1]<<8&65280)+(v[M+2]&255),x.push(h(C));return x.join("")}function g(v){for(var y,w=v.length,C=w%3,x=[],M=16383,k=0,z=w-C;k<z;k+=M)x.push(p(v,k,k+M>z?z:k+M));return C===1?(y=v[w-1],x.push(t[y>>2]+t[y<<4&63]+"==")):C===2&&(y=(v[w-2]<<8)+v[w-1],x.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),x.join("")}return vh}var Lm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var YC;function xU(){return YC||(YC=1,Lm.read=function(t,e,n,r,i){var a,o,s=i*8-r-1,u=(1<<s)-1,l=u>>1,h=-7,p=n?i-1:0,g=n?-1:1,v=t[e+p];for(p+=g,a=v&(1<<-h)-1,v>>=-h,h+=s;h>0;a=a*256+t[e+p],p+=g,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=r;h>0;o=o*256+t[e+p],p+=g,h-=8);if(a===0)a=1-l;else{if(a===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-l}return(v?-1:1)*o*Math.pow(2,a-r)},Lm.write=function(t,e,n,r,i,a){var o,s,u,l=a*8-i-1,h=(1<<l)-1,p=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:a-1,y=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=g/u:e+=g*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=h?(s=0,o=h):o+p>=1?(s=(e*u-1)*Math.pow(2,i),o=o+p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[n+v]=s&255,v+=y,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[n+v]=o&255,v+=y,o/=256,l-=8);t[n+v-y]|=w*128}),Lm}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var JC;function Yo(){return JC||(JC=1,function(t){const e=wU(),n=xU(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=M,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const re=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(re,V),re.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(re){if(re>i)throw new RangeError('The value "'+re+'" is invalid for option "size"');const V=new Uint8Array(re);return Object.setPrototypeOf(V,s.prototype),V}function s(re,V,J){if(typeof re=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(re)}return u(re,V,J)}s.poolSize=8192;function u(re,V,J){if(typeof re=="string")return g(re,V);if(ArrayBuffer.isView(re))return y(re);if(re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(xe(re,ArrayBuffer)||re&&xe(re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(re,SharedArrayBuffer)||re&&xe(re.buffer,SharedArrayBuffer)))return w(re,V,J);if(typeof re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ue=re.valueOf&&re.valueOf();if(ue!=null&&ue!==re)return s.from(ue,V,J);const ve=C(re);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof re[Symbol.toPrimitive]=="function")return s.from(re[Symbol.toPrimitive]("string"),V,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}s.from=function(re,V,J){return u(re,V,J)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(re){if(typeof re!="number")throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function h(re,V,J){return l(re),re<=0?o(re):V!==void 0?typeof J=="string"?o(re).fill(V,J):o(re).fill(V):o(re)}s.alloc=function(re,V,J){return h(re,V,J)};function p(re){return l(re),o(re<0?0:x(re)|0)}s.allocUnsafe=function(re){return p(re)},s.allocUnsafeSlow=function(re){return p(re)};function g(re,V){if((typeof V!="string"||V==="")&&(V="utf8"),!s.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const J=k(re,V)|0;let ue=o(J);const ve=ue.write(re,V);return ve!==J&&(ue=ue.slice(0,ve)),ue}function v(re){const V=re.length<0?0:x(re.length)|0,J=o(V);for(let ue=0;ue<V;ue+=1)J[ue]=re[ue]&255;return J}function y(re){if(xe(re,Uint8Array)){const V=new Uint8Array(re);return w(V.buffer,V.byteOffset,V.byteLength)}return v(re)}function w(re,V,J){if(V<0||re.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<V+(J||0))throw new RangeError('"length" is outside of buffer bounds');let ue;return V===void 0&&J===void 0?ue=new Uint8Array(re):J===void 0?ue=new Uint8Array(re,V):ue=new Uint8Array(re,V,J),Object.setPrototypeOf(ue,s.prototype),ue}function C(re){if(s.isBuffer(re)){const V=x(re.length)|0,J=o(V);return J.length===0||re.copy(J,0,0,V),J}if(re.length!==void 0)return typeof re.length!="number"||ze(re.length)?o(0):v(re);if(re.type==="Buffer"&&Array.isArray(re.data))return v(re.data)}function x(re){if(re>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return re|0}function M(re){return+re!=re&&(re=0),s.alloc(+re)}s.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==s.prototype},s.compare=function(V,J){if(xe(V,Uint8Array)&&(V=s.from(V,V.offset,V.byteLength)),xe(J,Uint8Array)&&(J=s.from(J,J.offset,J.byteLength)),!s.isBuffer(V)||!s.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===J)return 0;let ue=V.length,ve=J.length;for(let Me=0,Ie=Math.min(ue,ve);Me<Ie;++Me)if(V[Me]!==J[Me]){ue=V[Me],ve=J[Me];break}return ue<ve?-1:ve<ue?1:0},s.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(V,J){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return s.alloc(0);let ue;if(J===void 0)for(J=0,ue=0;ue<V.length;++ue)J+=V[ue].length;const ve=s.allocUnsafe(J);let Me=0;for(ue=0;ue<V.length;++ue){let Ie=V[ue];if(xe(Ie,Uint8Array))Me+Ie.length>ve.length?(s.isBuffer(Ie)||(Ie=s.from(Ie)),Ie.copy(ve,Me)):Uint8Array.prototype.set.call(ve,Ie,Me);else if(s.isBuffer(Ie))Ie.copy(ve,Me);else throw new TypeError('"list" argument must be an Array of Buffers');Me+=Ie.length}return ve};function k(re,V){if(s.isBuffer(re))return re.length;if(ArrayBuffer.isView(re)||xe(re,ArrayBuffer))return re.byteLength;if(typeof re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);const J=re.length,ue=arguments.length>2&&arguments[2]===!0;if(!ue&&J===0)return 0;let ve=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return Ee(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return Se(re).length;default:if(ve)return ue?-1:Ee(re).length;V=(""+V).toLowerCase(),ve=!0}}s.byteLength=k;function z(re,V,J){let ue=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,V>>>=0,J<=V))return"";for(re||(re="utf8");;)switch(re){case"hex":return I(this,V,J);case"utf8":case"utf-8":return A(this,V,J);case"ascii":return U(this,V,J);case"latin1":case"binary":return j(this,V,J);case"base64":return _(this,V,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,V,J);default:if(ue)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),ue=!0}}s.prototype._isBuffer=!0;function P(re,V,J){const ue=re[V];re[V]=re[J],re[J]=ue}s.prototype.swap16=function(){const V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<V;J+=2)P(this,J,J+1);return this},s.prototype.swap32=function(){const V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<V;J+=4)P(this,J,J+3),P(this,J+1,J+2);return this},s.prototype.swap64=function(){const V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<V;J+=8)P(this,J,J+7),P(this,J+1,J+6),P(this,J+2,J+5),P(this,J+3,J+4);return this},s.prototype.toString=function(){const V=this.length;return V===0?"":arguments.length===0?A(this,0,V):z.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(V){if(!s.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:s.compare(this,V)===0},s.prototype.inspect=function(){let V="";const J=t.INSPECT_MAX_BYTES;return V=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(V+=" ... "),"<Buffer "+V+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(V,J,ue,ve,Me){if(xe(V,Uint8Array)&&(V=s.from(V,V.offset,V.byteLength)),!s.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(J===void 0&&(J=0),ue===void 0&&(ue=V?V.length:0),ve===void 0&&(ve=0),Me===void 0&&(Me=this.length),J<0||ue>V.length||ve<0||Me>this.length)throw new RangeError("out of range index");if(ve>=Me&&J>=ue)return 0;if(ve>=Me)return-1;if(J>=ue)return 1;if(J>>>=0,ue>>>=0,ve>>>=0,Me>>>=0,this===V)return 0;let Ie=Me-ve,st=ue-J;const Pt=Math.min(Ie,st),ut=this.slice(ve,Me),bt=V.slice(J,ue);for(let Tt=0;Tt<Pt;++Tt)if(ut[Tt]!==bt[Tt]){Ie=ut[Tt],st=bt[Tt];break}return Ie<st?-1:st<Ie?1:0};function K(re,V,J,ue,ve){if(re.length===0)return-1;if(typeof J=="string"?(ue=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,ze(J)&&(J=ve?0:re.length-1),J<0&&(J=re.length+J),J>=re.length){if(ve)return-1;J=re.length-1}else if(J<0)if(ve)J=0;else return-1;if(typeof V=="string"&&(V=s.from(V,ue)),s.isBuffer(V))return V.length===0?-1:W(re,V,J,ue,ve);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(re,V,J):Uint8Array.prototype.lastIndexOf.call(re,V,J):W(re,[V],J,ue,ve);throw new TypeError("val must be string, number or Buffer")}function W(re,V,J,ue,ve){let Me=1,Ie=re.length,st=V.length;if(ue!==void 0&&(ue=String(ue).toLowerCase(),ue==="ucs2"||ue==="ucs-2"||ue==="utf16le"||ue==="utf-16le")){if(re.length<2||V.length<2)return-1;Me=2,Ie/=2,st/=2,J/=2}function Pt(bt,Tt){return Me===1?bt[Tt]:bt.readUInt16BE(Tt*Me)}let ut;if(ve){let bt=-1;for(ut=J;ut<Ie;ut++)if(Pt(re,ut)===Pt(V,bt===-1?0:ut-bt)){if(bt===-1&&(bt=ut),ut-bt+1===st)return bt*Me}else bt!==-1&&(ut-=ut-bt),bt=-1}else for(J+st>Ie&&(J=Ie-st),ut=J;ut>=0;ut--){let bt=!0;for(let Tt=0;Tt<st;Tt++)if(Pt(re,ut+Tt)!==Pt(V,Tt)){bt=!1;break}if(bt)return ut}return-1}s.prototype.includes=function(V,J,ue){return this.indexOf(V,J,ue)!==-1},s.prototype.indexOf=function(V,J,ue){return K(this,V,J,ue,!0)},s.prototype.lastIndexOf=function(V,J,ue){return K(this,V,J,ue,!1)};function B(re,V,J,ue){J=Number(J)||0;const ve=re.length-J;ue?(ue=Number(ue),ue>ve&&(ue=ve)):ue=ve;const Me=V.length;ue>Me/2&&(ue=Me/2);let Ie;for(Ie=0;Ie<ue;++Ie){const st=parseInt(V.substr(Ie*2,2),16);if(ze(st))return Ie;re[J+Ie]=st}return Ie}function D(re,V,J,ue){return Ae(Ee(V,re.length-J),re,J,ue)}function $(re,V,J,ue){return Ae(ye(V),re,J,ue)}function T(re,V,J,ue){return Ae(Se(V),re,J,ue)}function b(re,V,J,ue){return Ae(fe(V,re.length-J),re,J,ue)}s.prototype.write=function(V,J,ue,ve){if(J===void 0)ve="utf8",ue=this.length,J=0;else if(ue===void 0&&typeof J=="string")ve=J,ue=this.length,J=0;else if(isFinite(J))J=J>>>0,isFinite(ue)?(ue=ue>>>0,ve===void 0&&(ve="utf8")):(ve=ue,ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Me=this.length-J;if((ue===void 0||ue>Me)&&(ue=Me),V.length>0&&(ue<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let Ie=!1;for(;;)switch(ve){case"hex":return B(this,V,J,ue);case"utf8":case"utf-8":return D(this,V,J,ue);case"ascii":case"latin1":case"binary":return $(this,V,J,ue);case"base64":return T(this,V,J,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,V,J,ue);default:if(Ie)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Ie=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(re,V,J){return V===0&&J===re.length?e.fromByteArray(re):e.fromByteArray(re.slice(V,J))}function A(re,V,J){J=Math.min(re.length,J);const ue=[];let ve=V;for(;ve<J;){const Me=re[ve];let Ie=null,st=Me>239?4:Me>223?3:Me>191?2:1;if(ve+st<=J){let Pt,ut,bt,Tt;switch(st){case 1:Me<128&&(Ie=Me);break;case 2:Pt=re[ve+1],(Pt&192)===128&&(Tt=(Me&31)<<6|Pt&63,Tt>127&&(Ie=Tt));break;case 3:Pt=re[ve+1],ut=re[ve+2],(Pt&192)===128&&(ut&192)===128&&(Tt=(Me&15)<<12|(Pt&63)<<6|ut&63,Tt>2047&&(Tt<55296||Tt>57343)&&(Ie=Tt));break;case 4:Pt=re[ve+1],ut=re[ve+2],bt=re[ve+3],(Pt&192)===128&&(ut&192)===128&&(bt&192)===128&&(Tt=(Me&15)<<18|(Pt&63)<<12|(ut&63)<<6|bt&63,Tt>65535&&Tt<1114112&&(Ie=Tt))}}Ie===null?(Ie=65533,st=1):Ie>65535&&(Ie-=65536,ue.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),ue.push(Ie),ve+=st}return O(ue)}const N=4096;function O(re){const V=re.length;if(V<=N)return String.fromCharCode.apply(String,re);let J="",ue=0;for(;ue<V;)J+=String.fromCharCode.apply(String,re.slice(ue,ue+=N));return J}function U(re,V,J){let ue="";J=Math.min(re.length,J);for(let ve=V;ve<J;++ve)ue+=String.fromCharCode(re[ve]&127);return ue}function j(re,V,J){let ue="";J=Math.min(re.length,J);for(let ve=V;ve<J;++ve)ue+=String.fromCharCode(re[ve]);return ue}function I(re,V,J){const ue=re.length;(!V||V<0)&&(V=0),(!J||J<0||J>ue)&&(J=ue);let ve="";for(let Me=V;Me<J;++Me)ve+=Xe[re[Me]];return ve}function E(re,V,J){const ue=re.slice(V,J);let ve="";for(let Me=0;Me<ue.length-1;Me+=2)ve+=String.fromCharCode(ue[Me]+ue[Me+1]*256);return ve}s.prototype.slice=function(V,J){const ue=this.length;V=~~V,J=J===void 0?ue:~~J,V<0?(V+=ue,V<0&&(V=0)):V>ue&&(V=ue),J<0?(J+=ue,J<0&&(J=0)):J>ue&&(J=ue),J<V&&(J=V);const ve=this.subarray(V,J);return Object.setPrototypeOf(ve,s.prototype),ve};function L(re,V,J){if(re%1!==0||re<0)throw new RangeError("offset is not uint");if(re+V>J)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(V,J,ue){V=V>>>0,J=J>>>0,ue||L(V,J,this.length);let ve=this[V],Me=1,Ie=0;for(;++Ie<J&&(Me*=256);)ve+=this[V+Ie]*Me;return ve},s.prototype.readUintBE=s.prototype.readUIntBE=function(V,J,ue){V=V>>>0,J=J>>>0,ue||L(V,J,this.length);let ve=this[V+--J],Me=1;for(;J>0&&(Me*=256);)ve+=this[V+--J]*Me;return ve},s.prototype.readUint8=s.prototype.readUInt8=function(V,J){return V=V>>>0,J||L(V,1,this.length),this[V]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(V,J){return V=V>>>0,J||L(V,2,this.length),this[V]|this[V+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(V,J){return V=V>>>0,J||L(V,2,this.length),this[V]<<8|this[V+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(V,J){return V=V>>>0,J||L(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(V,J){return V=V>>>0,J||L(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},s.prototype.readBigUInt64LE=nt(function(V){V=V>>>0,ee(V,"offset");const J=this[V],ue=this[V+7];(J===void 0||ue===void 0)&&le(V,this.length-8);const ve=J+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24,Me=this[++V]+this[++V]*2**8+this[++V]*2**16+ue*2**24;return BigInt(ve)+(BigInt(Me)<<BigInt(32))}),s.prototype.readBigUInt64BE=nt(function(V){V=V>>>0,ee(V,"offset");const J=this[V],ue=this[V+7];(J===void 0||ue===void 0)&&le(V,this.length-8);const ve=J*2**24+this[++V]*2**16+this[++V]*2**8+this[++V],Me=this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+ue;return(BigInt(ve)<<BigInt(32))+BigInt(Me)}),s.prototype.readIntLE=function(V,J,ue){V=V>>>0,J=J>>>0,ue||L(V,J,this.length);let ve=this[V],Me=1,Ie=0;for(;++Ie<J&&(Me*=256);)ve+=this[V+Ie]*Me;return Me*=128,ve>=Me&&(ve-=Math.pow(2,8*J)),ve},s.prototype.readIntBE=function(V,J,ue){V=V>>>0,J=J>>>0,ue||L(V,J,this.length);let ve=J,Me=1,Ie=this[V+--ve];for(;ve>0&&(Me*=256);)Ie+=this[V+--ve]*Me;return Me*=128,Ie>=Me&&(Ie-=Math.pow(2,8*J)),Ie},s.prototype.readInt8=function(V,J){return V=V>>>0,J||L(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},s.prototype.readInt16LE=function(V,J){V=V>>>0,J||L(V,2,this.length);const ue=this[V]|this[V+1]<<8;return ue&32768?ue|4294901760:ue},s.prototype.readInt16BE=function(V,J){V=V>>>0,J||L(V,2,this.length);const ue=this[V+1]|this[V]<<8;return ue&32768?ue|4294901760:ue},s.prototype.readInt32LE=function(V,J){return V=V>>>0,J||L(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},s.prototype.readInt32BE=function(V,J){return V=V>>>0,J||L(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},s.prototype.readBigInt64LE=nt(function(V){V=V>>>0,ee(V,"offset");const J=this[V],ue=this[V+7];(J===void 0||ue===void 0)&&le(V,this.length-8);const ve=this[V+4]+this[V+5]*2**8+this[V+6]*2**16+(ue<<24);return(BigInt(ve)<<BigInt(32))+BigInt(J+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24)}),s.prototype.readBigInt64BE=nt(function(V){V=V>>>0,ee(V,"offset");const J=this[V],ue=this[V+7];(J===void 0||ue===void 0)&&le(V,this.length-8);const ve=(J<<24)+this[++V]*2**16+this[++V]*2**8+this[++V];return(BigInt(ve)<<BigInt(32))+BigInt(this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+ue)}),s.prototype.readFloatLE=function(V,J){return V=V>>>0,J||L(V,4,this.length),n.read(this,V,!0,23,4)},s.prototype.readFloatBE=function(V,J){return V=V>>>0,J||L(V,4,this.length),n.read(this,V,!1,23,4)},s.prototype.readDoubleLE=function(V,J){return V=V>>>0,J||L(V,8,this.length),n.read(this,V,!0,52,8)},s.prototype.readDoubleBE=function(V,J){return V=V>>>0,J||L(V,8,this.length),n.read(this,V,!1,52,8)};function q(re,V,J,ue,ve,Me){if(!s.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>ve||V<Me)throw new RangeError('"value" argument is out of bounds');if(J+ue>re.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(V,J,ue,ve){if(V=+V,J=J>>>0,ue=ue>>>0,!ve){const st=Math.pow(2,8*ue)-1;q(this,V,J,ue,st,0)}let Me=1,Ie=0;for(this[J]=V&255;++Ie<ue&&(Me*=256);)this[J+Ie]=V/Me&255;return J+ue},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(V,J,ue,ve){if(V=+V,J=J>>>0,ue=ue>>>0,!ve){const st=Math.pow(2,8*ue)-1;q(this,V,J,ue,st,0)}let Me=ue-1,Ie=1;for(this[J+Me]=V&255;--Me>=0&&(Ie*=256);)this[J+Me]=V/Ie&255;return J+ue},s.prototype.writeUint8=s.prototype.writeUInt8=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,1,255,0),this[J]=V&255,J+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,2,65535,0),this[J]=V&255,this[J+1]=V>>>8,J+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,2,65535,0),this[J]=V>>>8,this[J+1]=V&255,J+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,4,4294967295,0),this[J+3]=V>>>24,this[J+2]=V>>>16,this[J+1]=V>>>8,this[J]=V&255,J+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,4,4294967295,0),this[J]=V>>>24,this[J+1]=V>>>16,this[J+2]=V>>>8,this[J+3]=V&255,J+4};function F(re,V,J,ue,ve){oe(V,ue,ve,re,J,7);let Me=Number(V&BigInt(4294967295));re[J++]=Me,Me=Me>>8,re[J++]=Me,Me=Me>>8,re[J++]=Me,Me=Me>>8,re[J++]=Me;let Ie=Number(V>>BigInt(32)&BigInt(4294967295));return re[J++]=Ie,Ie=Ie>>8,re[J++]=Ie,Ie=Ie>>8,re[J++]=Ie,Ie=Ie>>8,re[J++]=Ie,J}function G(re,V,J,ue,ve){oe(V,ue,ve,re,J,7);let Me=Number(V&BigInt(4294967295));re[J+7]=Me,Me=Me>>8,re[J+6]=Me,Me=Me>>8,re[J+5]=Me,Me=Me>>8,re[J+4]=Me;let Ie=Number(V>>BigInt(32)&BigInt(4294967295));return re[J+3]=Ie,Ie=Ie>>8,re[J+2]=Ie,Ie=Ie>>8,re[J+1]=Ie,Ie=Ie>>8,re[J]=Ie,J+8}s.prototype.writeBigUInt64LE=nt(function(V,J=0){return F(this,V,J,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=nt(function(V,J=0){return G(this,V,J,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(V,J,ue,ve){if(V=+V,J=J>>>0,!ve){const Pt=Math.pow(2,8*ue-1);q(this,V,J,ue,Pt-1,-Pt)}let Me=0,Ie=1,st=0;for(this[J]=V&255;++Me<ue&&(Ie*=256);)V<0&&st===0&&this[J+Me-1]!==0&&(st=1),this[J+Me]=(V/Ie>>0)-st&255;return J+ue},s.prototype.writeIntBE=function(V,J,ue,ve){if(V=+V,J=J>>>0,!ve){const Pt=Math.pow(2,8*ue-1);q(this,V,J,ue,Pt-1,-Pt)}let Me=ue-1,Ie=1,st=0;for(this[J+Me]=V&255;--Me>=0&&(Ie*=256);)V<0&&st===0&&this[J+Me+1]!==0&&(st=1),this[J+Me]=(V/Ie>>0)-st&255;return J+ue},s.prototype.writeInt8=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,1,127,-128),V<0&&(V=255+V+1),this[J]=V&255,J+1},s.prototype.writeInt16LE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,2,32767,-32768),this[J]=V&255,this[J+1]=V>>>8,J+2},s.prototype.writeInt16BE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,2,32767,-32768),this[J]=V>>>8,this[J+1]=V&255,J+2},s.prototype.writeInt32LE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,4,2147483647,-2147483648),this[J]=V&255,this[J+1]=V>>>8,this[J+2]=V>>>16,this[J+3]=V>>>24,J+4},s.prototype.writeInt32BE=function(V,J,ue){return V=+V,J=J>>>0,ue||q(this,V,J,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[J]=V>>>24,this[J+1]=V>>>16,this[J+2]=V>>>8,this[J+3]=V&255,J+4},s.prototype.writeBigInt64LE=nt(function(V,J=0){return F(this,V,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=nt(function(V,J=0){return G(this,V,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y(re,V,J,ue,ve,Me){if(J+ue>re.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Q(re,V,J,ue,ve){return V=+V,J=J>>>0,ve||Y(re,V,J,4),n.write(re,V,J,ue,23,4),J+4}s.prototype.writeFloatLE=function(V,J,ue){return Q(this,V,J,!0,ue)},s.prototype.writeFloatBE=function(V,J,ue){return Q(this,V,J,!1,ue)};function ie(re,V,J,ue,ve){return V=+V,J=J>>>0,ve||Y(re,V,J,8),n.write(re,V,J,ue,52,8),J+8}s.prototype.writeDoubleLE=function(V,J,ue){return ie(this,V,J,!0,ue)},s.prototype.writeDoubleBE=function(V,J,ue){return ie(this,V,J,!1,ue)},s.prototype.copy=function(V,J,ue,ve){if(!s.isBuffer(V))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),!ve&&ve!==0&&(ve=this.length),J>=V.length&&(J=V.length),J||(J=0),ve>0&&ve<ue&&(ve=ue),ve===ue||V.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),V.length-J<ve-ue&&(ve=V.length-J+ue);const Me=ve-ue;return this===V&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(J,ue,ve):Uint8Array.prototype.set.call(V,this.subarray(ue,ve),J),Me},s.prototype.fill=function(V,J,ue,ve){if(typeof V=="string"){if(typeof J=="string"?(ve=J,J=0,ue=this.length):typeof ue=="string"&&(ve=ue,ue=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!s.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(V.length===1){const Ie=V.charCodeAt(0);(ve==="utf8"&&Ie<128||ve==="latin1")&&(V=Ie)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(J<0||this.length<J||this.length<ue)throw new RangeError("Out of range index");if(ue<=J)return this;J=J>>>0,ue=ue===void 0?this.length:ue>>>0,V||(V=0);let Me;if(typeof V=="number")for(Me=J;Me<ue;++Me)this[Me]=V;else{const Ie=s.isBuffer(V)?V:s.from(V,ve),st=Ie.length;if(st===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(Me=0;Me<ue-J;++Me)this[Me+J]=Ie[Me%st]}return this};const Z={};function X(re,V,J){Z[re]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${re}]`,this.stack,delete this.name}get code(){return re}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${re}]: ${this.message}`}}}X("ERR_BUFFER_OUT_OF_BOUNDS",function(re){return re?`${re} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(re,V){return`The "${re}" argument must be of type number. Received type ${typeof V}`},TypeError),X("ERR_OUT_OF_RANGE",function(re,V,J){let ue=`The value of "${re}" is out of range.`,ve=J;return Number.isInteger(J)&&Math.abs(J)>2**32?ve=te(String(J)):typeof J=="bigint"&&(ve=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(ve=te(ve)),ve+="n"),ue+=` It must be ${V}. Received ${ve}`,ue},RangeError);function te(re){let V="",J=re.length;const ue=re[0]==="-"?1:0;for(;J>=ue+4;J-=3)V=`_${re.slice(J-3,J)}${V}`;return`${re.slice(0,J)}${V}`}function ae(re,V,J){ee(V,"offset"),(re[V]===void 0||re[V+J]===void 0)&&le(V,re.length-(J+1))}function oe(re,V,J,ue,ve,Me){if(re>J||re<V){const Ie=typeof V=="bigint"?"n":"";let st;throw V===0||V===BigInt(0)?st=`>= 0${Ie} and < 2${Ie} ** ${(Me+1)*8}${Ie}`:st=`>= -(2${Ie} ** ${(Me+1)*8-1}${Ie}) and < 2 ** ${(Me+1)*8-1}${Ie}`,new Z.ERR_OUT_OF_RANGE("value",st,re)}ae(ue,ve,Me)}function ee(re,V){if(typeof re!="number")throw new Z.ERR_INVALID_ARG_TYPE(V,"number",re)}function le(re,V,J){throw Math.floor(re)!==re?(ee(re,J),new Z.ERR_OUT_OF_RANGE("offset","an integer",re)):V<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${V}`,re)}const he=/[^+/0-9A-Za-z-_]/g;function ge(re){if(re=re.split("=")[0],re=re.trim().replace(he,""),re.length<2)return"";for(;re.length%4!==0;)re=re+"=";return re}function Ee(re,V){V=V||1/0;let J;const ue=re.length;let ve=null;const Me=[];for(let Ie=0;Ie<ue;++Ie){if(J=re.charCodeAt(Ie),J>55295&&J<57344){if(!ve){if(J>56319){(V-=3)>-1&&Me.push(239,191,189);continue}else if(Ie+1===ue){(V-=3)>-1&&Me.push(239,191,189);continue}ve=J;continue}if(J<56320){(V-=3)>-1&&Me.push(239,191,189),ve=J;continue}J=(ve-55296<<10|J-56320)+65536}else ve&&(V-=3)>-1&&Me.push(239,191,189);if(ve=null,J<128){if((V-=1)<0)break;Me.push(J)}else if(J<2048){if((V-=2)<0)break;Me.push(J>>6|192,J&63|128)}else if(J<65536){if((V-=3)<0)break;Me.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((V-=4)<0)break;Me.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return Me}function ye(re){const V=[];for(let J=0;J<re.length;++J)V.push(re.charCodeAt(J)&255);return V}function fe(re,V){let J,ue,ve;const Me=[];for(let Ie=0;Ie<re.length&&!((V-=2)<0);++Ie)J=re.charCodeAt(Ie),ue=J>>8,ve=J%256,Me.push(ve),Me.push(ue);return Me}function Se(re){return e.toByteArray(ge(re))}function Ae(re,V,J,ue){let ve;for(ve=0;ve<ue&&!(ve+J>=V.length||ve>=re.length);++ve)V[ve+J]=re[ve];return ve}function xe(re,V){return re instanceof V||re!=null&&re.constructor!=null&&re.constructor.name!=null&&re.constructor.name===V.name}function ze(re){return re!==re}const Xe=function(){const re="0123456789abcdef",V=new Array(256);for(let J=0;J<16;++J){const ue=J*16;for(let ve=0;ve<16;++ve)V[ue+ve]=re[J]+re[ve]}return V}();function nt(re){return typeof BigInt>"u"?et:re}function et(){throw new Error("BigInt not supported")}}(h1)),h1}var EU=Yo(),p1={exports:{}},ZC;function bc(){if(ZC)return p1.exports;ZC=1;var t=p1.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(w){if(e===setTimeout)return setTimeout(w,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(w,0);try{return e(w,0)}catch{try{return e.call(null,w,0)}catch{return e.call(this,w,0)}}}function o(w){if(n===clearTimeout)return clearTimeout(w);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(w);try{return n(w)}catch{try{return n.call(null,w)}catch{return n.call(this,w)}}}var s=[],u=!1,l,h=-1;function p(){!u||!l||(u=!1,l.length?s=l.concat(s):h=-1,s.length&&g())}function g(){if(!u){var w=a(p);u=!0;for(var C=s.length;C;){for(l=s,s=[];++h<C;)l&&l[h].run();h=-1,C=s.length}l=null,u=!1,o(w)}}t.nextTick=function(w){var C=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)C[x-1]=arguments[x];s.push(new v(w,C)),s.length===1&&!u&&a(g)};function v(w,C){this.fun=w,this.array=C}v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function y(){}return t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(w){return[]},t.binding=function(w){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(w){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},p1.exports}var SU=bc();const _U=$i(SU);window.Buffer=EU.Buffer;window.process=_U;var m1={exports:{}},yh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function CU(){if(QC)return yh;QC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return yh.Fragment=e,yh.jsx=n,yh.jsxs=n,yh}var XC;function NU(){return XC||(XC=1,m1.exports=CU()),m1.exports}var f=NU(),g1={exports:{}},bh={},v1={exports:{}},y1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function AU(){return eN||(eN=1,function(t){function e(O,U){var j=O.length;O.push(U);e:for(;0<j;){var I=j-1>>>1,E=O[I];if(0<i(E,U))O[I]=U,O[j]=E,j=I;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],j=O.pop();if(j!==U){O[0]=j;e:for(var I=0,E=O.length,L=E>>>1;I<L;){var q=2*(I+1)-1,F=O[q],G=q+1,Y=O[G];if(0>i(F,j))G<E&&0>i(Y,F)?(O[I]=Y,O[G]=j,I=G):(O[I]=F,O[q]=j,I=q);else if(G<E&&0>i(Y,j))O[I]=Y,O[G]=j,I=G;else break e}}return U}function i(O,U){var j=O.sortIndex-U.sortIndex;return j!==0?j:O.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var u=[],l=[],h=1,p=null,g=3,v=!1,y=!1,w=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function z(O){for(var U=n(l);U!==null;){if(U.callback===null)r(l);else if(U.startTime<=O)r(l),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(l)}}function P(O){if(w=!1,z(O),!y)if(n(u)!==null)y=!0,K||(K=!0,b());else{var U=n(l);U!==null&&N(P,U.startTime-O)}}var K=!1,W=-1,B=5,D=-1;function $(){return C?!0:!(t.unstable_now()-D<B)}function T(){if(C=!1,K){var O=t.unstable_now();D=O;var U=!0;try{e:{y=!1,w&&(w=!1,M(W),W=-1),v=!0;var j=g;try{t:{for(z(O),p=n(u);p!==null&&!(p.expirationTime>O&&$());){var I=p.callback;if(typeof I=="function"){p.callback=null,g=p.priorityLevel;var E=I(p.expirationTime<=O);if(O=t.unstable_now(),typeof E=="function"){p.callback=E,z(O),U=!0;break t}p===n(u)&&r(u),z(O)}else r(u);p=n(u)}if(p!==null)U=!0;else{var L=n(l);L!==null&&N(P,L.startTime-O),U=!1}}break e}finally{p=null,g=j,v=!1}U=void 0}}finally{U?b():K=!1}}}var b;if(typeof k=="function")b=function(){k(T)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,A=_.port2;_.port1.onmessage=T,b=function(){A.postMessage(null)}}else b=function(){x(T,0)};function N(O,U){W=x(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var j=g;g=U;try{return O()}finally{g=j}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var j=g;g=O;try{return U()}finally{g=j}},t.unstable_scheduleCallback=function(O,U,j){var I=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?I+j:I):j=I,O){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=j+E,O={id:h++,callback:U,priorityLevel:O,startTime:j,expirationTime:E,sortIndex:-1},j>I?(O.sortIndex=j,e(l,O),n(u)===null&&O===n(l)&&(w?(M(W),W=-1):w=!0,N(P,j-I))):(O.sortIndex=E,e(u,O),y||v||(y=!0,K||(K=!0,b()))),O},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(O){var U=g;return function(){var j=g;g=U;try{return O.apply(this,arguments)}finally{g=j}}}}(y1)),y1}var tN;function jU(){return tN||(tN=1,v1.exports=AU()),v1.exports}var b1={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function MU(){if(nN)return zt;nN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(E){return E===null||typeof E!="object"?null:(E=p&&E[p]||E["@@iterator"],typeof E=="function"?E:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function C(E,L,q){this.props=E,this.context=L,this.refs=w,this.updater=q||v}C.prototype.isReactComponent={},C.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function x(){}x.prototype=C.prototype;function M(E,L,q){this.props=E,this.context=L,this.refs=w,this.updater=q||v}var k=M.prototype=new x;k.constructor=M,y(k,C.prototype),k.isPureReactComponent=!0;var z=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function W(E,L,q,F,G,Y){return q=Y.ref,{$$typeof:t,type:E,key:L,ref:q!==void 0?q:null,props:Y}}function B(E,L){return W(E.type,L,void 0,void 0,void 0,E.props)}function D(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function $(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(q){return L[q]})}var T=/\/+/g;function b(E,L){return typeof E=="object"&&E!==null&&E.key!=null?$(""+E.key):L.toString(36)}function _(){}function A(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(_,_):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function N(E,L,q,F,G){var Y=typeof E;(Y==="undefined"||Y==="boolean")&&(E=null);var Q=!1;if(E===null)Q=!0;else switch(Y){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(E.$$typeof){case t:case e:Q=!0;break;case h:return Q=E._init,N(Q(E._payload),L,q,F,G)}}if(Q)return G=G(E),Q=F===""?"."+b(E,0):F,z(G)?(q="",Q!=null&&(q=Q.replace(T,"$&/")+"/"),N(G,L,q,"",function(X){return X})):G!=null&&(D(G)&&(G=B(G,q+(G.key==null||E&&E.key===G.key?"":(""+G.key).replace(T,"$&/")+"/")+Q)),L.push(G)),1;Q=0;var ie=F===""?".":F+":";if(z(E))for(var Z=0;Z<E.length;Z++)F=E[Z],Y=ie+b(F,Z),Q+=N(F,L,q,Y,G);else if(Z=g(E),typeof Z=="function")for(E=Z.call(E),Z=0;!(F=E.next()).done;)F=F.value,Y=ie+b(F,Z++),Q+=N(F,L,q,Y,G);else if(Y==="object"){if(typeof E.then=="function")return N(A(E),L,q,F,G);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Q}function O(E,L,q){if(E==null)return E;var F=[],G=0;return N(E,F,"","",function(Y){return L.call(q,Y,G++)}),F}function U(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(q){(E._status===0||E._status===-1)&&(E._status=1,E._result=q)},function(q){(E._status===0||E._status===-1)&&(E._status=2,E._result=q)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var j=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function I(){}return zt.Children={map:O,forEach:function(E,L,q){O(E,function(){L.apply(this,arguments)},q)},count:function(E){var L=0;return O(E,function(){L++}),L},toArray:function(E){return O(E,function(L){return L})||[]},only:function(E){if(!D(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},zt.Component=C,zt.Fragment=n,zt.Profiler=i,zt.PureComponent=M,zt.StrictMode=r,zt.Suspense=u,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,zt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return P.H.useMemoCache(E)}},zt.cache=function(E){return function(){return E.apply(null,arguments)}},zt.cloneElement=function(E,L,q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var F=y({},E.props),G=E.key,Y=void 0;if(L!=null)for(Q in L.ref!==void 0&&(Y=void 0),L.key!==void 0&&(G=""+L.key),L)!K.call(L,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&L.ref===void 0||(F[Q]=L[Q]);var Q=arguments.length-2;if(Q===1)F.children=q;else if(1<Q){for(var ie=Array(Q),Z=0;Z<Q;Z++)ie[Z]=arguments[Z+2];F.children=ie}return W(E.type,G,void 0,void 0,Y,F)},zt.createContext=function(E){return E={$$typeof:o,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:a,_context:E},E},zt.createElement=function(E,L,q){var F,G={},Y=null;if(L!=null)for(F in L.key!==void 0&&(Y=""+L.key),L)K.call(L,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(G[F]=L[F]);var Q=arguments.length-2;if(Q===1)G.children=q;else if(1<Q){for(var ie=Array(Q),Z=0;Z<Q;Z++)ie[Z]=arguments[Z+2];G.children=ie}if(E&&E.defaultProps)for(F in Q=E.defaultProps,Q)G[F]===void 0&&(G[F]=Q[F]);return W(E,Y,void 0,void 0,null,G)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(E){return{$$typeof:s,render:E}},zt.isValidElement=D,zt.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:U}},zt.memo=function(E,L){return{$$typeof:l,type:E,compare:L===void 0?null:L}},zt.startTransition=function(E){var L=P.T,q={};P.T=q;try{var F=E(),G=P.S;G!==null&&G(q,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(I,j)}catch(Y){j(Y)}finally{P.T=L}},zt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},zt.use=function(E){return P.H.use(E)},zt.useActionState=function(E,L,q){return P.H.useActionState(E,L,q)},zt.useCallback=function(E,L){return P.H.useCallback(E,L)},zt.useContext=function(E){return P.H.useContext(E)},zt.useDebugValue=function(){},zt.useDeferredValue=function(E,L){return P.H.useDeferredValue(E,L)},zt.useEffect=function(E,L,q){var F=P.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(E,L)},zt.useId=function(){return P.H.useId()},zt.useImperativeHandle=function(E,L,q){return P.H.useImperativeHandle(E,L,q)},zt.useInsertionEffect=function(E,L){return P.H.useInsertionEffect(E,L)},zt.useLayoutEffect=function(E,L){return P.H.useLayoutEffect(E,L)},zt.useMemo=function(E,L){return P.H.useMemo(E,L)},zt.useOptimistic=function(E,L){return P.H.useOptimistic(E,L)},zt.useReducer=function(E,L,q){return P.H.useReducer(E,L,q)},zt.useRef=function(E){return P.H.useRef(E)},zt.useState=function(E){return P.H.useState(E)},zt.useSyncExternalStore=function(E,L,q){return P.H.useSyncExternalStore(E,L,q)},zt.useTransition=function(){return P.H.useTransition()},zt.version="19.1.0",zt}var rN;function mf(){return rN||(rN=1,b1.exports=MU()),b1.exports}var w1={exports:{}},Wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function OU(){if(iN)return Wr;iN=1;var t=mf();function e(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,l,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:l,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,l){if(u==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wr.createPortal=function(u,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return a(u,l,null,h)},Wr.flushSync=function(u){var l=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=l,r.p=h,r.d.f()}},Wr.preconnect=function(u,l){typeof u=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,r.d.C(u,l))},Wr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Wr.preinit=function(u,l){if(typeof u=="string"&&l&&typeof l.as=="string"){var h=l.as,p=s(h,l.crossOrigin),g=typeof l.integrity=="string"?l.integrity:void 0,v=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;h==="style"?r.d.S(u,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Wr.preinitModule=function(u,l){if(typeof u=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var h=s(l.as,l.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&r.d.M(u)},Wr.preload=function(u,l){if(typeof u=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var h=l.as,p=s(h,l.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Wr.preloadModule=function(u,l){if(typeof u=="string")if(l){var h=s(l.as,l.crossOrigin);r.d.m(u,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:h,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else r.d.m(u)},Wr.requestFormReset=function(u){r.d.r(u)},Wr.unstable_batchedUpdates=function(u,l){return u(l)},Wr.useFormState=function(u,l,h){return o.H.useFormState(u,l,h)},Wr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Wr.version="19.1.0",Wr}var aN;function kU(){if(aN)return w1.exports;aN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w1.exports=OU(),w1.exports}var sN;function IU(){if(sN)return bh;sN=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=jU(),e=mf(),n=kU();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function s(c){if(a(c)!==c)throw Error(r(188))}function u(c){var d=c.alternate;if(!d){if(d=a(c),d===null)throw Error(r(188));return d!==c?null:c}for(var m=c,S=d;;){var R=m.return;if(R===null)break;var H=R.alternate;if(H===null){if(S=R.return,S!==null){m=S;continue}break}if(R.child===H.child){for(H=R.child;H;){if(H===m)return s(R),c;if(H===S)return s(R),d;H=H.sibling}throw Error(r(188))}if(m.return!==S.return)m=R,S=H;else{for(var ne=!1,ce=R.child;ce;){if(ce===m){ne=!0,m=R,S=H;break}if(ce===S){ne=!0,S=R,m=H;break}ce=ce.sibling}if(!ne){for(ce=H.child;ce;){if(ce===m){ne=!0,m=H,S=R;break}if(ce===S){ne=!0,S=H,m=R;break}ce=ce.sibling}if(!ne)throw Error(r(189))}}if(m.alternate!==S)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:d}function l(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=l(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function b(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}var _=Symbol.for("react.client.reference");function A(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===_?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case K:return"SuspenseList";case D:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case k:return(c.displayName||"Context")+".Provider";case M:return(c._context.displayName||"Context")+".Consumer";case z:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case W:return d=c.displayName||null,d!==null?d:A(c.type)||"Memo";case B:d=c._payload,c=c._init;try{return A(c(d))}catch{}}return null}var N=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},I=[],E=-1;function L(c){return{current:c}}function q(c){0>E||(c.current=I[E],I[E]=null,E--)}function F(c,d){E++,I[E]=c.current,c.current=d}var G=L(null),Y=L(null),Q=L(null),ie=L(null);function Z(c,d){switch(F(Q,d),F(Y,c),F(G,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?EC(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=EC(d),c=SC(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}q(G),F(G,c)}function X(){q(G),q(Y),q(Q)}function te(c){c.memoizedState!==null&&F(ie,c);var d=G.current,m=SC(d,c.type);d!==m&&(F(Y,c),F(G,m))}function ae(c){Y.current===c&&(q(G),q(Y)),ie.current===c&&(q(ie),fh._currentValue=j)}var oe=Object.prototype.hasOwnProperty,ee=t.unstable_scheduleCallback,le=t.unstable_cancelCallback,he=t.unstable_shouldYield,ge=t.unstable_requestPaint,Ee=t.unstable_now,ye=t.unstable_getCurrentPriorityLevel,fe=t.unstable_ImmediatePriority,Se=t.unstable_UserBlockingPriority,Ae=t.unstable_NormalPriority,xe=t.unstable_LowPriority,ze=t.unstable_IdlePriority,Xe=t.log,nt=t.unstable_setDisableYieldValue,et=null,re=null;function V(c){if(typeof Xe=="function"&&nt(c),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(et,c)}catch{}}var J=Math.clz32?Math.clz32:Me,ue=Math.log,ve=Math.LN2;function Me(c){return c>>>=0,c===0?32:31-(ue(c)/ve|0)|0}var Ie=256,st=4194304;function Pt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function ut(c,d,m){var S=c.pendingLanes;if(S===0)return 0;var R=0,H=c.suspendedLanes,ne=c.pingedLanes;c=c.warmLanes;var ce=S&134217727;return ce!==0?(S=ce&~H,S!==0?R=Pt(S):(ne&=ce,ne!==0?R=Pt(ne):m||(m=ce&~c,m!==0&&(R=Pt(m))))):(ce=S&~H,ce!==0?R=Pt(ce):ne!==0?R=Pt(ne):m||(m=S&~c,m!==0&&(R=Pt(m)))),R===0?0:d!==0&&d!==R&&(d&H)===0&&(H=R&-R,m=d&-d,H>=m||H===32&&(m&4194048)!==0)?d:R}function bt(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Tt(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var c=Ie;return Ie<<=1,(Ie&4194048)===0&&(Ie=256),c}function cn(){var c=st;return st<<=1,(st&62914560)===0&&(st=4194304),c}function mr(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function rt(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Mt(c,d,m,S,R,H){var ne=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var ce=c.entanglements,be=c.expirationTimes,ke=c.hiddenUpdates;for(m=ne&~m;0<m;){var Ue=31-J(m),Ke=1<<Ue;ce[Ue]=0,be[Ue]=-1;var Te=ke[Ue];if(Te!==null)for(ke[Ue]=null,Ue=0;Ue<Te.length;Ue++){var Re=Te[Ue];Re!==null&&(Re.lane&=-536870913)}m&=~Ke}S!==0&&Yt(c,S,0),H!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=H&~(ne&~d))}function Yt(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var S=31-J(d);c.entangledLanes|=d,c.entanglements[S]=c.entanglements[S]|1073741824|m&4194090}function Ot(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var S=31-J(m),R=1<<S;R&d|c[S]&d&&(c[S]|=d),m&=~R}}function wt(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function de(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function pe(){var c=U.p;return c!==0?c:(c=window.event,c===void 0?32:qC(c.type))}function Fe(c,d){var m=U.p;try{return U.p=c,d()}finally{U.p=m}}var Ye=Math.random().toString(36).slice(2),Je="__reactFiber$"+Ye,mt="__reactProps$"+Ye,bn="__reactContainer$"+Ye,nn="__reactEvents$"+Ye,Jt="__reactListeners$"+Ye,qr="__reactHandles$"+Ye,Rn="__reactResources$"+Ye,mn="__reactMarker$"+Ye;function za(c){delete c[Je],delete c[mt],delete c[nn],delete c[Jt],delete c[qr]}function un(c){var d=c[Je];if(d)return d;for(var m=c.parentNode;m;){if(d=m[bn]||m[Je]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=AC(c);c!==null;){if(m=c[Je])return m;c=AC(c)}return d}c=m,m=c.parentNode}return null}function dn(c){if(c=c[Je]||c[bn]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function zn(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function gr(c){var d=c[Rn];return d||(d=c[Rn]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function hn(c){c[mn]=!0}var vr=new Set,nl={};function zi(c,d){yr(c,d),yr(c+"Capture",d)}function yr(c,d){for(nl[c]=d,c=0;c<d.length;c++)vr.add(d[c])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},il={};function Sc(c){return oe.call(il,c)?!0:oe.call(rl,c)?!1:Ec.test(c)?il[c]=!0:(rl[c]=!0,!1)}function hs(c,d,m){if(Sc(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var S=d.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function Hi(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function ii(c,d,m,S){if(S===null)c.removeAttribute(m);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+S)}}var Gs,ai;function fa(c){if(Gs===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);Gs=d&&d[1]||"",ai=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+c+ai}var Ys=!1;function Js(c,d){if(!c||Ys)return"";Ys=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(d){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Re){var Te=Re}Reflect.construct(c,[],Ke)}else{try{Ke.call()}catch(Re){Te=Re}c.call(Ke.prototype)}}else{try{throw Error()}catch(Re){Te=Re}(Ke=c())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Re){if(Re&&Te&&typeof Re.stack=="string")return[Re.stack,Te.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=S.DetermineComponentFrameRoot(),ne=H[0],ce=H[1];if(ne&&ce){var be=ne.split(`
`),ke=ce.split(`
`);for(R=S=0;S<be.length&&!be[S].includes("DetermineComponentFrameRoot");)S++;for(;R<ke.length&&!ke[R].includes("DetermineComponentFrameRoot");)R++;if(S===be.length||R===ke.length)for(S=be.length-1,R=ke.length-1;1<=S&&0<=R&&be[S]!==ke[R];)R--;for(;1<=S&&0<=R;S--,R--)if(be[S]!==ke[R]){if(S!==1||R!==1)do if(S--,R--,0>R||be[S]!==ke[R]){var Ue=`
`+be[S].replace(" at new "," at ");return c.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",c.displayName)),Ue}while(1<=S&&0<=R);break}}}finally{Ys=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?fa(m):""}function gb(c){switch(c.tag){case 26:case 27:case 5:return fa(c.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 15:return Js(c.type,!1);case 11:return Js(c.type.render,!1);case 1:return Js(c.type,!0);case 31:return fa("Activity");default:return""}}function Ap(c){try{var d="";do d+=gb(c),c=c.return;while(c);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function yi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function _c(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function vb(c){var d=_c(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),S=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var R=m.get,H=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return R.call(this)},set:function(ne){S=""+ne,H.call(this,ne)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return S},setValue:function(ne){S=""+ne},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function ps(c){c._valueTracker||(c._valueTracker=vb(c))}function _f(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),S="";return c&&(S=_c(c)?c.checked?"true":"false":c.value),c=S,c!==m?(d.setValue(c),!0):!1}function Cc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var yb=/[\n"\\]/g;function bi(c){return c.replace(yb,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Cf(c,d,m,S,R,H,ne,ce){c.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?c.type=ne:c.removeAttribute("type"),d!=null?ne==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+yi(d)):c.value!==""+yi(d)&&(c.value=""+yi(d)):ne!=="submit"&&ne!=="reset"||c.removeAttribute("value"),d!=null?Uu(c,ne,yi(d)):m!=null?Uu(c,ne,yi(m)):S!=null&&c.removeAttribute("value"),R==null&&H!=null&&(c.defaultChecked=!!H),R!=null&&(c.checked=R&&typeof R!="function"&&typeof R!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?c.name=""+yi(ce):c.removeAttribute("name")}function jp(c,d,m,S,R,H,ne,ce){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(c.type=H),d!=null||m!=null){if(!(H!=="submit"&&H!=="reset"||d!=null))return;m=m!=null?""+yi(m):"",d=d!=null?""+yi(d):m,ce||d===c.value||(c.value=d),c.defaultValue=d}S=S??R,S=typeof S!="function"&&typeof S!="symbol"&&!!S,c.checked=ce?c.checked:!!S,c.defaultChecked=!!S,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(c.name=ne)}function Uu(c,d,m){d==="number"&&Cc(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function al(c,d,m,S){if(c=c.options,d){d={};for(var R=0;R<m.length;R++)d["$"+m[R]]=!0;for(m=0;m<c.length;m++)R=d.hasOwnProperty("$"+c[m].value),c[m].selected!==R&&(c[m].selected=R),R&&S&&(c[m].defaultSelected=!0)}else{for(m=""+yi(m),d=null,R=0;R<c.length;R++){if(c[R].value===m){c[R].selected=!0,S&&(c[R].defaultSelected=!0);return}d!==null||c[R].disabled||(d=c[R])}d!==null&&(d.selected=!0)}}function Mp(c,d,m){if(d!=null&&(d=""+yi(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+yi(m):""}function Nf(c,d,m,S){if(d==null){if(S!=null){if(m!=null)throw Error(r(92));if(N(S)){if(1<S.length)throw Error(r(93));S=S[0]}m=S}m==null&&(m=""),d=m}m=yi(d),c.defaultValue=m,S=c.textContent,S===m&&S!==""&&S!==null&&(c.value=S)}function Ha(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var sl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(c,d,m){var S=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?S?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":S?c.setProperty(d,m):typeof m!="number"||m===0||sl.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function kp(c,d,m){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,m!=null){for(var S in m)!m.hasOwnProperty(S)||d!=null&&d.hasOwnProperty(S)||(S.indexOf("--")===0?c.setProperty(S,""):S==="float"?c.cssFloat="":c[S]="");for(var R in d)S=d[R],d.hasOwnProperty(R)&&m[R]!==S&&Op(c,R,S)}else for(var H in d)d.hasOwnProperty(H)&&Op(c,H,d[H])}function ha(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(c){return wb.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Af=null;function jf(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var wi=null,Zs=null;function Ip(c){var d=dn(c);if(d&&(c=d.stateNode)){var m=c[mt]||null;e:switch(c=d.stateNode,d.type){case"input":if(Cf(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+bi(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var S=m[d];if(S!==c&&S.form===c.form){var R=S[mt]||null;if(!R)throw Error(r(90));Cf(S,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(d=0;d<m.length;d++)S=m[d],S.form===c.form&&_f(S)}break e;case"textarea":Mp(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&al(c,!!m.multiple,d,!1)}}}var ol=!1;function Tp(c,d,m){if(ol)return c(d,m);ol=!0;try{var S=c(d);return S}finally{if(ol=!1,(wi!==null||Zs!==null)&&(mm(),wi&&(d=wi,c=Zs,Zs=wi=null,Ip(d),c)))for(d=0;d<c.length;d++)Ip(c[d])}}function Qs(c,d){var m=c.stateNode;if(m===null)return null;var S=m[mt]||null;if(S===null)return null;m=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(c=c.type,S=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!S;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=!1;if(Ka)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Fu=!1}var Wa=null,Xs=null,Nc=null;function Rp(){if(Nc)return Nc;var c,d=Xs,m=d.length,S,R="value"in Wa?Wa.value:Wa.textContent,H=R.length;for(c=0;c<m&&d[c]===R[c];c++);var ne=m-c;for(S=1;S<=ne&&d[m-S]===R[H-S];S++);return Nc=R.slice(c,1<S?1-S:void 0)}function qu(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function zu(){return!0}function me(){return!1}function Ce(c){function d(m,S,R,H,ne){this._reactName=m,this._targetInst=R,this.type=S,this.nativeEvent=H,this.target=ne,this.currentTarget=null;for(var ce in c)c.hasOwnProperty(ce)&&(m=c[ce],this[ce]=m?m(H):H[ce]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?zu:me,this.isPropagationStopped=me,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),d}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dt=Ce(He),gn=h({},He,{view:0,detail:0}),$t=Ce(gn),Ln,Zn,Hn,An=h({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xb,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Hn&&(Hn&&c.type==="mousemove"?(Ln=c.screenX-Hn.screenX,Zn=c.screenY-Hn.screenY):Zn=Ln=0,Hn=c),Ln)},movementY:function(c){return"movementY"in c?c.movementY:Zn}}),zr=Ce(An),Ki=h({},An,{dataTransfer:0}),br=Ce(Ki),xi=h({},gn,{relatedTarget:0}),Hr=Ce(xi),ms=h({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=Ce(ms),eo=h({},He,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Pp=Ce(eo),Hu=h({},He,{data:0}),Ac=Ce(Hu),jB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kB(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=OB[c])?!!d[c]:!1}function xb(){return kB}var IB=h({},gn,{key:function(c){if(c.key){var d=jB[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=qu(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?MB[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xb,charCode:function(c){return c.type==="keypress"?qu(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?qu(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),TB=Ce(IB),RB=h({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O5=Ce(RB),PB=h({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xb}),LB=Ce(PB),DB=h({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),BB=Ce(DB),UB=h({},An,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),$B=Ce(UB),FB=h({},He,{newState:0,oldState:0}),qB=Ce(FB),zB=[9,13,27,32],Eb=Ka&&"CompositionEvent"in window,Mf=null;Ka&&"documentMode"in document&&(Mf=document.documentMode);var HB=Ka&&"TextEvent"in window&&!Mf,k5=Ka&&(!Eb||Mf&&8<Mf&&11>=Mf),I5=" ",T5=!1;function R5(c,d){switch(c){case"keyup":return zB.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P5(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ku=!1;function KB(c,d){switch(c){case"compositionend":return P5(d);case"keypress":return d.which!==32?null:(T5=!0,I5);case"textInput":return c=d.data,c===I5&&T5?null:c;default:return null}}function WB(c,d){if(Ku)return c==="compositionend"||!Eb&&R5(c,d)?(c=Rp(),Nc=Xs=Wa=null,Ku=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return k5&&d.locale!=="ko"?null:d.data;default:return null}}var VB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L5(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!VB[c.type]:d==="textarea"}function D5(c,d,m,S){wi?Zs?Zs.push(S):Zs=[S]:wi=S,d=xm(d,"onChange"),0<d.length&&(m=new dt("onChange","change",null,m,S),c.push({event:m,listeners:d}))}var Of=null,kf=null;function GB(c){vC(c,0)}function Lp(c){var d=zn(c);if(_f(d))return c}function B5(c,d){if(c==="change")return d}var U5=!1;if(Ka){var Sb;if(Ka){var _b="oninput"in document;if(!_b){var $5=document.createElement("div");$5.setAttribute("oninput","return;"),_b=typeof $5.oninput=="function"}Sb=_b}else Sb=!1;U5=Sb&&(!document.documentMode||9<document.documentMode)}function F5(){Of&&(Of.detachEvent("onpropertychange",q5),kf=Of=null)}function q5(c){if(c.propertyName==="value"&&Lp(kf)){var d=[];D5(d,kf,c,jf(c)),Tp(GB,d)}}function YB(c,d,m){c==="focusin"?(F5(),Of=d,kf=m,Of.attachEvent("onpropertychange",q5)):c==="focusout"&&F5()}function JB(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Lp(kf)}function ZB(c,d){if(c==="click")return Lp(d)}function QB(c,d){if(c==="input"||c==="change")return Lp(d)}function XB(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Wi=typeof Object.is=="function"?Object.is:XB;function If(c,d){if(Wi(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),S=Object.keys(d);if(m.length!==S.length)return!1;for(S=0;S<m.length;S++){var R=m[S];if(!oe.call(d,R)||!Wi(c[R],d[R]))return!1}return!0}function z5(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function H5(c,d){var m=z5(c);c=0;for(var S;m;){if(m.nodeType===3){if(S=c+m.textContent.length,c<=d&&S>=d)return{node:m,offset:d-c};c=S}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=z5(m)}}function K5(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?K5(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function W5(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=Cc(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=Cc(c.document)}return d}function Cb(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var e7=Ka&&"documentMode"in document&&11>=document.documentMode,Wu=null,Nb=null,Tf=null,Ab=!1;function V5(c,d,m){var S=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ab||Wu==null||Wu!==Cc(S)||(S=Wu,"selectionStart"in S&&Cb(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Tf&&If(Tf,S)||(Tf=S,S=xm(Nb,"onSelect"),0<S.length&&(d=new dt("onSelect","select",null,d,m),c.push({event:d,listeners:S}),d.target=Wu)))}function jc(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var Vu={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionrun:jc("Transition","TransitionRun"),transitionstart:jc("Transition","TransitionStart"),transitioncancel:jc("Transition","TransitionCancel"),transitionend:jc("Transition","TransitionEnd")},jb={},G5={};Ka&&(G5=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Mc(c){if(jb[c])return jb[c];if(!Vu[c])return c;var d=Vu[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in G5)return jb[c]=d[m];return c}var Y5=Mc("animationend"),J5=Mc("animationiteration"),Z5=Mc("animationstart"),t7=Mc("transitionrun"),n7=Mc("transitionstart"),r7=Mc("transitioncancel"),Q5=Mc("transitionend"),X5=new Map,Mb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mb.push("scrollEnd");function Ga(c,d){X5.set(c,d),zi(d,[c])}var e_=new WeakMap;function pa(c,d){if(typeof c=="object"&&c!==null){var m=e_.get(c);return m!==void 0?m:(d={value:c,source:d,stack:Ap(d)},e_.set(c,d),d)}return{value:c,source:d,stack:Ap(d)}}var ma=[],Gu=0,Ob=0;function Dp(){for(var c=Gu,d=Ob=Gu=0;d<c;){var m=ma[d];ma[d++]=null;var S=ma[d];ma[d++]=null;var R=ma[d];ma[d++]=null;var H=ma[d];if(ma[d++]=null,S!==null&&R!==null){var ne=S.pending;ne===null?R.next=R:(R.next=ne.next,ne.next=R),S.pending=R}H!==0&&t_(m,R,H)}}function Bp(c,d,m,S){ma[Gu++]=c,ma[Gu++]=d,ma[Gu++]=m,ma[Gu++]=S,Ob|=S,c.lanes|=S,c=c.alternate,c!==null&&(c.lanes|=S)}function kb(c,d,m,S){return Bp(c,d,m,S),Up(c)}function Yu(c,d){return Bp(c,null,null,d),Up(c)}function t_(c,d,m){c.lanes|=m;var S=c.alternate;S!==null&&(S.lanes|=m);for(var R=!1,H=c.return;H!==null;)H.childLanes|=m,S=H.alternate,S!==null&&(S.childLanes|=m),H.tag===22&&(c=H.stateNode,c===null||c._visibility&1||(R=!0)),c=H,H=H.return;return c.tag===3?(H=c.stateNode,R&&d!==null&&(R=31-J(m),c=H.hiddenUpdates,S=c[R],S===null?c[R]=[d]:S.push(d),d.lane=m|536870912),H):null}function Up(c){if(50<ih)throw ih=0,Dw=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Ju={};function i7(c,d,m,S){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(c,d,m,S){return new i7(c,d,m,S)}function Ib(c){return c=c.prototype,!(!c||!c.isReactComponent)}function to(c,d){var m=c.alternate;return m===null?(m=Vi(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function n_(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function $p(c,d,m,S,R,H){var ne=0;if(S=c,typeof c=="function")Ib(c)&&(ne=1);else if(typeof c=="string")ne=sU(c,m,G.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case D:return c=Vi(31,m,d,R),c.elementType=D,c.lanes=H,c;case y:return Oc(m.children,R,H,d);case w:ne=8,R|=24;break;case C:return c=Vi(12,m,d,R|2),c.elementType=C,c.lanes=H,c;case P:return c=Vi(13,m,d,R),c.elementType=P,c.lanes=H,c;case K:return c=Vi(19,m,d,R),c.elementType=K,c.lanes=H,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case x:case k:ne=10;break e;case M:ne=9;break e;case z:ne=11;break e;case W:ne=14;break e;case B:ne=16,S=null;break e}ne=29,m=Error(r(130,c===null?"null":typeof c,"")),S=null}return d=Vi(ne,m,d,R),d.elementType=c,d.type=S,d.lanes=H,d}function Oc(c,d,m,S){return c=Vi(7,c,S,d),c.lanes=m,c}function Tb(c,d,m){return c=Vi(6,c,null,d),c.lanes=m,c}function Rb(c,d,m){return d=Vi(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Zu=[],Qu=0,Fp=null,qp=0,ga=[],va=0,kc=null,no=1,ro="";function Ic(c,d){Zu[Qu++]=qp,Zu[Qu++]=Fp,Fp=c,qp=d}function r_(c,d,m){ga[va++]=no,ga[va++]=ro,ga[va++]=kc,kc=c;var S=no;c=ro;var R=32-J(S)-1;S&=~(1<<R),m+=1;var H=32-J(d)+R;if(30<H){var ne=R-R%5;H=(S&(1<<ne)-1).toString(32),S>>=ne,R-=ne,no=1<<32-J(d)+R|m<<R|S,ro=H+c}else no=1<<H|m<<R|S,ro=c}function Pb(c){c.return!==null&&(Ic(c,1),r_(c,1,0))}function Lb(c){for(;c===Fp;)Fp=Zu[--Qu],Zu[Qu]=null,qp=Zu[--Qu],Zu[Qu]=null;for(;c===kc;)kc=ga[--va],ga[va]=null,ro=ga[--va],ga[va]=null,no=ga[--va],ga[va]=null}var si=null,Qn=null,vn=!1,Tc=null,gs=!1,Db=Error(r(519));function Rc(c){var d=Error(r(418,""));throw Lf(pa(d,c)),Db}function i_(c){var d=c.stateNode,m=c.type,S=c.memoizedProps;switch(d[Je]=c,d[mt]=S,m){case"dialog":en("cancel",d),en("close",d);break;case"iframe":case"object":case"embed":en("load",d);break;case"video":case"audio":for(m=0;m<sh.length;m++)en(sh[m],d);break;case"source":en("error",d);break;case"img":case"image":case"link":en("error",d),en("load",d);break;case"details":en("toggle",d);break;case"input":en("invalid",d),jp(d,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),ps(d);break;case"select":en("invalid",d);break;case"textarea":en("invalid",d),Nf(d,S.value,S.defaultValue,S.children),ps(d)}m=S.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||S.suppressHydrationWarning===!0||xC(d.textContent,m)?(S.popover!=null&&(en("beforetoggle",d),en("toggle",d)),S.onScroll!=null&&en("scroll",d),S.onScrollEnd!=null&&en("scrollend",d),S.onClick!=null&&(d.onclick=Em),d=!0):d=!1,d||Rc(c)}function a_(c){for(si=c.return;si;)switch(si.tag){case 5:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:si=si.return}}function Rf(c){if(c!==si)return!1;if(!vn)return a_(c),vn=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||Xw(c.type,c.memoizedProps)),m=!m),m&&Qn&&Rc(c),a_(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(d===0){Qn=Ja(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;c=c.nextSibling}Qn=null}}else d===27?(d=Qn,_l(c.type)?(c=r1,r1=null,Qn=c):Qn=d):Qn=si?Ja(c.stateNode.nextSibling):null;return!0}function Pf(){Qn=si=null,vn=!1}function s_(){var c=Tc;return c!==null&&(_i===null?_i=c:_i.push.apply(_i,c),Tc=null),c}function Lf(c){Tc===null?Tc=[c]:Tc.push(c)}var Bb=L(null),Pc=null,io=null;function cl(c,d,m){F(Bb,d._currentValue),d._currentValue=m}function ao(c){c._currentValue=Bb.current,q(Bb)}function Ub(c,d,m){for(;c!==null;){var S=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),c===m)break;c=c.return}}function $b(c,d,m,S){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var H=R.dependencies;if(H!==null){var ne=R.child;H=H.firstContext;e:for(;H!==null;){var ce=H;H=R;for(var be=0;be<d.length;be++)if(ce.context===d[be]){H.lanes|=m,ce=H.alternate,ce!==null&&(ce.lanes|=m),Ub(H.return,m,c),S||(ne=null);break e}H=ce.next}}else if(R.tag===18){if(ne=R.return,ne===null)throw Error(r(341));ne.lanes|=m,H=ne.alternate,H!==null&&(H.lanes|=m),Ub(ne,m,c),ne=null}else ne=R.child;if(ne!==null)ne.return=R;else for(ne=R;ne!==null;){if(ne===c){ne=null;break}if(R=ne.sibling,R!==null){R.return=ne.return,ne=R;break}ne=ne.return}R=ne}}function Df(c,d,m,S){c=null;for(var R=d,H=!1;R!==null;){if(!H){if((R.flags&524288)!==0)H=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var ne=R.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var ce=R.type;Wi(R.pendingProps.value,ne.value)||(c!==null?c.push(ce):c=[ce])}}else if(R===ie.current){if(ne=R.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(fh):c=[fh])}R=R.return}c!==null&&$b(d,c,m,S),d.flags|=262144}function zp(c){for(c=c.firstContext;c!==null;){if(!Wi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Lc(c){Pc=c,io=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Kr(c){return o_(Pc,c)}function Hp(c,d){return Pc===null&&Lc(c),o_(c,d)}function o_(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},io===null){if(c===null)throw Error(r(308));io=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else io=io.next=d;return m}var a7=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,S){c.push(S)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},s7=t.unstable_scheduleCallback,o7=t.unstable_NormalPriority,dr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fb(){return{controller:new a7,data:new Map,refCount:0}}function Bf(c){c.refCount--,c.refCount===0&&s7(o7,function(){c.controller.abort()})}var Uf=null,qb=0,Xu=0,ed=null;function l7(c,d){if(Uf===null){var m=Uf=[];qb=0,Xu=Hw(),ed={status:"pending",value:void 0,then:function(S){m.push(S)}}}return qb++,d.then(l_,l_),d}function l_(){if(--qb===0&&Uf!==null){ed!==null&&(ed.status="fulfilled");var c=Uf;Uf=null,Xu=0,ed=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function c7(c,d){var m=[],S={status:"pending",value:null,reason:null,then:function(R){m.push(R)}};return c.then(function(){S.status="fulfilled",S.value=d;for(var R=0;R<m.length;R++)(0,m[R])(d)},function(R){for(S.status="rejected",S.reason=R,R=0;R<m.length;R++)(0,m[R])(void 0)}),S}var c_=O.S;O.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&l7(c,d),c_!==null&&c_(c,d)};var Dc=L(null);function zb(){var c=Dc.current;return c!==null?c:Dn.pooledCache}function Kp(c,d){d===null?F(Dc,Dc.current):F(Dc,d.pool)}function u_(){var c=zb();return c===null?null:{parent:dr._currentValue,pool:c}}var $f=Error(r(460)),d_=Error(r(474)),Wp=Error(r(542)),Hb={then:function(){}};function f_(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Vp(){}function h_(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(Vp,Vp),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,m_(c),c;default:if(typeof d.status=="string")d.then(Vp,Vp);else{if(c=Dn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(S){if(d.status==="pending"){var R=d;R.status="fulfilled",R.value=S}},function(S){if(d.status==="pending"){var R=d;R.status="rejected",R.reason=S}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,m_(c),c}throw Ff=d,$f}}var Ff=null;function p_(){if(Ff===null)throw Error(r(459));var c=Ff;return Ff=null,c}function m_(c){if(c===$f||c===Wp)throw Error(r(483))}var ul=!1;function Kb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wb(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function dl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function fl(c,d,m){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(Sn&2)!==0){var R=S.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),S.pending=d,d=Up(c),t_(c,null,m),d}return Bp(c,S,d,m),Up(c)}function qf(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var S=d.lanes;S&=c.pendingLanes,m|=S,d.lanes=m,Ot(c,m)}}function Vb(c,d){var m=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,m===S)){var R=null,H=null;if(m=m.firstBaseUpdate,m!==null){do{var ne={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};H===null?R=H=ne:H=H.next=ne,m=m.next}while(m!==null);H===null?R=H=d:H=H.next=d}else R=H=d;m={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:H,shared:S.shared,callbacks:S.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var Gb=!1;function zf(){if(Gb){var c=ed;if(c!==null)throw c}}function Hf(c,d,m,S){Gb=!1;var R=c.updateQueue;ul=!1;var H=R.firstBaseUpdate,ne=R.lastBaseUpdate,ce=R.shared.pending;if(ce!==null){R.shared.pending=null;var be=ce,ke=be.next;be.next=null,ne===null?H=ke:ne.next=ke,ne=be;var Ue=c.alternate;Ue!==null&&(Ue=Ue.updateQueue,ce=Ue.lastBaseUpdate,ce!==ne&&(ce===null?Ue.firstBaseUpdate=ke:ce.next=ke,Ue.lastBaseUpdate=be))}if(H!==null){var Ke=R.baseState;ne=0,Ue=ke=be=null,ce=H;do{var Te=ce.lane&-536870913,Re=Te!==ce.lane;if(Re?(on&Te)===Te:(S&Te)===Te){Te!==0&&Te===Xu&&(Gb=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Lt=c,It=ce;Te=d;var On=m;switch(It.tag){case 1:if(Lt=It.payload,typeof Lt=="function"){Ke=Lt.call(On,Ke,Te);break e}Ke=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=It.payload,Te=typeof Lt=="function"?Lt.call(On,Ke,Te):Lt,Te==null)break e;Ke=h({},Ke,Te);break e;case 2:ul=!0}}Te=ce.callback,Te!==null&&(c.flags|=64,Re&&(c.flags|=8192),Re=R.callbacks,Re===null?R.callbacks=[Te]:Re.push(Te))}else Re={lane:Te,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Ue===null?(ke=Ue=Re,be=Ke):Ue=Ue.next=Re,ne|=Te;if(ce=ce.next,ce===null){if(ce=R.shared.pending,ce===null)break;Re=ce,ce=Re.next,Re.next=null,R.lastBaseUpdate=Re,R.shared.pending=null}}while(!0);Ue===null&&(be=Ke),R.baseState=be,R.firstBaseUpdate=ke,R.lastBaseUpdate=Ue,H===null&&(R.shared.lanes=0),wl|=ne,c.lanes=ne,c.memoizedState=Ke}}function g_(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function v_(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)g_(m[c],d)}var td=L(null),Gp=L(0);function y_(c,d){c=ho,F(Gp,c),F(td,d),ho=c|d.baseLanes}function Yb(){F(Gp,ho),F(td,td.current)}function Jb(){ho=Gp.current,q(td),q(Gp)}var hl=0,Wt=null,jn=null,lr=null,Yp=!1,nd=!1,Bc=!1,Jp=0,Kf=0,rd=null,u7=0;function rr(){throw Error(r(321))}function Zb(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!Wi(c[m],d[m]))return!1;return!0}function Qb(c,d,m,S,R,H){return hl=H,Wt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,O.H=c===null||c.memoizedState===null?t6:n6,Bc=!1,H=m(S,R),Bc=!1,nd&&(H=w_(d,m,S,R)),b_(c),H}function b_(c){O.H=nm;var d=jn!==null&&jn.next!==null;if(hl=0,lr=jn=Wt=null,Yp=!1,Kf=0,rd=null,d)throw Error(r(300));c===null||wr||(c=c.dependencies,c!==null&&zp(c)&&(wr=!0))}function w_(c,d,m,S){Wt=c;var R=0;do{if(nd&&(rd=null),Kf=0,nd=!1,25<=R)throw Error(r(301));if(R+=1,lr=jn=null,c.updateQueue!=null){var H=c.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}O.H=v7,H=d(m,S)}while(nd);return H}function d7(){var c=O.H,d=c.useState()[0];return d=typeof d.then=="function"?Wf(d):d,c=c.useState()[0],(jn!==null?jn.memoizedState:null)!==c&&(Wt.flags|=1024),d}function Xb(){var c=Jp!==0;return Jp=0,c}function ew(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function tw(c){if(Yp){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Yp=!1}hl=0,lr=jn=Wt=null,nd=!1,Kf=Jp=0,rd=null}function Ei(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Wt.memoizedState=lr=c:lr=lr.next=c,lr}function cr(){if(jn===null){var c=Wt.alternate;c=c!==null?c.memoizedState:null}else c=jn.next;var d=lr===null?Wt.memoizedState:lr.next;if(d!==null)lr=d,jn=c;else{if(c===null)throw Wt.alternate===null?Error(r(467)):Error(r(310));jn=c,c={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},lr===null?Wt.memoizedState=lr=c:lr=lr.next=c}return lr}function nw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wf(c){var d=Kf;return Kf+=1,rd===null&&(rd=[]),c=h_(rd,c,d),d=Wt,(lr===null?d.memoizedState:lr.next)===null&&(d=d.alternate,O.H=d===null||d.memoizedState===null?t6:n6),c}function Zp(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Wf(c);if(c.$$typeof===k)return Kr(c)}throw Error(r(438,String(c)))}function rw(c){var d=null,m=Wt.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var S=Wt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(d={data:S.data.map(function(R){return R.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=nw(),Wt.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),S=0;S<c;S++)m[S]=$;return d.index++,m}function so(c,d){return typeof d=="function"?d(c):d}function Qp(c){var d=cr();return iw(d,jn,c)}function iw(c,d,m){var S=c.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=m;var R=c.baseQueue,H=S.pending;if(H!==null){if(R!==null){var ne=R.next;R.next=H.next,H.next=ne}d.baseQueue=R=H,S.pending=null}if(H=c.baseState,R===null)c.memoizedState=H;else{d=R.next;var ce=ne=null,be=null,ke=d,Ue=!1;do{var Ke=ke.lane&-536870913;if(Ke!==ke.lane?(on&Ke)===Ke:(hl&Ke)===Ke){var Te=ke.revertLane;if(Te===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),Ke===Xu&&(Ue=!0);else if((hl&Te)===Te){ke=ke.next,Te===Xu&&(Ue=!0);continue}else Ke={lane:0,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},be===null?(ce=be=Ke,ne=H):be=be.next=Ke,Wt.lanes|=Te,wl|=Te;Ke=ke.action,Bc&&m(H,Ke),H=ke.hasEagerState?ke.eagerState:m(H,Ke)}else Te={lane:Ke,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},be===null?(ce=be=Te,ne=H):be=be.next=Te,Wt.lanes|=Ke,wl|=Ke;ke=ke.next}while(ke!==null&&ke!==d);if(be===null?ne=H:be.next=ce,!Wi(H,c.memoizedState)&&(wr=!0,Ue&&(m=ed,m!==null)))throw m;c.memoizedState=H,c.baseState=ne,c.baseQueue=be,S.lastRenderedState=H}return R===null&&(S.lanes=0),[c.memoizedState,S.dispatch]}function aw(c){var d=cr(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var S=m.dispatch,R=m.pending,H=d.memoizedState;if(R!==null){m.pending=null;var ne=R=R.next;do H=c(H,ne.action),ne=ne.next;while(ne!==R);Wi(H,d.memoizedState)||(wr=!0),d.memoizedState=H,d.baseQueue===null&&(d.baseState=H),m.lastRenderedState=H}return[H,S]}function x_(c,d,m){var S=Wt,R=cr(),H=vn;if(H){if(m===void 0)throw Error(r(407));m=m()}else m=d();var ne=!Wi((jn||R).memoizedState,m);ne&&(R.memoizedState=m,wr=!0),R=R.queue;var ce=__.bind(null,S,R,c);if(Vf(2048,8,ce,[c]),R.getSnapshot!==d||ne||lr!==null&&lr.memoizedState.tag&1){if(S.flags|=2048,id(9,Xp(),S_.bind(null,S,R,m,d),null),Dn===null)throw Error(r(349));H||(hl&124)!==0||E_(S,d,m)}return m}function E_(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Wt.updateQueue,d===null?(d=nw(),Wt.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function S_(c,d,m,S){d.value=m,d.getSnapshot=S,C_(d)&&N_(c)}function __(c,d,m){return m(function(){C_(d)&&N_(c)})}function C_(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!Wi(c,m)}catch{return!0}}function N_(c){var d=Yu(c,2);d!==null&&Qi(d,c,2)}function sw(c){var d=Ei();if(typeof c=="function"){var m=c;if(c=m(),Bc){V(!0);try{m()}finally{V(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:c},d}function A_(c,d,m,S){return c.baseState=m,iw(c,jn,typeof S=="function"?S:so)}function f7(c,d,m,S,R){if(tm(c))throw Error(r(485));if(c=d.action,c!==null){var H={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){H.listeners.push(ne)}};O.T!==null?m(!0):H.isTransition=!1,S(H),m=d.pending,m===null?(H.next=d.pending=H,j_(d,H)):(H.next=m.next,d.pending=m.next=H)}}function j_(c,d){var m=d.action,S=d.payload,R=c.state;if(d.isTransition){var H=O.T,ne={};O.T=ne;try{var ce=m(R,S),be=O.S;be!==null&&be(ne,ce),M_(c,d,ce)}catch(ke){ow(c,d,ke)}finally{O.T=H}}else try{H=m(R,S),M_(c,d,H)}catch(ke){ow(c,d,ke)}}function M_(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(S){O_(c,d,S)},function(S){return ow(c,d,S)}):O_(c,d,m)}function O_(c,d,m){d.status="fulfilled",d.value=m,k_(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,j_(c,m)))}function ow(c,d,m){var S=c.pending;if(c.pending=null,S!==null){S=S.next;do d.status="rejected",d.reason=m,k_(d),d=d.next;while(d!==S)}c.action=null}function k_(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function I_(c,d){return d}function T_(c,d){if(vn){var m=Dn.formState;if(m!==null){e:{var S=Wt;if(vn){if(Qn){t:{for(var R=Qn,H=gs;R.nodeType!==8;){if(!H){R=null;break t}if(R=Ja(R.nextSibling),R===null){R=null;break t}}H=R.data,R=H==="F!"||H==="F"?R:null}if(R){Qn=Ja(R.nextSibling),S=R.data==="F!";break e}}Rc(S)}S=!1}S&&(d=m[0])}}return m=Ei(),m.memoizedState=m.baseState=d,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:d},m.queue=S,m=Q_.bind(null,Wt,S),S.dispatch=m,S=sw(!1),H=fw.bind(null,Wt,!1,S.queue),S=Ei(),R={state:d,dispatch:null,action:c,pending:null},S.queue=R,m=f7.bind(null,Wt,R,H,m),R.dispatch=m,S.memoizedState=c,[d,m,!1]}function R_(c){var d=cr();return P_(d,jn,c)}function P_(c,d,m){if(d=iw(c,d,I_)[0],c=Qp(so)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var S=Wf(d)}catch(ne){throw ne===$f?Wp:ne}else S=d;d=cr();var R=d.queue,H=R.dispatch;return m!==d.memoizedState&&(Wt.flags|=2048,id(9,Xp(),h7.bind(null,R,m),null)),[S,H,c]}function h7(c,d){c.action=d}function L_(c){var d=cr(),m=jn;if(m!==null)return P_(d,m,c);cr(),d=d.memoizedState,m=cr();var S=m.queue.dispatch;return m.memoizedState=c,[d,S,!1]}function id(c,d,m,S){return c={tag:c,create:m,deps:S,inst:d,next:null},d=Wt.updateQueue,d===null&&(d=nw(),Wt.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(S=m.next,m.next=c,c.next=S,d.lastEffect=c),c}function Xp(){return{destroy:void 0,resource:void 0}}function D_(){return cr().memoizedState}function em(c,d,m,S){var R=Ei();S=S===void 0?null:S,Wt.flags|=c,R.memoizedState=id(1|d,Xp(),m,S)}function Vf(c,d,m,S){var R=cr();S=S===void 0?null:S;var H=R.memoizedState.inst;jn!==null&&S!==null&&Zb(S,jn.memoizedState.deps)?R.memoizedState=id(d,H,m,S):(Wt.flags|=c,R.memoizedState=id(1|d,H,m,S))}function B_(c,d){em(8390656,8,c,d)}function U_(c,d){Vf(2048,8,c,d)}function $_(c,d){return Vf(4,2,c,d)}function F_(c,d){return Vf(4,4,c,d)}function q_(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function z_(c,d,m){m=m!=null?m.concat([c]):null,Vf(4,4,q_.bind(null,d,c),m)}function lw(){}function H_(c,d){var m=cr();d=d===void 0?null:d;var S=m.memoizedState;return d!==null&&Zb(d,S[1])?S[0]:(m.memoizedState=[c,d],c)}function K_(c,d){var m=cr();d=d===void 0?null:d;var S=m.memoizedState;if(d!==null&&Zb(d,S[1]))return S[0];if(S=c(),Bc){V(!0);try{c()}finally{V(!1)}}return m.memoizedState=[S,d],S}function cw(c,d,m){return m===void 0||(hl&1073741824)!==0?c.memoizedState=d:(c.memoizedState=m,c=G6(),Wt.lanes|=c,wl|=c,m)}function W_(c,d,m,S){return Wi(m,d)?m:td.current!==null?(c=cw(c,m,S),Wi(c,d)||(wr=!0),c):(hl&42)===0?(wr=!0,c.memoizedState=m):(c=G6(),Wt.lanes|=c,wl|=c,d)}function V_(c,d,m,S,R){var H=U.p;U.p=H!==0&&8>H?H:8;var ne=O.T,ce={};O.T=ce,fw(c,!1,d,m);try{var be=R(),ke=O.S;if(ke!==null&&ke(ce,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ue=c7(be,S);Gf(c,d,Ue,Zi(c))}else Gf(c,d,S,Zi(c))}catch(Ke){Gf(c,d,{then:function(){},status:"rejected",reason:Ke},Zi())}finally{U.p=H,O.T=ne}}function p7(){}function uw(c,d,m,S){if(c.tag!==5)throw Error(r(476));var R=G_(c).queue;V_(c,R,d,j,m===null?p7:function(){return Y_(c),m(S)})}function G_(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:j},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function Y_(c){var d=G_(c).next.queue;Gf(c,d,{},Zi())}function dw(){return Kr(fh)}function J_(){return cr().memoizedState}function Z_(){return cr().memoizedState}function m7(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=Zi();c=dl(m);var S=fl(d,c,m);S!==null&&(Qi(S,d,m),qf(S,d,m)),d={cache:Fb()},c.payload=d;return}d=d.return}}function g7(c,d,m){var S=Zi();m={lane:S,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},tm(c)?X_(d,m):(m=kb(c,d,m,S),m!==null&&(Qi(m,c,S),e6(m,d,S)))}function Q_(c,d,m){var S=Zi();Gf(c,d,m,S)}function Gf(c,d,m,S){var R={lane:S,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(tm(c))X_(d,R);else{var H=c.alternate;if(c.lanes===0&&(H===null||H.lanes===0)&&(H=d.lastRenderedReducer,H!==null))try{var ne=d.lastRenderedState,ce=H(ne,m);if(R.hasEagerState=!0,R.eagerState=ce,Wi(ce,ne))return Bp(c,d,R,0),Dn===null&&Dp(),!1}catch{}finally{}if(m=kb(c,d,R,S),m!==null)return Qi(m,c,S),e6(m,d,S),!0}return!1}function fw(c,d,m,S){if(S={lane:2,revertLane:Hw(),action:S,hasEagerState:!1,eagerState:null,next:null},tm(c)){if(d)throw Error(r(479))}else d=kb(c,m,S,2),d!==null&&Qi(d,c,2)}function tm(c){var d=c.alternate;return c===Wt||d!==null&&d===Wt}function X_(c,d){nd=Yp=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function e6(c,d,m){if((m&4194048)!==0){var S=d.lanes;S&=c.pendingLanes,m|=S,d.lanes=m,Ot(c,m)}}var nm={readContext:Kr,use:Zp,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr},t6={readContext:Kr,use:Zp,useCallback:function(c,d){return Ei().memoizedState=[c,d===void 0?null:d],c},useContext:Kr,useEffect:B_,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,em(4194308,4,q_.bind(null,d,c),m)},useLayoutEffect:function(c,d){return em(4194308,4,c,d)},useInsertionEffect:function(c,d){em(4,2,c,d)},useMemo:function(c,d){var m=Ei();d=d===void 0?null:d;var S=c();if(Bc){V(!0);try{c()}finally{V(!1)}}return m.memoizedState=[S,d],S},useReducer:function(c,d,m){var S=Ei();if(m!==void 0){var R=m(d);if(Bc){V(!0);try{m(d)}finally{V(!1)}}}else R=d;return S.memoizedState=S.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},S.queue=c,c=c.dispatch=g7.bind(null,Wt,c),[S.memoizedState,c]},useRef:function(c){var d=Ei();return c={current:c},d.memoizedState=c},useState:function(c){c=sw(c);var d=c.queue,m=Q_.bind(null,Wt,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:lw,useDeferredValue:function(c,d){var m=Ei();return cw(m,c,d)},useTransition:function(){var c=sw(!1);return c=V_.bind(null,Wt,c.queue,!0,!1),Ei().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var S=Wt,R=Ei();if(vn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),Dn===null)throw Error(r(349));(on&124)!==0||E_(S,d,m)}R.memoizedState=m;var H={value:m,getSnapshot:d};return R.queue=H,B_(__.bind(null,S,H,c),[c]),S.flags|=2048,id(9,Xp(),S_.bind(null,S,H,m,d),null),m},useId:function(){var c=Ei(),d=Dn.identifierPrefix;if(vn){var m=ro,S=no;m=(S&~(1<<32-J(S)-1)).toString(32)+m,d=""+d+"R"+m,m=Jp++,0<m&&(d+="H"+m.toString(32)),d+=""}else m=u7++,d=""+d+"r"+m.toString(32)+"";return c.memoizedState=d},useHostTransitionStatus:dw,useFormState:T_,useActionState:T_,useOptimistic:function(c){var d=Ei();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=fw.bind(null,Wt,!0,m),m.dispatch=d,[c,d]},useMemoCache:rw,useCacheRefresh:function(){return Ei().memoizedState=m7.bind(null,Wt)}},n6={readContext:Kr,use:Zp,useCallback:H_,useContext:Kr,useEffect:U_,useImperativeHandle:z_,useInsertionEffect:$_,useLayoutEffect:F_,useMemo:K_,useReducer:Qp,useRef:D_,useState:function(){return Qp(so)},useDebugValue:lw,useDeferredValue:function(c,d){var m=cr();return W_(m,jn.memoizedState,c,d)},useTransition:function(){var c=Qp(so)[0],d=cr().memoizedState;return[typeof c=="boolean"?c:Wf(c),d]},useSyncExternalStore:x_,useId:J_,useHostTransitionStatus:dw,useFormState:R_,useActionState:R_,useOptimistic:function(c,d){var m=cr();return A_(m,jn,c,d)},useMemoCache:rw,useCacheRefresh:Z_},v7={readContext:Kr,use:Zp,useCallback:H_,useContext:Kr,useEffect:U_,useImperativeHandle:z_,useInsertionEffect:$_,useLayoutEffect:F_,useMemo:K_,useReducer:aw,useRef:D_,useState:function(){return aw(so)},useDebugValue:lw,useDeferredValue:function(c,d){var m=cr();return jn===null?cw(m,c,d):W_(m,jn.memoizedState,c,d)},useTransition:function(){var c=aw(so)[0],d=cr().memoizedState;return[typeof c=="boolean"?c:Wf(c),d]},useSyncExternalStore:x_,useId:J_,useHostTransitionStatus:dw,useFormState:L_,useActionState:L_,useOptimistic:function(c,d){var m=cr();return jn!==null?A_(m,jn,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:rw,useCacheRefresh:Z_},ad=null,Yf=0;function rm(c){var d=Yf;return Yf+=1,ad===null&&(ad=[]),h_(ad,c,d)}function Jf(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function im(c,d){throw d.$$typeof===p?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function r6(c){var d=c._init;return d(c._payload)}function i6(c){function d(je,_e){if(c){var Oe=je.deletions;Oe===null?(je.deletions=[_e],je.flags|=16):Oe.push(_e)}}function m(je,_e){if(!c)return null;for(;_e!==null;)d(je,_e),_e=_e.sibling;return null}function S(je){for(var _e=new Map;je!==null;)je.key!==null?_e.set(je.key,je):_e.set(je.index,je),je=je.sibling;return _e}function R(je,_e){return je=to(je,_e),je.index=0,je.sibling=null,je}function H(je,_e,Oe){return je.index=Oe,c?(Oe=je.alternate,Oe!==null?(Oe=Oe.index,Oe<_e?(je.flags|=67108866,_e):Oe):(je.flags|=67108866,_e)):(je.flags|=1048576,_e)}function ne(je){return c&&je.alternate===null&&(je.flags|=67108866),je}function ce(je,_e,Oe,qe){return _e===null||_e.tag!==6?(_e=Tb(Oe,je.mode,qe),_e.return=je,_e):(_e=R(_e,Oe),_e.return=je,_e)}function be(je,_e,Oe,qe){var gt=Oe.type;return gt===y?Ue(je,_e,Oe.props.children,qe,Oe.key):_e!==null&&(_e.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===B&&r6(gt)===_e.type)?(_e=R(_e,Oe.props),Jf(_e,Oe),_e.return=je,_e):(_e=$p(Oe.type,Oe.key,Oe.props,null,je.mode,qe),Jf(_e,Oe),_e.return=je,_e)}function ke(je,_e,Oe,qe){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Oe.containerInfo||_e.stateNode.implementation!==Oe.implementation?(_e=Rb(Oe,je.mode,qe),_e.return=je,_e):(_e=R(_e,Oe.children||[]),_e.return=je,_e)}function Ue(je,_e,Oe,qe,gt){return _e===null||_e.tag!==7?(_e=Oc(Oe,je.mode,qe,gt),_e.return=je,_e):(_e=R(_e,Oe),_e.return=je,_e)}function Ke(je,_e,Oe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Tb(""+_e,je.mode,Oe),_e.return=je,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return Oe=$p(_e.type,_e.key,_e.props,null,je.mode,Oe),Jf(Oe,_e),Oe.return=je,Oe;case v:return _e=Rb(_e,je.mode,Oe),_e.return=je,_e;case B:var qe=_e._init;return _e=qe(_e._payload),Ke(je,_e,Oe)}if(N(_e)||b(_e))return _e=Oc(_e,je.mode,Oe,null),_e.return=je,_e;if(typeof _e.then=="function")return Ke(je,rm(_e),Oe);if(_e.$$typeof===k)return Ke(je,Hp(je,_e),Oe);im(je,_e)}return null}function Te(je,_e,Oe,qe){var gt=_e!==null?_e.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return gt!==null?null:ce(je,_e,""+Oe,qe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return Oe.key===gt?be(je,_e,Oe,qe):null;case v:return Oe.key===gt?ke(je,_e,Oe,qe):null;case B:return gt=Oe._init,Oe=gt(Oe._payload),Te(je,_e,Oe,qe)}if(N(Oe)||b(Oe))return gt!==null?null:Ue(je,_e,Oe,qe,null);if(typeof Oe.then=="function")return Te(je,_e,rm(Oe),qe);if(Oe.$$typeof===k)return Te(je,_e,Hp(je,Oe),qe);im(je,Oe)}return null}function Re(je,_e,Oe,qe,gt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return je=je.get(Oe)||null,ce(_e,je,""+qe,gt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case g:return je=je.get(qe.key===null?Oe:qe.key)||null,be(_e,je,qe,gt);case v:return je=je.get(qe.key===null?Oe:qe.key)||null,ke(_e,je,qe,gt);case B:var Zt=qe._init;return qe=Zt(qe._payload),Re(je,_e,Oe,qe,gt)}if(N(qe)||b(qe))return je=je.get(Oe)||null,Ue(_e,je,qe,gt,null);if(typeof qe.then=="function")return Re(je,_e,Oe,rm(qe),gt);if(qe.$$typeof===k)return Re(je,_e,Oe,Hp(_e,qe),gt);im(_e,qe)}return null}function Lt(je,_e,Oe,qe){for(var gt=null,Zt=null,_t=_e,Rt=_e=0,Er=null;_t!==null&&Rt<Oe.length;Rt++){_t.index>Rt?(Er=_t,_t=null):Er=_t.sibling;var pn=Te(je,_t,Oe[Rt],qe);if(pn===null){_t===null&&(_t=Er);break}c&&_t&&pn.alternate===null&&d(je,_t),_e=H(pn,_e,Rt),Zt===null?gt=pn:Zt.sibling=pn,Zt=pn,_t=Er}if(Rt===Oe.length)return m(je,_t),vn&&Ic(je,Rt),gt;if(_t===null){for(;Rt<Oe.length;Rt++)_t=Ke(je,Oe[Rt],qe),_t!==null&&(_e=H(_t,_e,Rt),Zt===null?gt=_t:Zt.sibling=_t,Zt=_t);return vn&&Ic(je,Rt),gt}for(_t=S(_t);Rt<Oe.length;Rt++)Er=Re(_t,je,Rt,Oe[Rt],qe),Er!==null&&(c&&Er.alternate!==null&&_t.delete(Er.key===null?Rt:Er.key),_e=H(Er,_e,Rt),Zt===null?gt=Er:Zt.sibling=Er,Zt=Er);return c&&_t.forEach(function(Ml){return d(je,Ml)}),vn&&Ic(je,Rt),gt}function It(je,_e,Oe,qe){if(Oe==null)throw Error(r(151));for(var gt=null,Zt=null,_t=_e,Rt=_e=0,Er=null,pn=Oe.next();_t!==null&&!pn.done;Rt++,pn=Oe.next()){_t.index>Rt?(Er=_t,_t=null):Er=_t.sibling;var Ml=Te(je,_t,pn.value,qe);if(Ml===null){_t===null&&(_t=Er);break}c&&_t&&Ml.alternate===null&&d(je,_t),_e=H(Ml,_e,Rt),Zt===null?gt=Ml:Zt.sibling=Ml,Zt=Ml,_t=Er}if(pn.done)return m(je,_t),vn&&Ic(je,Rt),gt;if(_t===null){for(;!pn.done;Rt++,pn=Oe.next())pn=Ke(je,pn.value,qe),pn!==null&&(_e=H(pn,_e,Rt),Zt===null?gt=pn:Zt.sibling=pn,Zt=pn);return vn&&Ic(je,Rt),gt}for(_t=S(_t);!pn.done;Rt++,pn=Oe.next())pn=Re(_t,je,Rt,pn.value,qe),pn!==null&&(c&&pn.alternate!==null&&_t.delete(pn.key===null?Rt:pn.key),_e=H(pn,_e,Rt),Zt===null?gt=pn:Zt.sibling=pn,Zt=pn);return c&&_t.forEach(function(yU){return d(je,yU)}),vn&&Ic(je,Rt),gt}function On(je,_e,Oe,qe){if(typeof Oe=="object"&&Oe!==null&&Oe.type===y&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:e:{for(var gt=Oe.key;_e!==null;){if(_e.key===gt){if(gt=Oe.type,gt===y){if(_e.tag===7){m(je,_e.sibling),qe=R(_e,Oe.props.children),qe.return=je,je=qe;break e}}else if(_e.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===B&&r6(gt)===_e.type){m(je,_e.sibling),qe=R(_e,Oe.props),Jf(qe,Oe),qe.return=je,je=qe;break e}m(je,_e);break}else d(je,_e);_e=_e.sibling}Oe.type===y?(qe=Oc(Oe.props.children,je.mode,qe,Oe.key),qe.return=je,je=qe):(qe=$p(Oe.type,Oe.key,Oe.props,null,je.mode,qe),Jf(qe,Oe),qe.return=je,je=qe)}return ne(je);case v:e:{for(gt=Oe.key;_e!==null;){if(_e.key===gt)if(_e.tag===4&&_e.stateNode.containerInfo===Oe.containerInfo&&_e.stateNode.implementation===Oe.implementation){m(je,_e.sibling),qe=R(_e,Oe.children||[]),qe.return=je,je=qe;break e}else{m(je,_e);break}else d(je,_e);_e=_e.sibling}qe=Rb(Oe,je.mode,qe),qe.return=je,je=qe}return ne(je);case B:return gt=Oe._init,Oe=gt(Oe._payload),On(je,_e,Oe,qe)}if(N(Oe))return Lt(je,_e,Oe,qe);if(b(Oe)){if(gt=b(Oe),typeof gt!="function")throw Error(r(150));return Oe=gt.call(Oe),It(je,_e,Oe,qe)}if(typeof Oe.then=="function")return On(je,_e,rm(Oe),qe);if(Oe.$$typeof===k)return On(je,_e,Hp(je,Oe),qe);im(je,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,_e!==null&&_e.tag===6?(m(je,_e.sibling),qe=R(_e,Oe),qe.return=je,je=qe):(m(je,_e),qe=Tb(Oe,je.mode,qe),qe.return=je,je=qe),ne(je)):m(je,_e)}return function(je,_e,Oe,qe){try{Yf=0;var gt=On(je,_e,Oe,qe);return ad=null,gt}catch(_t){if(_t===$f||_t===Wp)throw _t;var Zt=Vi(29,_t,null,je.mode);return Zt.lanes=qe,Zt.return=je,Zt}finally{}}}var sd=i6(!0),a6=i6(!1),ya=L(null),vs=null;function pl(c){var d=c.alternate;F(fr,fr.current&1),F(ya,c),vs===null&&(d===null||td.current!==null||d.memoizedState!==null)&&(vs=c)}function s6(c){if(c.tag===22){if(F(fr,fr.current),F(ya,c),vs===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(vs=c)}}else ml()}function ml(){F(fr,fr.current),F(ya,ya.current)}function oo(c){q(ya),vs===c&&(vs=null),q(fr)}var fr=L(0);function am(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||n1(m)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function hw(c,d,m,S){d=c.memoizedState,m=m(S,d),m=m==null?d:h({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var pw={enqueueSetState:function(c,d,m){c=c._reactInternals;var S=Zi(),R=dl(S);R.payload=d,m!=null&&(R.callback=m),d=fl(c,R,S),d!==null&&(Qi(d,c,S),qf(d,c,S))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var S=Zi(),R=dl(S);R.tag=1,R.payload=d,m!=null&&(R.callback=m),d=fl(c,R,S),d!==null&&(Qi(d,c,S),qf(d,c,S))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=Zi(),S=dl(m);S.tag=2,d!=null&&(S.callback=d),d=fl(c,S,m),d!==null&&(Qi(d,c,m),qf(d,c,m))}};function o6(c,d,m,S,R,H,ne){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,H,ne):d.prototype&&d.prototype.isPureReactComponent?!If(m,S)||!If(R,H):!0}function l6(c,d,m,S){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,S),d.state!==c&&pw.enqueueReplaceState(d,d.state,null)}function Uc(c,d){var m=d;if("ref"in d){m={};for(var S in d)S!=="ref"&&(m[S]=d[S])}if(c=c.defaultProps){m===d&&(m=h({},m));for(var R in c)m[R]===void 0&&(m[R]=c[R])}return m}var sm=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function c6(c){sm(c)}function u6(c){console.error(c)}function d6(c){sm(c)}function om(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(S){setTimeout(function(){throw S})}}function f6(c,d,m){try{var S=c.onCaughtError;S(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function mw(c,d,m){return m=dl(m),m.tag=3,m.payload={element:null},m.callback=function(){om(c,d)},m}function h6(c){return c=dl(c),c.tag=3,c}function p6(c,d,m,S){var R=m.type.getDerivedStateFromError;if(typeof R=="function"){var H=S.value;c.payload=function(){return R(H)},c.callback=function(){f6(d,m,S)}}var ne=m.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(c.callback=function(){f6(d,m,S),typeof R!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var ce=S.stack;this.componentDidCatch(S.value,{componentStack:ce!==null?ce:""})})}function y7(c,d,m,S,R){if(m.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(d=m.alternate,d!==null&&Df(d,m,R,!0),m=ya.current,m!==null){switch(m.tag){case 13:return vs===null?Uw():m.alternate===null&&Xn===0&&(Xn=3),m.flags&=-257,m.flags|=65536,m.lanes=R,S===Hb?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([S]):d.add(S),Fw(c,S,R)),!1;case 22:return m.flags|=65536,S===Hb?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([S])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([S]):m.add(S)),Fw(c,S,R)),!1}throw Error(r(435,m.tag))}return Fw(c,S,R),Uw(),!1}if(vn)return d=ya.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=R,S!==Db&&(c=Error(r(422),{cause:S}),Lf(pa(c,m)))):(S!==Db&&(d=Error(r(423),{cause:S}),Lf(pa(d,m))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,S=pa(S,m),R=mw(c.stateNode,S,R),Vb(c,R),Xn!==4&&(Xn=2)),!1;var H=Error(r(520),{cause:S});if(H=pa(H,m),rh===null?rh=[H]:rh.push(H),Xn!==4&&(Xn=2),d===null)return!0;S=pa(S,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=R&-R,m.lanes|=c,c=mw(m.stateNode,S,c),Vb(m,c),!1;case 1:if(d=m.type,H=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(xl===null||!xl.has(H))))return m.flags|=65536,R&=-R,m.lanes|=R,R=h6(R),p6(R,c,m,S),Vb(m,R),!1}m=m.return}while(m!==null);return!1}var m6=Error(r(461)),wr=!1;function Or(c,d,m,S){d.child=c===null?a6(d,null,m,S):sd(d,c.child,m,S)}function g6(c,d,m,S,R){m=m.render;var H=d.ref;if("ref"in S){var ne={};for(var ce in S)ce!=="ref"&&(ne[ce]=S[ce])}else ne=S;return Lc(d),S=Qb(c,d,m,ne,H,R),ce=Xb(),c!==null&&!wr?(ew(c,d,R),lo(c,d,R)):(vn&&ce&&Pb(d),d.flags|=1,Or(c,d,S,R),d.child)}function v6(c,d,m,S,R){if(c===null){var H=m.type;return typeof H=="function"&&!Ib(H)&&H.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=H,y6(c,d,H,S,R)):(c=$p(m.type,null,S,d,d.mode,R),c.ref=d.ref,c.return=d,d.child=c)}if(H=c.child,!Sw(c,R)){var ne=H.memoizedProps;if(m=m.compare,m=m!==null?m:If,m(ne,S)&&c.ref===d.ref)return lo(c,d,R)}return d.flags|=1,c=to(H,S),c.ref=d.ref,c.return=d,d.child=c}function y6(c,d,m,S,R){if(c!==null){var H=c.memoizedProps;if(If(H,S)&&c.ref===d.ref)if(wr=!1,d.pendingProps=S=H,Sw(c,R))(c.flags&131072)!==0&&(wr=!0);else return d.lanes=c.lanes,lo(c,d,R)}return gw(c,d,m,S,R)}function b6(c,d,m){var S=d.pendingProps,R=S.children,H=c!==null?c.memoizedState:null;if(S.mode==="hidden"){if((d.flags&128)!==0){if(S=H!==null?H.baseLanes|m:m,c!==null){for(R=d.child=c.child,H=0;R!==null;)H=H|R.lanes|R.childLanes,R=R.sibling;d.childLanes=H&~S}else d.childLanes=0,d.child=null;return w6(c,d,S,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Kp(d,H!==null?H.cachePool:null),H!==null?y_(d,H):Yb(),s6(d);else return d.lanes=d.childLanes=536870912,w6(c,d,H!==null?H.baseLanes|m:m,m)}else H!==null?(Kp(d,H.cachePool),y_(d,H),ml(),d.memoizedState=null):(c!==null&&Kp(d,null),Yb(),ml());return Or(c,d,R,m),d.child}function w6(c,d,m,S){var R=zb();return R=R===null?null:{parent:dr._currentValue,pool:R},d.memoizedState={baseLanes:m,cachePool:R},c!==null&&Kp(d,null),Yb(),s6(d),c!==null&&Df(c,d,S,!0),null}function lm(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function gw(c,d,m,S,R){return Lc(d),m=Qb(c,d,m,S,void 0,R),S=Xb(),c!==null&&!wr?(ew(c,d,R),lo(c,d,R)):(vn&&S&&Pb(d),d.flags|=1,Or(c,d,m,R),d.child)}function x6(c,d,m,S,R,H){return Lc(d),d.updateQueue=null,m=w_(d,S,m,R),b_(c),S=Xb(),c!==null&&!wr?(ew(c,d,H),lo(c,d,H)):(vn&&S&&Pb(d),d.flags|=1,Or(c,d,m,H),d.child)}function E6(c,d,m,S,R){if(Lc(d),d.stateNode===null){var H=Ju,ne=m.contextType;typeof ne=="object"&&ne!==null&&(H=Kr(ne)),H=new m(S,H),d.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=pw,d.stateNode=H,H._reactInternals=d,H=d.stateNode,H.props=S,H.state=d.memoizedState,H.refs={},Kb(d),ne=m.contextType,H.context=typeof ne=="object"&&ne!==null?Kr(ne):Ju,H.state=d.memoizedState,ne=m.getDerivedStateFromProps,typeof ne=="function"&&(hw(d,m,ne,S),H.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(ne=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),ne!==H.state&&pw.enqueueReplaceState(H,H.state,null),Hf(d,S,H,R),zf(),H.state=d.memoizedState),typeof H.componentDidMount=="function"&&(d.flags|=4194308),S=!0}else if(c===null){H=d.stateNode;var ce=d.memoizedProps,be=Uc(m,ce);H.props=be;var ke=H.context,Ue=m.contextType;ne=Ju,typeof Ue=="object"&&Ue!==null&&(ne=Kr(Ue));var Ke=m.getDerivedStateFromProps;Ue=typeof Ke=="function"||typeof H.getSnapshotBeforeUpdate=="function",ce=d.pendingProps!==ce,Ue||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ce||ke!==ne)&&l6(d,H,S,ne),ul=!1;var Te=d.memoizedState;H.state=Te,Hf(d,S,H,R),zf(),ke=d.memoizedState,ce||Te!==ke||ul?(typeof Ke=="function"&&(hw(d,m,Ke,S),ke=d.memoizedState),(be=ul||o6(d,m,be,S,Te,ke,ne))?(Ue||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(d.flags|=4194308)):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=ke),H.props=S,H.state=ke,H.context=ne,S=be):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{H=d.stateNode,Wb(c,d),ne=d.memoizedProps,Ue=Uc(m,ne),H.props=Ue,Ke=d.pendingProps,Te=H.context,ke=m.contextType,be=Ju,typeof ke=="object"&&ke!==null&&(be=Kr(ke)),ce=m.getDerivedStateFromProps,(ke=typeof ce=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ne!==Ke||Te!==be)&&l6(d,H,S,be),ul=!1,Te=d.memoizedState,H.state=Te,Hf(d,S,H,R),zf();var Re=d.memoizedState;ne!==Ke||Te!==Re||ul||c!==null&&c.dependencies!==null&&zp(c.dependencies)?(typeof ce=="function"&&(hw(d,m,ce,S),Re=d.memoizedState),(Ue=ul||o6(d,m,Ue,S,Te,Re,be)||c!==null&&c.dependencies!==null&&zp(c.dependencies))?(ke||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(S,Re,be),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(S,Re,be)),typeof H.componentDidUpdate=="function"&&(d.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof H.componentDidUpdate!="function"||ne===c.memoizedProps&&Te===c.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ne===c.memoizedProps&&Te===c.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Re),H.props=S,H.state=Re,H.context=be,S=Ue):(typeof H.componentDidUpdate!="function"||ne===c.memoizedProps&&Te===c.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ne===c.memoizedProps&&Te===c.memoizedState||(d.flags|=1024),S=!1)}return H=S,lm(c,d),S=(d.flags&128)!==0,H||S?(H=d.stateNode,m=S&&typeof m.getDerivedStateFromError!="function"?null:H.render(),d.flags|=1,c!==null&&S?(d.child=sd(d,c.child,null,R),d.child=sd(d,null,m,R)):Or(c,d,m,R),d.memoizedState=H.state,c=d.child):c=lo(c,d,R),c}function S6(c,d,m,S){return Pf(),d.flags|=256,Or(c,d,m,S),d.child}var vw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yw(c){return{baseLanes:c,cachePool:u_()}}function bw(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=ba),c}function _6(c,d,m){var S=d.pendingProps,R=!1,H=(d.flags&128)!==0,ne;if((ne=H)||(ne=c!==null&&c.memoizedState===null?!1:(fr.current&2)!==0),ne&&(R=!0,d.flags&=-129),ne=(d.flags&32)!==0,d.flags&=-33,c===null){if(vn){if(R?pl(d):ml(),vn){var ce=Qn,be;if(be=ce){e:{for(be=ce,ce=gs;be.nodeType!==8;){if(!ce){ce=null;break e}if(be=Ja(be.nextSibling),be===null){ce=null;break e}}ce=be}ce!==null?(d.memoizedState={dehydrated:ce,treeContext:kc!==null?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},be=Vi(18,null,null,0),be.stateNode=ce,be.return=d,d.child=be,si=d,Qn=null,be=!0):be=!1}be||Rc(d)}if(ce=d.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return n1(ce)?d.lanes=32:d.lanes=536870912,null;oo(d)}return ce=S.children,S=S.fallback,R?(ml(),R=d.mode,ce=cm({mode:"hidden",children:ce},R),S=Oc(S,R,m,null),ce.return=d,S.return=d,ce.sibling=S,d.child=ce,R=d.child,R.memoizedState=yw(m),R.childLanes=bw(c,ne,m),d.memoizedState=vw,S):(pl(d),ww(d,ce))}if(be=c.memoizedState,be!==null&&(ce=be.dehydrated,ce!==null)){if(H)d.flags&256?(pl(d),d.flags&=-257,d=xw(c,d,m)):d.memoizedState!==null?(ml(),d.child=c.child,d.flags|=128,d=null):(ml(),R=S.fallback,ce=d.mode,S=cm({mode:"visible",children:S.children},ce),R=Oc(R,ce,m,null),R.flags|=2,S.return=d,R.return=d,S.sibling=R,d.child=S,sd(d,c.child,null,m),S=d.child,S.memoizedState=yw(m),S.childLanes=bw(c,ne,m),d.memoizedState=vw,d=R);else if(pl(d),n1(ce)){if(ne=ce.nextSibling&&ce.nextSibling.dataset,ne)var ke=ne.dgst;ne=ke,S=Error(r(419)),S.stack="",S.digest=ne,Lf({value:S,source:null,stack:null}),d=xw(c,d,m)}else if(wr||Df(c,d,m,!1),ne=(m&c.childLanes)!==0,wr||ne){if(ne=Dn,ne!==null&&(S=m&-m,S=(S&42)!==0?1:wt(S),S=(S&(ne.suspendedLanes|m))!==0?0:S,S!==0&&S!==be.retryLane))throw be.retryLane=S,Yu(c,S),Qi(ne,c,S),m6;ce.data==="$?"||Uw(),d=xw(c,d,m)}else ce.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=be.treeContext,Qn=Ja(ce.nextSibling),si=d,vn=!0,Tc=null,gs=!1,c!==null&&(ga[va++]=no,ga[va++]=ro,ga[va++]=kc,no=c.id,ro=c.overflow,kc=d),d=ww(d,S.children),d.flags|=4096);return d}return R?(ml(),R=S.fallback,ce=d.mode,be=c.child,ke=be.sibling,S=to(be,{mode:"hidden",children:S.children}),S.subtreeFlags=be.subtreeFlags&65011712,ke!==null?R=to(ke,R):(R=Oc(R,ce,m,null),R.flags|=2),R.return=d,S.return=d,S.sibling=R,d.child=S,S=R,R=d.child,ce=c.child.memoizedState,ce===null?ce=yw(m):(be=ce.cachePool,be!==null?(ke=dr._currentValue,be=be.parent!==ke?{parent:ke,pool:ke}:be):be=u_(),ce={baseLanes:ce.baseLanes|m,cachePool:be}),R.memoizedState=ce,R.childLanes=bw(c,ne,m),d.memoizedState=vw,S):(pl(d),m=c.child,c=m.sibling,m=to(m,{mode:"visible",children:S.children}),m.return=d,m.sibling=null,c!==null&&(ne=d.deletions,ne===null?(d.deletions=[c],d.flags|=16):ne.push(c)),d.child=m,d.memoizedState=null,m)}function ww(c,d){return d=cm({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function cm(c,d){return c=Vi(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function xw(c,d,m){return sd(d,c.child,null,m),c=ww(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function C6(c,d,m){c.lanes|=d;var S=c.alternate;S!==null&&(S.lanes|=d),Ub(c.return,d,m)}function Ew(c,d,m,S,R){var H=c.memoizedState;H===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:m,tailMode:R}:(H.isBackwards=d,H.rendering=null,H.renderingStartTime=0,H.last=S,H.tail=m,H.tailMode=R)}function N6(c,d,m){var S=d.pendingProps,R=S.revealOrder,H=S.tail;if(Or(c,d,S.children,m),S=fr.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&C6(c,m,d);else if(c.tag===19)C6(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}switch(F(fr,S),R){case"forwards":for(m=d.child,R=null;m!==null;)c=m.alternate,c!==null&&am(c)===null&&(R=m),m=m.sibling;m=R,m===null?(R=d.child,d.child=null):(R=m.sibling,m.sibling=null),Ew(d,!1,R,m,H);break;case"backwards":for(m=null,R=d.child,d.child=null;R!==null;){if(c=R.alternate,c!==null&&am(c)===null){d.child=R;break}c=R.sibling,R.sibling=m,m=R,R=c}Ew(d,!0,m,null,H);break;case"together":Ew(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function lo(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),wl|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(Df(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,m=to(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=to(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function Sw(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&zp(c)))}function b7(c,d,m){switch(d.tag){case 3:Z(d,d.stateNode.containerInfo),cl(d,dr,c.memoizedState.cache),Pf();break;case 27:case 5:te(d);break;case 4:Z(d,d.stateNode.containerInfo);break;case 10:cl(d,d.type,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(pl(d),d.flags|=128,null):(m&d.child.childLanes)!==0?_6(c,d,m):(pl(d),c=lo(c,d,m),c!==null?c.sibling:null);pl(d);break;case 19:var R=(c.flags&128)!==0;if(S=(m&d.childLanes)!==0,S||(Df(c,d,m,!1),S=(m&d.childLanes)!==0),R){if(S)return N6(c,d,m);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),F(fr,fr.current),S)break;return null;case 22:case 23:return d.lanes=0,b6(c,d,m);case 24:cl(d,dr,c.memoizedState.cache)}return lo(c,d,m)}function A6(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)wr=!0;else{if(!Sw(c,m)&&(d.flags&128)===0)return wr=!1,b7(c,d,m);wr=(c.flags&131072)!==0}else wr=!1,vn&&(d.flags&1048576)!==0&&r_(d,qp,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var S=d.elementType,R=S._init;if(S=R(S._payload),d.type=S,typeof S=="function")Ib(S)?(c=Uc(S,c),d.tag=1,d=E6(null,d,S,c,m)):(d.tag=0,d=gw(null,d,S,c,m));else{if(S!=null){if(R=S.$$typeof,R===z){d.tag=11,d=g6(null,d,S,c,m);break e}else if(R===W){d.tag=14,d=v6(null,d,S,c,m);break e}}throw d=A(S)||S,Error(r(306,d,""))}}return d;case 0:return gw(c,d,d.type,d.pendingProps,m);case 1:return S=d.type,R=Uc(S,d.pendingProps),E6(c,d,S,R,m);case 3:e:{if(Z(d,d.stateNode.containerInfo),c===null)throw Error(r(387));S=d.pendingProps;var H=d.memoizedState;R=H.element,Wb(c,d),Hf(d,S,null,m);var ne=d.memoizedState;if(S=ne.cache,cl(d,dr,S),S!==H.cache&&$b(d,[dr],m,!0),zf(),S=ne.element,H.isDehydrated)if(H={element:S,isDehydrated:!1,cache:ne.cache},d.updateQueue.baseState=H,d.memoizedState=H,d.flags&256){d=S6(c,d,S,m);break e}else if(S!==R){R=pa(Error(r(424)),d),Lf(R),d=S6(c,d,S,m);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Qn=Ja(c.firstChild),si=d,vn=!0,Tc=null,gs=!0,m=a6(d,null,S,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Pf(),S===R){d=lo(c,d,m);break e}Or(c,d,S,m)}d=d.child}return d;case 26:return lm(c,d),c===null?(m=kC(d.type,null,d.pendingProps,null))?d.memoizedState=m:vn||(m=d.type,c=d.pendingProps,S=Sm(Q.current).createElement(m),S[Je]=d,S[mt]=c,Ir(S,m,c),hn(S),d.stateNode=S):d.memoizedState=kC(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return te(d),c===null&&vn&&(S=d.stateNode=jC(d.type,d.pendingProps,Q.current),si=d,gs=!0,R=Qn,_l(d.type)?(r1=R,Qn=Ja(S.firstChild)):Qn=R),Or(c,d,d.pendingProps.children,m),lm(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&vn&&((R=S=Qn)&&(S=V7(S,d.type,d.pendingProps,gs),S!==null?(d.stateNode=S,si=d,Qn=Ja(S.firstChild),gs=!1,R=!0):R=!1),R||Rc(d)),te(d),R=d.type,H=d.pendingProps,ne=c!==null?c.memoizedProps:null,S=H.children,Xw(R,H)?S=null:ne!==null&&Xw(R,ne)&&(d.flags|=32),d.memoizedState!==null&&(R=Qb(c,d,d7,null,null,m),fh._currentValue=R),lm(c,d),Or(c,d,S,m),d.child;case 6:return c===null&&vn&&((c=m=Qn)&&(m=G7(m,d.pendingProps,gs),m!==null?(d.stateNode=m,si=d,Qn=null,c=!0):c=!1),c||Rc(d)),null;case 13:return _6(c,d,m);case 4:return Z(d,d.stateNode.containerInfo),S=d.pendingProps,c===null?d.child=sd(d,null,S,m):Or(c,d,S,m),d.child;case 11:return g6(c,d,d.type,d.pendingProps,m);case 7:return Or(c,d,d.pendingProps,m),d.child;case 8:return Or(c,d,d.pendingProps.children,m),d.child;case 12:return Or(c,d,d.pendingProps.children,m),d.child;case 10:return S=d.pendingProps,cl(d,d.type,S.value),Or(c,d,S.children,m),d.child;case 9:return R=d.type._context,S=d.pendingProps.children,Lc(d),R=Kr(R),S=S(R),d.flags|=1,Or(c,d,S,m),d.child;case 14:return v6(c,d,d.type,d.pendingProps,m);case 15:return y6(c,d,d.type,d.pendingProps,m);case 19:return N6(c,d,m);case 31:return S=d.pendingProps,m=d.mode,S={mode:S.mode,children:S.children},c===null?(m=cm(S,m),m.ref=d.ref,d.child=m,m.return=d,d=m):(m=to(c.child,S),m.ref=d.ref,d.child=m,m.return=d,d=m),d;case 22:return b6(c,d,m);case 24:return Lc(d),S=Kr(dr),c===null?(R=zb(),R===null&&(R=Dn,H=Fb(),R.pooledCache=H,H.refCount++,H!==null&&(R.pooledCacheLanes|=m),R=H),d.memoizedState={parent:S,cache:R},Kb(d),cl(d,dr,R)):((c.lanes&m)!==0&&(Wb(c,d),Hf(d,null,null,m),zf()),R=c.memoizedState,H=d.memoizedState,R.parent!==S?(R={parent:S,cache:S},d.memoizedState=R,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=R),cl(d,dr,S)):(S=H.cache,cl(d,dr,S),S!==R.cache&&$b(d,[dr],m,!0))),Or(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function co(c){c.flags|=4}function j6(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!LC(d)){if(d=ya.current,d!==null&&((on&4194048)===on?vs!==null:(on&62914560)!==on&&(on&536870912)===0||d!==vs))throw Ff=Hb,d_;c.flags|=8192}}function um(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?cn():536870912,c.lanes|=d,ud|=d)}function Zf(c,d){if(!vn)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function Kn(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,S=0;if(d)for(var R=c.child;R!==null;)m|=R.lanes|R.childLanes,S|=R.subtreeFlags&65011712,S|=R.flags&65011712,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)m|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=S,c.childLanes=m,d}function w7(c,d,m){var S=d.pendingProps;switch(Lb(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(d),null;case 1:return Kn(d),null;case 3:return m=d.stateNode,S=null,c!==null&&(S=c.memoizedState.cache),d.memoizedState.cache!==S&&(d.flags|=2048),ao(dr),X(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(Rf(d)?co(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,s_())),Kn(d),null;case 26:return m=d.memoizedState,c===null?(co(d),m!==null?(Kn(d),j6(d,m)):(Kn(d),d.flags&=-16777217)):m?m!==c.memoizedState?(co(d),Kn(d),j6(d,m)):(Kn(d),d.flags&=-16777217):(c.memoizedProps!==S&&co(d),Kn(d),d.flags&=-16777217),null;case 27:ae(d),m=Q.current;var R=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==S&&co(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return Kn(d),null}c=G.current,Rf(d)?i_(d):(c=jC(R,S,m),d.stateNode=c,co(d))}return Kn(d),null;case 5:if(ae(d),m=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==S&&co(d);else{if(!S){if(d.stateNode===null)throw Error(r(166));return Kn(d),null}if(c=G.current,Rf(d))i_(d);else{switch(R=Sm(Q.current),c){case 1:c=R.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=R.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=R.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof S.is=="string"?R.createElement("select",{is:S.is}):R.createElement("select"),S.multiple?c.multiple=!0:S.size&&(c.size=S.size);break;default:c=typeof S.is=="string"?R.createElement(m,{is:S.is}):R.createElement(m)}}c[Je]=d,c[mt]=S;e:for(R=d.child;R!==null;){if(R.tag===5||R.tag===6)c.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===d)break e;for(;R.sibling===null;){if(R.return===null||R.return===d)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}d.stateNode=c;e:switch(Ir(c,m,S),m){case"button":case"input":case"select":case"textarea":c=!!S.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&co(d)}}return Kn(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==S&&co(d);else{if(typeof S!="string"&&d.stateNode===null)throw Error(r(166));if(c=Q.current,Rf(d)){if(c=d.stateNode,m=d.memoizedProps,S=null,R=si,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}c[Je]=d,c=!!(c.nodeValue===m||S!==null&&S.suppressHydrationWarning===!0||xC(c.nodeValue,m)),c||Rc(d)}else c=Sm(c).createTextNode(S),c[Je]=d,d.stateNode=c}return Kn(d),null;case 13:if(S=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=Rf(d),S!==null&&S.dehydrated!==null){if(c===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Je]=d}else Pf(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Kn(d),R=!1}else R=s_(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=R),R=!0;if(!R)return d.flags&256?(oo(d),d):(oo(d),null)}if(oo(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=S!==null,c=c!==null&&c.memoizedState!==null,m){S=d.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool);var H=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(H=S.memoizedState.cachePool.pool),H!==R&&(S.flags|=2048)}return m!==c&&m&&(d.child.flags|=8192),um(d,d.updateQueue),Kn(d),null;case 4:return X(),c===null&&Gw(d.stateNode.containerInfo),Kn(d),null;case 10:return ao(d.type),Kn(d),null;case 19:if(q(fr),R=d.memoizedState,R===null)return Kn(d),null;if(S=(d.flags&128)!==0,H=R.rendering,H===null)if(S)Zf(R,!1);else{if(Xn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(H=am(c),H!==null){for(d.flags|=128,Zf(R,!1),c=H.updateQueue,d.updateQueue=c,um(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)n_(m,c),m=m.sibling;return F(fr,fr.current&1|2),d.child}c=c.sibling}R.tail!==null&&Ee()>hm&&(d.flags|=128,S=!0,Zf(R,!1),d.lanes=4194304)}else{if(!S)if(c=am(H),c!==null){if(d.flags|=128,S=!0,c=c.updateQueue,d.updateQueue=c,um(d,c),Zf(R,!0),R.tail===null&&R.tailMode==="hidden"&&!H.alternate&&!vn)return Kn(d),null}else 2*Ee()-R.renderingStartTime>hm&&m!==536870912&&(d.flags|=128,S=!0,Zf(R,!1),d.lanes=4194304);R.isBackwards?(H.sibling=d.child,d.child=H):(c=R.last,c!==null?c.sibling=H:d.child=H,R.last=H)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=Ee(),d.sibling=null,c=fr.current,F(fr,S?c&1|2:c&1),d):(Kn(d),null);case 22:case 23:return oo(d),Jb(),S=d.memoizedState!==null,c!==null?c.memoizedState!==null!==S&&(d.flags|=8192):S&&(d.flags|=8192),S?(m&536870912)!==0&&(d.flags&128)===0&&(Kn(d),d.subtreeFlags&6&&(d.flags|=8192)):Kn(d),m=d.updateQueue,m!==null&&um(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),S=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==m&&(d.flags|=2048),c!==null&&q(Dc),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),ao(dr),Kn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function x7(c,d){switch(Lb(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return ao(dr),X(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return ae(d),null;case 13:if(oo(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Pf()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return q(fr),null;case 4:return X(),null;case 10:return ao(d.type),null;case 22:case 23:return oo(d),Jb(),c!==null&&q(Dc),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return ao(dr),null;case 25:return null;default:return null}}function M6(c,d){switch(Lb(d),d.tag){case 3:ao(dr),X();break;case 26:case 27:case 5:ae(d);break;case 4:X();break;case 13:oo(d);break;case 19:q(fr);break;case 10:ao(d.type);break;case 22:case 23:oo(d),Jb(),c!==null&&q(Dc);break;case 24:ao(dr)}}function Qf(c,d){try{var m=d.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var R=S.next;m=R;do{if((m.tag&c)===c){S=void 0;var H=m.create,ne=m.inst;S=H(),ne.destroy=S}m=m.next}while(m!==R)}}catch(ce){Pn(d,d.return,ce)}}function gl(c,d,m){try{var S=d.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var H=R.next;S=H;do{if((S.tag&c)===c){var ne=S.inst,ce=ne.destroy;if(ce!==void 0){ne.destroy=void 0,R=d;var be=m,ke=ce;try{ke()}catch(Ue){Pn(R,be,Ue)}}}S=S.next}while(S!==H)}}catch(Ue){Pn(d,d.return,Ue)}}function O6(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{v_(d,m)}catch(S){Pn(c,c.return,S)}}}function k6(c,d,m){m.props=Uc(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(S){Pn(c,d,S)}}function Xf(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var S=c.stateNode;break;case 30:S=c.stateNode;break;default:S=c.stateNode}typeof m=="function"?c.refCleanup=m(S):m.current=S}}catch(R){Pn(c,d,R)}}function ys(c,d){var m=c.ref,S=c.refCleanup;if(m!==null)if(typeof S=="function")try{S()}catch(R){Pn(c,d,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(R){Pn(c,d,R)}else m.current=null}function I6(c){var d=c.type,m=c.memoizedProps,S=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&S.focus();break e;case"img":m.src?S.src=m.src:m.srcSet&&(S.srcset=m.srcSet)}}catch(R){Pn(c,c.return,R)}}function _w(c,d,m){try{var S=c.stateNode;q7(S,c.type,m,d),S[mt]=d}catch(R){Pn(c,c.return,R)}}function T6(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&_l(c.type)||c.tag===4}function Cw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||T6(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&_l(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Nw(c,d,m){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Em));else if(S!==4&&(S===27&&_l(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(Nw(c,d,m),c=c.sibling;c!==null;)Nw(c,d,m),c=c.sibling}function dm(c,d,m){var S=c.tag;if(S===5||S===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(S!==4&&(S===27&&_l(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(dm(c,d,m),c=c.sibling;c!==null;)dm(c,d,m),c=c.sibling}function R6(c){var d=c.stateNode,m=c.memoizedProps;try{for(var S=c.type,R=d.attributes;R.length;)d.removeAttributeNode(R[0]);Ir(d,S,m),d[Je]=c,d[mt]=m}catch(H){Pn(c,c.return,H)}}var uo=!1,ir=!1,Aw=!1,P6=typeof WeakSet=="function"?WeakSet:Set,xr=null;function E7(c,d){if(c=c.containerInfo,Zw=Mm,c=W5(c),Cb(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var S=m.getSelection&&m.getSelection();if(S&&S.rangeCount!==0){m=S.anchorNode;var R=S.anchorOffset,H=S.focusNode;S=S.focusOffset;try{m.nodeType,H.nodeType}catch{m=null;break e}var ne=0,ce=-1,be=-1,ke=0,Ue=0,Ke=c,Te=null;t:for(;;){for(var Re;Ke!==m||R!==0&&Ke.nodeType!==3||(ce=ne+R),Ke!==H||S!==0&&Ke.nodeType!==3||(be=ne+S),Ke.nodeType===3&&(ne+=Ke.nodeValue.length),(Re=Ke.firstChild)!==null;)Te=Ke,Ke=Re;for(;;){if(Ke===c)break t;if(Te===m&&++ke===R&&(ce=ne),Te===H&&++Ue===S&&(be=ne),(Re=Ke.nextSibling)!==null)break;Ke=Te,Te=Ke.parentNode}Ke=Re}m=ce===-1||be===-1?null:{start:ce,end:be}}else m=null}m=m||{start:0,end:0}}else m=null;for(Qw={focusedElem:c,selectionRange:m},Mm=!1,xr=d;xr!==null;)if(d=xr,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,xr=c;else for(;xr!==null;){switch(d=xr,H=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&H!==null){c=void 0,m=d,R=H.memoizedProps,H=H.memoizedState,S=m.stateNode;try{var Lt=Uc(m.type,R,m.elementType===m.type);c=S.getSnapshotBeforeUpdate(Lt,H),S.__reactInternalSnapshotBeforeUpdate=c}catch(It){Pn(m,m.return,It)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)t1(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":t1(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,xr=c;break}xr=d.return}}function L6(c,d,m){var S=m.flags;switch(m.tag){case 0:case 11:case 15:vl(c,m),S&4&&Qf(5,m);break;case 1:if(vl(c,m),S&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(ne){Pn(m,m.return,ne)}else{var R=Uc(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(R,d,c.__reactInternalSnapshotBeforeUpdate)}catch(ne){Pn(m,m.return,ne)}}S&64&&O6(m),S&512&&Xf(m,m.return);break;case 3:if(vl(c,m),S&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{v_(c,d)}catch(ne){Pn(m,m.return,ne)}}break;case 27:d===null&&S&4&&R6(m);case 26:case 5:vl(c,m),d===null&&S&4&&I6(m),S&512&&Xf(m,m.return);break;case 12:vl(c,m);break;case 13:vl(c,m),S&4&&U6(c,m),S&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=k7.bind(null,m),Y7(c,m))));break;case 22:if(S=m.memoizedState!==null||uo,!S){d=d!==null&&d.memoizedState!==null||ir,R=uo;var H=ir;uo=S,(ir=d)&&!H?yl(c,m,(m.subtreeFlags&8772)!==0):vl(c,m),uo=R,ir=H}break;case 30:break;default:vl(c,m)}}function D6(c){var d=c.alternate;d!==null&&(c.alternate=null,D6(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&za(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var $n=null,Si=!1;function fo(c,d,m){for(m=m.child;m!==null;)B6(c,d,m),m=m.sibling}function B6(c,d,m){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(et,m)}catch{}switch(m.tag){case 26:ir||ys(m,d),fo(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ir||ys(m,d);var S=$n,R=Si;_l(m.type)&&($n=m.stateNode,Si=!1),fo(c,d,m),lh(m.stateNode),$n=S,Si=R;break;case 5:ir||ys(m,d);case 6:if(S=$n,R=Si,$n=null,fo(c,d,m),$n=S,Si=R,$n!==null)if(Si)try{($n.nodeType===9?$n.body:$n.nodeName==="HTML"?$n.ownerDocument.body:$n).removeChild(m.stateNode)}catch(H){Pn(m,d,H)}else try{$n.removeChild(m.stateNode)}catch(H){Pn(m,d,H)}break;case 18:$n!==null&&(Si?(c=$n,NC(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),gh(c)):NC($n,m.stateNode));break;case 4:S=$n,R=Si,$n=m.stateNode.containerInfo,Si=!0,fo(c,d,m),$n=S,Si=R;break;case 0:case 11:case 14:case 15:ir||gl(2,m,d),ir||gl(4,m,d),fo(c,d,m);break;case 1:ir||(ys(m,d),S=m.stateNode,typeof S.componentWillUnmount=="function"&&k6(m,d,S)),fo(c,d,m);break;case 21:fo(c,d,m);break;case 22:ir=(S=ir)||m.memoizedState!==null,fo(c,d,m),ir=S;break;default:fo(c,d,m)}}function U6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{gh(c)}catch(m){Pn(d,d.return,m)}}function S7(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new P6),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new P6),d;default:throw Error(r(435,c.tag))}}function jw(c,d){var m=S7(c);d.forEach(function(S){var R=I7.bind(null,c,S);m.has(S)||(m.add(S),S.then(R,R))})}function Gi(c,d){var m=d.deletions;if(m!==null)for(var S=0;S<m.length;S++){var R=m[S],H=c,ne=d,ce=ne;e:for(;ce!==null;){switch(ce.tag){case 27:if(_l(ce.type)){$n=ce.stateNode,Si=!1;break e}break;case 5:$n=ce.stateNode,Si=!1;break e;case 3:case 4:$n=ce.stateNode.containerInfo,Si=!0;break e}ce=ce.return}if($n===null)throw Error(r(160));B6(H,ne,R),$n=null,Si=!1,H=R.alternate,H!==null&&(H.return=null),R.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)$6(d,c),d=d.sibling}var Ya=null;function $6(c,d){var m=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Gi(d,c),Yi(c),S&4&&(gl(3,c,c.return),Qf(3,c),gl(5,c,c.return));break;case 1:Gi(d,c),Yi(c),S&512&&(ir||m===null||ys(m,m.return)),S&64&&uo&&(c=c.updateQueue,c!==null&&(S=c.callbacks,S!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?S:m.concat(S))));break;case 26:var R=Ya;if(Gi(d,c),Yi(c),S&512&&(ir||m===null||ys(m,m.return)),S&4){var H=m!==null?m.memoizedState:null;if(S=c.memoizedState,m===null)if(S===null)if(c.stateNode===null){e:{S=c.type,m=c.memoizedProps,R=R.ownerDocument||R;t:switch(S){case"title":H=R.getElementsByTagName("title")[0],(!H||H[mn]||H[Je]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=R.createElement(S),R.head.insertBefore(H,R.querySelector("head > title"))),Ir(H,S,m),H[Je]=c,hn(H),S=H;break e;case"link":var ne=RC("link","href",R).get(S+(m.href||""));if(ne){for(var ce=0;ce<ne.length;ce++)if(H=ne[ce],H.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&H.getAttribute("rel")===(m.rel==null?null:m.rel)&&H.getAttribute("title")===(m.title==null?null:m.title)&&H.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){ne.splice(ce,1);break t}}H=R.createElement(S),Ir(H,S,m),R.head.appendChild(H);break;case"meta":if(ne=RC("meta","content",R).get(S+(m.content||""))){for(ce=0;ce<ne.length;ce++)if(H=ne[ce],H.getAttribute("content")===(m.content==null?null:""+m.content)&&H.getAttribute("name")===(m.name==null?null:m.name)&&H.getAttribute("property")===(m.property==null?null:m.property)&&H.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&H.getAttribute("charset")===(m.charSet==null?null:m.charSet)){ne.splice(ce,1);break t}}H=R.createElement(S),Ir(H,S,m),R.head.appendChild(H);break;default:throw Error(r(468,S))}H[Je]=c,hn(H),S=H}c.stateNode=S}else PC(R,c.type,c.stateNode);else c.stateNode=TC(R,S,c.memoizedProps);else H!==S?(H===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):H.count--,S===null?PC(R,c.type,c.stateNode):TC(R,S,c.memoizedProps)):S===null&&c.stateNode!==null&&_w(c,c.memoizedProps,m.memoizedProps)}break;case 27:Gi(d,c),Yi(c),S&512&&(ir||m===null||ys(m,m.return)),m!==null&&S&4&&_w(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Gi(d,c),Yi(c),S&512&&(ir||m===null||ys(m,m.return)),c.flags&32){R=c.stateNode;try{Ha(R,"")}catch(Re){Pn(c,c.return,Re)}}S&4&&c.stateNode!=null&&(R=c.memoizedProps,_w(c,R,m!==null?m.memoizedProps:R)),S&1024&&(Aw=!0);break;case 6:if(Gi(d,c),Yi(c),S&4){if(c.stateNode===null)throw Error(r(162));S=c.memoizedProps,m=c.stateNode;try{m.nodeValue=S}catch(Re){Pn(c,c.return,Re)}}break;case 3:if(Nm=null,R=Ya,Ya=_m(d.containerInfo),Gi(d,c),Ya=R,Yi(c),S&4&&m!==null&&m.memoizedState.isDehydrated)try{gh(d.containerInfo)}catch(Re){Pn(c,c.return,Re)}Aw&&(Aw=!1,F6(c));break;case 4:S=Ya,Ya=_m(c.stateNode.containerInfo),Gi(d,c),Yi(c),Ya=S;break;case 12:Gi(d,c),Yi(c);break;case 13:Gi(d,c),Yi(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Rw=Ee()),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,jw(c,S)));break;case 22:R=c.memoizedState!==null;var be=m!==null&&m.memoizedState!==null,ke=uo,Ue=ir;if(uo=ke||R,ir=Ue||be,Gi(d,c),ir=Ue,uo=ke,Yi(c),S&8192)e:for(d=c.stateNode,d._visibility=R?d._visibility&-2:d._visibility|1,R&&(m===null||be||uo||ir||$c(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){be=m=d;try{if(H=be.stateNode,R)ne=H.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{ce=be.stateNode;var Ke=be.memoizedProps.style,Te=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;ce.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Re){Pn(be,be.return,Re)}}}else if(d.tag===6){if(m===null){be=d;try{be.stateNode.nodeValue=R?"":be.memoizedProps}catch(Re){Pn(be,be.return,Re)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}S&4&&(S=c.updateQueue,S!==null&&(m=S.retryQueue,m!==null&&(S.retryQueue=null,jw(c,m))));break;case 19:Gi(d,c),Yi(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,jw(c,S)));break;case 30:break;case 21:break;default:Gi(d,c),Yi(c)}}function Yi(c){var d=c.flags;if(d&2){try{for(var m,S=c.return;S!==null;){if(T6(S)){m=S;break}S=S.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var R=m.stateNode,H=Cw(c);dm(c,H,R);break;case 5:var ne=m.stateNode;m.flags&32&&(Ha(ne,""),m.flags&=-33);var ce=Cw(c);dm(c,ce,ne);break;case 3:case 4:var be=m.stateNode.containerInfo,ke=Cw(c);Nw(c,ke,be);break;default:throw Error(r(161))}}catch(Ue){Pn(c,c.return,Ue)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function F6(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;F6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function vl(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)L6(c,d.alternate,d),d=d.sibling}function $c(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:gl(4,d,d.return),$c(d);break;case 1:ys(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&k6(d,d.return,m),$c(d);break;case 27:lh(d.stateNode);case 26:case 5:ys(d,d.return),$c(d);break;case 22:d.memoizedState===null&&$c(d);break;case 30:$c(d);break;default:$c(d)}c=c.sibling}}function yl(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var S=d.alternate,R=c,H=d,ne=H.flags;switch(H.tag){case 0:case 11:case 15:yl(R,H,m),Qf(4,H);break;case 1:if(yl(R,H,m),S=H,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(ke){Pn(S,S.return,ke)}if(S=H,R=S.updateQueue,R!==null){var ce=S.stateNode;try{var be=R.shared.hiddenCallbacks;if(be!==null)for(R.shared.hiddenCallbacks=null,R=0;R<be.length;R++)g_(be[R],ce)}catch(ke){Pn(S,S.return,ke)}}m&&ne&64&&O6(H),Xf(H,H.return);break;case 27:R6(H);case 26:case 5:yl(R,H,m),m&&S===null&&ne&4&&I6(H),Xf(H,H.return);break;case 12:yl(R,H,m);break;case 13:yl(R,H,m),m&&ne&4&&U6(R,H);break;case 22:H.memoizedState===null&&yl(R,H,m),Xf(H,H.return);break;case 30:break;default:yl(R,H,m)}d=d.sibling}}function Mw(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&Bf(m))}function Ow(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Bf(c))}function bs(c,d,m,S){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)q6(c,d,m,S),d=d.sibling}function q6(c,d,m,S){var R=d.flags;switch(d.tag){case 0:case 11:case 15:bs(c,d,m,S),R&2048&&Qf(9,d);break;case 1:bs(c,d,m,S);break;case 3:bs(c,d,m,S),R&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Bf(c)));break;case 12:if(R&2048){bs(c,d,m,S),c=d.stateNode;try{var H=d.memoizedProps,ne=H.id,ce=H.onPostCommit;typeof ce=="function"&&ce(ne,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(be){Pn(d,d.return,be)}}else bs(c,d,m,S);break;case 13:bs(c,d,m,S);break;case 23:break;case 22:H=d.stateNode,ne=d.alternate,d.memoizedState!==null?H._visibility&2?bs(c,d,m,S):eh(c,d):H._visibility&2?bs(c,d,m,S):(H._visibility|=2,od(c,d,m,S,(d.subtreeFlags&10256)!==0)),R&2048&&Mw(ne,d);break;case 24:bs(c,d,m,S),R&2048&&Ow(d.alternate,d);break;default:bs(c,d,m,S)}}function od(c,d,m,S,R){for(R=R&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var H=c,ne=d,ce=m,be=S,ke=ne.flags;switch(ne.tag){case 0:case 11:case 15:od(H,ne,ce,be,R),Qf(8,ne);break;case 23:break;case 22:var Ue=ne.stateNode;ne.memoizedState!==null?Ue._visibility&2?od(H,ne,ce,be,R):eh(H,ne):(Ue._visibility|=2,od(H,ne,ce,be,R)),R&&ke&2048&&Mw(ne.alternate,ne);break;case 24:od(H,ne,ce,be,R),R&&ke&2048&&Ow(ne.alternate,ne);break;default:od(H,ne,ce,be,R)}d=d.sibling}}function eh(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,S=d,R=S.flags;switch(S.tag){case 22:eh(m,S),R&2048&&Mw(S.alternate,S);break;case 24:eh(m,S),R&2048&&Ow(S.alternate,S);break;default:eh(m,S)}d=d.sibling}}var th=8192;function ld(c){if(c.subtreeFlags&th)for(c=c.child;c!==null;)z6(c),c=c.sibling}function z6(c){switch(c.tag){case 26:ld(c),c.flags&th&&c.memoizedState!==null&&lU(Ya,c.memoizedState,c.memoizedProps);break;case 5:ld(c);break;case 3:case 4:var d=Ya;Ya=_m(c.stateNode.containerInfo),ld(c),Ya=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=th,th=16777216,ld(c),th=d):ld(c));break;default:ld(c)}}function H6(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function nh(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var S=d[m];xr=S,W6(S,c)}H6(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)K6(c),c=c.sibling}function K6(c){switch(c.tag){case 0:case 11:case 15:nh(c),c.flags&2048&&gl(9,c,c.return);break;case 3:nh(c);break;case 12:nh(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,fm(c)):nh(c);break;default:nh(c)}}function fm(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var S=d[m];xr=S,W6(S,c)}H6(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:gl(8,d,d.return),fm(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,fm(d));break;default:fm(d)}c=c.sibling}}function W6(c,d){for(;xr!==null;){var m=xr;switch(m.tag){case 0:case 11:case 15:gl(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var S=m.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Bf(m.memoizedState.cache)}if(S=m.child,S!==null)S.return=m,xr=S;else e:for(m=c;xr!==null;){S=xr;var R=S.sibling,H=S.return;if(D6(S),S===m){xr=null;break e}if(R!==null){R.return=H,xr=R;break e}xr=H}}}var _7={getCacheForType:function(c){var d=Kr(dr),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m}},C7=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Dn=null,Xt=null,on=0,_n=0,Ji=null,bl=!1,cd=!1,kw=!1,ho=0,Xn=0,wl=0,Fc=0,Iw=0,ba=0,ud=0,rh=null,_i=null,Tw=!1,Rw=0,hm=1/0,pm=null,xl=null,kr=0,El=null,dd=null,fd=0,Pw=0,Lw=null,V6=null,ih=0,Dw=null;function Zi(){if((Sn&2)!==0&&on!==0)return on&-on;if(O.T!==null){var c=Xu;return c!==0?c:Hw()}return pe()}function G6(){ba===0&&(ba=(on&536870912)===0||vn?Bt():536870912);var c=ya.current;return c!==null&&(c.flags|=32),ba}function Qi(c,d,m){(c===Dn&&(_n===2||_n===9)||c.cancelPendingCommit!==null)&&(hd(c,0),Sl(c,on,ba,!1)),rt(c,m),((Sn&2)===0||c!==Dn)&&(c===Dn&&((Sn&2)===0&&(Fc|=m),Xn===4&&Sl(c,on,ba,!1)),ws(c))}function Y6(c,d,m){if((Sn&6)!==0)throw Error(r(327));var S=!m&&(d&124)===0&&(d&c.expiredLanes)===0||bt(c,d),R=S?j7(c,d):$w(c,d,!0),H=S;do{if(R===0){cd&&!S&&Sl(c,d,0,!1);break}else{if(m=c.current.alternate,H&&!N7(m)){R=$w(c,d,!1),H=!1;continue}if(R===2){if(H=d,c.errorRecoveryDisabledLanes&H)var ne=0;else ne=c.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){d=ne;e:{var ce=c;R=rh;var be=ce.current.memoizedState.isDehydrated;if(be&&(hd(ce,ne).flags|=256),ne=$w(ce,ne,!1),ne!==2){if(kw&&!be){ce.errorRecoveryDisabledLanes|=H,Fc|=H,R=4;break e}H=_i,_i=R,H!==null&&(_i===null?_i=H:_i.push.apply(_i,H))}R=ne}if(H=!1,R!==2)continue}}if(R===1){hd(c,0),Sl(c,d,0,!0);break}e:{switch(S=c,H=R,H){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Sl(S,d,ba,!bl);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(R=Rw+300-Ee(),10<R)){if(Sl(S,d,ba,!bl),ut(S,0,!0)!==0)break e;S.timeoutHandle=_C(J6.bind(null,S,m,_i,pm,Tw,d,ba,Fc,ud,bl,H,2,-0,0),R);break e}J6(S,m,_i,pm,Tw,d,ba,Fc,ud,bl,H,0,-0,0)}}break}while(!0);ws(c)}function J6(c,d,m,S,R,H,ne,ce,be,ke,Ue,Ke,Te,Re){if(c.timeoutHandle=-1,Ke=d.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(dh={stylesheets:null,count:0,unsuspend:oU},z6(d),Ke=cU(),Ke!==null)){c.cancelPendingCommit=Ke(rC.bind(null,c,d,H,m,S,R,ne,ce,be,Ue,1,Te,Re)),Sl(c,H,ne,!ke);return}rC(c,d,H,m,S,R,ne,ce,be)}function N7(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var S=0;S<m.length;S++){var R=m[S],H=R.getSnapshot;R=R.value;try{if(!Wi(H(),R))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Sl(c,d,m,S){d&=~Iw,d&=~Fc,c.suspendedLanes|=d,c.pingedLanes&=~d,S&&(c.warmLanes|=d),S=c.expirationTimes;for(var R=d;0<R;){var H=31-J(R),ne=1<<H;S[H]=-1,R&=~ne}m!==0&&Yt(c,m,d)}function mm(){return(Sn&6)===0?(ah(0),!1):!0}function Bw(){if(Xt!==null){if(_n===0)var c=Xt.return;else c=Xt,io=Pc=null,tw(c),ad=null,Yf=0,c=Xt;for(;c!==null;)M6(c.alternate,c),c=c.return;Xt=null}}function hd(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,H7(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),Bw(),Dn=c,Xt=m=to(c.current,null),on=d,_n=0,Ji=null,bl=!1,cd=bt(c,d),kw=!1,ud=ba=Iw=Fc=wl=Xn=0,_i=rh=null,Tw=!1,(d&8)!==0&&(d|=d&32);var S=c.entangledLanes;if(S!==0)for(c=c.entanglements,S&=d;0<S;){var R=31-J(S),H=1<<R;d|=c[R],S&=~H}return ho=d,Dp(),m}function Z6(c,d){Wt=null,O.H=nm,d===$f||d===Wp?(d=p_(),_n=3):d===d_?(d=p_(),_n=4):_n=d===m6?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ji=d,Xt===null&&(Xn=1,om(c,pa(d,c.current)))}function Q6(){var c=O.H;return O.H=nm,c===null?nm:c}function X6(){var c=O.A;return O.A=_7,c}function Uw(){Xn=4,bl||(on&4194048)!==on&&ya.current!==null||(cd=!0),(wl&134217727)===0&&(Fc&134217727)===0||Dn===null||Sl(Dn,on,ba,!1)}function $w(c,d,m){var S=Sn;Sn|=2;var R=Q6(),H=X6();(Dn!==c||on!==d)&&(pm=null,hd(c,d)),d=!1;var ne=Xn;e:do try{if(_n!==0&&Xt!==null){var ce=Xt,be=Ji;switch(_n){case 8:Bw(),ne=6;break e;case 3:case 2:case 9:case 6:ya.current===null&&(d=!0);var ke=_n;if(_n=0,Ji=null,pd(c,ce,be,ke),m&&cd){ne=0;break e}break;default:ke=_n,_n=0,Ji=null,pd(c,ce,be,ke)}}A7(),ne=Xn;break}catch(Ue){Z6(c,Ue)}while(!0);return d&&c.shellSuspendCounter++,io=Pc=null,Sn=S,O.H=R,O.A=H,Xt===null&&(Dn=null,on=0,Dp()),ne}function A7(){for(;Xt!==null;)eC(Xt)}function j7(c,d){var m=Sn;Sn|=2;var S=Q6(),R=X6();Dn!==c||on!==d?(pm=null,hm=Ee()+500,hd(c,d)):cd=bt(c,d);e:do try{if(_n!==0&&Xt!==null){d=Xt;var H=Ji;t:switch(_n){case 1:_n=0,Ji=null,pd(c,d,H,1);break;case 2:case 9:if(f_(H)){_n=0,Ji=null,tC(d);break}d=function(){_n!==2&&_n!==9||Dn!==c||(_n=7),ws(c)},H.then(d,d);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:f_(H)?(_n=0,Ji=null,tC(d)):(_n=0,Ji=null,pd(c,d,H,7));break;case 5:var ne=null;switch(Xt.tag){case 26:ne=Xt.memoizedState;case 5:case 27:var ce=Xt;if(!ne||LC(ne)){_n=0,Ji=null;var be=ce.sibling;if(be!==null)Xt=be;else{var ke=ce.return;ke!==null?(Xt=ke,gm(ke)):Xt=null}break t}}_n=0,Ji=null,pd(c,d,H,5);break;case 6:_n=0,Ji=null,pd(c,d,H,6);break;case 8:Bw(),Xn=6;break e;default:throw Error(r(462))}}M7();break}catch(Ue){Z6(c,Ue)}while(!0);return io=Pc=null,O.H=S,O.A=R,Sn=m,Xt!==null?0:(Dn=null,on=0,Dp(),Xn)}function M7(){for(;Xt!==null&&!he();)eC(Xt)}function eC(c){var d=A6(c.alternate,c,ho);c.memoizedProps=c.pendingProps,d===null?gm(c):Xt=d}function tC(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=x6(m,d,d.pendingProps,d.type,void 0,on);break;case 11:d=x6(m,d,d.pendingProps,d.type.render,d.ref,on);break;case 5:tw(d);default:M6(m,d),d=Xt=n_(d,ho),d=A6(m,d,ho)}c.memoizedProps=c.pendingProps,d===null?gm(c):Xt=d}function pd(c,d,m,S){io=Pc=null,tw(d),ad=null,Yf=0;var R=d.return;try{if(y7(c,R,d,m,on)){Xn=1,om(c,pa(m,c.current)),Xt=null;return}}catch(H){if(R!==null)throw Xt=R,H;Xn=1,om(c,pa(m,c.current)),Xt=null;return}d.flags&32768?(vn||S===1?c=!0:cd||(on&536870912)!==0?c=!1:(bl=c=!0,(S===2||S===9||S===3||S===6)&&(S=ya.current,S!==null&&S.tag===13&&(S.flags|=16384))),nC(d,c)):gm(d)}function gm(c){var d=c;do{if((d.flags&32768)!==0){nC(d,bl);return}c=d.return;var m=w7(d.alternate,d,ho);if(m!==null){Xt=m;return}if(d=d.sibling,d!==null){Xt=d;return}Xt=d=c}while(d!==null);Xn===0&&(Xn=5)}function nC(c,d){do{var m=x7(c.alternate,c);if(m!==null){m.flags&=32767,Xt=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){Xt=c;return}Xt=c=m}while(c!==null);Xn=6,Xt=null}function rC(c,d,m,S,R,H,ne,ce,be){c.cancelPendingCommit=null;do vm();while(kr!==0);if((Sn&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(H=d.lanes|d.childLanes,H|=Ob,Mt(c,m,H,ne,ce,be),c===Dn&&(Xt=Dn=null,on=0),dd=d,El=c,fd=m,Pw=H,Lw=R,V6=S,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,T7(Ae,function(){return lC(),null})):(c.callbackNode=null,c.callbackPriority=0),S=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||S){S=O.T,O.T=null,R=U.p,U.p=2,ne=Sn,Sn|=4;try{E7(c,d,m)}finally{Sn=ne,U.p=R,O.T=S}}kr=1,iC(),aC(),sC()}}function iC(){if(kr===1){kr=0;var c=El,d=dd,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=O.T,O.T=null;var S=U.p;U.p=2;var R=Sn;Sn|=4;try{$6(d,c);var H=Qw,ne=W5(c.containerInfo),ce=H.focusedElem,be=H.selectionRange;if(ne!==ce&&ce&&ce.ownerDocument&&K5(ce.ownerDocument.documentElement,ce)){if(be!==null&&Cb(ce)){var ke=be.start,Ue=be.end;if(Ue===void 0&&(Ue=ke),"selectionStart"in ce)ce.selectionStart=ke,ce.selectionEnd=Math.min(Ue,ce.value.length);else{var Ke=ce.ownerDocument||document,Te=Ke&&Ke.defaultView||window;if(Te.getSelection){var Re=Te.getSelection(),Lt=ce.textContent.length,It=Math.min(be.start,Lt),On=be.end===void 0?It:Math.min(be.end,Lt);!Re.extend&&It>On&&(ne=On,On=It,It=ne);var je=H5(ce,It),_e=H5(ce,On);if(je&&_e&&(Re.rangeCount!==1||Re.anchorNode!==je.node||Re.anchorOffset!==je.offset||Re.focusNode!==_e.node||Re.focusOffset!==_e.offset)){var Oe=Ke.createRange();Oe.setStart(je.node,je.offset),Re.removeAllRanges(),It>On?(Re.addRange(Oe),Re.extend(_e.node,_e.offset)):(Oe.setEnd(_e.node,_e.offset),Re.addRange(Oe))}}}}for(Ke=[],Re=ce;Re=Re.parentNode;)Re.nodeType===1&&Ke.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<Ke.length;ce++){var qe=Ke[ce];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Mm=!!Zw,Qw=Zw=null}finally{Sn=R,U.p=S,O.T=m}}c.current=d,kr=2}}function aC(){if(kr===2){kr=0;var c=El,d=dd,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=O.T,O.T=null;var S=U.p;U.p=2;var R=Sn;Sn|=4;try{L6(c,d.alternate,d)}finally{Sn=R,U.p=S,O.T=m}}kr=3}}function sC(){if(kr===4||kr===3){kr=0,ge();var c=El,d=dd,m=fd,S=V6;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?kr=5:(kr=0,dd=El=null,oC(c,c.pendingLanes));var R=c.pendingLanes;if(R===0&&(xl=null),de(m),d=d.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(et,d,void 0,(d.current.flags&128)===128)}catch{}if(S!==null){d=O.T,R=U.p,U.p=2,O.T=null;try{for(var H=c.onRecoverableError,ne=0;ne<S.length;ne++){var ce=S[ne];H(ce.value,{componentStack:ce.stack})}}finally{O.T=d,U.p=R}}(fd&3)!==0&&vm(),ws(c),R=c.pendingLanes,(m&4194090)!==0&&(R&42)!==0?c===Dw?ih++:(ih=0,Dw=c):ih=0,ah(0)}}function oC(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Bf(d)))}function vm(c){return iC(),aC(),sC(),lC()}function lC(){if(kr!==5)return!1;var c=El,d=Pw;Pw=0;var m=de(fd),S=O.T,R=U.p;try{U.p=32>m?32:m,O.T=null,m=Lw,Lw=null;var H=El,ne=fd;if(kr=0,dd=El=null,fd=0,(Sn&6)!==0)throw Error(r(331));var ce=Sn;if(Sn|=4,K6(H.current),q6(H,H.current,ne,m),Sn=ce,ah(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(et,H)}catch{}return!0}finally{U.p=R,O.T=S,oC(c,d)}}function cC(c,d,m){d=pa(m,d),d=mw(c.stateNode,d,2),c=fl(c,d,2),c!==null&&(rt(c,2),ws(c))}function Pn(c,d,m){if(c.tag===3)cC(c,c,m);else for(;d!==null;){if(d.tag===3){cC(d,c,m);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(xl===null||!xl.has(S))){c=pa(m,c),m=h6(2),S=fl(d,m,2),S!==null&&(p6(m,S,d,c),rt(S,2),ws(S));break}}d=d.return}}function Fw(c,d,m){var S=c.pingCache;if(S===null){S=c.pingCache=new C7;var R=new Set;S.set(d,R)}else R=S.get(d),R===void 0&&(R=new Set,S.set(d,R));R.has(m)||(kw=!0,R.add(m),c=O7.bind(null,c,d,m),d.then(c,c))}function O7(c,d,m){var S=c.pingCache;S!==null&&S.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,Dn===c&&(on&m)===m&&(Xn===4||Xn===3&&(on&62914560)===on&&300>Ee()-Rw?(Sn&2)===0&&hd(c,0):Iw|=m,ud===on&&(ud=0)),ws(c)}function uC(c,d){d===0&&(d=cn()),c=Yu(c,d),c!==null&&(rt(c,d),ws(c))}function k7(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),uC(c,m)}function I7(c,d){var m=0;switch(c.tag){case 13:var S=c.stateNode,R=c.memoizedState;R!==null&&(m=R.retryLane);break;case 19:S=c.stateNode;break;case 22:S=c.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(d),uC(c,m)}function T7(c,d){return ee(c,d)}var ym=null,md=null,qw=!1,bm=!1,zw=!1,qc=0;function ws(c){c!==md&&c.next===null&&(md===null?ym=md=c:md=md.next=c),bm=!0,qw||(qw=!0,P7())}function ah(c,d){if(!zw&&bm){zw=!0;do for(var m=!1,S=ym;S!==null;){if(c!==0){var R=S.pendingLanes;if(R===0)var H=0;else{var ne=S.suspendedLanes,ce=S.pingedLanes;H=(1<<31-J(42|c)+1)-1,H&=R&~(ne&~ce),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(m=!0,pC(S,H))}else H=on,H=ut(S,S===Dn?H:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(H&3)===0||bt(S,H)||(m=!0,pC(S,H));S=S.next}while(m);zw=!1}}function R7(){dC()}function dC(){bm=qw=!1;var c=0;qc!==0&&(z7()&&(c=qc),qc=0);for(var d=Ee(),m=null,S=ym;S!==null;){var R=S.next,H=fC(S,d);H===0?(S.next=null,m===null?ym=R:m.next=R,R===null&&(md=m)):(m=S,(c!==0||(H&3)!==0)&&(bm=!0)),S=R}ah(c)}function fC(c,d){for(var m=c.suspendedLanes,S=c.pingedLanes,R=c.expirationTimes,H=c.pendingLanes&-62914561;0<H;){var ne=31-J(H),ce=1<<ne,be=R[ne];be===-1?((ce&m)===0||(ce&S)!==0)&&(R[ne]=Tt(ce,d)):be<=d&&(c.expiredLanes|=ce),H&=~ce}if(d=Dn,m=on,m=ut(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),S=c.callbackNode,m===0||c===d&&(_n===2||_n===9)||c.cancelPendingCommit!==null)return S!==null&&S!==null&&le(S),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||bt(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(S!==null&&le(S),de(m)){case 2:case 8:m=Se;break;case 32:m=Ae;break;case 268435456:m=ze;break;default:m=Ae}return S=hC.bind(null,c),m=ee(m,S),c.callbackPriority=d,c.callbackNode=m,d}return S!==null&&S!==null&&le(S),c.callbackPriority=2,c.callbackNode=null,2}function hC(c,d){if(kr!==0&&kr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(vm()&&c.callbackNode!==m)return null;var S=on;return S=ut(c,c===Dn?S:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),S===0?null:(Y6(c,S,d),fC(c,Ee()),c.callbackNode!=null&&c.callbackNode===m?hC.bind(null,c):null)}function pC(c,d){if(vm())return null;Y6(c,d,!0)}function P7(){K7(function(){(Sn&6)!==0?ee(fe,R7):dC()})}function Hw(){return qc===0&&(qc=Bt()),qc}function mC(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:$u(""+c)}function gC(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function L7(c,d,m,S,R){if(d==="submit"&&m&&m.stateNode===R){var H=mC((R[mt]||null).action),ne=S.submitter;ne&&(d=(d=ne[mt]||null)?mC(d.formAction):ne.getAttribute("formAction"),d!==null&&(H=d,ne=null));var ce=new dt("action","action",null,S,R);c.push({event:ce,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(qc!==0){var be=ne?gC(R,ne):new FormData(R);uw(m,{pending:!0,data:be,method:R.method,action:H},null,be)}}else typeof H=="function"&&(ce.preventDefault(),be=ne?gC(R,ne):new FormData(R),uw(m,{pending:!0,data:be,method:R.method,action:H},H,be))},currentTarget:R}]})}}for(var Kw=0;Kw<Mb.length;Kw++){var Ww=Mb[Kw],D7=Ww.toLowerCase(),B7=Ww[0].toUpperCase()+Ww.slice(1);Ga(D7,"on"+B7)}Ga(Y5,"onAnimationEnd"),Ga(J5,"onAnimationIteration"),Ga(Z5,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(t7,"onTransitionRun"),Ga(n7,"onTransitionStart"),Ga(r7,"onTransitionCancel"),Ga(Q5,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function vC(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var S=c[m],R=S.event;S=S.listeners;e:{var H=void 0;if(d)for(var ne=S.length-1;0<=ne;ne--){var ce=S[ne],be=ce.instance,ke=ce.currentTarget;if(ce=ce.listener,be!==H&&R.isPropagationStopped())break e;H=ce,R.currentTarget=ke;try{H(R)}catch(Ue){sm(Ue)}R.currentTarget=null,H=be}else for(ne=0;ne<S.length;ne++){if(ce=S[ne],be=ce.instance,ke=ce.currentTarget,ce=ce.listener,be!==H&&R.isPropagationStopped())break e;H=ce,R.currentTarget=ke;try{H(R)}catch(Ue){sm(Ue)}R.currentTarget=null,H=be}}}}function en(c,d){var m=d[nn];m===void 0&&(m=d[nn]=new Set);var S=c+"__bubble";m.has(S)||(yC(d,c,2,!1),m.add(S))}function Vw(c,d,m){var S=0;d&&(S|=4),yC(m,c,S,d)}var wm="_reactListening"+Math.random().toString(36).slice(2);function Gw(c){if(!c[wm]){c[wm]=!0,vr.forEach(function(m){m!=="selectionchange"&&(U7.has(m)||Vw(m,!1,c),Vw(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[wm]||(d[wm]=!0,Vw("selectionchange",!1,d))}}function yC(c,d,m,S){switch(qC(d)){case 2:var R=fU;break;case 8:R=hU;break;default:R=l1}m=R.bind(null,d,m,c),R=void 0,!Fu||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),S?R!==void 0?c.addEventListener(d,m,{capture:!0,passive:R}):c.addEventListener(d,m,!0):R!==void 0?c.addEventListener(d,m,{passive:R}):c.addEventListener(d,m,!1)}function Yw(c,d,m,S,R){var H=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var ne=S.tag;if(ne===3||ne===4){var ce=S.stateNode.containerInfo;if(ce===R)break;if(ne===4)for(ne=S.return;ne!==null;){var be=ne.tag;if((be===3||be===4)&&ne.stateNode.containerInfo===R)return;ne=ne.return}for(;ce!==null;){if(ne=un(ce),ne===null)return;if(be=ne.tag,be===5||be===6||be===26||be===27){S=H=ne;continue e}ce=ce.parentNode}}S=S.return}Tp(function(){var ke=H,Ue=jf(m),Ke=[];e:{var Te=X5.get(c);if(Te!==void 0){var Re=dt,Lt=c;switch(c){case"keypress":if(qu(m)===0)break e;case"keydown":case"keyup":Re=TB;break;case"focusin":Lt="focus",Re=Hr;break;case"focusout":Lt="blur",Re=Hr;break;case"beforeblur":case"afterblur":Re=Hr;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=LB;break;case Y5:case J5:case Z5:Re=Va;break;case Q5:Re=BB;break;case"scroll":case"scrollend":Re=$t;break;case"wheel":Re=$B;break;case"copy":case"cut":case"paste":Re=Pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=O5;break;case"toggle":case"beforetoggle":Re=qB}var It=(d&4)!==0,On=!It&&(c==="scroll"||c==="scrollend"),je=It?Te!==null?Te+"Capture":null:Te;It=[];for(var _e=ke,Oe;_e!==null;){var qe=_e;if(Oe=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Oe===null||je===null||(qe=Qs(_e,je),qe!=null&&It.push(oh(_e,qe,Oe))),On)break;_e=_e.return}0<It.length&&(Te=new Re(Te,Lt,null,m,Ue),Ke.push({event:Te,listeners:It}))}}if((d&7)===0){e:{if(Te=c==="mouseover"||c==="pointerover",Re=c==="mouseout"||c==="pointerout",Te&&m!==Af&&(Lt=m.relatedTarget||m.fromElement)&&(un(Lt)||Lt[bn]))break e;if((Re||Te)&&(Te=Ue.window===Ue?Ue:(Te=Ue.ownerDocument)?Te.defaultView||Te.parentWindow:window,Re?(Lt=m.relatedTarget||m.toElement,Re=ke,Lt=Lt?un(Lt):null,Lt!==null&&(On=a(Lt),It=Lt.tag,Lt!==On||It!==5&&It!==27&&It!==6)&&(Lt=null)):(Re=null,Lt=ke),Re!==Lt)){if(It=zr,qe="onMouseLeave",je="onMouseEnter",_e="mouse",(c==="pointerout"||c==="pointerover")&&(It=O5,qe="onPointerLeave",je="onPointerEnter",_e="pointer"),On=Re==null?Te:zn(Re),Oe=Lt==null?Te:zn(Lt),Te=new It(qe,_e+"leave",Re,m,Ue),Te.target=On,Te.relatedTarget=Oe,qe=null,un(Ue)===ke&&(It=new It(je,_e+"enter",Lt,m,Ue),It.target=Oe,It.relatedTarget=On,qe=It),On=qe,Re&&Lt)t:{for(It=Re,je=Lt,_e=0,Oe=It;Oe;Oe=gd(Oe))_e++;for(Oe=0,qe=je;qe;qe=gd(qe))Oe++;for(;0<_e-Oe;)It=gd(It),_e--;for(;0<Oe-_e;)je=gd(je),Oe--;for(;_e--;){if(It===je||je!==null&&It===je.alternate)break t;It=gd(It),je=gd(je)}It=null}else It=null;Re!==null&&bC(Ke,Te,Re,It,!1),Lt!==null&&On!==null&&bC(Ke,On,Lt,It,!0)}}e:{if(Te=ke?zn(ke):window,Re=Te.nodeName&&Te.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Te.type==="file")var gt=B5;else if(L5(Te))if(U5)gt=QB;else{gt=JB;var Zt=YB}else Re=Te.nodeName,!Re||Re.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?ke&&ha(ke.elementType)&&(gt=B5):gt=ZB;if(gt&&(gt=gt(c,ke))){D5(Ke,gt,m,Ue);break e}Zt&&Zt(c,Te,ke),c==="focusout"&&ke&&Te.type==="number"&&ke.memoizedProps.value!=null&&Uu(Te,"number",Te.value)}switch(Zt=ke?zn(ke):window,c){case"focusin":(L5(Zt)||Zt.contentEditable==="true")&&(Wu=Zt,Nb=ke,Tf=null);break;case"focusout":Tf=Nb=Wu=null;break;case"mousedown":Ab=!0;break;case"contextmenu":case"mouseup":case"dragend":Ab=!1,V5(Ke,m,Ue);break;case"selectionchange":if(e7)break;case"keydown":case"keyup":V5(Ke,m,Ue)}var _t;if(Eb)e:{switch(c){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else Ku?R5(c,m)&&(Rt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Rt="onCompositionStart");Rt&&(k5&&m.locale!=="ko"&&(Ku||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Ku&&(_t=Rp()):(Wa=Ue,Xs="value"in Wa?Wa.value:Wa.textContent,Ku=!0)),Zt=xm(ke,Rt),0<Zt.length&&(Rt=new Ac(Rt,c,null,m,Ue),Ke.push({event:Rt,listeners:Zt}),_t?Rt.data=_t:(_t=P5(m),_t!==null&&(Rt.data=_t)))),(_t=HB?KB(c,m):WB(c,m))&&(Rt=xm(ke,"onBeforeInput"),0<Rt.length&&(Zt=new Ac("onBeforeInput","beforeinput",null,m,Ue),Ke.push({event:Zt,listeners:Rt}),Zt.data=_t)),L7(Ke,c,ke,m,Ue)}vC(Ke,d)})}function oh(c,d,m){return{instance:c,listener:d,currentTarget:m}}function xm(c,d){for(var m=d+"Capture",S=[];c!==null;){var R=c,H=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||H===null||(R=Qs(c,m),R!=null&&S.unshift(oh(c,R,H)),R=Qs(c,d),R!=null&&S.push(oh(c,R,H))),c.tag===3)return S;c=c.return}return[]}function gd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function bC(c,d,m,S,R){for(var H=d._reactName,ne=[];m!==null&&m!==S;){var ce=m,be=ce.alternate,ke=ce.stateNode;if(ce=ce.tag,be!==null&&be===S)break;ce!==5&&ce!==26&&ce!==27||ke===null||(be=ke,R?(ke=Qs(m,H),ke!=null&&ne.unshift(oh(m,ke,be))):R||(ke=Qs(m,H),ke!=null&&ne.push(oh(m,ke,be)))),m=m.return}ne.length!==0&&c.push({event:d,listeners:ne})}var $7=/\r\n?/g,F7=/\u0000|\uFFFD/g;function wC(c){return(typeof c=="string"?c:""+c).replace($7,`
`).replace(F7,"")}function xC(c,d){return d=wC(d),wC(c)===d}function Em(){}function Mn(c,d,m,S,R,H){switch(m){case"children":typeof S=="string"?d==="body"||d==="textarea"&&S===""||Ha(c,S):(typeof S=="number"||typeof S=="bigint")&&d!=="body"&&Ha(c,""+S);break;case"className":Hi(c,"class",S);break;case"tabIndex":Hi(c,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(c,m,S);break;case"style":kp(c,S,H);break;case"data":if(d!=="object"){Hi(c,"data",S);break}case"src":case"href":if(S===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){c.removeAttribute(m);break}S=$u(""+S),c.setAttribute(m,S);break;case"action":case"formAction":if(typeof S=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(m==="formAction"?(d!=="input"&&Mn(c,d,"name",R.name,R,null),Mn(c,d,"formEncType",R.formEncType,R,null),Mn(c,d,"formMethod",R.formMethod,R,null),Mn(c,d,"formTarget",R.formTarget,R,null)):(Mn(c,d,"encType",R.encType,R,null),Mn(c,d,"method",R.method,R,null),Mn(c,d,"target",R.target,R,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){c.removeAttribute(m);break}S=$u(""+S),c.setAttribute(m,S);break;case"onClick":S!=null&&(c.onclick=Em);break;case"onScroll":S!=null&&en("scroll",c);break;case"onScrollEnd":S!=null&&en("scrollend",c);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(m=S.__html,m!=null){if(R.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":c.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){c.removeAttribute("xlink:href");break}m=$u(""+S),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(m,""+S):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":S===!0?c.setAttribute(m,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(m,S):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?c.setAttribute(m,S):c.removeAttribute(m);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?c.removeAttribute(m):c.setAttribute(m,S);break;case"popover":en("beforetoggle",c),en("toggle",c),hs(c,"popover",S);break;case"xlinkActuate":ii(c,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ii(c,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ii(c,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ii(c,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ii(c,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ii(c,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ii(c,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ii(c,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ii(c,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":hs(c,"is",S);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=bb.get(m)||m,hs(c,m,S))}}function Jw(c,d,m,S,R,H){switch(m){case"style":kp(c,S,H);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(m=S.__html,m!=null){if(R.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof S=="string"?Ha(c,S):(typeof S=="number"||typeof S=="bigint")&&Ha(c,""+S);break;case"onScroll":S!=null&&en("scroll",c);break;case"onScrollEnd":S!=null&&en("scrollend",c);break;case"onClick":S!=null&&(c.onclick=Em);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(R=m.endsWith("Capture"),d=m.slice(2,R?m.length-7:void 0),H=c[mt]||null,H=H!=null?H[m]:null,typeof H=="function"&&c.removeEventListener(d,H,R),typeof S=="function")){typeof H!="function"&&H!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,S,R);break e}m in c?c[m]=S:S===!0?c.setAttribute(m,""):hs(c,m,S)}}}function Ir(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",c),en("load",c);var S=!1,R=!1,H;for(H in m)if(m.hasOwnProperty(H)){var ne=m[H];if(ne!=null)switch(H){case"src":S=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Mn(c,d,H,ne,m,null)}}R&&Mn(c,d,"srcSet",m.srcSet,m,null),S&&Mn(c,d,"src",m.src,m,null);return;case"input":en("invalid",c);var ce=H=ne=R=null,be=null,ke=null;for(S in m)if(m.hasOwnProperty(S)){var Ue=m[S];if(Ue!=null)switch(S){case"name":R=Ue;break;case"type":ne=Ue;break;case"checked":be=Ue;break;case"defaultChecked":ke=Ue;break;case"value":H=Ue;break;case"defaultValue":ce=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,d));break;default:Mn(c,d,S,Ue,m,null)}}jp(c,H,ce,be,ke,ne,R,!1),ps(c);return;case"select":en("invalid",c),S=ne=H=null;for(R in m)if(m.hasOwnProperty(R)&&(ce=m[R],ce!=null))switch(R){case"value":H=ce;break;case"defaultValue":ne=ce;break;case"multiple":S=ce;default:Mn(c,d,R,ce,m,null)}d=H,m=ne,c.multiple=!!S,d!=null?al(c,!!S,d,!1):m!=null&&al(c,!!S,m,!0);return;case"textarea":en("invalid",c),H=R=S=null;for(ne in m)if(m.hasOwnProperty(ne)&&(ce=m[ne],ce!=null))switch(ne){case"value":S=ce;break;case"defaultValue":R=ce;break;case"children":H=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(91));break;default:Mn(c,d,ne,ce,m,null)}Nf(c,S,R,H),ps(c);return;case"option":for(be in m)if(m.hasOwnProperty(be)&&(S=m[be],S!=null))switch(be){case"selected":c.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Mn(c,d,be,S,m,null)}return;case"dialog":en("beforetoggle",c),en("toggle",c),en("cancel",c),en("close",c);break;case"iframe":case"object":en("load",c);break;case"video":case"audio":for(S=0;S<sh.length;S++)en(sh[S],c);break;case"image":en("error",c),en("load",c);break;case"details":en("toggle",c);break;case"embed":case"source":case"link":en("error",c),en("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in m)if(m.hasOwnProperty(ke)&&(S=m[ke],S!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Mn(c,d,ke,S,m,null)}return;default:if(ha(d)){for(Ue in m)m.hasOwnProperty(Ue)&&(S=m[Ue],S!==void 0&&Jw(c,d,Ue,S,m,void 0));return}}for(ce in m)m.hasOwnProperty(ce)&&(S=m[ce],S!=null&&Mn(c,d,ce,S,m,null))}function q7(c,d,m,S){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,H=null,ne=null,ce=null,be=null,ke=null,Ue=null;for(Re in m){var Ke=m[Re];if(m.hasOwnProperty(Re)&&Ke!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":be=Ke;default:S.hasOwnProperty(Re)||Mn(c,d,Re,null,S,Ke)}}for(var Te in S){var Re=S[Te];if(Ke=m[Te],S.hasOwnProperty(Te)&&(Re!=null||Ke!=null))switch(Te){case"type":H=Re;break;case"name":R=Re;break;case"checked":ke=Re;break;case"defaultChecked":Ue=Re;break;case"value":ne=Re;break;case"defaultValue":ce=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,d));break;default:Re!==Ke&&Mn(c,d,Te,Re,S,Ke)}}Cf(c,ne,ce,be,ke,Ue,H,R);return;case"select":Re=ne=ce=Te=null;for(H in m)if(be=m[H],m.hasOwnProperty(H)&&be!=null)switch(H){case"value":break;case"multiple":Re=be;default:S.hasOwnProperty(H)||Mn(c,d,H,null,S,be)}for(R in S)if(H=S[R],be=m[R],S.hasOwnProperty(R)&&(H!=null||be!=null))switch(R){case"value":Te=H;break;case"defaultValue":ce=H;break;case"multiple":ne=H;default:H!==be&&Mn(c,d,R,H,S,be)}d=ce,m=ne,S=Re,Te!=null?al(c,!!m,Te,!1):!!S!=!!m&&(d!=null?al(c,!!m,d,!0):al(c,!!m,m?[]:"",!1));return;case"textarea":Re=Te=null;for(ce in m)if(R=m[ce],m.hasOwnProperty(ce)&&R!=null&&!S.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Mn(c,d,ce,null,S,R)}for(ne in S)if(R=S[ne],H=m[ne],S.hasOwnProperty(ne)&&(R!=null||H!=null))switch(ne){case"value":Te=R;break;case"defaultValue":Re=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:R!==H&&Mn(c,d,ne,R,S,H)}Mp(c,Te,Re);return;case"option":for(var Lt in m)if(Te=m[Lt],m.hasOwnProperty(Lt)&&Te!=null&&!S.hasOwnProperty(Lt))switch(Lt){case"selected":c.selected=!1;break;default:Mn(c,d,Lt,null,S,Te)}for(be in S)if(Te=S[be],Re=m[be],S.hasOwnProperty(be)&&Te!==Re&&(Te!=null||Re!=null))switch(be){case"selected":c.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Mn(c,d,be,Te,S,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in m)Te=m[It],m.hasOwnProperty(It)&&Te!=null&&!S.hasOwnProperty(It)&&Mn(c,d,It,null,S,Te);for(ke in S)if(Te=S[ke],Re=m[ke],S.hasOwnProperty(ke)&&Te!==Re&&(Te!=null||Re!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,d));break;default:Mn(c,d,ke,Te,S,Re)}return;default:if(ha(d)){for(var On in m)Te=m[On],m.hasOwnProperty(On)&&Te!==void 0&&!S.hasOwnProperty(On)&&Jw(c,d,On,void 0,S,Te);for(Ue in S)Te=S[Ue],Re=m[Ue],!S.hasOwnProperty(Ue)||Te===Re||Te===void 0&&Re===void 0||Jw(c,d,Ue,Te,S,Re);return}}for(var je in m)Te=m[je],m.hasOwnProperty(je)&&Te!=null&&!S.hasOwnProperty(je)&&Mn(c,d,je,null,S,Te);for(Ke in S)Te=S[Ke],Re=m[Ke],!S.hasOwnProperty(Ke)||Te===Re||Te==null&&Re==null||Mn(c,d,Ke,Te,S,Re)}var Zw=null,Qw=null;function Sm(c){return c.nodeType===9?c:c.ownerDocument}function EC(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SC(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Xw(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var e1=null;function z7(){var c=window.event;return c&&c.type==="popstate"?c===e1?!1:(e1=c,!0):(e1=null,!1)}var _C=typeof setTimeout=="function"?setTimeout:void 0,H7=typeof clearTimeout=="function"?clearTimeout:void 0,CC=typeof Promise=="function"?Promise:void 0,K7=typeof queueMicrotask=="function"?queueMicrotask:typeof CC<"u"?function(c){return CC.resolve(null).then(c).catch(W7)}:_C;function W7(c){setTimeout(function(){throw c})}function _l(c){return c==="head"}function NC(c,d){var m=d,S=0,R=0;do{var H=m.nextSibling;if(c.removeChild(m),H&&H.nodeType===8)if(m=H.data,m==="/$"){if(0<S&&8>S){m=S;var ne=c.ownerDocument;if(m&1&&lh(ne.documentElement),m&2&&lh(ne.body),m&4)for(m=ne.head,lh(m),ne=m.firstChild;ne;){var ce=ne.nextSibling,be=ne.nodeName;ne[mn]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||m.removeChild(ne),ne=ce}}if(R===0){c.removeChild(H),gh(d);return}R--}else m==="$"||m==="$?"||m==="$!"?R++:S=m.charCodeAt(0)-48;else S=0;m=H}while(m);gh(d)}function t1(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":t1(m),za(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function V7(c,d,m,S){for(;c.nodeType===1;){var R=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!S&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(S){if(!c[mn])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(H=c.getAttribute("rel"),H==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(H!==R.rel||c.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||c.getAttribute("title")!==(R.title==null?null:R.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(H=c.getAttribute("src"),(H!==(R.src==null?null:R.src)||c.getAttribute("type")!==(R.type==null?null:R.type)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&H&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var H=R.name==null?null:""+R.name;if(R.type==="hidden"&&c.getAttribute("name")===H)return c}else return c;if(c=Ja(c.nextSibling),c===null)break}return null}function G7(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Ja(c.nextSibling),c===null))return null;return c}function n1(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function Y7(c,d){var m=c.ownerDocument;if(c.data!=="$?"||m.readyState==="complete")d();else{var S=function(){d(),m.removeEventListener("DOMContentLoaded",S)};m.addEventListener("DOMContentLoaded",S),c._reactRetry=S}}function Ja(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var r1=null;function AC(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}function jC(c,d,m){switch(d=Sm(m),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function lh(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);za(c)}var wa=new Map,MC=new Set;function _m(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var po=U.d;U.d={f:J7,r:Z7,D:Q7,C:X7,L:eU,m:tU,X:rU,S:nU,M:iU};function J7(){var c=po.f(),d=mm();return c||d}function Z7(c){var d=dn(c);d!==null&&d.tag===5&&d.type==="form"?Y_(d):po.r(c)}var vd=typeof document>"u"?null:document;function OC(c,d,m){var S=vd;if(S&&typeof d=="string"&&d){var R=bi(d);R='link[rel="'+c+'"][href="'+R+'"]',typeof m=="string"&&(R+='[crossorigin="'+m+'"]'),MC.has(R)||(MC.add(R),c={rel:c,crossOrigin:m,href:d},S.querySelector(R)===null&&(d=S.createElement("link"),Ir(d,"link",c),hn(d),S.head.appendChild(d)))}}function Q7(c){po.D(c),OC("dns-prefetch",c,null)}function X7(c,d){po.C(c,d),OC("preconnect",c,d)}function eU(c,d,m){po.L(c,d,m);var S=vd;if(S&&c&&d){var R='link[rel="preload"][as="'+bi(d)+'"]';d==="image"&&m&&m.imageSrcSet?(R+='[imagesrcset="'+bi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(R+='[imagesizes="'+bi(m.imageSizes)+'"]')):R+='[href="'+bi(c)+'"]';var H=R;switch(d){case"style":H=yd(c);break;case"script":H=bd(c)}wa.has(H)||(c=h({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),wa.set(H,c),S.querySelector(R)!==null||d==="style"&&S.querySelector(ch(H))||d==="script"&&S.querySelector(uh(H))||(d=S.createElement("link"),Ir(d,"link",c),hn(d),S.head.appendChild(d)))}}function tU(c,d){po.m(c,d);var m=vd;if(m&&c){var S=d&&typeof d.as=="string"?d.as:"script",R='link[rel="modulepreload"][as="'+bi(S)+'"][href="'+bi(c)+'"]',H=R;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=bd(c)}if(!wa.has(H)&&(c=h({rel:"modulepreload",href:c},d),wa.set(H,c),m.querySelector(R)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(uh(H)))return}S=m.createElement("link"),Ir(S,"link",c),hn(S),m.head.appendChild(S)}}}function nU(c,d,m){po.S(c,d,m);var S=vd;if(S&&c){var R=gr(S).hoistableStyles,H=yd(c);d=d||"default";var ne=R.get(H);if(!ne){var ce={loading:0,preload:null};if(ne=S.querySelector(ch(H)))ce.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},m),(m=wa.get(H))&&i1(c,m);var be=ne=S.createElement("link");hn(be),Ir(be,"link",c),be._p=new Promise(function(ke,Ue){be.onload=ke,be.onerror=Ue}),be.addEventListener("load",function(){ce.loading|=1}),be.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Cm(ne,d,S)}ne={type:"stylesheet",instance:ne,count:1,state:ce},R.set(H,ne)}}}function rU(c,d){po.X(c,d);var m=vd;if(m&&c){var S=gr(m).hoistableScripts,R=bd(c),H=S.get(R);H||(H=m.querySelector(uh(R)),H||(c=h({src:c,async:!0},d),(d=wa.get(R))&&a1(c,d),H=m.createElement("script"),hn(H),Ir(H,"link",c),m.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},S.set(R,H))}}function iU(c,d){po.M(c,d);var m=vd;if(m&&c){var S=gr(m).hoistableScripts,R=bd(c),H=S.get(R);H||(H=m.querySelector(uh(R)),H||(c=h({src:c,async:!0,type:"module"},d),(d=wa.get(R))&&a1(c,d),H=m.createElement("script"),hn(H),Ir(H,"link",c),m.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},S.set(R,H))}}function kC(c,d,m,S){var R=(R=Q.current)?_m(R):null;if(!R)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=yd(m.href),m=gr(R).hoistableStyles,S=m.get(d),S||(S={type:"style",instance:null,count:0,state:null},m.set(d,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=yd(m.href);var H=gr(R).hoistableStyles,ne=H.get(c);if(ne||(R=R.ownerDocument||R,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(c,ne),(H=R.querySelector(ch(c)))&&!H._p&&(ne.instance=H,ne.state.loading=5),wa.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},wa.set(c,m),H||aU(R,c,m,ne.state))),d&&S===null)throw Error(r(528,""));return ne}if(d&&S!==null)throw Error(r(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=bd(m),m=gr(R).hoistableScripts,S=m.get(d),S||(S={type:"script",instance:null,count:0,state:null},m.set(d,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function yd(c){return'href="'+bi(c)+'"'}function ch(c){return'link[rel="stylesheet"]['+c+"]"}function IC(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function aU(c,d,m,S){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?S.loading=1:(d=c.createElement("link"),S.preload=d,d.addEventListener("load",function(){return S.loading|=1}),d.addEventListener("error",function(){return S.loading|=2}),Ir(d,"link",m),hn(d),c.head.appendChild(d))}function bd(c){return'[src="'+bi(c)+'"]'}function uh(c){return"script[async]"+c}function TC(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var S=c.querySelector('style[data-href~="'+bi(m.href)+'"]');if(S)return d.instance=S,hn(S),S;var R=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return S=(c.ownerDocument||c).createElement("style"),hn(S),Ir(S,"style",R),Cm(S,m.precedence,c),d.instance=S;case"stylesheet":R=yd(m.href);var H=c.querySelector(ch(R));if(H)return d.state.loading|=4,d.instance=H,hn(H),H;S=IC(m),(R=wa.get(R))&&i1(S,R),H=(c.ownerDocument||c).createElement("link"),hn(H);var ne=H;return ne._p=new Promise(function(ce,be){ne.onload=ce,ne.onerror=be}),Ir(H,"link",S),d.state.loading|=4,Cm(H,m.precedence,c),d.instance=H;case"script":return H=bd(m.src),(R=c.querySelector(uh(H)))?(d.instance=R,hn(R),R):(S=m,(R=wa.get(H))&&(S=h({},m),a1(S,R)),c=c.ownerDocument||c,R=c.createElement("script"),hn(R),Ir(R,"link",S),c.head.appendChild(R),d.instance=R);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(S=d.instance,d.state.loading|=4,Cm(S,m.precedence,c));return d.instance}function Cm(c,d,m){for(var S=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=S.length?S[S.length-1]:null,H=R,ne=0;ne<S.length;ne++){var ce=S[ne];if(ce.dataset.precedence===d)H=ce;else if(H!==R)break}H?H.parentNode.insertBefore(c,H.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function i1(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function a1(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Nm=null;function RC(c,d,m){if(Nm===null){var S=new Map,R=Nm=new Map;R.set(m,S)}else R=Nm,S=R.get(m),S||(S=new Map,R.set(m,S));if(S.has(c))return S;for(S.set(c,null),m=m.getElementsByTagName(c),R=0;R<m.length;R++){var H=m[R];if(!(H[mn]||H[Je]||c==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=H.getAttribute(d)||"";ne=c+ne;var ce=S.get(ne);ce?ce.push(H):S.set(ne,[H])}}return S}function PC(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function sU(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function LC(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var dh=null;function oU(){}function lU(c,d,m){if(dh===null)throw Error(r(475));var S=dh;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var R=yd(m.href),H=c.querySelector(ch(R));if(H){c=H._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(S.count++,S=Am.bind(S),c.then(S,S)),d.state.loading|=4,d.instance=H,hn(H);return}H=c.ownerDocument||c,m=IC(m),(R=wa.get(R))&&i1(m,R),H=H.createElement("link"),hn(H);var ne=H;ne._p=new Promise(function(ce,be){ne.onload=ce,ne.onerror=be}),Ir(H,"link",m),d.instance=H}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(S.count++,d=Am.bind(S),c.addEventListener("load",d),c.addEventListener("error",d))}}function cU(){if(dh===null)throw Error(r(475));var c=dh;return c.stylesheets&&c.count===0&&s1(c,c.stylesheets),0<c.count?function(d){var m=setTimeout(function(){if(c.stylesheets&&s1(c,c.stylesheets),c.unsuspend){var S=c.unsuspend;c.unsuspend=null,S()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(m)}}:null}function Am(){if(this.count--,this.count===0){if(this.stylesheets)s1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var jm=null;function s1(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,jm=new Map,d.forEach(uU,c),jm=null,Am.call(c))}function uU(c,d){if(!(d.state.loading&4)){var m=jm.get(c);if(m)var S=m.get(null);else{m=new Map,jm.set(c,m);for(var R=c.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<R.length;H++){var ne=R[H];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(m.set(ne.dataset.precedence,ne),S=ne)}S&&m.set(null,S)}R=d.instance,ne=R.getAttribute("data-precedence"),H=m.get(ne)||S,H===S&&m.set(null,R),m.set(ne,R),this.count++,S=Am.bind(this),R.addEventListener("load",S),R.addEventListener("error",S),H?H.parentNode.insertBefore(R,H.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(R,c.firstChild)),d.state.loading|=4}}var fh={$$typeof:k,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function dU(c,d,m,S,R,H,ne,ce){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=H,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function DC(c,d,m,S,R,H,ne,ce,be,ke,Ue,Ke){return c=new dU(c,d,m,ne,ce,be,ke,Ke),d=1,H===!0&&(d|=24),H=Vi(3,null,null,d),c.current=H,H.stateNode=c,d=Fb(),d.refCount++,c.pooledCache=d,d.refCount++,H.memoizedState={element:S,isDehydrated:m,cache:d},Kb(H),c}function BC(c){return c?(c=Ju,c):Ju}function UC(c,d,m,S,R,H){R=BC(R),S.context===null?S.context=R:S.pendingContext=R,S=dl(d),S.payload={element:m},H=H===void 0?null:H,H!==null&&(S.callback=H),m=fl(c,S,d),m!==null&&(Qi(m,c,d),qf(m,c,d))}function $C(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function o1(c,d){$C(c,d),(c=c.alternate)&&$C(c,d)}function FC(c){if(c.tag===13){var d=Yu(c,67108864);d!==null&&Qi(d,c,67108864),o1(c,67108864)}}var Mm=!0;function fU(c,d,m,S){var R=O.T;O.T=null;var H=U.p;try{U.p=2,l1(c,d,m,S)}finally{U.p=H,O.T=R}}function hU(c,d,m,S){var R=O.T;O.T=null;var H=U.p;try{U.p=8,l1(c,d,m,S)}finally{U.p=H,O.T=R}}function l1(c,d,m,S){if(Mm){var R=c1(S);if(R===null)Yw(c,d,S,Om,m),zC(c,S);else if(mU(R,c,d,m,S))S.stopPropagation();else if(zC(c,S),d&4&&-1<pU.indexOf(c)){for(;R!==null;){var H=dn(R);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var ne=Pt(H.pendingLanes);if(ne!==0){var ce=H;for(ce.pendingLanes|=2,ce.entangledLanes|=2;ne;){var be=1<<31-J(ne);ce.entanglements[1]|=be,ne&=~be}ws(H),(Sn&6)===0&&(hm=Ee()+500,ah(0))}}break;case 13:ce=Yu(H,2),ce!==null&&Qi(ce,H,2),mm(),o1(H,2)}if(H=c1(S),H===null&&Yw(c,d,S,Om,m),H===R)break;R=H}R!==null&&S.stopPropagation()}else Yw(c,d,S,null,m)}}function c1(c){return c=jf(c),u1(c)}var Om=null;function u1(c){if(Om=null,c=un(c),c!==null){var d=a(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=o(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Om=c,null}function qC(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case fe:return 2;case Se:return 8;case Ae:case xe:return 32;case ze:return 268435456;default:return 32}default:return 32}}var d1=!1,Cl=null,Nl=null,Al=null,hh=new Map,ph=new Map,jl=[],pU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zC(c,d){switch(c){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":hh.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(d.pointerId)}}function mh(c,d,m,S,R,H){return c===null||c.nativeEvent!==H?(c={blockedOn:d,domEventName:m,eventSystemFlags:S,nativeEvent:H,targetContainers:[R]},d!==null&&(d=dn(d),d!==null&&FC(d)),c):(c.eventSystemFlags|=S,d=c.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),c)}function mU(c,d,m,S,R){switch(d){case"focusin":return Cl=mh(Cl,c,d,m,S,R),!0;case"dragenter":return Nl=mh(Nl,c,d,m,S,R),!0;case"mouseover":return Al=mh(Al,c,d,m,S,R),!0;case"pointerover":var H=R.pointerId;return hh.set(H,mh(hh.get(H)||null,c,d,m,S,R)),!0;case"gotpointercapture":return H=R.pointerId,ph.set(H,mh(ph.get(H)||null,c,d,m,S,R)),!0}return!1}function HC(c){var d=un(c.target);if(d!==null){var m=a(d);if(m!==null){if(d=m.tag,d===13){if(d=o(m),d!==null){c.blockedOn=d,Fe(c.priority,function(){if(m.tag===13){var S=Zi();S=wt(S);var R=Yu(m,S);R!==null&&Qi(R,m,S),o1(m,S)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function km(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=c1(c.nativeEvent);if(m===null){m=c.nativeEvent;var S=new m.constructor(m.type,m);Af=S,m.target.dispatchEvent(S),Af=null}else return d=dn(m),d!==null&&FC(d),c.blockedOn=m,!1;d.shift()}return!0}function KC(c,d,m){km(c)&&m.delete(d)}function gU(){d1=!1,Cl!==null&&km(Cl)&&(Cl=null),Nl!==null&&km(Nl)&&(Nl=null),Al!==null&&km(Al)&&(Al=null),hh.forEach(KC),ph.forEach(KC)}function Im(c,d){c.blockedOn===d&&(c.blockedOn=null,d1||(d1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gU)))}var Tm=null;function WC(c){Tm!==c&&(Tm=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Tm===c&&(Tm=null);for(var d=0;d<c.length;d+=3){var m=c[d],S=c[d+1],R=c[d+2];if(typeof S!="function"){if(u1(S||m)===null)continue;break}var H=dn(m);H!==null&&(c.splice(d,3),d-=3,uw(H,{pending:!0,data:R,method:m.method,action:S},S,R))}}))}function gh(c){function d(be){return Im(be,c)}Cl!==null&&Im(Cl,c),Nl!==null&&Im(Nl,c),Al!==null&&Im(Al,c),hh.forEach(d),ph.forEach(d);for(var m=0;m<jl.length;m++){var S=jl[m];S.blockedOn===c&&(S.blockedOn=null)}for(;0<jl.length&&(m=jl[0],m.blockedOn===null);)HC(m),m.blockedOn===null&&jl.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(S=0;S<m.length;S+=3){var R=m[S],H=m[S+1],ne=R[mt]||null;if(typeof H=="function")ne||WC(m);else if(ne){var ce=null;if(H&&H.hasAttribute("formAction")){if(R=H,ne=H[mt]||null)ce=ne.formAction;else if(u1(R)!==null)continue}else ce=ne.action;typeof ce=="function"?m[S+1]=ce:(m.splice(S,3),S-=3),WC(m)}}}function f1(c){this._internalRoot=c}Rm.prototype.render=f1.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var m=d.current,S=Zi();UC(m,S,c,d,null,null)},Rm.prototype.unmount=f1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;UC(c.current,2,null,c,null,null),mm(),d[bn]=null}};function Rm(c){this._internalRoot=c}Rm.prototype.unstable_scheduleHydration=function(c){if(c){var d=pe();c={blockedOn:null,target:c,priority:d};for(var m=0;m<jl.length&&d!==0&&d<jl[m].priority;m++);jl.splice(m,0,c),m===0&&HC(c)}};var VC=e.version;if(VC!=="19.1.0")throw Error(r(527,VC,"19.1.0"));U.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(d),c=c!==null?l(c):null,c=c===null?null:c.stateNode,c};var vU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{et=Pm.inject(vU),re=Pm}catch{}}return bh.createRoot=function(c,d){if(!i(c))throw Error(r(299));var m=!1,S="",R=c6,H=u6,ne=d6,ce=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(R=d.onUncaughtError),d.onCaughtError!==void 0&&(H=d.onCaughtError),d.onRecoverableError!==void 0&&(ne=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ce=d.unstable_transitionCallbacks)),d=DC(c,1,!1,null,null,m,S,R,H,ne,ce,null),c[bn]=d.current,Gw(c),new f1(d)},bh.hydrateRoot=function(c,d,m){if(!i(c))throw Error(r(299));var S=!1,R="",H=c6,ne=u6,ce=d6,be=null,ke=null;return m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(R=m.identifierPrefix),m.onUncaughtError!==void 0&&(H=m.onUncaughtError),m.onCaughtError!==void 0&&(ne=m.onCaughtError),m.onRecoverableError!==void 0&&(ce=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(be=m.unstable_transitionCallbacks),m.formState!==void 0&&(ke=m.formState)),d=DC(c,1,!0,d,m??null,S,R,H,ne,ce,be,ke),d.context=BC(null),m=d.current,S=Zi(),S=wt(S),R=dl(S),R.callback=null,fl(m,R,S),m=S,d.current.lanes=m,rt(d,m),ws(d),c[bn]=d.current,Gw(c),new Rm(d)},bh.version="19.1.0",bh}var oN;function TU(){if(oN)return g1.exports;oN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g1.exports=IU(),g1.exports}var Ek=TU();const RU=$i(Ek);var se=mf();const D4=$i(se);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lN="popstate";function PU(t={}){function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return iE("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:u0(i)}return DU(e,n,null,t)}function Yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LU(){return Math.random().toString(36).substring(2,10)}function cN(t,e){return{usr:t.state,key:t.key,idx:e}}function iE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gf(e):e,state:n,key:e&&e.key||r||LU()}}function u0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",u=null,l=h();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function h(){return(o.state||{idx:null}).idx}function p(){s="POP";let C=h(),x=C==null?null:C-l;l=C,u&&u({action:s,location:w.location,delta:x})}function g(C,x){s="PUSH";let M=iE(w.location,C,x);l=h()+1;let k=cN(M,l),z=w.createHref(M);try{o.pushState(k,"",z)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(z)}a&&u&&u({action:s,location:w.location,delta:1})}function v(C,x){s="REPLACE";let M=iE(w.location,C,x);l=h();let k=cN(M,l),z=w.createHref(M);o.replaceState(k,"",z),a&&u&&u({action:s,location:w.location,delta:0})}function y(C){return BU(C)}let w={get action(){return s},get location(){return t(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(lN,p),u=C,()=>{i.removeEventListener(lN,p),u=null}},createHref(C){return e(i,C)},createURL:y,encodeLocation(C){let x=y(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(C){return o.go(C)}};return w}function BU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:u0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Sk(t,e,n="/"){return UU(t,e,n,!1)}function UU(t,e,n,r){let i=typeof e=="string"?gf(e):e,a=zo(i.pathname||"/",n);if(a==null)return null;let o=_k(t);$U(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let l=ZU(a);s=YU(o[u],l,r)}return s}function _k(t,e=[],n=[],r=""){let i=(a,o,s)=>{let u={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Yn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let l=Uo([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Yn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),_k(a.children,e,h,l)),!(a.path==null&&!a.index)&&e.push({path:l,score:VU(l,a.index),routesMeta:h})};return t.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let s of Ck(a.path))i(a,o,s)}),e}function Ck(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Ck(r.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function $U(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FU=/^:[\w-]+$/,qU=3,zU=2,HU=1,KU=10,WU=-2,uN=t=>t==="*";function VU(t,e){let n=t.split("/"),r=n.length;return n.some(uN)&&(r+=WU),e&&(r+=zU),n.filter(i=>!uN(i)).reduce((i,a)=>i+(FU.test(a)?qU:a===""?HU:KU),r)}function GU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let u=r[s],l=s===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=Av({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},h),g=u.route;if(!p&&l&&n&&!r[r.length-1].route.index&&(p=Av({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Uo([a,p.pathname]),pathnameBase:t$(Uo([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=Uo([a,p.pathnameBase]))}return o}function Av(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((l,{paramName:h,isOptional:p},g)=>{if(h==="*"){let y=s[g]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[g];return p&&!v?l[h]=void 0:l[h]=(v||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:t}}function JU(t,e=!1,n=!0){Fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gf(t):t;return{pathname:n?n.startsWith("/")?n:XU(n,e):e,search:n$(r),hash:r$(i)}}function XU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nk(t){let e=e$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ak(t,e,n,r=!1){let i;typeof t=="string"?i=gf(t):(i={...t},Yn(!i.pathname||!i.pathname.includes("?"),x1("?","pathname","search",i)),Yn(!i.pathname||!i.pathname.includes("#"),x1("#","pathname","hash",i)),Yn(!i.search||!i.search.includes("#"),x1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}s=p>=0?e[p]:"/"}let u=QU(i,s),l=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||h)&&(u.pathname+="/"),u}var Uo=t=>t.join("/").replace(/\/\/+/g,"/"),t$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jk=["POST","PUT","PATCH","DELETE"];new Set(jk);var a$=["GET",...jk];new Set(a$);var vf=se.createContext(null);vf.displayName="DataRouter";var Sy=se.createContext(null);Sy.displayName="DataRouterState";se.createContext(!1);var Mk=se.createContext({isTransitioning:!1});Mk.displayName="ViewTransition";var s$=se.createContext(new Map);s$.displayName="Fetchers";var o$=se.createContext(null);o$.displayName="Await";var Hs=se.createContext(null);Hs.displayName="Navigation";var ap=se.createContext(null);ap.displayName="Location";var Jo=se.createContext({outlet:null,matches:[],isDataRoute:!1});Jo.displayName="Route";var B4=se.createContext(null);B4.displayName="RouteError";function l$(t,{relative:e}={}){Yn(sp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=se.useContext(Hs),{hash:i,pathname:a,search:o}=op(t,{relative:e}),s=a;return n!=="/"&&(s=a==="/"?n:Uo([n,a])),r.createHref({pathname:s,search:o,hash:i})}function sp(){return se.useContext(ap)!=null}function la(){return Yn(sp(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(ap).location}var Ok="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kk(t){se.useContext(Hs).static||se.useLayoutEffect(t)}function ni(){let{isDataRoute:t}=se.useContext(Jo);return t?x$():c$()}function c$(){Yn(sp(),"useNavigate() may be used only in the context of a <Router> component.");let t=se.useContext(vf),{basename:e,navigator:n}=se.useContext(Hs),{matches:r}=se.useContext(Jo),{pathname:i}=la(),a=JSON.stringify(Nk(r)),o=se.useRef(!1);return kk(()=>{o.current=!0}),se.useCallback((u,l={})=>{if(Fs(o.current,Ok),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Ak(u,JSON.parse(a),i,l.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Uo([e,h.pathname])),(l.replace?n.replace:n.push)(h,l.state,l)},[e,n,a,i,t])}se.createContext(null);function op(t,{relative:e}={}){let{matches:n}=se.useContext(Jo),{pathname:r}=la(),i=JSON.stringify(Nk(n));return se.useMemo(()=>Ak(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function u$(t,e){return Ik(t,e)}function Ik(t,e,n,r){Yn(sp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=se.useContext(Hs),{matches:a}=se.useContext(Jo),o=a[a.length-1],s=o?o.params:{},u=o?o.pathname:"/",l=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";Tk(u,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=la(),g;if(e){let x=typeof e=="string"?gf(e):e;Yn(l==="/"||x.pathname?.startsWith(l),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=p;let v=g.pathname||"/",y=v;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=Sk(t,{pathname:y});Fs(h||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Fs(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=m$(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:Uo([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Uo([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&C?se.createElement(ap.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function d$(){let t=w$(),e=i$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=se.createElement(se.Fragment,null,se.createElement("p",null," Hey developer "),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:a},"ErrorBoundary")," or"," ",se.createElement("code",{style:a},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),n?se.createElement("pre",{style:i},n):null,o)}var f$=se.createElement(d$,null),h$=class extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?se.createElement(Jo.Provider,{value:this.props.routeContext},se.createElement(B4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p$({routeContext:t,match:e,children:n}){let r=se.useContext(vf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(Jo.Provider,{value:t},n)}function m$(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let u=i.findIndex(l=>l.route.id&&a?.[l.route.id]!==void 0);Yn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,s=-1;if(n)for(let u=0;u<i.length;u++){let l=i[u];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(s=u),l.route.id){let{loaderData:h,errors:p}=n,g=l.route.loader&&!h.hasOwnProperty(l.route.id)&&(!p||p[l.route.id]===void 0);if(l.route.lazy||g){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((u,l,h)=>{let p,g=!1,v=null,y=null;n&&(p=a&&l.route.id?a[l.route.id]:void 0,v=l.route.errorElement||f$,o&&(s<0&&h===0?(Tk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):s===h&&(g=!0,y=l.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),C=()=>{let x;return p?x=v:g?x=y:l.route.Component?x=se.createElement(l.route.Component,null):l.route.element?x=l.route.element:x=u,se.createElement(p$,{match:l,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:x})};return n&&(l.route.ErrorBoundary||l.route.errorElement||h===0)?se.createElement(h$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function U4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g$(t){let e=se.useContext(vf);return Yn(e,U4(t)),e}function v$(t){let e=se.useContext(Sy);return Yn(e,U4(t)),e}function y$(t){let e=se.useContext(Jo);return Yn(e,U4(t)),e}function $4(t){let e=y$(t),n=e.matches[e.matches.length-1];return Yn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function b$(){return $4("useRouteId")}function w$(){let t=se.useContext(B4),e=v$("useRouteError"),n=$4("useRouteError");return t!==void 0?t:e.errors?.[n]}function x$(){let{router:t}=g$("useNavigate"),e=$4("useNavigate"),n=se.useRef(!1);return kk(()=>{n.current=!0}),se.useCallback(async(i,a={})=>{Fs(n.current,Ok),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var dN={};function Tk(t,e,n){!e&&!dN[t]&&(dN[t]=!0,Fs(!1,n))}se.memo(E$);function E$({routes:t,future:e,state:n}){return Ik(t,void 0,n,e)}function Fn(t){Yn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Yn(!sp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=se.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=gf(n));let{pathname:u="/",search:l="",hash:h="",state:p=null,key:g="default"}=n,v=se.useMemo(()=>{let y=zo(u,o);return y==null?null:{location:{pathname:y,search:l,hash:h,state:p,key:g},navigationType:r}},[o,u,l,h,p,g,r]);return Fs(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${l}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:se.createElement(Hs.Provider,{value:s},se.createElement(ap.Provider,{children:e,value:v}))}function _$({children:t,location:e}){return u$(aE(t),e)}function aE(t,e=[]){let n=[];return se.Children.forEach(t,(r,i)=>{if(!se.isValidElement(r))return;let a=[...e,i];if(r.type===se.Fragment){n.push.apply(n,aE(r.props.children,a));return}Yn(r.type===Fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=aE(r.props.children,a)),n.push(o)}),n}var Gg="get",Yg="application/x-www-form-urlencoded";function _y(t){return t!=null&&typeof t.tagName=="string"}function C$(t){return _y(t)&&t.tagName.toLowerCase()==="button"}function N$(t){return _y(t)&&t.tagName.toLowerCase()==="form"}function A$(t){return _y(t)&&t.tagName.toLowerCase()==="input"}function j$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M$(t,e){return t.button===0&&(!e||e==="_self")&&!j$(t)}var Dm=null;function O$(){if(Dm===null)try{new FormData(document.createElement("form"),0),Dm=!1}catch{Dm=!0}return Dm}var k$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function E1(t){return t!=null&&!k$.has(t)?(Fs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yg}"`),null):t}function I$(t,e){let n,r,i,a,o;if(N$(t)){let s=t.getAttribute("action");r=s?zo(s,e):null,n=t.getAttribute("method")||Gg,i=E1(t.getAttribute("enctype"))||Yg,a=new FormData(t)}else if(C$(t)||A$(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||s.getAttribute("action");if(r=u?zo(u,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Gg,i=E1(t.getAttribute("formenctype"))||E1(s.getAttribute("enctype"))||Yg,a=new FormData(s,t),!O$()){let{name:l,type:h,value:p}=t;if(h==="image"){let g=l?`${l}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else l&&a.append(l,p)}}else{if(_y(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gg,r=null,i=Yg,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function T$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&zo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function R$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function L$(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await R$(a,n);return o.links?o.links():[]}return[]}));return $$(r.flat(1).filter(P$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fN(t,e,n,r,i,a){let o=(u,l)=>n[l]?u.route.id!==n[l].route.id:!0,s=(u,l)=>n[l].pathname!==u.pathname||n[l].route.path?.endsWith("*")&&n[l].params["*"]!==u.params["*"];return a==="assets"?e.filter((u,l)=>o(u,l)||s(u,l)):a==="data"?e.filter((u,l)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,l)||s(u,l))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function D$(t,e,{includeHydrateFallback:n}={}){return B$(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function B$(t){return[...new Set(t)]}function U$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $$(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(U$(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Rk(){let t=se.useContext(vf);return F4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function F$(){let t=se.useContext(Sy);return F4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var q4=se.createContext(void 0);q4.displayName="FrameworkContext";function Pk(){let t=se.useContext(q4);return F4(t,"You must render this element inside a <HydratedRouter> element"),t}function q$(t,e){let n=se.useContext(q4),[r,i]=se.useState(!1),[a,o]=se.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:l,onMouseLeave:h,onTouchStart:p}=e,g=se.useRef(null);se.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=x=>{x.forEach(M=>{o(M.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),se.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:wh(s,v),onBlur:wh(u,y),onMouseEnter:wh(l,v),onMouseLeave:wh(h,y),onTouchStart:wh(p,v)}]:[!1,g,{}]}function wh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z$({page:t,...e}){let{router:n}=Rk(),r=se.useMemo(()=>Sk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?se.createElement(K$,{page:t,matches:r,...e}):null}function H$(t){let{manifest:e,routeModules:n}=Pk(),[r,i]=se.useState([]);return se.useEffect(()=>{let a=!1;return L$(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function K$({page:t,matches:e,...n}){let r=la(),{manifest:i,routeModules:a}=Pk(),{basename:o}=Rk(),{loaderData:s,matches:u}=F$(),l=se.useMemo(()=>fN(t,e,u,i,r,"data"),[t,e,u,i,r]),h=se.useMemo(()=>fN(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=se.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(e.forEach(x=>{let M=i.routes[x.route.id];!M||!M.hasLoader||(!l.some(k=>k.route.id===x.route.id)&&x.route.id in s&&a[x.route.id]?.shouldRevalidate||M.hasClientLoader?w=!0:y.add(x.route.id))}),y.size===0)return[];let C=T$(t,o,"data");return w&&y.size>0&&C.searchParams.set("_routes",e.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[o,s,r,i,l,e,t,a]),g=se.useMemo(()=>D$(h,i),[h,i]),v=H$(h);return se.createElement(se.Fragment,null,p.map(y=>se.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),g.map(y=>se.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:w})=>se.createElement("link",{key:y,nonce:n.nonce,...w})))}function W$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lk&&(window.__reactRouterVersion="7.8.0")}catch{}function V$({basename:t,children:e,window:n}){let r=se.useRef();r.current==null&&(r.current=PU({window:n,v5Compat:!0}));let i=r.current,[a,o]=se.useState({action:i.action,location:i.location}),s=se.useCallback(u=>{se.startTransition(()=>o(u))},[o]);return se.useLayoutEffect(()=>i.listen(s),[i,s]),se.createElement(S$,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=se.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:u,to:l,preventScrollReset:h,viewTransition:p,...g},v){let{basename:y}=se.useContext(Hs),w=typeof l=="string"&&Dk.test(l),C,x=!1;if(typeof l=="string"&&w&&(C=l,Lk))try{let D=new URL(window.location.href),$=l.startsWith("//")?new URL(D.protocol+l):new URL(l),T=zo($.pathname,y);$.origin===D.origin&&T!=null?l=T+$.search+$.hash:x=!0}catch{Fs(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=l$(l,{relative:i}),[k,z,P]=q$(r,g),K=Z$(l,{replace:o,state:s,target:u,preventScrollReset:h,relative:i,viewTransition:p});function W(D){e&&e(D),D.defaultPrevented||K(D)}let B=se.createElement("a",{...g,...P,href:C||M,onClick:x||a?e:W,ref:W$(v,z),target:u,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?se.createElement(se.Fragment,null,B,se.createElement(z$,{page:M})):B});Ur.displayName="Link";var G$=se.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:u,...l},h){let p=op(o,{relative:l.relative}),g=la(),v=se.useContext(Sy),{navigator:y,basename:w}=se.useContext(Hs),C=v!=null&&nF(p)&&s===!0,x=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,M=g.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(M=M.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&w&&(k=zo(k,w)||k);const z=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=M===x||!i&&M.startsWith(x)&&M.charAt(z)==="/",K=k!=null&&(k===x||!i&&k.startsWith(x)&&k.charAt(x.length)==="/"),W={isActive:P,isPending:K,isTransitioning:C},B=P?e:void 0,D;typeof r=="function"?D=r(W):D=[r,P?"active":null,K?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(W):a;return se.createElement(Ur,{...l,"aria-current":B,className:D,ref:h,style:$,to:o,viewTransition:s},typeof u=="function"?u(W):u)});G$.displayName="NavLink";var Y$=se.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Gg,action:s,onSubmit:u,relative:l,preventScrollReset:h,viewTransition:p,...g},v)=>{let y=eF(),w=tF(s,{relative:l}),C=o.toLowerCase()==="get"?"get":"post",x=typeof s=="string"&&Dk.test(s),M=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let z=k.nativeEvent.submitter,P=z?.getAttribute("formmethod")||o;y(z||k.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:a,relative:l,preventScrollReset:h,viewTransition:p})};return se.createElement("form",{ref:v,method:C,action:w,onSubmit:r?u:M,...g,"data-discover":!x&&t==="render"?"true":void 0})});Y$.displayName="Form";function J$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bk(t){let e=se.useContext(vf);return Yn(e,J$(t)),e}function Z$(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=ni(),u=la(),l=op(t,{relative:a});return se.useCallback(h=>{if(M$(h,e)){h.preventDefault();let p=n!==void 0?n:u0(u)===u0(l);s(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[u,s,l,n,r,e,t,i,a,o])}var Q$=0,X$=()=>`__${String(++Q$)}__`;function eF(){let{router:t}=Bk("useSubmit"),{basename:e}=se.useContext(Hs),n=b$();return se.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:u,body:l}=I$(r,e);if(i.navigate===!1){let h=i.fetcherKey||X$();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function tF(t,{relative:e}={}){let{basename:n}=se.useContext(Hs),r=se.useContext(Jo);Yn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...op(t||".",{relative:e})},o=la();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(h=>h==="")){s.delete("index"),u.filter(p=>p).forEach(p=>s.append("index",p));let h=s.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Uo([n,a.pathname])),u0(a)}function nF(t,{relative:e}={}){let n=se.useContext(Mk);Yn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Bk("useViewTransitionState"),i=op(t,{relative:e});if(!n.isTransitioning)return!1;let a=zo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=zo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Av(i.pathname,o)!=null||Av(i.pathname,a)!=null}const Ze=({className:t="",variant:e="default",size:n="md",...r})=>{const i="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none hover:scale-[1.02] active:scale-[0.98]",a={default:"bg-[#C6D9F7] hover:bg-[#B8D1F5] text-[#1f2937] shadow-lg hover:shadow-xl focus:ring-blue-500 font-semibold hover:shadow-2xl",secondary:"bg-white/10 hover:bg-white/20 text-white border border-white/20 hover:border-white/30 backdrop-blur-sm hover:shadow-lg",destructive:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg hover:shadow-xl focus:ring-red-500 hover:shadow-2xl",outline:"border border-white/30 hover:bg-white/10 text-white hover:text-white hover:border-white/50 hover:shadow-lg",ghost:"hover:bg-white/10 text-white hover:shadow-md"},o={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return f.jsx("button",{className:`${i} ${a[e]} ${o[n]} ${t}`,...r})},Ve=({className:t="",...e})=>f.jsx("div",{className:`rounded-xl border border-white/10 bg-white/5 backdrop-blur-lg text-white shadow-2xl transition-all duration-300 hover:shadow-3xl hover:bg-white/10 hover:border-cyan-400/60 hover:shadow-[0_0_20px_rgba(6,182,212,0.3)] hover:scale-[1.01] group m-1 relative overflow-hidden before:absolute before:inset-0 before:rounded-xl before:border before:border-transparent before:transition-all before:duration-300 hover:before:border-cyan-400/40 hover:before:shadow-[0_0_30px_rgba(6,182,212,0.2)] hover:before:animate-pulse ${t}`,...e}),Nt=({className:t="",...e})=>f.jsx("div",{className:`flex flex-col space-y-1.5 p-6 group-hover:bg-white/5 transition-all duration-300 rounded-t-xl ${t}`,...e}),At=({className:t="",...e})=>f.jsx("h3",{className:`text-xl font-semibold leading-none tracking-tight text-white group-hover:text-cyan-100 group-hover:drop-shadow-[0_0_8px_rgba(6,182,212,0.4)] transition-all duration-300 ${t}`,...e}),Ii=({className:t="",...e})=>f.jsx("p",{className:`text-sm text-white/70 group-hover:text-cyan-200/80 group-hover:drop-shadow-[0_0_4px_rgba(6,182,212,0.3)] transition-all duration-300 ${t}`,...e}),Ge=({className:t="",...e})=>f.jsx("div",{className:`p-6 pt-0 ${t}`,...e}),fi=({className:t="",variant:e="default",...n})=>{const a=`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}[e]} ${t}`;return f.jsx("div",{className:a,...n})},rF="modulepreload",iF=function(t){return"/"+t},hN={},yn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(l){return Promise.all(l.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=u(n.map(l=>{if(l=iF(l),l in hN)return;hN[l]=!0;const h=l.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":rF,h||(g.as="script"),g.crossOrigin="",g.href=l,s&&g.setAttribute("nonce",s),document.head.appendChild(g),h)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function aF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cy(t,e){if(t==null)return{};var n,r,i=aF(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function sF(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oF(t){var e=sF(t,"string");return d0(e)=="symbol"?e:e+""}function Ne(t,e,n){return(e=oF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const lF={},cF=Object.freeze(Object.defineProperty({__proto__:null,default:lF},Symbol.toStringTag,{value:"Module"})),Uk=bU(cF);var S1={},kn={},_1,mN;function ku(){if(mN)return _1;mN=1,_1=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},_1}var Bm={exports:{}},gN;function ds(){return gN||(gN=1,typeof Object.create=="function"?Bm.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Bm.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),Bm.exports}var vN;function Ks(){if(vN)return kn;vN=1;var t=ku(),e=ds();kn.inherits=e;function n(b,_){return(b.charCodeAt(_)&64512)!==55296||_<0||_+1>=b.length?!1:(b.charCodeAt(_+1)&64512)===56320}function r(b,_){if(Array.isArray(b))return b.slice();if(!b)return[];var A=[];if(typeof b=="string")if(_){if(_==="hex")for(b=b.replace(/[^a-z0-9]+/ig,""),b.length%2!==0&&(b="0"+b),O=0;O<b.length;O+=2)A.push(parseInt(b[O]+b[O+1],16))}else for(var N=0,O=0;O<b.length;O++){var U=b.charCodeAt(O);U<128?A[N++]=U:U<2048?(A[N++]=U>>6|192,A[N++]=U&63|128):n(b,O)?(U=65536+((U&1023)<<10)+(b.charCodeAt(++O)&1023),A[N++]=U>>18|240,A[N++]=U>>12&63|128,A[N++]=U>>6&63|128,A[N++]=U&63|128):(A[N++]=U>>12|224,A[N++]=U>>6&63|128,A[N++]=U&63|128)}else for(O=0;O<b.length;O++)A[O]=b[O]|0;return A}kn.toArray=r;function i(b){for(var _="",A=0;A<b.length;A++)_+=s(b[A].toString(16));return _}kn.toHex=i;function a(b){var _=b>>>24|b>>>8&65280|b<<8&16711680|(b&255)<<24;return _>>>0}kn.htonl=a;function o(b,_){for(var A="",N=0;N<b.length;N++){var O=b[N];_==="little"&&(O=a(O)),A+=u(O.toString(16))}return A}kn.toHex32=o;function s(b){return b.length===1?"0"+b:b}kn.zero2=s;function u(b){return b.length===7?"0"+b:b.length===6?"00"+b:b.length===5?"000"+b:b.length===4?"0000"+b:b.length===3?"00000"+b:b.length===2?"000000"+b:b.length===1?"0000000"+b:b}kn.zero8=u;function l(b,_,A,N){var O=A-_;t(O%4===0);for(var U=new Array(O/4),j=0,I=_;j<U.length;j++,I+=4){var E;N==="big"?E=b[I]<<24|b[I+1]<<16|b[I+2]<<8|b[I+3]:E=b[I+3]<<24|b[I+2]<<16|b[I+1]<<8|b[I],U[j]=E>>>0}return U}kn.join32=l;function h(b,_){for(var A=new Array(b.length*4),N=0,O=0;N<b.length;N++,O+=4){var U=b[N];_==="big"?(A[O]=U>>>24,A[O+1]=U>>>16&255,A[O+2]=U>>>8&255,A[O+3]=U&255):(A[O+3]=U>>>24,A[O+2]=U>>>16&255,A[O+1]=U>>>8&255,A[O]=U&255)}return A}kn.split32=h;function p(b,_){return b>>>_|b<<32-_}kn.rotr32=p;function g(b,_){return b<<_|b>>>32-_}kn.rotl32=g;function v(b,_){return b+_>>>0}kn.sum32=v;function y(b,_,A){return b+_+A>>>0}kn.sum32_3=y;function w(b,_,A,N){return b+_+A+N>>>0}kn.sum32_4=w;function C(b,_,A,N,O){return b+_+A+N+O>>>0}kn.sum32_5=C;function x(b,_,A,N){var O=b[_],U=b[_+1],j=N+U>>>0,I=(j<N?1:0)+A+O;b[_]=I>>>0,b[_+1]=j}kn.sum64=x;function M(b,_,A,N){var O=_+N>>>0,U=(O<_?1:0)+b+A;return U>>>0}kn.sum64_hi=M;function k(b,_,A,N){var O=_+N;return O>>>0}kn.sum64_lo=k;function z(b,_,A,N,O,U,j,I){var E=0,L=_;L=L+N>>>0,E+=L<_?1:0,L=L+U>>>0,E+=L<U?1:0,L=L+I>>>0,E+=L<I?1:0;var q=b+A+O+j+E;return q>>>0}kn.sum64_4_hi=z;function P(b,_,A,N,O,U,j,I){var E=_+N+U+I;return E>>>0}kn.sum64_4_lo=P;function K(b,_,A,N,O,U,j,I,E,L){var q=0,F=_;F=F+N>>>0,q+=F<_?1:0,F=F+U>>>0,q+=F<U?1:0,F=F+I>>>0,q+=F<I?1:0,F=F+L>>>0,q+=F<L?1:0;var G=b+A+O+j+E+q;return G>>>0}kn.sum64_5_hi=K;function W(b,_,A,N,O,U,j,I,E,L){var q=_+N+U+I+L;return q>>>0}kn.sum64_5_lo=W;function B(b,_,A){var N=_<<32-A|b>>>A;return N>>>0}kn.rotr64_hi=B;function D(b,_,A){var N=b<<32-A|_>>>A;return N>>>0}kn.rotr64_lo=D;function $(b,_,A){return b>>>A}kn.shr64_hi=$;function T(b,_,A){var N=b<<32-A|_>>>A;return N>>>0}return kn.shr64_lo=T,kn}var C1={},yN;function lp(){if(yN)return C1;yN=1;var t=Ks(),e=ku();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return C1.BlockHash=n,n.prototype.update=function(i,a){if(i=t.toArray(i,a),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var s=0;s<i.length;s+=this._delta32)this._update(i,s,s+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,a=this._delta8,o=a-(i+this.padLength)%a,s=new Array(o+this.padLength);s[0]=128;for(var u=1;u<o;u++)s[u]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)s[u++]=0;s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=i>>>24&255,s[u++]=i>>>16&255,s[u++]=i>>>8&255,s[u++]=i&255}else for(s[u++]=i&255,s[u++]=i>>>8&255,s[u++]=i>>>16&255,s[u++]=i>>>24&255,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,l=8;l<this.padLength;l++)s[u++]=0;return s},C1}var zc={},xs={},bN;function $k(){if(bN)return xs;bN=1;var t=Ks(),e=t.rotr32;function n(h,p,g,v){if(h===0)return r(p,g,v);if(h===1||h===3)return a(p,g,v);if(h===2)return i(p,g,v)}xs.ft_1=n;function r(h,p,g){return h&p^~h&g}xs.ch32=r;function i(h,p,g){return h&p^h&g^p&g}xs.maj32=i;function a(h,p,g){return h^p^g}xs.p32=a;function o(h){return e(h,2)^e(h,13)^e(h,22)}xs.s0_256=o;function s(h){return e(h,6)^e(h,11)^e(h,25)}xs.s1_256=s;function u(h){return e(h,7)^e(h,18)^h>>>3}xs.g0_256=u;function l(h){return e(h,17)^e(h,19)^h>>>10}return xs.g1_256=l,xs}var N1,wN;function uF(){if(wN)return N1;wN=1;var t=Ks(),e=lp(),n=$k(),r=t.rotl32,i=t.sum32,a=t.sum32_5,o=n.ft_1,s=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,s),N1=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(p,g){for(var v=this.W,y=0;y<16;y++)v[y]=p[g+y];for(;y<v.length;y++)v[y]=r(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var w=this.h[0],C=this.h[1],x=this.h[2],M=this.h[3],k=this.h[4];for(y=0;y<v.length;y++){var z=~~(y/20),P=a(r(w,5),o(z,C,x,M),k,v[y],u[z]);k=M,M=x,x=r(C,30),C=w,w=P}this.h[0]=i(this.h[0],w),this.h[1]=i(this.h[1],C),this.h[2]=i(this.h[2],x),this.h[3]=i(this.h[3],M),this.h[4]=i(this.h[4],k)},l.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},N1}var A1,xN;function Fk(){if(xN)return A1;xN=1;var t=Ks(),e=lp(),n=$k(),r=ku(),i=t.sum32,a=t.sum32_4,o=t.sum32_5,s=n.ch32,u=n.maj32,l=n.s0_256,h=n.s1_256,p=n.g0_256,g=n.g1_256,v=e.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return t.inherits(w,v),A1=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(x,M){for(var k=this.W,z=0;z<16;z++)k[z]=x[M+z];for(;z<k.length;z++)k[z]=a(g(k[z-2]),k[z-7],p(k[z-15]),k[z-16]);var P=this.h[0],K=this.h[1],W=this.h[2],B=this.h[3],D=this.h[4],$=this.h[5],T=this.h[6],b=this.h[7];for(r(this.k.length===k.length),z=0;z<k.length;z++){var _=o(b,h(D),s(D,$,T),this.k[z],k[z]),A=i(l(P),u(P,K,W));b=T,T=$,$=D,D=i(B,_),B=W,W=K,K=P,P=i(_,A)}this.h[0]=i(this.h[0],P),this.h[1]=i(this.h[1],K),this.h[2]=i(this.h[2],W),this.h[3]=i(this.h[3],B),this.h[4]=i(this.h[4],D),this.h[5]=i(this.h[5],$),this.h[6]=i(this.h[6],T),this.h[7]=i(this.h[7],b)},w.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},A1}var j1,EN;function dF(){if(EN)return j1;EN=1;var t=Ks(),e=Fk();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),j1=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},j1}var M1,SN;function qk(){if(SN)return M1;SN=1;var t=Ks(),e=lp(),n=ku(),r=t.rotr64_hi,i=t.rotr64_lo,a=t.shr64_hi,o=t.shr64_lo,s=t.sum64,u=t.sum64_hi,l=t.sum64_lo,h=t.sum64_4_hi,p=t.sum64_4_lo,g=t.sum64_5_hi,v=t.sum64_5_lo,y=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}t.inherits(C,y),M1=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=function(A,N){for(var O=this.W,U=0;U<32;U++)O[U]=A[N+U];for(;U<O.length;U+=2){var j=T(O[U-4],O[U-3]),I=b(O[U-4],O[U-3]),E=O[U-14],L=O[U-13],q=D(O[U-30],O[U-29]),F=$(O[U-30],O[U-29]),G=O[U-32],Y=O[U-31];O[U]=h(j,I,E,L,q,F,G,Y),O[U+1]=p(j,I,E,L,q,F,G,Y)}},C.prototype._update=function(A,N){this._prepareBlock(A,N);var O=this.W,U=this.h[0],j=this.h[1],I=this.h[2],E=this.h[3],L=this.h[4],q=this.h[5],F=this.h[6],G=this.h[7],Y=this.h[8],Q=this.h[9],ie=this.h[10],Z=this.h[11],X=this.h[12],te=this.h[13],ae=this.h[14],oe=this.h[15];n(this.k.length===O.length);for(var ee=0;ee<O.length;ee+=2){var le=ae,he=oe,ge=W(Y,Q),Ee=B(Y,Q),ye=x(Y,Q,ie,Z,X),fe=M(Y,Q,ie,Z,X,te),Se=this.k[ee],Ae=this.k[ee+1],xe=O[ee],ze=O[ee+1],Xe=g(le,he,ge,Ee,ye,fe,Se,Ae,xe,ze),nt=v(le,he,ge,Ee,ye,fe,Se,Ae,xe,ze);le=P(U,j),he=K(U,j),ge=k(U,j,I,E,L),Ee=z(U,j,I,E,L,q);var et=u(le,he,ge,Ee),re=l(le,he,ge,Ee);ae=X,oe=te,X=ie,te=Z,ie=Y,Z=Q,Y=u(F,G,Xe,nt),Q=l(G,G,Xe,nt),F=L,G=q,L=I,q=E,I=U,E=j,U=u(Xe,nt,et,re),j=l(Xe,nt,et,re)}s(this.h,0,U,j),s(this.h,2,I,E),s(this.h,4,L,q),s(this.h,6,F,G),s(this.h,8,Y,Q),s(this.h,10,ie,Z),s(this.h,12,X,te),s(this.h,14,ae,oe)},C.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function x(_,A,N,O,U){var j=_&N^~_&U;return j<0&&(j+=4294967296),j}function M(_,A,N,O,U,j){var I=A&O^~A&j;return I<0&&(I+=4294967296),I}function k(_,A,N,O,U){var j=_&N^_&U^N&U;return j<0&&(j+=4294967296),j}function z(_,A,N,O,U,j){var I=A&O^A&j^O&j;return I<0&&(I+=4294967296),I}function P(_,A){var N=r(_,A,28),O=r(A,_,2),U=r(A,_,7),j=N^O^U;return j<0&&(j+=4294967296),j}function K(_,A){var N=i(_,A,28),O=i(A,_,2),U=i(A,_,7),j=N^O^U;return j<0&&(j+=4294967296),j}function W(_,A){var N=r(_,A,14),O=r(_,A,18),U=r(A,_,9),j=N^O^U;return j<0&&(j+=4294967296),j}function B(_,A){var N=i(_,A,14),O=i(_,A,18),U=i(A,_,9),j=N^O^U;return j<0&&(j+=4294967296),j}function D(_,A){var N=r(_,A,1),O=r(_,A,8),U=a(_,A,7),j=N^O^U;return j<0&&(j+=4294967296),j}function $(_,A){var N=i(_,A,1),O=i(_,A,8),U=o(_,A,7),j=N^O^U;return j<0&&(j+=4294967296),j}function T(_,A){var N=r(_,A,19),O=r(A,_,29),U=a(_,A,6),j=N^O^U;return j<0&&(j+=4294967296),j}function b(_,A){var N=i(_,A,19),O=i(A,_,29),U=o(_,A,6),j=N^O^U;return j<0&&(j+=4294967296),j}return M1}var O1,_N;function fF(){if(_N)return O1;_N=1;var t=Ks(),e=qk();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),O1=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},O1}var CN;function hF(){return CN||(CN=1,zc.sha1=uF(),zc.sha224=dF(),zc.sha256=Fk(),zc.sha384=fF(),zc.sha512=qk()),zc}var k1={},NN;function pF(){if(NN)return k1;NN=1;var t=Ks(),e=lp(),n=t.rotl32,r=t.sum32,i=t.sum32_3,a=t.sum32_4,o=e.BlockHash;function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(s,o),k1.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(C,x){for(var M=this.h[0],k=this.h[1],z=this.h[2],P=this.h[3],K=this.h[4],W=M,B=k,D=z,$=P,T=K,b=0;b<80;b++){var _=r(n(a(M,u(b,k,z,P),C[p[b]+x],l(b)),v[b]),K);M=K,K=P,P=n(z,10),z=k,k=_,_=r(n(a(W,u(79-b,B,D,$),C[g[b]+x],h(b)),y[b]),T),W=T,T=$,$=n(D,10),D=B,B=_}_=i(this.h[1],z,$),this.h[1]=i(this.h[2],P,T),this.h[2]=i(this.h[3],K,W),this.h[3]=i(this.h[4],M,B),this.h[4]=i(this.h[0],k,D),this.h[0]=_},s.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function u(w,C,x,M){return w<=15?C^x^M:w<=31?C&x|~C&M:w<=47?(C|~x)^M:w<=63?C&M|x&~M:C^(x|~M)}function l(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function h(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return k1}var I1,AN;function mF(){if(AN)return I1;AN=1;var t=Ks(),e=ku();function n(r,i,a){if(!(this instanceof n))return new n(r,i,a);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,a))}return I1=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var a=i.length;a<this.blockSize;a++)i.push(0);for(a=0;a<i.length;a++)i[a]^=54;for(this.inner=new this.Hash().update(i),a=0;a<i.length;a++)i[a]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,a){return this.inner.update(i,a),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},I1}var jN;function z4(){return jN||(jN=1,function(t){var e=t;e.utils=Ks(),e.common=lp(),e.sha=hF(),e.ripemd=pF(),e.hmac=mF(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(S1)),S1}var T1,MN;function gF(){return MN||(MN=1,T1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),T1}var R1,ON;function zk(){return ON||(ON=1,R1=Object),R1}var P1,kN;function vF(){return kN||(kN=1,P1=Error),P1}var L1,IN;function yF(){return IN||(IN=1,L1=EvalError),L1}var D1,TN;function bF(){return TN||(TN=1,D1=RangeError),D1}var B1,RN;function wF(){return RN||(RN=1,B1=ReferenceError),B1}var U1,PN;function Hk(){return PN||(PN=1,U1=SyntaxError),U1}var $1,LN;function Ny(){return LN||(LN=1,$1=TypeError),$1}var F1,DN;function xF(){return DN||(DN=1,F1=URIError),F1}var q1,BN;function EF(){return BN||(BN=1,q1=Math.abs),q1}var z1,UN;function SF(){return UN||(UN=1,z1=Math.floor),z1}var H1,$N;function _F(){return $N||($N=1,H1=Math.max),H1}var K1,FN;function CF(){return FN||(FN=1,K1=Math.min),K1}var W1,qN;function NF(){return qN||(qN=1,W1=Math.pow),W1}var V1,zN;function AF(){return zN||(zN=1,V1=Math.round),V1}var G1,HN;function jF(){return HN||(HN=1,G1=Number.isNaN||function(e){return e!==e}),G1}var Y1,KN;function MF(){if(KN)return Y1;KN=1;var t=jF();return Y1=function(n){return t(n)||n===0?n:n<0?-1:1},Y1}var J1,WN;function OF(){return WN||(WN=1,J1=Object.getOwnPropertyDescriptor),J1}var Z1,VN;function Ay(){if(VN)return Z1;VN=1;var t=OF();if(t)try{t([],"length")}catch{t=null}return Z1=t,Z1}var Q1,GN;function jy(){if(GN)return Q1;GN=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Q1=t,Q1}var X1,YN;function kF(){if(YN)return X1;YN=1;var t=typeof Symbol<"u"&&Symbol,e=gF();return X1=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},X1}var ex,JN;function Kk(){return JN||(JN=1,ex=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),ex}var tx,ZN;function Wk(){if(ZN)return tx;ZN=1;var t=zk();return tx=t.getPrototypeOf||null,tx}var nx,QN;function IF(){if(QN)return nx;QN=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(u,l){for(var h=[],p=0;p<u.length;p+=1)h[p]=u[p];for(var g=0;g<l.length;g+=1)h[g+u.length]=l[g];return h},a=function(u,l){for(var h=[],p=l,g=0;p<u.length;p+=1,g+=1)h[g]=u[p];return h},o=function(s,u){for(var l="",h=0;h<s.length;h+=1)l+=s[h],h+1<s.length&&(l+=u);return l};return nx=function(u){var l=this;if(typeof l!="function"||e.apply(l)!==r)throw new TypeError(t+l);for(var h=a(arguments,1),p,g=function(){if(this instanceof p){var x=l.apply(this,i(h,arguments));return Object(x)===x?x:this}return l.apply(u,i(h,arguments))},v=n(0,l.length-h.length),y=[],w=0;w<v;w++)y[w]="$"+w;if(p=Function("binder","return function ("+o(y,",")+"){ return binder.apply(this,arguments); }")(g),l.prototype){var C=function(){};C.prototype=l.prototype,p.prototype=new C,C.prototype=null}return p},nx}var rx,XN;function cp(){if(XN)return rx;XN=1;var t=IF();return rx=Function.prototype.bind||t,rx}var ix,eA;function H4(){return eA||(eA=1,ix=Function.prototype.call),ix}var ax,tA;function K4(){return tA||(tA=1,ax=Function.prototype.apply),ax}var sx,nA;function TF(){return nA||(nA=1,sx=typeof Reflect<"u"&&Reflect&&Reflect.apply),sx}var ox,rA;function Vk(){if(rA)return ox;rA=1;var t=cp(),e=K4(),n=H4(),r=TF();return ox=r||t.call(n,e),ox}var lx,iA;function W4(){if(iA)return lx;iA=1;var t=cp(),e=Ny(),n=H4(),r=Vk();return lx=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return r(t,n,a)},lx}var cx,aA;function RF(){if(aA)return cx;aA=1;var t=W4(),e=Ay(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return cx=r&&typeof r.get=="function"?t([r.get]):typeof a=="function"?function(s){return a(s==null?s:i(s))}:!1,cx}var ux,sA;function PF(){if(sA)return ux;sA=1;var t=Kk(),e=Wk(),n=RF();return ux=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,ux}var dx,oA;function LF(){if(oA)return dx;oA=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=cp();return dx=n.call(t,e),dx}var fx,lA;function Gk(){if(lA)return fx;lA=1;var t,e=zk(),n=vF(),r=yF(),i=bF(),a=wF(),o=Hk(),s=Ny(),u=xF(),l=EF(),h=SF(),p=_F(),g=CF(),v=NF(),y=AF(),w=MF(),C=Function,x=function(X){try{return C('"use strict"; return ('+X+").constructor;")()}catch{}},M=Ay(),k=jy(),z=function(){throw new s},P=M?function(){try{return arguments.callee,z}catch{try{return M(arguments,"callee").get}catch{return z}}}():z,K=kF()(),W=PF(),B=Wk(),D=Kk(),$=K4(),T=H4(),b={},_=typeof Uint8Array>"u"||!W?t:W(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":K&&W?W([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&W?W(W([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!W?t:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":M,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!W?t:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&W?W(""[Symbol.iterator]()):t,"%Symbol%":K?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":P,"%TypedArray%":_,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":$,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":B,"%Math.abs%":l,"%Math.floor%":h,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":v,"%Math.round%":y,"%Math.sign%":w,"%Reflect.getPrototypeOf%":D};if(W)try{null.error}catch(X){var N=W(W(X));A["%Error.prototype%"]=N}var O=function X(te){var ae;if(te==="%AsyncFunction%")ae=x("async function () {}");else if(te==="%GeneratorFunction%")ae=x("function* () {}");else if(te==="%AsyncGeneratorFunction%")ae=x("async function* () {}");else if(te==="%AsyncGenerator%"){var oe=X("%AsyncGeneratorFunction%");oe&&(ae=oe.prototype)}else if(te==="%AsyncIteratorPrototype%"){var ee=X("%AsyncGenerator%");ee&&W&&(ae=W(ee.prototype))}return A[te]=ae,ae},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j=cp(),I=LF(),E=j.call(T,Array.prototype.concat),L=j.call($,Array.prototype.splice),q=j.call(T,String.prototype.replace),F=j.call(T,String.prototype.slice),G=j.call(T,RegExp.prototype.exec),Y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,ie=function(te){var ae=F(te,0,1),oe=F(te,-1);if(ae==="%"&&oe!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(oe==="%"&&ae!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ee=[];return q(te,Y,function(le,he,ge,Ee){ee[ee.length]=ge?q(Ee,Q,"$1"):he||le}),ee},Z=function(te,ae){var oe=te,ee;if(I(U,oe)&&(ee=U[oe],oe="%"+ee[0]+"%"),I(A,oe)){var le=A[oe];if(le===b&&(le=O(oe)),typeof le>"u"&&!ae)throw new s("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:ee,name:oe,value:le}}throw new o("intrinsic "+te+" does not exist!")};return fx=function(te,ae){if(typeof te!="string"||te.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ae!="boolean")throw new s('"allowMissing" argument must be a boolean');if(G(/^%?[^%]*%?$/,te)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var oe=ie(te),ee=oe.length>0?oe[0]:"",le=Z("%"+ee+"%",ae),he=le.name,ge=le.value,Ee=!1,ye=le.alias;ye&&(ee=ye[0],L(oe,E([0,1],ye)));for(var fe=1,Se=!0;fe<oe.length;fe+=1){var Ae=oe[fe],xe=F(Ae,0,1),ze=F(Ae,-1);if((xe==='"'||xe==="'"||xe==="`"||ze==='"'||ze==="'"||ze==="`")&&xe!==ze)throw new o("property names with quotes must have matching quotes");if((Ae==="constructor"||!Se)&&(Ee=!0),ee+="."+Ae,he="%"+ee+"%",I(A,he))ge=A[he];else if(ge!=null){if(!(Ae in ge)){if(!ae)throw new s("base intrinsic for "+te+" exists, but the property is not available.");return}if(M&&fe+1>=oe.length){var Xe=M(ge,Ae);Se=!!Xe,Se&&"get"in Xe&&!("originalValue"in Xe.get)?ge=Xe.get:ge=ge[Ae]}else Se=I(ge,Ae),ge=ge[Ae];Se&&!Ee&&(A[he]=ge)}}return ge},fx}var hx,cA;function DF(){if(cA)return hx;cA=1;var t=Gk(),e=W4(),n=e([t("%String.prototype.indexOf%")]);return hx=function(i,a){var o=t(i,!!a);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},hx}var px={exports:{}},mx,uA;function BF(){if(uA)return mx;uA=1;var t=jy(),e=Hk(),n=Ny(),r=Ay();return mx=function(a,o,s){if(!a||typeof a!="object"&&typeof a!="function")throw new n("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,g=!!r&&r(a,o);if(t)t(a,o,{configurable:h===null&&g?g.configurable:!h,enumerable:u===null&&g?g.enumerable:!u,value:s,writable:l===null&&g?g.writable:!l});else if(p||!u&&!l&&!h)a[o]=s;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},mx}var gx,dA;function UF(){if(dA)return gx;dA=1;var t=jy(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},gx=e,gx}var vx,fA;function $F(){if(fA)return vx;fA=1;var t=Gk(),e=BF(),n=UF()(),r=Ay(),i=Ny(),a=t("%Math.floor%");return vx=function(s,u){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||a(u)!==u)throw new i("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],h=!0,p=!0;if("length"in s&&r){var g=r(s,"length");g&&!g.configurable&&(h=!1),g&&!g.writable&&(p=!1)}return(h||p||!l)&&(n?e(s,"length",u,!0,!0):e(s,"length",u)),s},vx}var yx,hA;function FF(){if(hA)return yx;hA=1;var t=cp(),e=K4(),n=Vk();return yx=function(){return n(t,e,arguments)},yx}var pA;function qF(){return pA||(pA=1,function(t){var e=$F(),n=jy(),r=W4(),i=FF();t.exports=function(o){var s=r(arguments),u=o.length-(arguments.length-1);return e(s,1+(u>0?u:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i}(px)),px.exports}var bx,mA;function Yk(){if(mA)return bx;mA=1;var t=Object.prototype.toString;return bx=function(n){var r=t.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&t.call(n.callee)==="[object Function]"),i},bx}var wx,gA;function zF(){if(gA)return wx;gA=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Yk(),i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(g){var v=g.constructor;return v&&v.prototype===g},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!l["$"+g]&&e.call(window,g)&&window[g]!==null&&typeof window[g]=="object")try{u(window[g])}catch{return!0}}catch{return!0}return!1}(),p=function(g){if(typeof window>"u"||!h)return u(g);try{return u(g)}catch{return!1}};t=function(v){var y=v!==null&&typeof v=="object",w=n.call(v)==="[object Function]",C=r(v),x=y&&n.call(v)==="[object String]",M=[];if(!y&&!w&&!C)throw new TypeError("Object.keys called on a non-object");var k=o&&w;if(x&&v.length>0&&!e.call(v,0))for(var z=0;z<v.length;++z)M.push(String(z));if(C&&v.length>0)for(var P=0;P<v.length;++P)M.push(String(P));else for(var K in v)!(k&&K==="prototype")&&e.call(v,K)&&M.push(String(K));if(a)for(var W=p(v),B=0;B<s.length;++B)!(W&&s[B]==="constructor")&&e.call(v,s[B])&&M.push(s[B]);return M}}return wx=t,wx}var xx,vA;function HF(){if(vA)return xx;vA=1;var t=Array.prototype.slice,e=Yk(),n=Object.keys,r=n?function(o){return n(o)}:zF(),i=Object.keys;return r.shim=function(){if(Object.keys){var o=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);o||(Object.keys=function(u){return e(u)?i(t.call(u)):i(u)})}else Object.keys=r;return Object.keys||r},xx=r,xx}var Ex={};const KF="6.6.1",WF={version:KF};var Sx={},Jg={exports:{}},VF=Jg.exports,yA;function Zo(){return yA||(yA=1,function(t){(function(e,n){function r(T,b){if(!T)throw new Error(b||"Assertion failed")}function i(T,b){T.super_=b;var _=function(){};_.prototype=b.prototype,T.prototype=new _,T.prototype.constructor=T}function a(T,b,_){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((b==="le"||b==="be")&&(_=b,b=10),this._init(T||0,b||10,_||"be"))}typeof e=="object"?e.exports=a:n.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Uk.Buffer}catch{}a.isBN=function(b){return b instanceof a?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===a.wordSize&&Array.isArray(b.words)},a.max=function(b,_){return b.cmp(_)>0?b:_},a.min=function(b,_){return b.cmp(_)<0?b:_},a.prototype._init=function(b,_,A){if(typeof b=="number")return this._initNumber(b,_,A);if(typeof b=="object")return this._initArray(b,_,A);_==="hex"&&(_=16),r(_===(_|0)&&_>=2&&_<=36),b=b.toString().replace(/\s+/g,"");var N=0;b[0]==="-"&&(N++,this.negative=1),N<b.length&&(_===16?this._parseHex(b,N,A):(this._parseBase(b,_,N),A==="le"&&this._initArray(this.toArray(),_,A)))},a.prototype._initNumber=function(b,_,A){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(r(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),_,A)},a.prototype._initArray=function(b,_,A){if(r(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var O,U,j=0;if(A==="be")for(N=b.length-1,O=0;N>=0;N-=3)U=b[N]|b[N-1]<<8|b[N-2]<<16,this.words[O]|=U<<j&67108863,this.words[O+1]=U>>>26-j&67108863,j+=24,j>=26&&(j-=26,O++);else if(A==="le")for(N=0,O=0;N<b.length;N+=3)U=b[N]|b[N+1]<<8|b[N+2]<<16,this.words[O]|=U<<j&67108863,this.words[O+1]=U>>>26-j&67108863,j+=24,j>=26&&(j-=26,O++);return this.strip()};function s(T,b){var _=T.charCodeAt(b);return _>=65&&_<=70?_-55:_>=97&&_<=102?_-87:_-48&15}function u(T,b,_){var A=s(T,_);return _-1>=b&&(A|=s(T,_-1)<<4),A}a.prototype._parseHex=function(b,_,A){this.length=Math.ceil((b.length-_)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var O=0,U=0,j;if(A==="be")for(N=b.length-1;N>=_;N-=2)j=u(b,_,N)<<O,this.words[U]|=j&67108863,O>=18?(O-=18,U+=1,this.words[U]|=j>>>26):O+=8;else{var I=b.length-_;for(N=I%2===0?_+1:_;N<b.length;N+=2)j=u(b,_,N)<<O,this.words[U]|=j&67108863,O>=18?(O-=18,U+=1,this.words[U]|=j>>>26):O+=8}this.strip()};function l(T,b,_,A){for(var N=0,O=Math.min(T.length,_),U=b;U<O;U++){var j=T.charCodeAt(U)-48;N*=A,j>=49?N+=j-49+10:j>=17?N+=j-17+10:N+=j}return N}a.prototype._parseBase=function(b,_,A){this.words=[0],this.length=1;for(var N=0,O=1;O<=67108863;O*=_)N++;N--,O=O/_|0;for(var U=b.length-A,j=U%N,I=Math.min(U,U-j)+A,E=0,L=A;L<I;L+=N)E=l(b,L,L+N,_),this.imuln(O),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(j!==0){var q=1;for(E=l(b,L,b.length,_),L=0;L<j;L++)q*=_;this.imuln(q),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this.strip()},a.prototype.copy=function(b){b.words=new Array(this.length);for(var _=0;_<this.length;_++)b.words[_]=this.words[_];b.length=this.length,b.negative=this.negative,b.red=this.red},a.prototype.clone=function(){var b=new a(null);return this.copy(b),b},a.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(b,_){b=b||10,_=_|0||1;var A;if(b===16||b==="hex"){A="";for(var N=0,O=0,U=0;U<this.length;U++){var j=this.words[U],I=((j<<N|O)&16777215).toString(16);O=j>>>24-N&16777215,N+=2,N>=26&&(N-=26,U--),O!==0||U!==this.length-1?A=h[6-I.length]+I+A:A=I+A}for(O!==0&&(A=O.toString(16)+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(b===(b|0)&&b>=2&&b<=36){var E=p[b],L=g[b];A="";var q=this.clone();for(q.negative=0;!q.isZero();){var F=q.modn(L).toString(b);q=q.idivn(L),q.isZero()?A=F+A:A=h[E-F.length]+F+A}for(this.isZero()&&(A="0"+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(b,_){return r(typeof o<"u"),this.toArrayLike(o,b,_)},a.prototype.toArray=function(b,_){return this.toArrayLike(Array,b,_)},a.prototype.toArrayLike=function(b,_,A){var N=this.byteLength(),O=A||Math.max(1,N);r(N<=O,"byte array longer than desired length"),r(O>0,"Requested array length <= 0"),this.strip();var U=_==="le",j=new b(O),I,E,L=this.clone();if(U){for(E=0;!L.isZero();E++)I=L.andln(255),L.iushrn(8),j[E]=I;for(;E<O;E++)j[E]=0}else{for(E=0;E<O-N;E++)j[E]=0;for(E=0;!L.isZero();E++)I=L.andln(255),L.iushrn(8),j[O-E-1]=I}return j},Math.clz32?a.prototype._countBits=function(b){return 32-Math.clz32(b)}:a.prototype._countBits=function(b){var _=b,A=0;return _>=4096&&(A+=13,_>>>=13),_>=64&&(A+=7,_>>>=7),_>=8&&(A+=4,_>>>=4),_>=2&&(A+=2,_>>>=2),A+_},a.prototype._zeroBits=function(b){if(b===0)return 26;var _=b,A=0;return(_&8191)===0&&(A+=13,_>>>=13),(_&127)===0&&(A+=7,_>>>=7),(_&15)===0&&(A+=4,_>>>=4),(_&3)===0&&(A+=2,_>>>=2),(_&1)===0&&A++,A},a.prototype.bitLength=function(){var b=this.words[this.length-1],_=this._countBits(b);return(this.length-1)*26+_};function v(T){for(var b=new Array(T.bitLength()),_=0;_<b.length;_++){var A=_/26|0,N=_%26;b[_]=(T.words[A]&1<<N)>>>N}return b}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,_=0;_<this.length;_++){var A=this._zeroBits(this.words[_]);if(b+=A,A!==26)break}return b},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},a.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var _=0;_<b.length;_++)this.words[_]=this.words[_]|b.words[_];return this.strip()},a.prototype.ior=function(b){return r((this.negative|b.negative)===0),this.iuor(b)},a.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},a.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},a.prototype.iuand=function(b){var _;this.length>b.length?_=b:_=this;for(var A=0;A<_.length;A++)this.words[A]=this.words[A]&b.words[A];return this.length=_.length,this.strip()},a.prototype.iand=function(b){return r((this.negative|b.negative)===0),this.iuand(b)},a.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},a.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},a.prototype.iuxor=function(b){var _,A;this.length>b.length?(_=this,A=b):(_=b,A=this);for(var N=0;N<A.length;N++)this.words[N]=_.words[N]^A.words[N];if(this!==_)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=_.length,this.strip()},a.prototype.ixor=function(b){return r((this.negative|b.negative)===0),this.iuxor(b)},a.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},a.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},a.prototype.inotn=function(b){r(typeof b=="number"&&b>=0);var _=Math.ceil(b/26)|0,A=b%26;this._expand(_),A>0&&_--;for(var N=0;N<_;N++)this.words[N]=~this.words[N]&67108863;return A>0&&(this.words[N]=~this.words[N]&67108863>>26-A),this.strip()},a.prototype.notn=function(b){return this.clone().inotn(b)},a.prototype.setn=function(b,_){r(typeof b=="number"&&b>=0);var A=b/26|0,N=b%26;return this._expand(A+1),_?this.words[A]=this.words[A]|1<<N:this.words[A]=this.words[A]&~(1<<N),this.strip()},a.prototype.iadd=function(b){var _;if(this.negative!==0&&b.negative===0)return this.negative=0,_=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,_=this.isub(b),b.negative=1,_._normSign();var A,N;this.length>b.length?(A=this,N=b):(A=b,N=this);for(var O=0,U=0;U<N.length;U++)_=(A.words[U]|0)+(N.words[U]|0)+O,this.words[U]=_&67108863,O=_>>>26;for(;O!==0&&U<A.length;U++)_=(A.words[U]|0)+O,this.words[U]=_&67108863,O=_>>>26;if(this.length=A.length,O!==0)this.words[this.length]=O,this.length++;else if(A!==this)for(;U<A.length;U++)this.words[U]=A.words[U];return this},a.prototype.add=function(b){var _;return b.negative!==0&&this.negative===0?(b.negative=0,_=this.sub(b),b.negative^=1,_):b.negative===0&&this.negative!==0?(this.negative=0,_=b.sub(this),this.negative=1,_):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},a.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var _=this.iadd(b);return b.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var A=this.cmp(b);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,O;A>0?(N=this,O=b):(N=b,O=this);for(var U=0,j=0;j<O.length;j++)_=(N.words[j]|0)-(O.words[j]|0)+U,U=_>>26,this.words[j]=_&67108863;for(;U!==0&&j<N.length;j++)_=(N.words[j]|0)+U,U=_>>26,this.words[j]=_&67108863;if(U===0&&j<N.length&&N!==this)for(;j<N.length;j++)this.words[j]=N.words[j];return this.length=Math.max(this.length,j),N!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(b){return this.clone().isub(b)};function y(T,b,_){_.negative=b.negative^T.negative;var A=T.length+b.length|0;_.length=A,A=A-1|0;var N=T.words[0]|0,O=b.words[0]|0,U=N*O,j=U&67108863,I=U/67108864|0;_.words[0]=j;for(var E=1;E<A;E++){for(var L=I>>>26,q=I&67108863,F=Math.min(E,b.length-1),G=Math.max(0,E-T.length+1);G<=F;G++){var Y=E-G|0;N=T.words[Y]|0,O=b.words[G]|0,U=N*O+q,L+=U/67108864|0,q=U&67108863}_.words[E]=q|0,I=L|0}return I!==0?_.words[E]=I|0:_.length--,_.strip()}var w=function(b,_,A){var N=b.words,O=_.words,U=A.words,j=0,I,E,L,q=N[0]|0,F=q&8191,G=q>>>13,Y=N[1]|0,Q=Y&8191,ie=Y>>>13,Z=N[2]|0,X=Z&8191,te=Z>>>13,ae=N[3]|0,oe=ae&8191,ee=ae>>>13,le=N[4]|0,he=le&8191,ge=le>>>13,Ee=N[5]|0,ye=Ee&8191,fe=Ee>>>13,Se=N[6]|0,Ae=Se&8191,xe=Se>>>13,ze=N[7]|0,Xe=ze&8191,nt=ze>>>13,et=N[8]|0,re=et&8191,V=et>>>13,J=N[9]|0,ue=J&8191,ve=J>>>13,Me=O[0]|0,Ie=Me&8191,st=Me>>>13,Pt=O[1]|0,ut=Pt&8191,bt=Pt>>>13,Tt=O[2]|0,Bt=Tt&8191,cn=Tt>>>13,mr=O[3]|0,rt=mr&8191,Mt=mr>>>13,Yt=O[4]|0,Ot=Yt&8191,wt=Yt>>>13,de=O[5]|0,pe=de&8191,Fe=de>>>13,Ye=O[6]|0,Je=Ye&8191,mt=Ye>>>13,bn=O[7]|0,nn=bn&8191,Jt=bn>>>13,qr=O[8]|0,Rn=qr&8191,mn=qr>>>13,za=O[9]|0,un=za&8191,dn=za>>>13;A.negative=b.negative^_.negative,A.length=19,I=Math.imul(F,Ie),E=Math.imul(F,st),E=E+Math.imul(G,Ie)|0,L=Math.imul(G,st);var zn=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(zn>>>26)|0,zn&=67108863,I=Math.imul(Q,Ie),E=Math.imul(Q,st),E=E+Math.imul(ie,Ie)|0,L=Math.imul(ie,st),I=I+Math.imul(F,ut)|0,E=E+Math.imul(F,bt)|0,E=E+Math.imul(G,ut)|0,L=L+Math.imul(G,bt)|0;var gr=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(gr>>>26)|0,gr&=67108863,I=Math.imul(X,Ie),E=Math.imul(X,st),E=E+Math.imul(te,Ie)|0,L=Math.imul(te,st),I=I+Math.imul(Q,ut)|0,E=E+Math.imul(Q,bt)|0,E=E+Math.imul(ie,ut)|0,L=L+Math.imul(ie,bt)|0,I=I+Math.imul(F,Bt)|0,E=E+Math.imul(F,cn)|0,E=E+Math.imul(G,Bt)|0,L=L+Math.imul(G,cn)|0;var hn=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(hn>>>26)|0,hn&=67108863,I=Math.imul(oe,Ie),E=Math.imul(oe,st),E=E+Math.imul(ee,Ie)|0,L=Math.imul(ee,st),I=I+Math.imul(X,ut)|0,E=E+Math.imul(X,bt)|0,E=E+Math.imul(te,ut)|0,L=L+Math.imul(te,bt)|0,I=I+Math.imul(Q,Bt)|0,E=E+Math.imul(Q,cn)|0,E=E+Math.imul(ie,Bt)|0,L=L+Math.imul(ie,cn)|0,I=I+Math.imul(F,rt)|0,E=E+Math.imul(F,Mt)|0,E=E+Math.imul(G,rt)|0,L=L+Math.imul(G,Mt)|0;var vr=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(vr>>>26)|0,vr&=67108863,I=Math.imul(he,Ie),E=Math.imul(he,st),E=E+Math.imul(ge,Ie)|0,L=Math.imul(ge,st),I=I+Math.imul(oe,ut)|0,E=E+Math.imul(oe,bt)|0,E=E+Math.imul(ee,ut)|0,L=L+Math.imul(ee,bt)|0,I=I+Math.imul(X,Bt)|0,E=E+Math.imul(X,cn)|0,E=E+Math.imul(te,Bt)|0,L=L+Math.imul(te,cn)|0,I=I+Math.imul(Q,rt)|0,E=E+Math.imul(Q,Mt)|0,E=E+Math.imul(ie,rt)|0,L=L+Math.imul(ie,Mt)|0,I=I+Math.imul(F,Ot)|0,E=E+Math.imul(F,wt)|0,E=E+Math.imul(G,Ot)|0,L=L+Math.imul(G,wt)|0;var nl=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(nl>>>26)|0,nl&=67108863,I=Math.imul(ye,Ie),E=Math.imul(ye,st),E=E+Math.imul(fe,Ie)|0,L=Math.imul(fe,st),I=I+Math.imul(he,ut)|0,E=E+Math.imul(he,bt)|0,E=E+Math.imul(ge,ut)|0,L=L+Math.imul(ge,bt)|0,I=I+Math.imul(oe,Bt)|0,E=E+Math.imul(oe,cn)|0,E=E+Math.imul(ee,Bt)|0,L=L+Math.imul(ee,cn)|0,I=I+Math.imul(X,rt)|0,E=E+Math.imul(X,Mt)|0,E=E+Math.imul(te,rt)|0,L=L+Math.imul(te,Mt)|0,I=I+Math.imul(Q,Ot)|0,E=E+Math.imul(Q,wt)|0,E=E+Math.imul(ie,Ot)|0,L=L+Math.imul(ie,wt)|0,I=I+Math.imul(F,pe)|0,E=E+Math.imul(F,Fe)|0,E=E+Math.imul(G,pe)|0,L=L+Math.imul(G,Fe)|0;var zi=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(zi>>>26)|0,zi&=67108863,I=Math.imul(Ae,Ie),E=Math.imul(Ae,st),E=E+Math.imul(xe,Ie)|0,L=Math.imul(xe,st),I=I+Math.imul(ye,ut)|0,E=E+Math.imul(ye,bt)|0,E=E+Math.imul(fe,ut)|0,L=L+Math.imul(fe,bt)|0,I=I+Math.imul(he,Bt)|0,E=E+Math.imul(he,cn)|0,E=E+Math.imul(ge,Bt)|0,L=L+Math.imul(ge,cn)|0,I=I+Math.imul(oe,rt)|0,E=E+Math.imul(oe,Mt)|0,E=E+Math.imul(ee,rt)|0,L=L+Math.imul(ee,Mt)|0,I=I+Math.imul(X,Ot)|0,E=E+Math.imul(X,wt)|0,E=E+Math.imul(te,Ot)|0,L=L+Math.imul(te,wt)|0,I=I+Math.imul(Q,pe)|0,E=E+Math.imul(Q,Fe)|0,E=E+Math.imul(ie,pe)|0,L=L+Math.imul(ie,Fe)|0,I=I+Math.imul(F,Je)|0,E=E+Math.imul(F,mt)|0,E=E+Math.imul(G,Je)|0,L=L+Math.imul(G,mt)|0;var yr=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(yr>>>26)|0,yr&=67108863,I=Math.imul(Xe,Ie),E=Math.imul(Xe,st),E=E+Math.imul(nt,Ie)|0,L=Math.imul(nt,st),I=I+Math.imul(Ae,ut)|0,E=E+Math.imul(Ae,bt)|0,E=E+Math.imul(xe,ut)|0,L=L+Math.imul(xe,bt)|0,I=I+Math.imul(ye,Bt)|0,E=E+Math.imul(ye,cn)|0,E=E+Math.imul(fe,Bt)|0,L=L+Math.imul(fe,cn)|0,I=I+Math.imul(he,rt)|0,E=E+Math.imul(he,Mt)|0,E=E+Math.imul(ge,rt)|0,L=L+Math.imul(ge,Mt)|0,I=I+Math.imul(oe,Ot)|0,E=E+Math.imul(oe,wt)|0,E=E+Math.imul(ee,Ot)|0,L=L+Math.imul(ee,wt)|0,I=I+Math.imul(X,pe)|0,E=E+Math.imul(X,Fe)|0,E=E+Math.imul(te,pe)|0,L=L+Math.imul(te,Fe)|0,I=I+Math.imul(Q,Je)|0,E=E+Math.imul(Q,mt)|0,E=E+Math.imul(ie,Je)|0,L=L+Math.imul(ie,mt)|0,I=I+Math.imul(F,nn)|0,E=E+Math.imul(F,Jt)|0,E=E+Math.imul(G,nn)|0,L=L+Math.imul(G,Jt)|0;var Ec=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,I=Math.imul(re,Ie),E=Math.imul(re,st),E=E+Math.imul(V,Ie)|0,L=Math.imul(V,st),I=I+Math.imul(Xe,ut)|0,E=E+Math.imul(Xe,bt)|0,E=E+Math.imul(nt,ut)|0,L=L+Math.imul(nt,bt)|0,I=I+Math.imul(Ae,Bt)|0,E=E+Math.imul(Ae,cn)|0,E=E+Math.imul(xe,Bt)|0,L=L+Math.imul(xe,cn)|0,I=I+Math.imul(ye,rt)|0,E=E+Math.imul(ye,Mt)|0,E=E+Math.imul(fe,rt)|0,L=L+Math.imul(fe,Mt)|0,I=I+Math.imul(he,Ot)|0,E=E+Math.imul(he,wt)|0,E=E+Math.imul(ge,Ot)|0,L=L+Math.imul(ge,wt)|0,I=I+Math.imul(oe,pe)|0,E=E+Math.imul(oe,Fe)|0,E=E+Math.imul(ee,pe)|0,L=L+Math.imul(ee,Fe)|0,I=I+Math.imul(X,Je)|0,E=E+Math.imul(X,mt)|0,E=E+Math.imul(te,Je)|0,L=L+Math.imul(te,mt)|0,I=I+Math.imul(Q,nn)|0,E=E+Math.imul(Q,Jt)|0,E=E+Math.imul(ie,nn)|0,L=L+Math.imul(ie,Jt)|0,I=I+Math.imul(F,Rn)|0,E=E+Math.imul(F,mn)|0,E=E+Math.imul(G,Rn)|0,L=L+Math.imul(G,mn)|0;var rl=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(rl>>>26)|0,rl&=67108863,I=Math.imul(ue,Ie),E=Math.imul(ue,st),E=E+Math.imul(ve,Ie)|0,L=Math.imul(ve,st),I=I+Math.imul(re,ut)|0,E=E+Math.imul(re,bt)|0,E=E+Math.imul(V,ut)|0,L=L+Math.imul(V,bt)|0,I=I+Math.imul(Xe,Bt)|0,E=E+Math.imul(Xe,cn)|0,E=E+Math.imul(nt,Bt)|0,L=L+Math.imul(nt,cn)|0,I=I+Math.imul(Ae,rt)|0,E=E+Math.imul(Ae,Mt)|0,E=E+Math.imul(xe,rt)|0,L=L+Math.imul(xe,Mt)|0,I=I+Math.imul(ye,Ot)|0,E=E+Math.imul(ye,wt)|0,E=E+Math.imul(fe,Ot)|0,L=L+Math.imul(fe,wt)|0,I=I+Math.imul(he,pe)|0,E=E+Math.imul(he,Fe)|0,E=E+Math.imul(ge,pe)|0,L=L+Math.imul(ge,Fe)|0,I=I+Math.imul(oe,Je)|0,E=E+Math.imul(oe,mt)|0,E=E+Math.imul(ee,Je)|0,L=L+Math.imul(ee,mt)|0,I=I+Math.imul(X,nn)|0,E=E+Math.imul(X,Jt)|0,E=E+Math.imul(te,nn)|0,L=L+Math.imul(te,Jt)|0,I=I+Math.imul(Q,Rn)|0,E=E+Math.imul(Q,mn)|0,E=E+Math.imul(ie,Rn)|0,L=L+Math.imul(ie,mn)|0,I=I+Math.imul(F,un)|0,E=E+Math.imul(F,dn)|0,E=E+Math.imul(G,un)|0,L=L+Math.imul(G,dn)|0;var il=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(il>>>26)|0,il&=67108863,I=Math.imul(ue,ut),E=Math.imul(ue,bt),E=E+Math.imul(ve,ut)|0,L=Math.imul(ve,bt),I=I+Math.imul(re,Bt)|0,E=E+Math.imul(re,cn)|0,E=E+Math.imul(V,Bt)|0,L=L+Math.imul(V,cn)|0,I=I+Math.imul(Xe,rt)|0,E=E+Math.imul(Xe,Mt)|0,E=E+Math.imul(nt,rt)|0,L=L+Math.imul(nt,Mt)|0,I=I+Math.imul(Ae,Ot)|0,E=E+Math.imul(Ae,wt)|0,E=E+Math.imul(xe,Ot)|0,L=L+Math.imul(xe,wt)|0,I=I+Math.imul(ye,pe)|0,E=E+Math.imul(ye,Fe)|0,E=E+Math.imul(fe,pe)|0,L=L+Math.imul(fe,Fe)|0,I=I+Math.imul(he,Je)|0,E=E+Math.imul(he,mt)|0,E=E+Math.imul(ge,Je)|0,L=L+Math.imul(ge,mt)|0,I=I+Math.imul(oe,nn)|0,E=E+Math.imul(oe,Jt)|0,E=E+Math.imul(ee,nn)|0,L=L+Math.imul(ee,Jt)|0,I=I+Math.imul(X,Rn)|0,E=E+Math.imul(X,mn)|0,E=E+Math.imul(te,Rn)|0,L=L+Math.imul(te,mn)|0,I=I+Math.imul(Q,un)|0,E=E+Math.imul(Q,dn)|0,E=E+Math.imul(ie,un)|0,L=L+Math.imul(ie,dn)|0;var Sc=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,I=Math.imul(ue,Bt),E=Math.imul(ue,cn),E=E+Math.imul(ve,Bt)|0,L=Math.imul(ve,cn),I=I+Math.imul(re,rt)|0,E=E+Math.imul(re,Mt)|0,E=E+Math.imul(V,rt)|0,L=L+Math.imul(V,Mt)|0,I=I+Math.imul(Xe,Ot)|0,E=E+Math.imul(Xe,wt)|0,E=E+Math.imul(nt,Ot)|0,L=L+Math.imul(nt,wt)|0,I=I+Math.imul(Ae,pe)|0,E=E+Math.imul(Ae,Fe)|0,E=E+Math.imul(xe,pe)|0,L=L+Math.imul(xe,Fe)|0,I=I+Math.imul(ye,Je)|0,E=E+Math.imul(ye,mt)|0,E=E+Math.imul(fe,Je)|0,L=L+Math.imul(fe,mt)|0,I=I+Math.imul(he,nn)|0,E=E+Math.imul(he,Jt)|0,E=E+Math.imul(ge,nn)|0,L=L+Math.imul(ge,Jt)|0,I=I+Math.imul(oe,Rn)|0,E=E+Math.imul(oe,mn)|0,E=E+Math.imul(ee,Rn)|0,L=L+Math.imul(ee,mn)|0,I=I+Math.imul(X,un)|0,E=E+Math.imul(X,dn)|0,E=E+Math.imul(te,un)|0,L=L+Math.imul(te,dn)|0;var hs=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(hs>>>26)|0,hs&=67108863,I=Math.imul(ue,rt),E=Math.imul(ue,Mt),E=E+Math.imul(ve,rt)|0,L=Math.imul(ve,Mt),I=I+Math.imul(re,Ot)|0,E=E+Math.imul(re,wt)|0,E=E+Math.imul(V,Ot)|0,L=L+Math.imul(V,wt)|0,I=I+Math.imul(Xe,pe)|0,E=E+Math.imul(Xe,Fe)|0,E=E+Math.imul(nt,pe)|0,L=L+Math.imul(nt,Fe)|0,I=I+Math.imul(Ae,Je)|0,E=E+Math.imul(Ae,mt)|0,E=E+Math.imul(xe,Je)|0,L=L+Math.imul(xe,mt)|0,I=I+Math.imul(ye,nn)|0,E=E+Math.imul(ye,Jt)|0,E=E+Math.imul(fe,nn)|0,L=L+Math.imul(fe,Jt)|0,I=I+Math.imul(he,Rn)|0,E=E+Math.imul(he,mn)|0,E=E+Math.imul(ge,Rn)|0,L=L+Math.imul(ge,mn)|0,I=I+Math.imul(oe,un)|0,E=E+Math.imul(oe,dn)|0,E=E+Math.imul(ee,un)|0,L=L+Math.imul(ee,dn)|0;var Hi=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,I=Math.imul(ue,Ot),E=Math.imul(ue,wt),E=E+Math.imul(ve,Ot)|0,L=Math.imul(ve,wt),I=I+Math.imul(re,pe)|0,E=E+Math.imul(re,Fe)|0,E=E+Math.imul(V,pe)|0,L=L+Math.imul(V,Fe)|0,I=I+Math.imul(Xe,Je)|0,E=E+Math.imul(Xe,mt)|0,E=E+Math.imul(nt,Je)|0,L=L+Math.imul(nt,mt)|0,I=I+Math.imul(Ae,nn)|0,E=E+Math.imul(Ae,Jt)|0,E=E+Math.imul(xe,nn)|0,L=L+Math.imul(xe,Jt)|0,I=I+Math.imul(ye,Rn)|0,E=E+Math.imul(ye,mn)|0,E=E+Math.imul(fe,Rn)|0,L=L+Math.imul(fe,mn)|0,I=I+Math.imul(he,un)|0,E=E+Math.imul(he,dn)|0,E=E+Math.imul(ge,un)|0,L=L+Math.imul(ge,dn)|0;var ii=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(ii>>>26)|0,ii&=67108863,I=Math.imul(ue,pe),E=Math.imul(ue,Fe),E=E+Math.imul(ve,pe)|0,L=Math.imul(ve,Fe),I=I+Math.imul(re,Je)|0,E=E+Math.imul(re,mt)|0,E=E+Math.imul(V,Je)|0,L=L+Math.imul(V,mt)|0,I=I+Math.imul(Xe,nn)|0,E=E+Math.imul(Xe,Jt)|0,E=E+Math.imul(nt,nn)|0,L=L+Math.imul(nt,Jt)|0,I=I+Math.imul(Ae,Rn)|0,E=E+Math.imul(Ae,mn)|0,E=E+Math.imul(xe,Rn)|0,L=L+Math.imul(xe,mn)|0,I=I+Math.imul(ye,un)|0,E=E+Math.imul(ye,dn)|0,E=E+Math.imul(fe,un)|0,L=L+Math.imul(fe,dn)|0;var Gs=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(Gs>>>26)|0,Gs&=67108863,I=Math.imul(ue,Je),E=Math.imul(ue,mt),E=E+Math.imul(ve,Je)|0,L=Math.imul(ve,mt),I=I+Math.imul(re,nn)|0,E=E+Math.imul(re,Jt)|0,E=E+Math.imul(V,nn)|0,L=L+Math.imul(V,Jt)|0,I=I+Math.imul(Xe,Rn)|0,E=E+Math.imul(Xe,mn)|0,E=E+Math.imul(nt,Rn)|0,L=L+Math.imul(nt,mn)|0,I=I+Math.imul(Ae,un)|0,E=E+Math.imul(Ae,dn)|0,E=E+Math.imul(xe,un)|0,L=L+Math.imul(xe,dn)|0;var ai=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(ai>>>26)|0,ai&=67108863,I=Math.imul(ue,nn),E=Math.imul(ue,Jt),E=E+Math.imul(ve,nn)|0,L=Math.imul(ve,Jt),I=I+Math.imul(re,Rn)|0,E=E+Math.imul(re,mn)|0,E=E+Math.imul(V,Rn)|0,L=L+Math.imul(V,mn)|0,I=I+Math.imul(Xe,un)|0,E=E+Math.imul(Xe,dn)|0,E=E+Math.imul(nt,un)|0,L=L+Math.imul(nt,dn)|0;var fa=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(fa>>>26)|0,fa&=67108863,I=Math.imul(ue,Rn),E=Math.imul(ue,mn),E=E+Math.imul(ve,Rn)|0,L=Math.imul(ve,mn),I=I+Math.imul(re,un)|0,E=E+Math.imul(re,dn)|0,E=E+Math.imul(V,un)|0,L=L+Math.imul(V,dn)|0;var Ys=(j+I|0)+((E&8191)<<13)|0;j=(L+(E>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,I=Math.imul(ue,un),E=Math.imul(ue,dn),E=E+Math.imul(ve,un)|0,L=Math.imul(ve,dn);var Js=(j+I|0)+((E&8191)<<13)|0;return j=(L+(E>>>13)|0)+(Js>>>26)|0,Js&=67108863,U[0]=zn,U[1]=gr,U[2]=hn,U[3]=vr,U[4]=nl,U[5]=zi,U[6]=yr,U[7]=Ec,U[8]=rl,U[9]=il,U[10]=Sc,U[11]=hs,U[12]=Hi,U[13]=ii,U[14]=Gs,U[15]=ai,U[16]=fa,U[17]=Ys,U[18]=Js,j!==0&&(U[19]=j,A.length++),A};Math.imul||(w=y);function C(T,b,_){_.negative=b.negative^T.negative,_.length=T.length+b.length;for(var A=0,N=0,O=0;O<_.length-1;O++){var U=N;N=0;for(var j=A&67108863,I=Math.min(O,b.length-1),E=Math.max(0,O-T.length+1);E<=I;E++){var L=O-E,q=T.words[L]|0,F=b.words[E]|0,G=q*F,Y=G&67108863;U=U+(G/67108864|0)|0,Y=Y+j|0,j=Y&67108863,U=U+(Y>>>26)|0,N+=U>>>26,U&=67108863}_.words[O]=j,A=U,U=N}return A!==0?_.words[O]=A:_.length--,_.strip()}function x(T,b,_){var A=new M;return A.mulp(T,b,_)}a.prototype.mulTo=function(b,_){var A,N=this.length+b.length;return this.length===10&&b.length===10?A=w(this,b,_):N<63?A=y(this,b,_):N<1024?A=C(this,b,_):A=x(this,b,_),A};function M(T,b){this.x=T,this.y=b}M.prototype.makeRBT=function(b){for(var _=new Array(b),A=a.prototype._countBits(b)-1,N=0;N<b;N++)_[N]=this.revBin(N,A,b);return _},M.prototype.revBin=function(b,_,A){if(b===0||b===A-1)return b;for(var N=0,O=0;O<_;O++)N|=(b&1)<<_-O-1,b>>=1;return N},M.prototype.permute=function(b,_,A,N,O,U){for(var j=0;j<U;j++)N[j]=_[b[j]],O[j]=A[b[j]]},M.prototype.transform=function(b,_,A,N,O,U){this.permute(U,b,_,A,N,O);for(var j=1;j<O;j<<=1)for(var I=j<<1,E=Math.cos(2*Math.PI/I),L=Math.sin(2*Math.PI/I),q=0;q<O;q+=I)for(var F=E,G=L,Y=0;Y<j;Y++){var Q=A[q+Y],ie=N[q+Y],Z=A[q+Y+j],X=N[q+Y+j],te=F*Z-G*X;X=F*X+G*Z,Z=te,A[q+Y]=Q+Z,N[q+Y]=ie+X,A[q+Y+j]=Q-Z,N[q+Y+j]=ie-X,Y!==I&&(te=E*F-L*G,G=E*G+L*F,F=te)}},M.prototype.guessLen13b=function(b,_){var A=Math.max(_,b)|1,N=A&1,O=0;for(A=A/2|0;A;A=A>>>1)O++;return 1<<O+1+N},M.prototype.conjugate=function(b,_,A){if(!(A<=1))for(var N=0;N<A/2;N++){var O=b[N];b[N]=b[A-N-1],b[A-N-1]=O,O=_[N],_[N]=-_[A-N-1],_[A-N-1]=-O}},M.prototype.normalize13b=function(b,_){for(var A=0,N=0;N<_/2;N++){var O=Math.round(b[2*N+1]/_)*8192+Math.round(b[2*N]/_)+A;b[N]=O&67108863,O<67108864?A=0:A=O/67108864|0}return b},M.prototype.convert13b=function(b,_,A,N){for(var O=0,U=0;U<_;U++)O=O+(b[U]|0),A[2*U]=O&8191,O=O>>>13,A[2*U+1]=O&8191,O=O>>>13;for(U=2*_;U<N;++U)A[U]=0;r(O===0),r((O&-8192)===0)},M.prototype.stub=function(b){for(var _=new Array(b),A=0;A<b;A++)_[A]=0;return _},M.prototype.mulp=function(b,_,A){var N=2*this.guessLen13b(b.length,_.length),O=this.makeRBT(N),U=this.stub(N),j=new Array(N),I=new Array(N),E=new Array(N),L=new Array(N),q=new Array(N),F=new Array(N),G=A.words;G.length=N,this.convert13b(b.words,b.length,j,N),this.convert13b(_.words,_.length,L,N),this.transform(j,U,I,E,N,O),this.transform(L,U,q,F,N,O);for(var Y=0;Y<N;Y++){var Q=I[Y]*q[Y]-E[Y]*F[Y];E[Y]=I[Y]*F[Y]+E[Y]*q[Y],I[Y]=Q}return this.conjugate(I,E,N),this.transform(I,E,G,U,N,O),this.conjugate(G,U,N),this.normalize13b(G,N),A.negative=b.negative^_.negative,A.length=b.length+_.length,A.strip()},a.prototype.mul=function(b){var _=new a(null);return _.words=new Array(this.length+b.length),this.mulTo(b,_)},a.prototype.mulf=function(b){var _=new a(null);return _.words=new Array(this.length+b.length),x(this,b,_)},a.prototype.imul=function(b){return this.clone().mulTo(b,this)},a.prototype.imuln=function(b){r(typeof b=="number"),r(b<67108864);for(var _=0,A=0;A<this.length;A++){var N=(this.words[A]|0)*b,O=(N&67108863)+(_&67108863);_>>=26,_+=N/67108864|0,_+=O>>>26,this.words[A]=O&67108863}return _!==0&&(this.words[A]=_,this.length++),this.length=b===0?1:this.length,this},a.prototype.muln=function(b){return this.clone().imuln(b)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(b){var _=v(b);if(_.length===0)return new a(1);for(var A=this,N=0;N<_.length&&_[N]===0;N++,A=A.sqr());if(++N<_.length)for(var O=A.sqr();N<_.length;N++,O=O.sqr())_[N]!==0&&(A=A.mul(O));return A},a.prototype.iushln=function(b){r(typeof b=="number"&&b>=0);var _=b%26,A=(b-_)/26,N=67108863>>>26-_<<26-_,O;if(_!==0){var U=0;for(O=0;O<this.length;O++){var j=this.words[O]&N,I=(this.words[O]|0)-j<<_;this.words[O]=I|U,U=j>>>26-_}U&&(this.words[O]=U,this.length++)}if(A!==0){for(O=this.length-1;O>=0;O--)this.words[O+A]=this.words[O];for(O=0;O<A;O++)this.words[O]=0;this.length+=A}return this.strip()},a.prototype.ishln=function(b){return r(this.negative===0),this.iushln(b)},a.prototype.iushrn=function(b,_,A){r(typeof b=="number"&&b>=0);var N;_?N=(_-_%26)/26:N=0;var O=b%26,U=Math.min((b-O)/26,this.length),j=67108863^67108863>>>O<<O,I=A;if(N-=U,N=Math.max(0,N),I){for(var E=0;E<U;E++)I.words[E]=this.words[E];I.length=U}if(U!==0)if(this.length>U)for(this.length-=U,E=0;E<this.length;E++)this.words[E]=this.words[E+U];else this.words[0]=0,this.length=1;var L=0;for(E=this.length-1;E>=0&&(L!==0||E>=N);E--){var q=this.words[E]|0;this.words[E]=L<<26-O|q>>>O,L=q&j}return I&&L!==0&&(I.words[I.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(b,_,A){return r(this.negative===0),this.iushrn(b,_,A)},a.prototype.shln=function(b){return this.clone().ishln(b)},a.prototype.ushln=function(b){return this.clone().iushln(b)},a.prototype.shrn=function(b){return this.clone().ishrn(b)},a.prototype.ushrn=function(b){return this.clone().iushrn(b)},a.prototype.testn=function(b){r(typeof b=="number"&&b>=0);var _=b%26,A=(b-_)/26,N=1<<_;if(this.length<=A)return!1;var O=this.words[A];return!!(O&N)},a.prototype.imaskn=function(b){r(typeof b=="number"&&b>=0);var _=b%26,A=(b-_)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(_!==0&&A++,this.length=Math.min(A,this.length),_!==0){var N=67108863^67108863>>>_<<_;this.words[this.length-1]&=N}return this.strip()},a.prototype.maskn=function(b){return this.clone().imaskn(b)},a.prototype.iaddn=function(b){return r(typeof b=="number"),r(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},a.prototype._iaddn=function(b){this.words[0]+=b;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},a.prototype.isubn=function(b){if(r(typeof b=="number"),r(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this.strip()},a.prototype.addn=function(b){return this.clone().iaddn(b)},a.prototype.subn=function(b){return this.clone().isubn(b)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(b,_,A){var N=b.length+A,O;this._expand(N);var U,j=0;for(O=0;O<b.length;O++){U=(this.words[O+A]|0)+j;var I=(b.words[O]|0)*_;U-=I&67108863,j=(U>>26)-(I/67108864|0),this.words[O+A]=U&67108863}for(;O<this.length-A;O++)U=(this.words[O+A]|0)+j,j=U>>26,this.words[O+A]=U&67108863;if(j===0)return this.strip();for(r(j===-1),j=0,O=0;O<this.length;O++)U=-(this.words[O]|0)+j,j=U>>26,this.words[O]=U&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(b,_){var A=this.length-b.length,N=this.clone(),O=b,U=O.words[O.length-1]|0,j=this._countBits(U);A=26-j,A!==0&&(O=O.ushln(A),N.iushln(A),U=O.words[O.length-1]|0);var I=N.length-O.length,E;if(_!=="mod"){E=new a(null),E.length=I+1,E.words=new Array(E.length);for(var L=0;L<E.length;L++)E.words[L]=0}var q=N.clone()._ishlnsubmul(O,1,I);q.negative===0&&(N=q,E&&(E.words[I]=1));for(var F=I-1;F>=0;F--){var G=(N.words[O.length+F]|0)*67108864+(N.words[O.length+F-1]|0);for(G=Math.min(G/U|0,67108863),N._ishlnsubmul(O,G,F);N.negative!==0;)G--,N.negative=0,N._ishlnsubmul(O,1,F),N.isZero()||(N.negative^=1);E&&(E.words[F]=G)}return E&&E.strip(),N.strip(),_!=="div"&&A!==0&&N.iushrn(A),{div:E||null,mod:N}},a.prototype.divmod=function(b,_,A){if(r(!b.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var N,O,U;return this.negative!==0&&b.negative===0?(U=this.neg().divmod(b,_),_!=="mod"&&(N=U.div.neg()),_!=="div"&&(O=U.mod.neg(),A&&O.negative!==0&&O.iadd(b)),{div:N,mod:O}):this.negative===0&&b.negative!==0?(U=this.divmod(b.neg(),_),_!=="mod"&&(N=U.div.neg()),{div:N,mod:U.mod}):(this.negative&b.negative)!==0?(U=this.neg().divmod(b.neg(),_),_!=="div"&&(O=U.mod.neg(),A&&O.negative!==0&&O.isub(b)),{div:U.div,mod:O}):b.length>this.length||this.cmp(b)<0?{div:new a(0),mod:this}:b.length===1?_==="div"?{div:this.divn(b.words[0]),mod:null}:_==="mod"?{div:null,mod:new a(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new a(this.modn(b.words[0]))}:this._wordDiv(b,_)},a.prototype.div=function(b){return this.divmod(b,"div",!1).div},a.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},a.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},a.prototype.divRound=function(b){var _=this.divmod(b);if(_.mod.isZero())return _.div;var A=_.div.negative!==0?_.mod.isub(b):_.mod,N=b.ushrn(1),O=b.andln(1),U=A.cmp(N);return U<0||O===1&&U===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},a.prototype.modn=function(b){r(b<=67108863);for(var _=(1<<26)%b,A=0,N=this.length-1;N>=0;N--)A=(_*A+(this.words[N]|0))%b;return A},a.prototype.idivn=function(b){r(b<=67108863);for(var _=0,A=this.length-1;A>=0;A--){var N=(this.words[A]|0)+_*67108864;this.words[A]=N/b|0,_=N%b}return this.strip()},a.prototype.divn=function(b){return this.clone().idivn(b)},a.prototype.egcd=function(b){r(b.negative===0),r(!b.isZero());var _=this,A=b.clone();_.negative!==0?_=_.umod(b):_=_.clone();for(var N=new a(1),O=new a(0),U=new a(0),j=new a(1),I=0;_.isEven()&&A.isEven();)_.iushrn(1),A.iushrn(1),++I;for(var E=A.clone(),L=_.clone();!_.isZero();){for(var q=0,F=1;(_.words[0]&F)===0&&q<26;++q,F<<=1);if(q>0)for(_.iushrn(q);q-- >0;)(N.isOdd()||O.isOdd())&&(N.iadd(E),O.isub(L)),N.iushrn(1),O.iushrn(1);for(var G=0,Y=1;(A.words[0]&Y)===0&&G<26;++G,Y<<=1);if(G>0)for(A.iushrn(G);G-- >0;)(U.isOdd()||j.isOdd())&&(U.iadd(E),j.isub(L)),U.iushrn(1),j.iushrn(1);_.cmp(A)>=0?(_.isub(A),N.isub(U),O.isub(j)):(A.isub(_),U.isub(N),j.isub(O))}return{a:U,b:j,gcd:A.iushln(I)}},a.prototype._invmp=function(b){r(b.negative===0),r(!b.isZero());var _=this,A=b.clone();_.negative!==0?_=_.umod(b):_=_.clone();for(var N=new a(1),O=new a(0),U=A.clone();_.cmpn(1)>0&&A.cmpn(1)>0;){for(var j=0,I=1;(_.words[0]&I)===0&&j<26;++j,I<<=1);if(j>0)for(_.iushrn(j);j-- >0;)N.isOdd()&&N.iadd(U),N.iushrn(1);for(var E=0,L=1;(A.words[0]&L)===0&&E<26;++E,L<<=1);if(E>0)for(A.iushrn(E);E-- >0;)O.isOdd()&&O.iadd(U),O.iushrn(1);_.cmp(A)>=0?(_.isub(A),N.isub(O)):(A.isub(_),O.isub(N))}var q;return _.cmpn(1)===0?q=N:q=O,q.cmpn(0)<0&&q.iadd(b),q},a.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var _=this.clone(),A=b.clone();_.negative=0,A.negative=0;for(var N=0;_.isEven()&&A.isEven();N++)_.iushrn(1),A.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;A.isEven();)A.iushrn(1);var O=_.cmp(A);if(O<0){var U=_;_=A,A=U}else if(O===0||A.cmpn(1)===0)break;_.isub(A)}while(!0);return A.iushln(N)},a.prototype.invm=function(b){return this.egcd(b).a.umod(b)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(b){return this.words[0]&b},a.prototype.bincn=function(b){r(typeof b=="number");var _=b%26,A=(b-_)/26,N=1<<_;if(this.length<=A)return this._expand(A+1),this.words[A]|=N,this;for(var O=N,U=A;O!==0&&U<this.length;U++){var j=this.words[U]|0;j+=O,O=j>>>26,j&=67108863,this.words[U]=j}return O!==0&&(this.words[U]=O,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(b){var _=b<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this.strip();var A;if(this.length>1)A=1;else{_&&(b=-b),r(b<=67108863,"Number is too big");var N=this.words[0]|0;A=N===b?0:N<b?-1:1}return this.negative!==0?-A|0:A},a.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var _=this.ucmp(b);return this.negative!==0?-_|0:_},a.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var _=0,A=this.length-1;A>=0;A--){var N=this.words[A]|0,O=b.words[A]|0;if(N!==O){N<O?_=-1:N>O&&(_=1);break}}return _},a.prototype.gtn=function(b){return this.cmpn(b)===1},a.prototype.gt=function(b){return this.cmp(b)===1},a.prototype.gten=function(b){return this.cmpn(b)>=0},a.prototype.gte=function(b){return this.cmp(b)>=0},a.prototype.ltn=function(b){return this.cmpn(b)===-1},a.prototype.lt=function(b){return this.cmp(b)===-1},a.prototype.lten=function(b){return this.cmpn(b)<=0},a.prototype.lte=function(b){return this.cmp(b)<=0},a.prototype.eqn=function(b){return this.cmpn(b)===0},a.prototype.eq=function(b){return this.cmp(b)===0},a.red=function(b){return new D(b)},a.prototype.toRed=function(b){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(b){return this.red=b,this},a.prototype.forceRed=function(b){return r(!this.red,"Already a number in reduction context"),this._forceRed(b)},a.prototype.redAdd=function(b){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},a.prototype.redIAdd=function(b){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},a.prototype.redSub=function(b){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},a.prototype.redISub=function(b){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},a.prototype.redShl=function(b){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},a.prototype.redMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},a.prototype.redIMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(b){return r(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var k={k256:null,p224:null,p192:null,p25519:null};function z(T,b){this.name=T,this.p=new a(b,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var b=new a(null);return b.words=new Array(Math.ceil(this.n/13)),b},z.prototype.ireduce=function(b){var _=b,A;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),A=_.bitLength();while(A>this.n);var N=A<this.n?-1:_.ucmp(this.p);return N===0?(_.words[0]=0,_.length=1):N>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},z.prototype.split=function(b,_){b.iushrn(this.n,0,_)},z.prototype.imulK=function(b){return b.imul(this.k)};function P(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(P,z),P.prototype.split=function(b,_){for(var A=4194303,N=Math.min(b.length,9),O=0;O<N;O++)_.words[O]=b.words[O];if(_.length=N,b.length<=9){b.words[0]=0,b.length=1;return}var U=b.words[9];for(_.words[_.length++]=U&A,O=10;O<b.length;O++){var j=b.words[O]|0;b.words[O-10]=(j&A)<<4|U>>>22,U=j}U>>>=22,b.words[O-10]=U,U===0&&b.length>10?b.length-=10:b.length-=9},P.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var _=0,A=0;A<b.length;A++){var N=b.words[A]|0;_+=N*977,b.words[A]=_&67108863,_=N*64+(_/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function K(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,z);function W(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,z);function B(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(B,z),B.prototype.imulK=function(b){for(var _=0,A=0;A<b.length;A++){var N=(b.words[A]|0)*19+_,O=N&67108863;N>>>=26,b.words[A]=O,_=N}return _!==0&&(b.words[b.length++]=_),b},a._prime=function(b){if(k[b])return k[b];var _;if(b==="k256")_=new P;else if(b==="p224")_=new K;else if(b==="p192")_=new W;else if(b==="p25519")_=new B;else throw new Error("Unknown prime "+b);return k[b]=_,_};function D(T){if(typeof T=="string"){var b=a._prime(T);this.m=b.p,this.prime=b}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}D.prototype._verify1=function(b){r(b.negative===0,"red works only with positives"),r(b.red,"red works only with red numbers")},D.prototype._verify2=function(b,_){r((b.negative|_.negative)===0,"red works only with positives"),r(b.red&&b.red===_.red,"red works only with red numbers")},D.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},D.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},D.prototype.add=function(b,_){this._verify2(b,_);var A=b.add(_);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},D.prototype.iadd=function(b,_){this._verify2(b,_);var A=b.iadd(_);return A.cmp(this.m)>=0&&A.isub(this.m),A},D.prototype.sub=function(b,_){this._verify2(b,_);var A=b.sub(_);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},D.prototype.isub=function(b,_){this._verify2(b,_);var A=b.isub(_);return A.cmpn(0)<0&&A.iadd(this.m),A},D.prototype.shl=function(b,_){return this._verify1(b),this.imod(b.ushln(_))},D.prototype.imul=function(b,_){return this._verify2(b,_),this.imod(b.imul(_))},D.prototype.mul=function(b,_){return this._verify2(b,_),this.imod(b.mul(_))},D.prototype.isqr=function(b){return this.imul(b,b.clone())},D.prototype.sqr=function(b){return this.mul(b,b)},D.prototype.sqrt=function(b){if(b.isZero())return b.clone();var _=this.m.andln(3);if(r(_%2===1),_===3){var A=this.m.add(new a(1)).iushrn(2);return this.pow(b,A)}for(var N=this.m.subn(1),O=0;!N.isZero()&&N.andln(1)===0;)O++,N.iushrn(1);r(!N.isZero());var U=new a(1).toRed(this),j=U.redNeg(),I=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new a(2*E*E).toRed(this);this.pow(E,I).cmp(j)!==0;)E.redIAdd(j);for(var L=this.pow(E,N),q=this.pow(b,N.addn(1).iushrn(1)),F=this.pow(b,N),G=O;F.cmp(U)!==0;){for(var Y=F,Q=0;Y.cmp(U)!==0;Q++)Y=Y.redSqr();r(Q<G);var ie=this.pow(L,new a(1).iushln(G-Q-1));q=q.redMul(ie),L=ie.redSqr(),F=F.redMul(L),G=Q}return q},D.prototype.invm=function(b){var _=b._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},D.prototype.pow=function(b,_){if(_.isZero())return new a(1).toRed(this);if(_.cmpn(1)===0)return b.clone();var A=4,N=new Array(1<<A);N[0]=new a(1).toRed(this),N[1]=b;for(var O=2;O<N.length;O++)N[O]=this.mul(N[O-1],b);var U=N[0],j=0,I=0,E=_.bitLength()%26;for(E===0&&(E=26),O=_.length-1;O>=0;O--){for(var L=_.words[O],q=E-1;q>=0;q--){var F=L>>q&1;if(U!==N[0]&&(U=this.sqr(U)),F===0&&j===0){I=0;continue}j<<=1,j|=F,I++,!(I!==A&&(O!==0||q!==0))&&(U=this.mul(U,N[j]),I=0,j=0)}E=26}return U},D.prototype.convertTo=function(b){var _=b.umod(this.m);return _===b?_.clone():_},D.prototype.convertFrom=function(b){var _=b.clone();return _.red=null,_},a.mont=function(b){return new $(b)};function $(T){D.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i($,D),$.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},$.prototype.convertFrom=function(b){var _=this.imod(b.mul(this.rinv));return _.red=null,_},$.prototype.imul=function(b,_){if(b.isZero()||_.isZero())return b.words[0]=0,b.length=1,b;var A=b.imul(_),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(N).iushrn(this.shift),U=O;return O.cmp(this.m)>=0?U=O.isub(this.m):O.cmpn(0)<0&&(U=O.iadd(this.m)),U._forceRed(this)},$.prototype.mul=function(b,_){if(b.isZero()||_.isZero())return new a(0)._forceRed(this);var A=b.mul(_),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(N).iushrn(this.shift),U=O;return O.cmp(this.m)>=0?U=O.isub(this.m):O.cmpn(0)<0&&(U=O.iadd(this.m)),U._forceRed(this)},$.prototype.invm=function(b){var _=this.imod(b._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(t,VF)}(Jg)),Jg.exports}var _x={},bA;function Jk(){return bA||(bA=1,function(t){var e=t;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var s=[];if(typeof a!="string"){for(var u=0;u<a.length;u++)s[u]=a[u]|0;return s}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var u=0;u<a.length;u+=2)s.push(parseInt(a[u]+a[u+1],16))}else for(var u=0;u<a.length;u++){var l=a.charCodeAt(u),h=l>>8,p=l&255;h?s.push(h,p):s.push(p)}return s}e.toArray=n;function r(a){return a.length===1?"0"+a:a}e.zero2=r;function i(a){for(var o="",s=0;s<a.length;s++)o+=r(a[s].toString(16));return o}e.toHex=i,e.encode=function(o,s){return s==="hex"?i(o):o}}(_x)),_x}var wA;function qa(){return wA||(wA=1,function(t){var e=t,n=Zo(),r=ku(),i=Jk();e.assert=r,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(h,p,g){var v=new Array(Math.max(h.bitLength(),g)+1),y;for(y=0;y<v.length;y+=1)v[y]=0;var w=1<<p+1,C=h.clone();for(y=0;y<v.length;y++){var x,M=C.andln(w-1);C.isOdd()?(M>(w>>1)-1?x=(w>>1)-M:x=M,C.isubn(x)):x=0,v[y]=x,C.iushrn(1)}return v}e.getNAF=a;function o(h,p){var g=[[],[]];h=h.clone(),p=p.clone();for(var v=0,y=0,w;h.cmpn(-v)>0||p.cmpn(-y)>0;){var C=h.andln(3)+v&3,x=p.andln(3)+y&3;C===3&&(C=-1),x===3&&(x=-1);var M;(C&1)===0?M=0:(w=h.andln(7)+v&7,(w===3||w===5)&&x===2?M=-C:M=C),g[0].push(M);var k;(x&1)===0?k=0:(w=p.andln(7)+y&7,(w===3||w===5)&&C===2?k=-x:k=x),g[1].push(k),2*v===M+1&&(v=1-v),2*y===k+1&&(y=1-y),h.iushrn(1),p.iushrn(1)}return g}e.getJSF=o;function s(h,p,g){var v="_"+p;h.prototype[p]=function(){return this[v]!==void 0?this[v]:this[v]=g.call(this)}}e.cachedProperty=s;function u(h){return typeof h=="string"?e.toArray(h,"hex"):h}e.parseBytes=u;function l(h){return new n(h,"hex","le")}e.intFromLE=l}(Sx)),Sx}var Um={exports:{}},xA;function Zk(){if(xA)return Um.exports;xA=1;var t;Um.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(r){this.rand=r}if(Um.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var a=new Uint8Array(i),o=0;o<a.length;o++)a[o]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var a=new Uint8Array(i);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var a=new Uint8Array(i);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=Uk;if(typeof n.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return n.randomBytes(i)}}catch{}return Um.exports}var Cx={},Nx,EA;function My(){if(EA)return Nx;EA=1;var t=Zo(),e=qa(),n=e.getNAF,r=e.getJSF,i=e.assert;function a(s,u){this.type=s,this.p=new t(u.p,16),this.red=u.prime?t.red(u.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=u.n&&new t(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Nx=a,a.prototype.point=function(){throw new Error("Not implemented")},a.prototype.validate=function(){throw new Error("Not implemented")},a.prototype._fixedNafMul=function(u,l){i(u.precomputed);var h=u._getDoubles(),p=n(l,1,this._bitLength),g=(1<<h.step+1)-(h.step%2===0?2:1);g/=3;var v=[],y,w;for(y=0;y<p.length;y+=h.step){w=0;for(var C=y+h.step-1;C>=y;C--)w=(w<<1)+p[C];v.push(w)}for(var x=this.jpoint(null,null,null),M=this.jpoint(null,null,null),k=g;k>0;k--){for(y=0;y<v.length;y++)w=v[y],w===k?M=M.mixedAdd(h.points[y]):w===-k&&(M=M.mixedAdd(h.points[y].neg()));x=x.add(M)}return x.toP()},a.prototype._wnafMul=function(u,l){var h=4,p=u._getNAFPoints(h);h=p.wnd;for(var g=p.points,v=n(l,h,this._bitLength),y=this.jpoint(null,null,null),w=v.length-1;w>=0;w--){for(var C=0;w>=0&&v[w]===0;w--)C++;if(w>=0&&C++,y=y.dblp(C),w<0)break;var x=v[w];i(x!==0),u.type==="affine"?x>0?y=y.mixedAdd(g[x-1>>1]):y=y.mixedAdd(g[-x-1>>1].neg()):x>0?y=y.add(g[x-1>>1]):y=y.add(g[-x-1>>1].neg())}return u.type==="affine"?y.toP():y},a.prototype._wnafMulAdd=function(u,l,h,p,g){var v=this._wnafT1,y=this._wnafT2,w=this._wnafT3,C=0,x,M,k;for(x=0;x<p;x++){k=l[x];var z=k._getNAFPoints(u);v[x]=z.wnd,y[x]=z.points}for(x=p-1;x>=1;x-=2){var P=x-1,K=x;if(v[P]!==1||v[K]!==1){w[P]=n(h[P],v[P],this._bitLength),w[K]=n(h[K],v[K],this._bitLength),C=Math.max(w[P].length,C),C=Math.max(w[K].length,C);continue}var W=[l[P],null,null,l[K]];l[P].y.cmp(l[K].y)===0?(W[1]=l[P].add(l[K]),W[2]=l[P].toJ().mixedAdd(l[K].neg())):l[P].y.cmp(l[K].y.redNeg())===0?(W[1]=l[P].toJ().mixedAdd(l[K]),W[2]=l[P].add(l[K].neg())):(W[1]=l[P].toJ().mixedAdd(l[K]),W[2]=l[P].toJ().mixedAdd(l[K].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],D=r(h[P],h[K]);for(C=Math.max(D[0].length,C),w[P]=new Array(C),w[K]=new Array(C),M=0;M<C;M++){var $=D[0][M]|0,T=D[1][M]|0;w[P][M]=B[($+1)*3+(T+1)],w[K][M]=0,y[P]=W}}var b=this.jpoint(null,null,null),_=this._wnafT4;for(x=C;x>=0;x--){for(var A=0;x>=0;){var N=!0;for(M=0;M<p;M++)_[M]=w[M][x]|0,_[M]!==0&&(N=!1);if(!N)break;A++,x--}if(x>=0&&A++,b=b.dblp(A),x<0)break;for(M=0;M<p;M++){var O=_[M];O!==0&&(O>0?k=y[M][O-1>>1]:O<0&&(k=y[M][-O-1>>1].neg()),k.type==="affine"?b=b.mixedAdd(k):b=b.add(k))}}for(x=0;x<p;x++)y[x]=null;return g?b:b.toP()};function o(s,u){this.curve=s,this.type=u,this.precomputed=null}return a.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},a.prototype.decodePoint=function(u,l){u=e.toArray(u,l);var h=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1===2*h){u[0]===6?i(u[u.length-1]%2===0):u[0]===7&&i(u[u.length-1]%2===1);var p=this.point(u.slice(1,1+h),u.slice(1+h,1+2*h));return p}else if((u[0]===2||u[0]===3)&&u.length-1===h)return this.pointFromX(u.slice(1,1+h),u[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(u){return this.encode(u,!0)},o.prototype._encode=function(u){var l=this.curve.p.byteLength(),h=this.getX().toArray("be",l);return u?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",l))},o.prototype.encode=function(u,l){return e.encode(this._encode(l),u)},o.prototype.precompute=function(u){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,u),l.beta=this._getBeta(),this.precomputed=l,this},o.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((u.bitLength()+1)/l.step):!1},o.prototype._getDoubles=function(u,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],p=this,g=0;g<l;g+=u){for(var v=0;v<u;v++)p=p.dbl();h.push(p)}return{step:u,points:h}},o.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],h=(1<<u)-1,p=h===1?null:this.dbl(),g=1;g<h;g++)l[g]=l[g-1].add(p);return{wnd:u,points:l}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(u){for(var l=this,h=0;h<u;h++)l=l.dbl();return l},Nx}var Ax,SA;function GF(){if(SA)return Ax;SA=1;var t=qa(),e=Zo(),n=ds(),r=My(),i=t.assert;function a(u){r.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(a,r),Ax=a,a.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var h,p;if(l.beta)h=new e(l.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);h=g[0].cmp(g[1])<0?g[0]:g[1],h=h.toRed(this.red)}if(l.lambda)p=new e(l.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(h))===0?p=v[0]:(p=v[1],i(this.g.mul(p).x.cmp(this.g.x.redMul(h))===0))}var y;return l.basis?y=l.basis.map(function(w){return{a:new e(w.a,16),b:new e(w.b,16)}}):y=this._getEndoBasis(p),{beta:h,lambda:p,basis:y}}},a.prototype._getEndoRoots=function(l){var h=l===this.p?this.red:e.mont(l),p=new e(2).toRed(h).redInvm(),g=p.redNeg(),v=new e(3).toRed(h).redNeg().redSqrt().redMul(p),y=g.redAdd(v).fromRed(),w=g.redSub(v).fromRed();return[y,w]},a.prototype._getEndoBasis=function(l){for(var h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=l,g=this.n.clone(),v=new e(1),y=new e(0),w=new e(0),C=new e(1),x,M,k,z,P,K,W,B=0,D,$;p.cmpn(0)!==0;){var T=g.div(p);D=g.sub(T.mul(p)),$=w.sub(T.mul(v));var b=C.sub(T.mul(y));if(!k&&D.cmp(h)<0)x=W.neg(),M=v,k=D.neg(),z=$;else if(k&&++B===2)break;W=D,g=p,p=D,w=v,v=$,C=y,y=b}P=D.neg(),K=$;var _=k.sqr().add(z.sqr()),A=P.sqr().add(K.sqr());return A.cmp(_)>=0&&(P=x,K=M),k.negative&&(k=k.neg(),z=z.neg()),P.negative&&(P=P.neg(),K=K.neg()),[{a:k,b:z},{a:P,b:K}]},a.prototype._endoSplit=function(l){var h=this.endo.basis,p=h[0],g=h[1],v=g.b.mul(l).divRound(this.n),y=p.b.neg().mul(l).divRound(this.n),w=v.mul(p.a),C=y.mul(g.a),x=v.mul(p.b),M=y.mul(g.b),k=l.sub(w).sub(C),z=x.add(M).neg();return{k1:k,k2:z}},a.prototype.pointFromX=function(l,h){l=new e(l,16),l.red||(l=l.toRed(this.red));var p=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),g=p.redSqrt();if(g.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(h&&!v||!h&&v)&&(g=g.redNeg()),this.point(l,g)},a.prototype.validate=function(l){if(l.inf)return!0;var h=l.x,p=l.y,g=this.a.redMul(h),v=h.redSqr().redMul(h).redIAdd(g).redIAdd(this.b);return p.redSqr().redISub(v).cmpn(0)===0},a.prototype._endoWnafMulAdd=function(l,h,p){for(var g=this._endoWnafT1,v=this._endoWnafT2,y=0;y<l.length;y++){var w=this._endoSplit(h[y]),C=l[y],x=C._getBeta();w.k1.negative&&(w.k1.ineg(),C=C.neg(!0)),w.k2.negative&&(w.k2.ineg(),x=x.neg(!0)),g[y*2]=C,g[y*2+1]=x,v[y*2]=w.k1,v[y*2+1]=w.k2}for(var M=this._wnafMulAdd(1,g,v,y*2,p),k=0;k<y*2;k++)g[k]=null,v[k]=null;return M};function o(u,l,h,p){r.BasePoint.call(this,u,"affine"),l===null&&h===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(l,16),this.y=new e(h,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(o,r.BasePoint),a.prototype.point=function(l,h,p){return new o(this,l,h,p)},a.prototype.pointFromJSON=function(l,h){return o.fromJSON(this,l,h)},o.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var h=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var p=this.curve,g=function(v){return p.point(v.x.redMul(p.endo.beta),v.y)};l.beta=h,h.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(g)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(g)}}}return h}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(l,h,p){typeof h=="string"&&(h=JSON.parse(h));var g=l.point(h[0],h[1],p);if(!h[2])return g;function v(w){return l.point(w[0],w[1],p)}var y=h[2];return g.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[g].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[g].concat(y.naf.points.map(v))}},g},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var h=this.y.redSub(l.y);h.cmpn(0)!==0&&(h=h.redMul(this.x.redSub(l.x).redInvm()));var p=h.redSqr().redISub(this.x).redISub(l.x),g=h.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,g)},o.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var h=this.curve.a,p=this.x.redSqr(),g=l.redInvm(),v=p.redAdd(p).redIAdd(p).redIAdd(h).redMul(g),y=v.redSqr().redISub(this.x.redAdd(this.x)),w=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,w)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(l){return l=new e(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},o.prototype.mulAdd=function(l,h,p){var g=[this,h],v=[l,p];return this.curve.endo?this.curve._endoWnafMulAdd(g,v):this.curve._wnafMulAdd(1,g,v,2)},o.prototype.jmulAdd=function(l,h,p){var g=[this,h],v=[l,p];return this.curve.endo?this.curve._endoWnafMulAdd(g,v,!0):this.curve._wnafMulAdd(1,g,v,2,!0)},o.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},o.prototype.neg=function(l){if(this.inf)return this;var h=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var p=this.precomputed,g=function(v){return v.neg()};h.precomputed={naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(g)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(g)}}}return h},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function s(u,l,h,p){r.BasePoint.call(this,u,"jacobian"),l===null&&h===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(l,16),this.y=new e(h,16),this.z=new e(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return n(s,r.BasePoint),a.prototype.jpoint=function(l,h,p){return new s(this,l,h,p)},s.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),h=l.redSqr(),p=this.x.redMul(h),g=this.y.redMul(h).redMul(l);return this.curve.point(p,g)},s.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},s.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var h=l.z.redSqr(),p=this.z.redSqr(),g=this.x.redMul(h),v=l.x.redMul(p),y=this.y.redMul(h.redMul(l.z)),w=l.y.redMul(p.redMul(this.z)),C=g.redSub(v),x=y.redSub(w);if(C.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=C.redSqr(),k=M.redMul(C),z=g.redMul(M),P=x.redSqr().redIAdd(k).redISub(z).redISub(z),K=x.redMul(z.redISub(P)).redISub(y.redMul(k)),W=this.z.redMul(l.z).redMul(C);return this.curve.jpoint(P,K,W)},s.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var h=this.z.redSqr(),p=this.x,g=l.x.redMul(h),v=this.y,y=l.y.redMul(h).redMul(this.z),w=p.redSub(g),C=v.redSub(y);if(w.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=w.redSqr(),M=x.redMul(w),k=p.redMul(x),z=C.redSqr().redIAdd(M).redISub(k).redISub(k),P=C.redMul(k.redISub(z)).redISub(v.redMul(M)),K=this.z.redMul(w);return this.curve.jpoint(z,P,K)},s.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var h;if(this.curve.zeroA||this.curve.threeA){var p=this;for(h=0;h<l;h++)p=p.dbl();return p}var g=this.curve.a,v=this.curve.tinv,y=this.x,w=this.y,C=this.z,x=C.redSqr().redSqr(),M=w.redAdd(w);for(h=0;h<l;h++){var k=y.redSqr(),z=M.redSqr(),P=z.redSqr(),K=k.redAdd(k).redIAdd(k).redIAdd(g.redMul(x)),W=y.redMul(z),B=K.redSqr().redISub(W.redAdd(W)),D=W.redISub(B),$=K.redMul(D);$=$.redIAdd($).redISub(P);var T=M.redMul(C);h+1<l&&(x=x.redMul(P)),y=B,C=T,M=$}return this.curve.jpoint(y,M.redMul(v),C)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},s.prototype._zeroDbl=function(){var l,h,p;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(g).redISub(y);w=w.redIAdd(w);var C=g.redAdd(g).redIAdd(g),x=C.redSqr().redISub(w).redISub(w),M=y.redIAdd(y);M=M.redIAdd(M),M=M.redIAdd(M),l=x,h=C.redMul(w.redISub(x)).redISub(M),p=this.y.redAdd(this.y)}else{var k=this.x.redSqr(),z=this.y.redSqr(),P=z.redSqr(),K=this.x.redAdd(z).redSqr().redISub(k).redISub(P);K=K.redIAdd(K);var W=k.redAdd(k).redIAdd(k),B=W.redSqr(),D=P.redIAdd(P);D=D.redIAdd(D),D=D.redIAdd(D),l=B.redISub(K).redISub(K),h=W.redMul(K.redISub(l)).redISub(D),p=this.y.redMul(this.z),p=p.redIAdd(p)}return this.curve.jpoint(l,h,p)},s.prototype._threeDbl=function(){var l,h,p;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(g).redISub(y);w=w.redIAdd(w);var C=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),x=C.redSqr().redISub(w).redISub(w);l=x;var M=y.redIAdd(y);M=M.redIAdd(M),M=M.redIAdd(M),h=C.redMul(w.redISub(x)).redISub(M),p=this.y.redAdd(this.y)}else{var k=this.z.redSqr(),z=this.y.redSqr(),P=this.x.redMul(z),K=this.x.redSub(k).redMul(this.x.redAdd(k));K=K.redAdd(K).redIAdd(K);var W=P.redIAdd(P);W=W.redIAdd(W);var B=W.redAdd(W);l=K.redSqr().redISub(B),p=this.y.redAdd(this.z).redSqr().redISub(z).redISub(k);var D=z.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),h=K.redMul(W.redISub(l)).redISub(D)}return this.curve.jpoint(l,h,p)},s.prototype._dbl=function(){var l=this.curve.a,h=this.x,p=this.y,g=this.z,v=g.redSqr().redSqr(),y=h.redSqr(),w=p.redSqr(),C=y.redAdd(y).redIAdd(y).redIAdd(l.redMul(v)),x=h.redAdd(h);x=x.redIAdd(x);var M=x.redMul(w),k=C.redSqr().redISub(M.redAdd(M)),z=M.redISub(k),P=w.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var K=C.redMul(z).redISub(P),W=p.redAdd(p).redMul(g);return this.curve.jpoint(k,K,W)},s.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),h=this.y.redSqr(),p=this.z.redSqr(),g=h.redSqr(),v=l.redAdd(l).redIAdd(l),y=v.redSqr(),w=this.x.redAdd(h).redSqr().redISub(l).redISub(g);w=w.redIAdd(w),w=w.redAdd(w).redIAdd(w),w=w.redISub(y);var C=w.redSqr(),x=g.redIAdd(g);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var M=v.redIAdd(w).redSqr().redISub(y).redISub(C).redISub(x),k=h.redMul(M);k=k.redIAdd(k),k=k.redIAdd(k);var z=this.x.redMul(C).redISub(k);z=z.redIAdd(z),z=z.redIAdd(z);var P=this.y.redMul(M.redMul(x.redISub(M)).redISub(w.redMul(C)));P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var K=this.z.redAdd(w).redSqr().redISub(p).redISub(C);return this.curve.jpoint(z,P,K)},s.prototype.mul=function(l,h){return l=new e(l,h),this.curve._wnafMul(this,l)},s.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var h=this.z.redSqr(),p=l.z.redSqr();if(this.x.redMul(p).redISub(l.x.redMul(h)).cmpn(0)!==0)return!1;var g=h.redMul(this.z),v=p.redMul(l.z);return this.y.redMul(v).redISub(l.y.redMul(g)).cmpn(0)===0},s.prototype.eqXToP=function(l){var h=this.z.redSqr(),p=l.toRed(this.curve.red).redMul(h);if(this.x.cmp(p)===0)return!0;for(var g=l.clone(),v=this.curve.redN.redMul(h);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(v),this.x.cmp(p)===0)return!0}},s.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Ax}var jx,_A;function YF(){if(_A)return jx;_A=1;var t=Zo(),e=ds(),n=My(),r=qa();function i(o){n.call(this,"mont",o),this.a=new t(o.a,16).toRed(this.red),this.b=new t(o.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,n),jx=i,i.prototype.validate=function(s){var u=s.normalize().x,l=u.redSqr(),h=l.redMul(u).redAdd(l.redMul(this.a)).redAdd(u),p=h.redSqrt();return p.redSqr().cmp(h)===0};function a(o,s,u){n.BasePoint.call(this,o,"projective"),s===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(s,16),this.z=new t(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(a,n.BasePoint),i.prototype.decodePoint=function(s,u){return this.point(r.toArray(s,u),1)},i.prototype.point=function(s,u){return new a(this,s,u)},i.prototype.pointFromJSON=function(s){return a.fromJSON(this,s)},a.prototype.precompute=function(){},a.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},a.fromJSON=function(s,u){return new a(s,u[0],u[1]||s.one)},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},a.prototype.dbl=function(){var s=this.x.redAdd(this.z),u=s.redSqr(),l=this.x.redSub(this.z),h=l.redSqr(),p=u.redSub(h),g=u.redMul(h),v=p.redMul(h.redAdd(this.curve.a24.redMul(p)));return this.curve.point(g,v)},a.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.diffAdd=function(s,u){var l=this.x.redAdd(this.z),h=this.x.redSub(this.z),p=s.x.redAdd(s.z),g=s.x.redSub(s.z),v=g.redMul(l),y=p.redMul(h),w=u.z.redMul(v.redAdd(y).redSqr()),C=u.x.redMul(v.redISub(y).redSqr());return this.curve.point(w,C)},a.prototype.mul=function(s){for(var u=s.clone(),l=this,h=this.curve.point(null,null),p=this,g=[];u.cmpn(0)!==0;u.iushrn(1))g.push(u.andln(1));for(var v=g.length-1;v>=0;v--)g[v]===0?(l=l.diffAdd(h,p),h=h.dbl()):(h=l.diffAdd(h,p),l=l.dbl());return h},a.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},a.prototype.eq=function(s){return this.getX().cmp(s.getX())===0},a.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},jx}var Mx,CA;function JF(){if(CA)return Mx;CA=1;var t=qa(),e=Zo(),n=ds(),r=My(),i=t.assert;function a(s){this.twisted=(s.a|0)!==1,this.mOneA=this.twisted&&(s.a|0)===-1,this.extended=this.mOneA,r.call(this,"edwards",s),this.a=new e(s.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(s.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(s.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(s.c|0)===1}n(a,r),Mx=a,a.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},a.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},a.prototype.jpoint=function(u,l,h,p){return this.point(u,l,h,p)},a.prototype.pointFromX=function(u,l){u=new e(u,16),u.red||(u=u.toRed(this.red));var h=u.redSqr(),p=this.c2.redSub(this.a.redMul(h)),g=this.one.redSub(this.c2.redMul(this.d).redMul(h)),v=p.redMul(g.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var w=y.fromRed().isOdd();return(l&&!w||!l&&w)&&(y=y.redNeg()),this.point(u,y)},a.prototype.pointFromY=function(u,l){u=new e(u,16),u.red||(u=u.toRed(this.red));var h=u.redSqr(),p=h.redSub(this.c2),g=h.redMul(this.d).redMul(this.c2).redSub(this.a),v=p.redMul(g.redInvm());if(v.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,u)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==l&&(y=y.redNeg()),this.point(y,u)},a.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var l=u.x.redSqr(),h=u.y.redSqr(),p=l.redMul(this.a).redAdd(h),g=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(h)));return p.cmp(g)===0};function o(s,u,l,h,p){r.BasePoint.call(this,s,"projective"),u===null&&l===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(u,16),this.y=new e(l,16),this.z=h?new e(h,16):this.curve.one,this.t=p&&new e(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return n(o,r.BasePoint),a.prototype.pointFromJSON=function(u){return o.fromJSON(this,u)},a.prototype.point=function(u,l,h,p){return new o(this,u,l,h,p)},o.fromJSON=function(u,l){return new o(u,l[0],l[1],l[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var u=this.x.redSqr(),l=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var p=this.curve._mulA(u),g=this.x.redAdd(this.y).redSqr().redISub(u).redISub(l),v=p.redAdd(l),y=v.redSub(h),w=p.redSub(l),C=g.redMul(y),x=v.redMul(w),M=g.redMul(w),k=y.redMul(v);return this.curve.point(C,x,k,M)},o.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),h=this.y.redSqr(),p,g,v,y,w,C;if(this.curve.twisted){y=this.curve._mulA(l);var x=y.redAdd(h);this.zOne?(p=u.redSub(l).redSub(h).redMul(x.redSub(this.curve.two)),g=x.redMul(y.redSub(h)),v=x.redSqr().redSub(x).redSub(x)):(w=this.z.redSqr(),C=x.redSub(w).redISub(w),p=u.redSub(l).redISub(h).redMul(C),g=x.redMul(y.redSub(h)),v=x.redMul(C))}else y=l.redAdd(h),w=this.curve._mulC(this.z).redSqr(),C=y.redSub(w).redSub(w),p=this.curve._mulC(u.redISub(y)).redMul(C),g=this.curve._mulC(y).redMul(l.redISub(h)),v=y.redMul(C);return this.curve.point(p,g,v)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(u){var l=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),h=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),p=this.t.redMul(this.curve.dd).redMul(u.t),g=this.z.redMul(u.z.redAdd(u.z)),v=h.redSub(l),y=g.redSub(p),w=g.redAdd(p),C=h.redAdd(l),x=v.redMul(y),M=w.redMul(C),k=v.redMul(C),z=y.redMul(w);return this.curve.point(x,M,z,k)},o.prototype._projAdd=function(u){var l=this.z.redMul(u.z),h=l.redSqr(),p=this.x.redMul(u.x),g=this.y.redMul(u.y),v=this.curve.d.redMul(p).redMul(g),y=h.redSub(v),w=h.redAdd(v),C=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(p).redISub(g),x=l.redMul(y).redMul(C),M,k;return this.curve.twisted?(M=l.redMul(w).redMul(g.redSub(this.curve._mulA(p))),k=y.redMul(w)):(M=l.redMul(w).redMul(g.redSub(p)),k=this.curve._mulC(y).redMul(w)),this.curve.point(x,M,k)},o.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},o.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},o.prototype.mulAdd=function(u,l,h){return this.curve._wnafMulAdd(1,[this,l],[u,h],2,!1)},o.prototype.jmulAdd=function(u,l,h){return this.curve._wnafMulAdd(1,[this,l],[u,h],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},o.prototype.eqXToP=function(u){var l=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var h=u.clone(),p=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(p),this.x.cmp(l)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,Mx}var NA;function Qk(){return NA||(NA=1,function(t){var e=t;e.base=My(),e.short=GF(),e.mont=YF(),e.edwards=JF()}(Cx)),Cx}var Ox={},kx,AA;function ZF(){return AA||(AA=1,kx={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),kx}var jA;function V4(){return jA||(jA=1,function(t){var e=t,n=z4(),r=Qk(),i=qa(),a=i.assert;function o(l){l.type==="short"?this.curve=new r.short(l):l.type==="edwards"?this.curve=new r.edwards(l):this.curve=new r.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function s(l,h){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var p=new o(h);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:p}),p}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=ZF()}catch{u=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}(Ox)),Ox}var Ix,MA;function QF(){if(MA)return Ix;MA=1;var t=z4(),e=Jk(),n=ku();function r(i){if(!(this instanceof r))return new r(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=e.toArray(i.entropy,i.entropyEnc||"hex"),o=e.toArray(i.nonce,i.nonceEnc||"hex"),s=e.toArray(i.pers,i.persEnc||"hex");n(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,o,s)}return Ix=r,r.prototype._init=function(a,o,s){var u=a.concat(o).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},r.prototype._update=function(a){var o=this._hmac().update(this.V).update([0]);a&&(o=o.update(a)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(a,o,s,u){typeof o!="string"&&(u=s,s=o,o=null),a=e.toArray(a,o),s=e.toArray(s,u),n(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(s||[])),this._reseed=1},r.prototype.generate=function(a,o,s,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(u=s,s=o,o=null),s&&(s=e.toArray(s,u||"hex"),this._update(s));for(var l=[];l.length<a;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var h=l.slice(0,a);return this._update(s),this._reseed++,e.encode(h,o)},Ix}var Tx,OA;function XF(){if(OA)return Tx;OA=1;var t=Zo(),e=qa(),n=e.assert;function r(i,a){this.ec=i,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}return Tx=r,r.fromPublic=function(a,o,s){return o instanceof r?o:new r(a,{pub:o,pubEnc:s})},r.fromPrivate=function(a,o,s){return o instanceof r?o:new r(a,{priv:o,privEnc:s})},r.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(a,o){return typeof a=="string"&&(o=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,a):this.pub},r.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(a,o){this.priv=new t(a,o||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(a,o){if(a.x||a.y){this.ec.curve.type==="mont"?n(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,o)},r.prototype.derive=function(a){return a.validate()||n(a.validate(),"public point not validated"),a.mul(this.priv).getX()},r.prototype.sign=function(a,o,s){return this.ec.sign(a,this,o,s)},r.prototype.verify=function(a,o,s){return this.ec.verify(a,o,this,void 0,s)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Tx}var Rx,kA;function eq(){if(kA)return Rx;kA=1;var t=Zo(),e=qa(),n=e.assert;function r(u,l){if(u instanceof r)return u;this._importDER(u,l)||(n(u.r&&u.s,"Signature without r or s"),this.r=new t(u.r,16),this.s=new t(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}Rx=r;function i(){this.place=0}function a(u,l){var h=u[l.place++];if(!(h&128))return h;var p=h&15;if(p===0||p>4||u[l.place]===0)return!1;for(var g=0,v=0,y=l.place;v<p;v++,y++)g<<=8,g|=u[y],g>>>=0;return g<=127?!1:(l.place=y,g)}function o(u){for(var l=0,h=u.length-1;!u[l]&&!(u[l+1]&128)&&l<h;)l++;return l===0?u:u.slice(l)}r.prototype._importDER=function(l,h){l=e.toArray(l,h);var p=new i;if(l[p.place++]!==48)return!1;var g=a(l,p);if(g===!1||g+p.place!==l.length||l[p.place++]!==2)return!1;var v=a(l,p);if(v===!1||(l[p.place]&128)!==0)return!1;var y=l.slice(p.place,v+p.place);if(p.place+=v,l[p.place++]!==2)return!1;var w=a(l,p);if(w===!1||l.length!==w+p.place||(l[p.place]&128)!==0)return!1;var C=l.slice(p.place,w+p.place);if(y[0]===0)if(y[1]&128)y=y.slice(1);else return!1;if(C[0]===0)if(C[1]&128)C=C.slice(1);else return!1;return this.r=new t(y),this.s=new t(C),this.recoveryParam=null,!0};function s(u,l){if(l<128){u.push(l);return}var h=1+(Math.log(l)/Math.LN2>>>3);for(u.push(h|128);--h;)u.push(l>>>(h<<3)&255);u.push(l)}return r.prototype.toDER=function(l){var h=this.r.toArray(),p=this.s.toArray();for(h[0]&128&&(h=[0].concat(h)),p[0]&128&&(p=[0].concat(p)),h=o(h),p=o(p);!p[0]&&!(p[1]&128);)p=p.slice(1);var g=[2];s(g,h.length),g=g.concat(h),g.push(2),s(g,p.length);var v=g.concat(p),y=[48];return s(y,v.length),y=y.concat(v),e.encode(y,l)},Rx}var Px,IA;function tq(){if(IA)return Px;IA=1;var t=Zo(),e=QF(),n=qa(),r=V4(),i=Zk(),a=n.assert,o=XF(),s=eq();function u(l){if(!(this instanceof u))return new u(l);typeof l=="string"&&(a(Object.prototype.hasOwnProperty.call(r,l),"Unknown curve "+l),l=r[l]),l instanceof r.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}return Px=u,u.prototype.keyPair=function(h){return new o(this,h)},u.prototype.keyFromPrivate=function(h,p){return o.fromPrivate(this,h,p)},u.prototype.keyFromPublic=function(h,p){return o.fromPublic(this,h,p)},u.prototype.genKeyPair=function(h){h||(h={});for(var p=new e({hash:this.hash,pers:h.pers,persEnc:h.persEnc||"utf8",entropy:h.entropy||i(this.hash.hmacStrength),entropyEnc:h.entropy&&h.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),v=this.n.sub(new t(2));;){var y=new t(p.generate(g));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},u.prototype._truncateToN=function(h,p,g){var v;if(t.isBN(h)||typeof h=="number")h=new t(h,16),v=h.byteLength();else if(typeof h=="object")v=h.length,h=new t(h,16);else{var y=h.toString();v=y.length+1>>>1,h=new t(y,16)}typeof g!="number"&&(g=v*8);var w=g-this.n.bitLength();return w>0&&(h=h.ushrn(w)),!p&&h.cmp(this.n)>=0?h.sub(this.n):h},u.prototype.sign=function(h,p,g,v){if(typeof g=="object"&&(v=g,g=null),v||(v={}),typeof h!="string"&&typeof h!="number"&&!t.isBN(h)){a(typeof h=="object"&&h&&typeof h.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),a(h.length>>>0===h.length);for(var y=0;y<h.length;y++)a((h[y]&255)===h[y])}p=this.keyFromPrivate(p,g),h=this._truncateToN(h,!1,v.msgBitLength),a(!h.isNeg(),"Can not sign a negative message");var w=this.n.byteLength(),C=p.getPrivate().toArray("be",w),x=h.toArray("be",w);a(new t(x).eq(h),"Can not sign message");for(var M=new e({hash:this.hash,entropy:C,nonce:x,pers:v.pers,persEnc:v.persEnc||"utf8"}),k=this.n.sub(new t(1)),z=0;;z++){var P=v.k?v.k(z):new t(M.generate(this.n.byteLength()));if(P=this._truncateToN(P,!0),!(P.cmpn(1)<=0||P.cmp(k)>=0)){var K=this.g.mul(P);if(!K.isInfinity()){var W=K.getX(),B=W.umod(this.n);if(B.cmpn(0)!==0){var D=P.invm(this.n).mul(B.mul(p.getPrivate()).iadd(h));if(D=D.umod(this.n),D.cmpn(0)!==0){var $=(K.getY().isOdd()?1:0)|(W.cmp(B)!==0?2:0);return v.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),$^=1),new s({r:B,s:D,recoveryParam:$})}}}}}},u.prototype.verify=function(h,p,g,v,y){y||(y={}),h=this._truncateToN(h,!1,y.msgBitLength),g=this.keyFromPublic(g,v),p=new s(p,"hex");var w=p.r,C=p.s;if(w.cmpn(1)<0||w.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var x=C.invm(this.n),M=x.mul(h).umod(this.n),k=x.mul(w).umod(this.n),z;return this.curve._maxwellTrick?(z=this.g.jmulAdd(M,g.getPublic(),k),z.isInfinity()?!1:z.eqXToP(w)):(z=this.g.mulAdd(M,g.getPublic(),k),z.isInfinity()?!1:z.getX().umod(this.n).cmp(w)===0)},u.prototype.recoverPubKey=function(l,h,p,g){a((3&p)===p,"The recovery param is more than two bits"),h=new s(h,g);var v=this.n,y=new t(l),w=h.r,C=h.s,x=p&1,M=p>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&M)throw new Error("Unable to find sencond key candinate");M?w=this.curve.pointFromX(w.add(this.curve.n),x):w=this.curve.pointFromX(w,x);var k=h.r.invm(v),z=v.sub(y).mul(k).umod(v),P=C.mul(k).umod(v);return this.g.mulAdd(z,w,P)},u.prototype.getKeyRecoveryParam=function(l,h,p,g){if(h=new s(h,g),h.recoveryParam!==null)return h.recoveryParam;for(var v=0;v<4;v++){var y;try{y=this.recoverPubKey(l,h,v)}catch{continue}if(y.eq(p))return v}throw new Error("Unable to find valid recovery factor")},Px}var Lx,TA;function nq(){if(TA)return Lx;TA=1;var t=qa(),e=t.assert,n=t.parseBytes,r=t.cachedProperty;function i(a,o){this.eddsa=a,this._secret=n(o.secret),a.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=n(o.pub)}return i.fromPublic=function(o,s){return s instanceof i?s:new i(o,{pub:s})},i.fromSecret=function(o,s){return s instanceof i?s:new i(o,{secret:s})},i.prototype.secret=function(){return this._secret},r(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(i,"privBytes",function(){var o=this.eddsa,s=this.hash(),u=o.encodingLength-1,l=s.slice(0,o.encodingLength);return l[0]&=248,l[u]&=127,l[u]|=64,l}),r(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},i.prototype.verify=function(o,s){return this.eddsa.verify(o,s,this)},i.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),o)},i.prototype.getPublic=function(o){return t.encode(this.pubBytes(),o)},Lx=i,Lx}var Dx,RA;function rq(){if(RA)return Dx;RA=1;var t=Zo(),e=qa(),n=e.assert,r=e.cachedProperty,i=e.parseBytes;function a(o,s){this.eddsa=o,typeof s!="object"&&(s=i(s)),Array.isArray(s)&&(n(s.length===o.encodingLength*2,"Signature has invalid size"),s={R:s.slice(0,o.encodingLength),S:s.slice(o.encodingLength)}),n(s.R&&s.S,"Signature without R or S"),o.isPoint(s.R)&&(this._R=s.R),s.S instanceof t&&(this._S=s.S),this._Rencoded=Array.isArray(s.R)?s.R:s.Rencoded,this._Sencoded=Array.isArray(s.S)?s.S:s.Sencoded}return r(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},Dx=a,Dx}var Bx,PA;function iq(){if(PA)return Bx;PA=1;var t=z4(),e=V4(),n=qa(),r=n.assert,i=n.parseBytes,a=nq(),o=rq();function s(u){if(r(u==="ed25519","only tested with ed25519 so far"),!(this instanceof s))return new s(u);u=e[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=t.sha512}return Bx=s,s.prototype.sign=function(l,h){l=i(l);var p=this.keyFromSecret(h),g=this.hashInt(p.messagePrefix(),l),v=this.g.mul(g),y=this.encodePoint(v),w=this.hashInt(y,p.pubBytes(),l).mul(p.priv()),C=g.add(w).umod(this.curve.n);return this.makeSignature({R:v,S:C,Rencoded:y})},s.prototype.verify=function(l,h,p){if(l=i(l),h=this.makeSignature(h),h.S().gte(h.eddsa.curve.n)||h.S().isNeg())return!1;var g=this.keyFromPublic(p),v=this.hashInt(h.Rencoded(),g.pubBytes(),l),y=this.g.mul(h.S()),w=h.R().add(g.pub().mul(v));return w.eq(y)},s.prototype.hashInt=function(){for(var l=this.hash(),h=0;h<arguments.length;h++)l.update(arguments[h]);return n.intFromLE(l.digest()).umod(this.curve.n)},s.prototype.keyFromPublic=function(l){return a.fromPublic(this,l)},s.prototype.keyFromSecret=function(l){return a.fromSecret(this,l)},s.prototype.makeSignature=function(l){return l instanceof o?l:new o(this,l)},s.prototype.encodePoint=function(l){var h=l.getY().toArray("le",this.encodingLength);return h[this.encodingLength-1]|=l.getX().isOdd()?128:0,h},s.prototype.decodePoint=function(l){l=n.parseBytes(l);var h=l.length-1,p=l.slice(0,h).concat(l[h]&-129),g=(l[h]&128)!==0,v=n.intFromLE(p);return this.curve.pointFromY(v,g)},s.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},s.prototype.decodeInt=function(l){return n.intFromLE(l)},s.prototype.isPoint=function(l){return l instanceof this.pointClass},Bx}var LA;function aq(){return LA||(LA=1,function(t){var e=t;e.version=WF.version,e.utils=qa(),e.rand=Zk(),e.curve=Qk(),e.curves=V4(),e.ec=tq(),e.eddsa=iq()}(Ex)),Ex}var Xk=aq();const ot={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},Zr={POPUP:"popup",REDIRECT:"redirect"};var Ux,DA;function sq(){if(DA)return Ux;DA=1;var t=function(M){return e(M)&&!n(M)};function e(x){return!!x&&typeof x=="object"}function n(x){var M=Object.prototype.toString.call(x);return M==="[object RegExp]"||M==="[object Date]"||a(x)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function a(x){return x.$$typeof===i}function o(x){return Array.isArray(x)?[]:{}}function s(x,M){return M.clone!==!1&&M.isMergeableObject(x)?w(o(x),x,M):x}function u(x,M,k){return x.concat(M).map(function(z){return s(z,k)})}function l(x,M){if(!M.customMerge)return w;var k=M.customMerge(x);return typeof k=="function"?k:w}function h(x){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(x).filter(function(M){return Object.propertyIsEnumerable.call(x,M)}):[]}function p(x){return Object.keys(x).concat(h(x))}function g(x,M){try{return M in x}catch{return!1}}function v(x,M){return g(x,M)&&!(Object.hasOwnProperty.call(x,M)&&Object.propertyIsEnumerable.call(x,M))}function y(x,M,k){var z={};return k.isMergeableObject(x)&&p(x).forEach(function(P){z[P]=s(x[P],k)}),p(M).forEach(function(P){v(x,P)||(g(x,P)&&k.isMergeableObject(M[P])?z[P]=l(P,k)(x[P],M[P],k):z[P]=s(M[P],k))}),z}function w(x,M,k){k=k||{},k.arrayMerge=k.arrayMerge||u,k.isMergeableObject=k.isMergeableObject||t,k.cloneUnlessOtherwiseSpecified=s;var z=Array.isArray(M),P=Array.isArray(x),K=z===P;return K?z?k.arrayMerge(x,M,k):y(x,M,k):s(M,k)}w.all=function(M,k){if(!Array.isArray(M))throw new Error("first argument should be an array");return M.reduce(function(z,P){return w(z,P,k)},{})};var C=w;return Ux=C,Ux}var oq=sq();const qn=$i(oq);var Zg={exports:{}},lq=Zg.exports,BA;function cq(){return BA||(BA=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(lq,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function s(w,C){var x=w[C];if(typeof x.bind=="function")return x.bind(w);try{return Function.prototype.bind.call(x,w)}catch{return function(){return Function.prototype.apply.apply(x,[w,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(w){return w==="debug"&&(w="log"),typeof console===n?!1:w==="trace"&&r?u:console[w]!==void 0?s(console,w):console.log!==void 0?s(console,"log"):e}function h(){for(var w=this.getLevel(),C=0;C<i.length;C++){var x=i[C];this[x]=C<w?e:this.methodFactory(x,w,this.name)}if(this.log=this.debug,typeof console===n&&w<this.levels.SILENT)return"No console available for logging"}function p(w){return function(){typeof console!==n&&(h.call(this),this[w].apply(this,arguments))}}function g(w,C,x){return l(w)||p.apply(this,arguments)}function v(w,C){var x=this,M,k,z,P="loglevel";typeof w=="string"?P+=":"+w:typeof w=="symbol"&&(P=void 0);function K(T){var b=(i[T]||"silent").toUpperCase();if(!(typeof window===n||!P)){try{window.localStorage[P]=b;return}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+b+";"}catch{}}}function W(){var T;if(!(typeof window===n||!P)){try{T=window.localStorage[P]}catch{}if(typeof T===n)try{var b=window.document.cookie,_=encodeURIComponent(P),A=b.indexOf(_+"=");A!==-1&&(T=/^([^;]+)/.exec(b.slice(A+_.length+1))[1])}catch{}return x.levels[T]===void 0&&(T=void 0),T}}function B(){if(!(typeof window===n||!P)){try{window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function D(T){var b=T;if(typeof b=="string"&&x.levels[b.toUpperCase()]!==void 0&&(b=x.levels[b.toUpperCase()]),typeof b=="number"&&b>=0&&b<=x.levels.SILENT)return b;throw new TypeError("log.setLevel() called with invalid level: "+T)}x.name=w,x.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},x.methodFactory=C||g,x.getLevel=function(){return z??k??M},x.setLevel=function(T,b){return z=D(T),b!==!1&&K(z),h.call(x)},x.setDefaultLevel=function(T){k=D(T),W()||x.setLevel(T,!1)},x.resetLevel=function(){z=null,B(),h.call(x)},x.enableAll=function(T){x.setLevel(x.levels.TRACE,T)},x.disableAll=function(T){x.setLevel(x.levels.SILENT,T)},x.rebuild=function(){if(o!==x&&(M=D(o.getLevel())),h.call(x),o===x)for(var T in a)a[T].rebuild()},M=D(o?o.getLevel():"WARN");var $=W();$!=null&&(z=D($)),h.call(x)}o=new v,o.getLogger=function(C){if(typeof C!="symbol"&&typeof C!="string"||C==="")throw new TypeError("You must supply a name when creating a logger.");var x=a[C];return x||(x=a[C]=new v(C,o.methodFactory)),x};var y=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=y),o},o.getLoggers=function(){return a},o.default=o,o})}(Zg)),Zg.exports}var eI=cq();const Qo=$i(eI),f0=Qo.getLogger("http-helpers");f0.setLevel(eI.levels.INFO);let uq="torus-default";const dq="x-api-key";function fq(t){f0.setLevel(t)}async function Oy(t,e){let n=null;try{n=new URL(t)}catch{}return fetch(t,e)}function ky(){const t={};return t[dq]=uq,t}function Iy(t){f0.info(`Response: ${t.status} ${t.statusText}`),f0.info(`Url: ${t.url}`)}function hq(t){const e=t.headers.get("x-web3-correlation-id");e&&f0.info(`Request tracing with traceID = ${e}`)}const pq=async(t,e)=>{let n=null;try{const r=new Promise((a,o)=>{n=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},Ws=async(t,e={},n={})=>{const r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=we(we({},r.headers),ky())),e.method="GET";const i=qn(r,e),a=await Oy(t,i);if(a.ok){const o=a.headers.get("content-type");return o!=null&&o.includes("application/json")?a.json():a.text()}throw Iy(a),a},Eu=(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=we(we({},i.headers),ky())),n.method="POST";const a=qn(i,n);return r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e),pq(r.timeout||6e4,Oy(t,a).then(o=>{if(r.logTracingHeader&&hq(o),o.ok){const s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw Iy(o),o}))},mq=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=we(we({},i.headers),ky())),n.method="PATCH";const a=qn(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);const o=await Oy(t,a);if(o.ok){const s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw Iy(o),o},gq=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=we(we({},i.headers),ky())),n.method="PUT";const a=qn(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);const o=await Oy(t,a);if(o.ok){const s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw Iy(o),o};var $x={exports:{}},$m={},Fm={},UA;function vq(){if(UA)return Fm;UA=1,Object.defineProperty(Fm,"__esModule",{value:!0});function t(e){var n=4,r=e.length,i=r%n;if(!i)return e;var a=r,o=n-i,s=r+o,u=Buffer.alloc(s);for(u.write(e);o--;)u.write("=",a++);return u.toString()}return Fm.default=t,Fm}var $A;function yq(){if($A)return $m;$A=1,Object.defineProperty($m,"__esModule",{value:!0});var t=vq();function e(s,u){return u===void 0&&(u="utf8"),Buffer.isBuffer(s)?i(s.toString("base64")):i(Buffer.from(s,u).toString("base64"))}function n(s,u){return u===void 0&&(u="utf8"),Buffer.from(r(s),"base64").toString(u)}function r(s){return s=s.toString(),t.default(s).replace(/\-/g,"+").replace(/_/g,"/")}function i(s){return s.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(s){return Buffer.from(r(s),"base64")}var o=e;return o.encode=e,o.decode=n,o.toBase64=r,o.fromBase64=i,o.toBuffer=a,$m.default=o,$m}var FA;function bq(){return FA||(FA=1,function(t){t.exports=yq().default,t.exports.default=t.exports}($x)),$x.exports}var wq=bq();const pc=$i(wq),xq={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},tI={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Vn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},oi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},$l={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class We{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=We.getVersionPrecision(e),a=We.getVersionPrecision(n);let o=Math.max(i,a),s=0;const u=We.map([e,n],l=>{const h=o-We.getVersionPrecision(l),p=l+new Array(h+1).join(".0");return We.map(p.split("."),g=>new Array(20-g.length).join("0")+g).reverse()});for(r&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===s)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const a=e[r];if(n(a,r))return a}}static assign(e,...n){const r=e;let i,a;if(Object.assign)return Object.assign(e,...n);for(i=0,a=n.length;i<a;i+=1){const o=n[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{r[u]=o[u]})}return e}static getBrowserAlias(e){return xq[e]}static getBrowserTypeByAlias(e){return tI[e]||""}}const In=/version\/(\d+(\.?_?\d+)+)/i,Eq=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=We.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=We.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/PaleMoon/i],describe(t){const e={name:"Pale Moon"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=We.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=We.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=We.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=We.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=We.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=We.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=We.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=We.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=We.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=We.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=We.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=We.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=We.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=We.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=We.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=We.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=We.getFirstMatch(In,t)||We.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=We.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=We.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=We.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=We.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=We.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=We.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=We.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=We.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=We.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=We.getFirstMatch(In,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:We.getFirstMatch(i,t),version:We.getSecondMatch(i,t)}}}],Sq=[{test:[/Roku\/DVP/],describe(t){const e=We.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:oi.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=We.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:oi.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=We.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=We.getWindowsVersionName(e);return{name:oi.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:oi.iOS},n=We.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=We.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=We.getMacOSVersionName(e),r={name:oi.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=We.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:oi.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=We.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=We.getAndroidVersionName(e),r={name:oi.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=We.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:oi.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=We.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||We.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||We.getFirstMatch(/\bbb(\d+)/i,t);return{name:oi.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=We.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:oi.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=We.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:oi.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:oi.Linux}}},{test:[/CrOS/],describe(){return{name:oi.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=We.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:oi.PlayStation4,version:e}}}],_q=[{test:[/googlebot/i],describe(){return{type:Vn.bot,vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=We.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Vn.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Vn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Vn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Vn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Vn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Vn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Vn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=We.getFirstMatch(/(ipod|iphone)/i,t);return{type:Vn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Vn.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe(t){const e=We.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,t),n={type:Vn.mobile,vendor:"Nokia"};return e&&(n.model=e),n}},{test:[/[^-]mobi/i],describe(){return{type:Vn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Vn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Vn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Vn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Vn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Vn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Vn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Vn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Vn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Vn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Vn.tv}}}],Cq=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:$l.Blink};const n=We.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:$l.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:$l.Trident},n=We.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:$l.Presto},n=We.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:$l.Gecko},n=We.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:$l.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:$l.WebKit},n=We.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class qA{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=We.find(Eq,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=We.find(Sq,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=We.find(_q,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=We.find(Cq,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return We.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let a=0;if(Object.keys(e).forEach(s=>{const u=e[s];typeof u=="string"?(i[s]=u,a+=1):typeof u=="object"&&(n[s]=u,r+=1)}),r>0){const s=Object.keys(n),u=We.find(s,h=>this.isOS(h));if(u){const h=this.satisfies(n[u]);if(h!==void 0)return h}const l=We.find(s,h=>this.isPlatform(h));if(l){const h=this.satisfies(n[l]);if(h!==void 0)return h}}if(a>0){const s=Object.keys(i),u=We.find(s,l=>this.isBrowser(l,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const a=We.getBrowserTypeByAlias(i);return n&&a&&(i=a.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const a=this.getBrowserVersion();if(typeof a=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(We.compareVersions(a,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Gh{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new qA(e,n)}static parse(e){return new qA(e).getResult()}static get BROWSER_MAP(){return tI}static get ENGINE_MAP(){return $l}static get OS_MAP(){return oi}static get PLATFORMS_MAP(){return Vn}}var cu=Qo.getLogger("customauth");const nI={[ot.APPLE]:"apple",[ot.GITHUB]:"github",[ot.LINKEDIN]:"linkedin",[ot.TWITTER]:"twitter",[ot.LINE]:"line",[ot.EMAIL_PASSWORDLESS]:"email",[ot.SMS_PASSWORDLESS]:"sms"},rI=t=>t.href.endsWith("/")?t.href:`${t.href}/`,G4=()=>Math.random().toString(36).slice(2),Nq={webWorkerSupport:!1};function Fx(t,e){return e?t:t.toLowerCase()}const h0=(t,e,n,r=!0)=>{const{name:i,sub:a}=t;if(n)return Fx(t[n],r);switch(e){case ot.EMAIL_PASSWORDLESS:case ot.SMS_PASSWORDLESS:case ot.AUTHENTICATOR:return Fx(i,r);case ot.GITHUB:case ot.TWITTER:case ot.APPLE:case ot.LINKEDIN:case ot.LINE:case ot.WECHAT:case ot.KAKAO:case ot.FARCASTER:case ot.CUSTOM:return Fx(a,r);default:throw new Error("Invalid login type to get auth connection id")}};function sE(t){let e;try{e=window[t];const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){const r=n;return r&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function iI(){const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,n=1200,r=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=1,s=Math.abs((i-n)/2/o+t),u=Math.abs((a-r)/2/o+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/o},width=${n/o},top=${u},left=${s}`}function Yh(t){const{baseURL:e,query:n,hash:r}=t,i=new URL(e);if(n&&Object.keys(n).forEach(a=>{i.searchParams.append(a,n[a])}),r){const a=new URL(Yh({baseURL:e,query:r})).searchParams.toString();i.hash=a}return i.toString()}const Y4=t=>{try{return new URL(decodeURIComponent(t))}catch(e){throw new Error(`${e?.message||""}, Note: Your jwt domain: (i.e ${t}) must have http:// or https:// prefix`)}},Aq=t=>JSON.parse(pc.decode(t));function jq(){const e=Gh.getParser(navigator.userAgent).getPlatform();return e.type===Gh.PLATFORMS_MAP.tablet||e.type===Gh.PLATFORMS_MAP.mobile}function J4(t){return(t===ot.FACEBOOK||t===ot.LINE)&&jq()?1e3*30:1e3*1}function Z4(t){const[e,n]=t.split(".");return{header:JSON.parse(pc.decode(e)),payload:JSON.parse(pc.decode(n))}}var qm={exports:{}},zA;function up(){if(zA)return qm.exports;zA=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,K,W){return Function.prototype.apply.call(P,K,W)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:n=function(P){return Object.getOwnPropertyNames(P)};function r(z){console&&console.warn&&console.warn(z)}var i=Number.isNaN||function(P){return P!==P};function a(){a.init.call(this)}qm.exports=a,qm.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(z){if(typeof z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(z){if(typeof z!="number"||z<0||i(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");o=z}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function u(z){return z._maxListeners===void 0?a.defaultMaxListeners:z._maxListeners}a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(P){for(var K=[],W=1;W<arguments.length;W++)K.push(arguments[W]);var B=P==="error",D=this._events;if(D!==void 0)B=B&&D.error===void 0;else if(!B)return!1;if(B){var $;if(K.length>0&&($=K[0]),$ instanceof Error)throw $;var T=new Error("Unhandled error."+($?" ("+$.message+")":""));throw T.context=$,T}var b=D[P];if(b===void 0)return!1;if(typeof b=="function")e(b,this,K);else for(var _=b.length,A=y(b,_),W=0;W<_;++W)e(A[W],this,K);return!0};function l(z,P,K,W){var B,D,$;if(s(K),D=z._events,D===void 0?(D=z._events=Object.create(null),z._eventsCount=0):(D.newListener!==void 0&&(z.emit("newListener",P,K.listener?K.listener:K),D=z._events),$=D[P]),$===void 0)$=D[P]=K,++z._eventsCount;else if(typeof $=="function"?$=D[P]=W?[K,$]:[$,K]:W?$.unshift(K):$.push(K),B=u(z),B>0&&$.length>B&&!$.warned){$.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=z,T.type=P,T.count=$.length,r(T)}return z}a.prototype.addListener=function(P,K){return l(this,P,K,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(P,K){return l(this,P,K,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(z,P,K){var W={fired:!1,wrapFn:void 0,target:z,type:P,listener:K},B=h.bind(W);return B.listener=K,W.wrapFn=B,B}a.prototype.once=function(P,K){return s(K),this.on(P,p(this,P,K)),this},a.prototype.prependOnceListener=function(P,K){return s(K),this.prependListener(P,p(this,P,K)),this},a.prototype.removeListener=function(P,K){var W,B,D,$,T;if(s(K),B=this._events,B===void 0)return this;if(W=B[P],W===void 0)return this;if(W===K||W.listener===K)--this._eventsCount===0?this._events=Object.create(null):(delete B[P],B.removeListener&&this.emit("removeListener",P,W.listener||K));else if(typeof W!="function"){for(D=-1,$=W.length-1;$>=0;$--)if(W[$]===K||W[$].listener===K){T=W[$].listener,D=$;break}if(D<0)return this;D===0?W.shift():w(W,D),W.length===1&&(B[P]=W[0]),B.removeListener!==void 0&&this.emit("removeListener",P,T||K)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(P){var K,W,B;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[P]),this;if(arguments.length===0){var D=Object.keys(W),$;for(B=0;B<D.length;++B)$=D[B],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(K=W[P],typeof K=="function")this.removeListener(P,K);else if(K!==void 0)for(B=K.length-1;B>=0;B--)this.removeListener(P,K[B]);return this};function g(z,P,K){var W=z._events;if(W===void 0)return[];var B=W[P];return B===void 0?[]:typeof B=="function"?K?[B.listener||B]:[B]:K?C(B):y(B,B.length)}a.prototype.listeners=function(P){return g(this,P,!0)},a.prototype.rawListeners=function(P){return g(this,P,!1)},a.listenerCount=function(z,P){return typeof z.listenerCount=="function"?z.listenerCount(P):v.call(z,P)},a.prototype.listenerCount=v;function v(z){var P=this._events;if(P!==void 0){var K=P[z];if(typeof K=="function")return 1;if(K!==void 0)return K.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function y(z,P){for(var K=new Array(P),W=0;W<P;++W)K[W]=z[W];return K}function w(z,P){for(;P+1<z.length;P++)z[P]=z[P+1];z.pop()}function C(z){for(var P=new Array(z.length),K=0;K<P.length;++K)P[K]=z[K].listener||z[K];return P}function x(z,P){return new Promise(function(K,W){function B($){z.removeListener(P,D),W($)}function D(){typeof z.removeListener=="function"&&z.removeListener("error",B),K([].slice.call(arguments))}k(z,P,D,{once:!0}),P!=="error"&&M(z,B,{once:!0})})}function M(z,P,K){typeof z.on=="function"&&k(z,"error",P,K)}function k(z,P,K,W){if(typeof z.on=="function")W.once?z.once(P,K):z.on(P,K);else if(typeof z.addEventListener=="function")z.addEventListener(P,function B(D){W.once&&z.removeEventListener(P,B),K(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof z)}return qm.exports}var Ty=up();const jle=$i(Ty);let Ry=class extends Ty.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4}){super(),Ne(this,"url",void 0),Ne(this,"target",void 0),Ne(this,"features",void 0),Ne(this,"window",void 0),Ne(this,"windowTimer",void 0),Ne(this,"iClosedWindow",void 0),Ne(this,"timeout",void 0),this.url=e,this.target=n||"_blank",this.features=r||iI(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}};const Mq=["access_token","id_token"];class Xo{constructor(e){Ne(this,"nonce",G4()),Ne(this,"finalURL",void 0),Ne(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(pc.encode(JSON.stringify(we(we({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){const n=new Ry({url:this.finalURL,features:e.popupFeatures,timeout:J4(this.params.authConnection)});if(this.params.uxMode===Zr.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else{const{RedundantAdaptiveBroadcastChannel:r}=await yn(async()=>{const{RedundantAdaptiveBroadcastChannel:i}=await import("./index-B4wzjcRb.js");return{RedundantAdaptiveBroadcastChannel:i}},[]);return new Promise((i,a)=>{let o;const s=async u=>{try{const{error:l,data:h}=u,p=h||{},{instanceParams:g,hashParams:{access_token:v,id_token:y}}=p,w=Cy(p.hashParams,Mq);if(l){cu.error(u),a(new Error(`Error: ${l}. Info: ${JSON.stringify(u.data||{})}`));return}u.data&&g.authConnectionId===this.params.authConnectionId&&(cu.info(u.data),!this.params.redirectToOpener&&o&&await o.postMessage({success:!0}),i(we(we({accessToken:v,idToken:y||""},w),{},{state:g})))}catch(l){cu.error(l),a(l)}};if(!this.params.redirectToOpener)o=new r(`redirect_channel_${this.nonce}`,Nq),o.addEventListener("message",async u=>{await s(u),o.close(),n.close()});else{const u=async l=>{if(!l.data)return;const h=l.data;h.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",u),s(h),n.close())};window.addEventListener("message",u)}try{n.open()}catch(u){cu.error(u),a(u);return}n.once("close",()=>{o&&o.close(),a(new Error("user closed popup"))})})}return null}}class Oq extends Xo{constructor(e){super(e),Ne(this,"RESPONSE_TYPE","token"),Ne(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://discord.com/api/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=qn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ws("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${n}`}}),{id:i,avatar:a,email:o="",username:s="",discriminator:u=""}=r;return{profileImage:a===null?`https://cdn.discordapp.com/embed/avatars/${Number(u)%5}.png`:`https://cdn.discordapp.com/avatars/${i}/${a}.png?size=2048`,name:`${s}#${u}`,email:o,userId:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class kq extends Xo{constructor(e){super(e),Ne(this,"RESPONSE_TYPE","token"),Ne(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=qn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ws("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${n}`}}),{name:i="",id:a,picture:o,email:s=""}=r;return{email:s,name:i,profileImage:o.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:a}}}class Iq extends Xo{constructor(e){super(e),Ne(this,"RESPONSE_TYPE","token id_token"),Ne(this,"SCOPE","profile email openid"),Ne(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=qn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(r).forEach(i=>{const a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ws("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${n}`}}),{picture:i="",email:a="",name:o=""}=r;return{email:a,name:o,profileImage:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:a.toLowerCase()}}}class Tq extends Xo{constructor(e){super(e),Ne(this,"SCOPE","openid profile email"),Ne(this,"RESPONSE_TYPE","token id_token"),Ne(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=Y4(e);n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams));delete r.domain;const i=qn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:nI[this.params.authConnection],nonce:this.nonce},r);Object.keys(i).forEach(a=>{const o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:a,isUserIdCaseSensitive:o,user_info_route:s="userinfo"}=this.params.jwtParams;if(r)try{const u=new URL(i),l=await Ws(`${rI(u)}${s}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:h,name:p,email:g}=l;return{email:g,name:p,profileImage:h,userId:h0(l,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(u){Qo.warn(u,"Unable to get userinfo from endpoint")}if(n){const u=Z4(n).payload,{name:l,email:h,picture:p}=u;return{profileImage:p,name:l,email:h,userId:h0(u,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}}class Rq extends Xo{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;const n=qn({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(Yh({baseURL:this.params.redirect_uri,query:null,hash:n}))}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:a,isUserIdCaseSensitive:o,user_info_route:s="userinfo"}=this.params.jwtParams;if(r)try{const u=new URL(i),l=await Ws(`${rI(u)}${s}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:h,name:p,email:g}=l;return{email:g,name:p,profileImage:h,userId:h0(l,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(u){Qo.warn(u,"Unable to get userinfo from endpoint")}if(n){const u=Z4(n).payload,{name:l,email:h,picture:p}=u;return{profileImage:p,name:l,email:h,userId:h0(u,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}handleLoginWindow(e){const{id_token:n,access_token:r}=this.params.jwtParams,i=new Ry({url:this.finalURL,features:e.popupFeatures});if(this.params.uxMode===Zr.REDIRECT)i.redirect(e.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:n,accessToken:r});return null}}const oE=t=>t.padStart(64,"0").slice(0,64);class Pq{constructor(){Ne(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=oE(this.sessionId)}request({method:e="GET",url:n,data:r={},headers:i={}}){const a={headers:i};switch(e){case"GET":return Ws(n,a);case"POST":return Eu(n,r,a);case"PUT":return gq(n,r,a);case"PATCH":return mq(n,r,a)}throw new Error("Invalid method type")}}const aI="https://api.web3auth.io/session-service",Lq="https://session.web3auth.io",jv=new Xk.ec("secp256k1"),oa=globalThis.crypto||globalThis.msCrypto||{},Zl=oa.subtle||oa.webkitSubtle,Dq=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Bq=Buffer.alloc(32,0);function aa(t,e){if(!t)throw new Error(e||"Assertion failed")}function Uq(t){return Buffer.isBuffer(t)&&t.length===32}function dp(t){return Uq(t)?t.compare(Bq)>0&&t.compare(Dq)<0:!1}function $q(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Jh(t){if(typeof oa.getRandomValues>"u")return Buffer.from(oa.randomBytes(t));const e=new Uint8Array(t);return oa.getRandomValues(e),Buffer.from(e)}async function sI(t){if(!oa.createHash){const r=await Zl.digest("SHA-512",t);return new Uint8Array(r)}const n=oa.createHash("sha512").update(t).digest();return new Uint8Array(n)}function oI(t){return async function(e,n,r){if(Zl&&Zl[t]&&Zl.importKey){const i={name:"AES-CBC"},a=await Zl.importKey("raw",n,i,!1,[t]),o={name:"AES-CBC",iv:e},s=await Zl[t](o,a,r);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&oa.createCipheriv){const i=oa.createCipheriv("aes-256-cbc",n,e),a=i.update(r),o=i.final();return Buffer.concat([a,o])}else if(t==="decrypt"&&oa.createDecipheriv){const i=oa.createDecipheriv("aes-256-cbc",n,e),a=i.update(r),o=i.final();return Buffer.concat([a,o])}throw new Error(`Unsupported operation: ${t}`)}}const Fq=oI("encrypt"),qq=oI("decrypt");async function lI(t,e){if(!oa.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},a=await Zl.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),o=await Zl.sign("HMAC",a,e);return Buffer.from(new Uint8Array(o))}const n=oa.createHmac("sha256",Buffer.from(t));return n.update(e),n.digest()}async function zq(t,e,n){const r=await lI(t,e);return $q(r,n)}const Hq=function(){let t=Jh(32);for(;!dp(t);)t=Jh(32);return t},ic=function(t){return aa(t.length===32,"Bad private key"),aa(dp(t),"Bad private key"),Buffer.from(jv.keyFromPrivate(t).getPublic("array"))},Qg=async function(t,e){return aa(t.length===32,"Bad private key"),aa(dp(t),"Bad private key"),aa(e.length>0,"Message should not be empty"),aa(e.length<=32,"Message is too long"),Buffer.from(jv.sign(e,t,{canonical:!0}).toDER())},cI=async function(t,e,n){aa(Buffer.isBuffer(t),"Bad private key"),aa(Buffer.isBuffer(e),"Bad public key"),aa(t.length===32,"Bad private key"),aa(dp(t),"Bad private key"),aa(e.length===65||e.length===33,"Bad public key"),e.length===65&&aa(e[0]===4,"Bad public key"),e.length===33&&aa(e[0]===2||e[0]===3,"Bad public key");const r=jv.keyFromPrivate(t),i=jv.keyFromPublic(e),a=r.derive(i.getPublic());return n?Buffer.from(a.toString(16,64),"hex"):Buffer.from(a.toArray())},Kq=async function(t,e,n){n=n||{};let r=n.ephemPrivateKey||Jh(32);for(;!dp(r);)r=n.ephemPrivateKey||Jh(32);const i=ic(r),a=await cI(r,t,n.padding),o=await sI(a),s=n.iv||Jh(16),u=o.slice(0,32),l=o.slice(32),p=await Fq(s,Buffer.from(u),e),g=Buffer.concat([s,i,p]),v=await lI(Buffer.from(l),g);return{iv:s,ephemPublicKey:i,ciphertext:p,mac:v}},uI=async function(t,e,n){const r=await cI(t,e.ephemPublicKey,n),i=await sI(r),a=i.slice(0,32),o=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),u=await zq(Buffer.from(o),s,e.mac);if(!u&&!n)return uI(t,e,!0);if(!u&&n===!0)throw new Error("bad MAC after trying padded");const l=await qq(e.iv,Buffer.from(a),e.ciphertext);return Buffer.from(new Uint8Array(l))};var zm={},qx,HA;function Wq(){if(HA)return qx;HA=1;var t,e,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r;function i(v){throw{name:"SyntaxError",message:v,at:t,text:r}}function a(v){return v&&v!==e&&i("Expected '"+v+"' instead of '"+e+"'"),e=r.charAt(t),t+=1,e}function o(){var v,y="";for(e==="-"&&(y="-",a("-"));e>="0"&&e<="9";)y+=e,a();if(e===".")for(y+=".";a()&&e>="0"&&e<="9";)y+=e;if(e==="e"||e==="E")for(y+=e,a(),(e==="-"||e==="+")&&(y+=e,a());e>="0"&&e<="9";)y+=e,a();return v=Number(y),isFinite(v)||i("Bad number"),v}function s(){var v,y,w="",C;if(e==='"')for(;a();){if(e==='"')return a(),w;if(e==="\\")if(a(),e==="u"){for(C=0,y=0;y<4&&(v=parseInt(a(),16),!!isFinite(v));y+=1)C=C*16+v;w+=String.fromCharCode(C)}else if(typeof n[e]=="string")w+=n[e];else break;else w+=e}i("Bad string")}function u(){for(;e&&e<=" ";)a()}function l(){switch(e){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null;default:i("Unexpected '"+e+"'")}}function h(){var v=[];if(e==="["){if(a("["),u(),e==="]")return a("]"),v;for(;e;){if(v.push(g()),u(),e==="]")return a("]"),v;a(","),u()}}i("Bad array")}function p(){var v,y={};if(e==="{"){if(a("{"),u(),e==="}")return a("}"),y;for(;e;){if(v=s(),u(),a(":"),Object.prototype.hasOwnProperty.call(y,v)&&i('Duplicate key "'+v+'"'),y[v]=g(),u(),e==="}")return a("}"),y;a(","),u()}}i("Bad object")}function g(){switch(u(),e){case"{":return p();case"[":return h();case'"':return s();case"-":return o();default:return e>="0"&&e<="9"?o():l()}}return qx=function(v,y){var w;return r=v,t=0,e=" ",w=g(),u(),e&&i("Syntax error"),typeof y=="function"?function C(x,M){var k,z,P=x[M];if(P&&typeof P=="object")for(k in g)Object.prototype.hasOwnProperty.call(P,k)&&(z=C(P,k),typeof z>"u"?delete P[k]:P[k]=z);return y.call(x,M,P)}({"":w},""):w},qx}var zx,KA;function Vq(){if(KA)return zx;KA=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function a(s){return t.lastIndex=0,t.test(s)?'"'+s.replace(t,function(u){var l=r[u];return typeof l=="string"?l:"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}function o(s,u){var l,h,p,g,v=e,y,w=u[s];switch(w&&typeof w=="object"&&typeof w.toJSON=="function"&&(w=w.toJSON(s)),typeof i=="function"&&(w=i.call(u,s,w)),typeof w){case"string":return a(w);case"number":return isFinite(w)?String(w):"null";case"boolean":case"null":return String(w);case"object":if(!w)return"null";if(e+=n,y=[],Object.prototype.toString.apply(w)==="[object Array]"){for(g=w.length,l=0;l<g;l+=1)y[l]=o(l,w)||"null";return p=y.length===0?"[]":e?`[
`+e+y.join(`,
`+e)+`
`+v+"]":"["+y.join(",")+"]",e=v,p}if(i&&typeof i=="object")for(g=i.length,l=0;l<g;l+=1)h=i[l],typeof h=="string"&&(p=o(h,w),p&&y.push(a(h)+(e?": ":":")+p));else for(h in w)Object.prototype.hasOwnProperty.call(w,h)&&(p=o(h,w),p&&y.push(a(h)+(e?": ":":")+p));return p=y.length===0?"{}":e?`{
`+e+y.join(`,
`+e)+`
`+v+"}":"{"+y.join(",")+"}",e=v,p}}return zx=function(s,u,l){var h;if(e="",n="",typeof l=="number")for(h=0;h<l;h+=1)n+=" ";else typeof l=="string"&&(n=l);if(i=u,u&&typeof u!="function"&&(typeof u!="object"||typeof u.length!="number"))throw new Error("JSON.stringify");return o("",{"":s})},zx}var WA;function Gq(){return WA||(WA=1,zm.parse=Wq(),zm.stringify=Vq()),zm}var Hx,VA;function Yq(){if(VA)return Hx;VA=1;var t={}.toString;return Hx=Array.isArray||function(e){return t.call(e)=="[object Array]"},Hx}var Kx,GA;function Jq(){if(GA)return Kx;GA=1;var t=(typeof JSON<"u"?JSON:Gq()).stringify,e=Yq(),n=HF(),r=qF(),i=DF(),a=i("Array.prototype.join"),o=i("Array.prototype.indexOf"),s=i("Array.prototype.splice"),u=i("Array.prototype.sort"),l=function(g,v){for(var y="",w=0;w<g;w+=1)y+=v;return y},h=function(p,g,v){return v};return Kx=function(g){var v=arguments.length>1?arguments[1]:void 0,y=v&&v.space||"";typeof y=="number"&&(y=l(y," "));var w=!!v&&typeof v.cycles=="boolean"&&v.cycles,C=v&&v.replacer?r(v.replacer):h;if(v&&typeof v.collapseEmpty<"u"&&typeof v.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var x=!!v&&v.collapseEmpty,M=typeof v=="function"?v:v&&v.cmp,k=M&&function(P){var K=M.length>2&&function(B){return P[B]};return function(W,B){return M({key:W,value:P[W]},{key:B,value:P[B]},K?{__proto__:null,get:K}:void 0)}},z=[];return function P(K,W,B,D){var $=y?`
`+l(D,y):"",T=y?": ":":";if(B&&B.toJSON&&typeof B.toJSON=="function"&&(B=B.toJSON()),B=C(K,W,B),B!==void 0){if(typeof B!="object"||B===null)return t(B);var b=function(I,E){return x&&I.length===0?E:(E==="[]"?"[":"{")+a(I,",")+$+(E==="[]"?"]":"}")};if(e(B)){for(var O=[],_=0;_<B.length;_++){var A=P(B,_,B[_],D+1)||t(null);O[O.length]=$+y+A}return b(O,"[]")}if(o(z,B)!==-1){if(w)return t("__cycle__");throw new TypeError("Converting circular structure to JSON")}else z[z.length]=B;for(var N=u(n(B),k&&k(B)),O=[],_=0;_<N.length;_++){var W=N[_],U=P(B,W,B[W],D+1);if(U){var j=t(W)+T+U;O[O.length]=$+y+j}}return s(z,o(z,B),1),b(O,"{}")}}({"":g},"",g,0)},Kx}var Zq=Jq();const dI=$i(Zq),Hm=BigInt(2**32-1),YA=BigInt(32);function Qq(t,e=!1){return e?{h:Number(t&Hm),l:Number(t>>YA&Hm)}:{h:Number(t>>YA&Hm)|0,l:Number(t&Hm)|0}}function Xq(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:o,l:s}=Qq(t[a],e);[r[a],i[a]]=[o,s]}return[r,i]}const ez=(t,e,n)=>t<<n|e>>>32-n,tz=(t,e,n)=>e<<n|t>>>32-n,nz=(t,e,n)=>e<<n-32|t>>>64-n,rz=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function iz(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function JA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function p0(t,...e){if(!iz(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ZA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function az(t,e){p0(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function sz(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function fI(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const oz=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lz(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function cz(t){for(let e=0;e<t.length;e++)t[e]=lz(t[e]);return t}const QA=oz?t=>t:cz;function uz(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function hI(t){return typeof t=="string"&&(t=uz(t)),p0(t),t}let dz=class{};function fz(t){const e=r=>t().update(hI(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const hz=BigInt(0),xh=BigInt(1),pz=BigInt(2),mz=BigInt(7),gz=BigInt(256),vz=BigInt(113),pI=[],mI=[],gI=[];for(let t=0,e=xh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],pI.push(2*(5*r+n)),mI.push((t+1)*(t+2)/2%64);let i=hz;for(let a=0;a<7;a++)e=(e<<xh^(e>>mz)*vz)%gz,e&pz&&(i^=xh<<(xh<<BigInt(a))-xh);gI.push(i)}const vI=Xq(gI,!0),yz=vI[0],bz=vI[1],XA=(t,e,n)=>n>32?nz(t,e,n):ez(t,e,n),e8=(t,e,n)=>n>32?rz(t,e,n):tz(t,e,n);function wz(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const s=(o+8)%10,u=(o+2)%10,l=n[u],h=n[u+1],p=XA(l,h,1)^n[s],g=e8(l,h,1)^n[s+1];for(let v=0;v<50;v+=10)t[o+v]^=p,t[o+v+1]^=g}let i=t[2],a=t[3];for(let o=0;o<24;o++){const s=mI[o],u=XA(i,a,s),l=e8(i,a,s),h=pI[o];i=t[h],a=t[h+1],t[h]=u,t[h+1]=l}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)n[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=yz[r],t[1]^=bz[r]}fI(n)}let xz=class yI extends dz{constructor(e,n,r,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,JA(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=sz(this.state)}clone(){return this._cloneInto()}keccak(){QA(this.state32),wz(this.state32,this.rounds),QA(this.state32),this.posOut=0,this.pos=0}update(e){ZA(this),e=hI(e),p0(e);const{blockLen:n,state:r}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(n-this.pos,i-a);for(let s=0;s<o;s++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ZA(this,!1),p0(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return JA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(az(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,fI(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new yI(n,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Ez=(t,e,n)=>fz(()=>new xz(e,t,n)),t8=Ez(1,136,256/8),Sz=p0;function _z(t){return e=>(Sz(e),t(e))}const Cz=(()=>{const t=_z(t8);return t.create=t8.create,t})();function Wd(t){return Buffer.from(Cz(t))}const Nz=new Xk.ec("secp256k1");function Az(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function jz(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function Xg(t,e){const n=JSON.stringify(e),r=Buffer.from(n,"utf-8"),i=await Kq(ic(Buffer.from(t,"hex")),r),a=jz(i);return JSON.stringify(a)}async function bI(t,e){const n=JSON.parse(e),r=Az(n),i=Nz.keyFromPrivate(t),o=(await uI(Buffer.from(i.getPrivate().toString("hex",64),"hex"),r)).toString("utf-8");return JSON.parse(o)}const Mz=86400;class $h extends Pq{constructor({sessionServerBaseUrl:e,sessionNamespace:n,sessionTime:r,sessionId:i,allowedOrigin:a}={}){super(),Ne(this,"sessionServerBaseUrl",aI),Ne(this,"sessionNamespace",void 0),Ne(this,"allowedOrigin",void 0),Ne(this,"sessionTime",Mz),Ne(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),n&&(this.sessionNamespace=n),r&&(this.sessionTime=r),i&&(this.sessionId=oE(i)),a?this.allowedOrigin=a:this.allowedOrigin="*"}static generateRandomSessionKey(){return oE(Hq().toString("hex"))}async createSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=ic(r).toString("hex"),a=await Xg(this.sessionId,e),o=(await Qg(r,Wd(Buffer.from(a,"utf8")))).toString("hex"),s={key:i,data:a,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:n}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const r={key:ic(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:r,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const a=await bI(this.sessionId,i.message);if(a.error)throw new Error("There was an error decrypting data.");return a}async updateSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=ic(r).toString("hex"),a=await Xg(this.sessionId,e),o=(await Qg(r,Wd(Buffer.from(a,"utf8")))).toString("hex"),s={key:i,data:a,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:n})}async invalidateSession(e={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),r=ic(n).toString("hex"),i=await Xg(this.sessionId,{}),a=(await Qg(n,Wd(Buffer.from(i,"utf8")))).toString("hex"),o={key:r,data:i,signature:a,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}async function Oz(t,e){try{return await new $h({sessionId:t,sessionServerBaseUrl:e,allowedOrigin:!0}).authorizeSession()}catch(n){throw Qo.error("fetch data from storage server error",n),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}class kz extends Xo{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");const n=new URL(e),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),i=qn({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},r);Object.keys(i).forEach(a=>{const o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e,n){const{idToken:r,extraParams:i}=e,{sessionId:a}=JSON.parse(pc.decode(i))||{};if(!a)throw new Error("sessionId not found");const{verifier_id:o,signature:s,clientDataJSON:u,authenticatorData:l,publicKey:h,challenge:p,rpOrigin:g,rpId:v,credId:y,transports:w,username:C}=await Oz(a,n);if(s!==r)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:o,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:s,clientDataJSON:u,authenticatorData:l,publicKey:h,challenge:p,rpOrigin:g,rpId:v,credId:y,transports:w,username:C}}}}const Iz=["event","origin","result"];class Tz extends Xo{constructor(e){super(e),Ne(this,"RESPONSE_TYPE","token"),Ne(this,"SCOPE","profile"),Ne(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=Y4(e||"https://oauth.telegram.org/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));r.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;const i=qn({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(i).forEach(a=>{const o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=Aq(n),{photo_url:i="",first_name:a="",last_name:o="",id:s}=r;return{email:"",name:`${a} ${o}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:s.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){const n=new Ry({url:this.finalURL,features:e.popupFeatures,timeout:J4(this.params.authConnection)});if(this.params.uxMode===Zr.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else return new Promise((r,i)=>{const a=async s=>{try{const u=JSON.parse(s)||{},{event:l,origin:h,result:p}=u,g=Cy(u,Iz),y=new URL(h).searchParams.get("state");l&&l==="auth_result"&&r(we(we({accessToken:""},g),{},{idToken:pc.encode(JSON.stringify(p))||"",state:pc.decode(y)}))}catch(u){cu.error(u),i(u)}},o=async s=>{if(!s.data)throw new Error("Invalid data received");if(this.finalURL.origin!==s.origin)throw new Error("Invalid origin received");const u=s.data;if(typeof u!="string")throw new Error("Invalid data type received");const{event:l}=JSON.parse(u)||{};l&&l!=="auth_result"&&cu.info("Invalid event received"),window.removeEventListener("message",o),a(u),n.close()};window.addEventListener("message",o);try{n.open()}catch(s){cu.error(s),i(s);return}n.once("close",()=>{i(new Error("user closed popup"))})});return null}}class Rz extends Xo{constructor(e){super(e),Ne(this,"RESPONSE_TYPE","token"),Ne(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://id.twitch.tv/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=qn({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},n);Object.keys(r).forEach(i=>{const a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await Ws("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${n}`,"Client-ID":this.params.clientId}}),[{profile_image_url:i="",display_name:a="",email:o="",id:s}]=r.data||[];return{profileImage:i,name:a,email:o,userId:s,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const lE={code:"code"};class Pz extends Xo{constructor(e){super(e),Ne(this,"SCOPE","openid profile email"),Ne(this,"RESPONSE_TYPE","token id_token"),Ne(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams||{},n=Y4(e||"https://passwordless.web3auth.io/v7");n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete r.domain,this.params.customState=we(we({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});const i=qn({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:nI[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:r?.flow_type||lE.code},r);Object.keys(i).forEach(a=>{const o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=Z4(n).payload,{name:i,email:a,picture:o}=r;return{profileImage:o,name:i,email:a,userId:i.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const Lz=t=>{const{authConnectionId:e,authConnection:n,clientId:r,jwtParams:i}=t;if(!e||!n||!r)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");const{domain:a,login_hint:o,id_token:s,access_token:u}=i||{};switch(n){case ot.GOOGLE:return new Iq(t);case ot.TELEGRAM:return new Tz(t);case ot.FACEBOOK:return new kq(t);case ot.TWITCH:return new Rz(t);case ot.DISCORD:return new Oq(t);case ot.EMAIL_PASSWORDLESS:case ot.SMS_PASSWORDLESS:if(!o)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new Pz(t);case ot.APPLE:case ot.GITHUB:case ot.LINKEDIN:case ot.TWITTER:case ot.LINE:case ot.CUSTOM:case ot.REDDIT:case ot.WECHAT:case ot.KAKAO:case ot.FARCASTER:case ot.AUTHENTICATOR:if(s||u)return new Rq(t);if(!a)throw new Error("Invalid params for jwt login. Missing domain");return new Tq(t);case ot.PASSKEYS:return new kz(t);default:throw new Error("Unsupported login type")}},Q4=async t=>{const e=t instanceof Error,n=typeof t=="string",r=t&&typeof t=="object"&&"status"in t&&"type"in t;let i;if(r){const a=t,o=a.headers.get("content-type");if(o.includes("application/json")){const s=await a.json();i=new Error(s?.error||s?.message||JSON.stringify(s))}else o.includes("text/plain")?i=new Error(await a.text()):i=new Error(`${a.status} ${a.type.toString()} ${a.statusText}`)}else n?i=new Error(t):e?i=t:i=new Error("Unknown error");return i},Ho=Qo.getLogger("auth");Ho.setLevel("error");const Un={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Ql={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Un.MAINNET+"",Un.TESTNET+"",Un.CYAN+"",Un.AQUA+"",Un.CELESTE+"";Un.AQUA+"",Ql.SAPPHIRE_MAINNET,Un.CELESTE+"",Ql.SAPPHIRE_MAINNET,Un.CYAN+"",Ql.SAPPHIRE_MAINNET,Un.MAINNET+"",Ql.SAPPHIRE_MAINNET,Un.TESTNET+"",Ql.SAPPHIRE_DEVNET;Un.MAINNET+"",Un.TESTNET+"",Un.CYAN+"",Un.AQUA+"",Un.CELESTE+"";Ql.SAPPHIRE_MAINNET+"",Ql.SAPPHIRE_DEVNET+"",Un.MAINNET+"",Un.TESTNET+"",Un.CYAN+"",Un.AQUA+"",Un.CELESTE+"";Un.MAINNET+"",Un.TESTNET+"",Un.CYAN+"",Un.AQUA+"",Un.CELESTE+"";const wI="https://api.web3auth.io/session-service",xI="https://session.web3auth.io",Dz=Un,Bz=Ql,Vd=we(we({},Bz),Dz),Uz={OTHER:"other"},wd={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},Oi={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},Cs={DEFAULT:"default",IFRAME:"iframe"},Ol={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},n8="auth-iframe",$z="http://localhost:3000",Fz="https://staging-auth.web3auth.io",qz="https://develop-auth.web3auth.io",zz="https://auth.web3auth.io",Hz="http://localhost:5173",Kz="https://staging-account.web3auth.io",Wz="https://develop-account.web3auth.io",Vz="https://account.web3auth.io",Gz=1e3*10,Aa={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},Yz={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"},cE={light:"light",dark:"dark"},EI=pc;function Mv(t){return EI.decode(t)}function Km(t){return EI.encode(JSON.stringify(t))}const Jz=t=>{const e=window.document.createElement("template"),n=t.trim();return e.innerHTML=n,e.content.firstChild};function Zz(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t))}}const Wm=new Map;function Qz(t){return t===cE.light?"light":t===cE.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}class Xz{constructor({sdkUrl:e,whiteLabel:n}){Ne(this,"sdkUrl",void 0),Ne(this,"whiteLabel",void 0),Ne(this,"initialized",!1),Ne(this,"loginCallbackSuccess",null),Ne(this,"loginCallbackFailed",null),Ne(this,"embedNonce",G4()),this.sdkUrl=e,this.whiteLabel=n}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return Wm.get(this.embedNonce)}registerAuthServiceIframe(e){Wm.set(this.embedNonce,e)}cleanup(){const e=Wm.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),Wm.delete(this.embedNonce))}async init({network:e,clientId:n}){if(typeof window>"u"||typeof document>"u")throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");const r=new URL(this.sdkUrl);r.pathname.endsWith("/")?r.pathname+="frame":r.pathname+="/frame";const i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),r.hash=i.toString();const a=Qz(this.whiteLabel.mode||cE.light),o=Jz(`<iframe
        id="${n8}-${this.embedNonce}"
        class="${n8}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${r.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${a};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(o),new Promise((s,u)=>{try{window.document.body.appendChild(o);const l=h=>{var p,g,v;if(h.origin!==this.targetOrigin)return;const{data:y}=h,{type:w,nonce:C}=y;if(C!==this.embedNonce)return;const x=y.data;switch(w){case Ol.SETUP_COMPLETE:(p=this.getAuthServiceIframe())===null||p===void 0||(p=p.contentWindow)===null||p===void 0||p.postMessage({type:Ol.INIT_DAPP,data:{network:e,clientId:n}},this.targetOrigin),this.initialized=!0,s();break;case Ol.LOGIN_FAILED:(g=this.loginCallbackFailed)===null||g===void 0||g.call(this,x?.error||"Login failed, reason: unknown");break;case Ol.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case Ol.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case Ol.LOGIN_SUCCESS:Ho.info("LOGIN_SUCCESS",x),this.getAuthServiceIframe().style.display="none",x!=null&&x.sessionId&&((v=this.loginCallbackSuccess)===null||v===void 0||v.call(this,x));break;default:Ho.warn(`Unknown message type: ${w}`);break}};window.addEventListener("message",l)}catch(l){u(l)}})}postLoginInitiatedMessage(e,n){var r;if(!this.initialized)throw new Error("Iframe not initialized");return(r=this.getAuthServiceIframe().contentWindow)===null||r===void 0||r.postMessage({type:Ol.LOGIN_INITIATED,data:{loginConfig:e,nonce:n}},this.targetOrigin),new Promise((i,a)=>{this.loginCallbackSuccess=i,this.loginCallbackFailed=a})}postLoginCancelledMessage(e){var n;if(!this.initialized)throw new Error("Iframe not initialized");(n=this.getAuthServiceIframe().contentWindow)===null||n===void 0||n.postMessage({type:Ol.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}function eH(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function tH(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var nH=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),SI=function(t){nH(e,t);function e(n,r){var i=this.constructor,a=t.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),eH(a,i.prototype),tH(a),a}return e}(Error);class _I extends SI{constructor(e,n){super(n),Ne(this,"code",void 0),Ne(this,"message",void 0),this.code=e,this.message=n||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class Ro extends _I{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,n=""){return new Ro(e,`${Ro.messages[e]}, ${n}`)}static invalidParams(e=""){return Ro.fromCode(5001,e)}static notInitialized(e=""){return Ro.fromCode(5002,e)}}Ne(Ro,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class Cn extends _I{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,n=""){return new Cn(e,`${Cn.messages[e]}, ${n}`)}static invalidLoginParams(e=""){return Cn.fromCode(5111,e)}static userNotLoggedIn(e=""){return Cn.fromCode(5112,e)}static popupClosed(e=""){return Cn.fromCode(5113,e)}static loginFailed(e=""){return Cn.fromCode(5114,e)}static popupBlocked(e=""){return Cn.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return Cn.fromCode(5116,e)}static mfaNotEnabled(e=""){return Cn.fromCode(5117,e)}}Ne(Cn,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const qs=Object.create(null);qs.open="0";qs.close="1";qs.ping="2";qs.pong="3";qs.message="4";qs.upgrade="5";qs.noop="6";const ev=Object.create(null);Object.keys(qs).forEach(t=>{ev[qs[t]]=t});const uE={type:"error",data:"parser error"},CI=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",NI=typeof ArrayBuffer=="function",AI=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,X4=({type:t,data:e},n,r)=>CI&&e instanceof Blob?n?r(e):r8(e,r):NI&&(e instanceof ArrayBuffer||AI(e))?n?r(e):r8(new Blob([e]),r):r(qs[t]+(e||"")),r8=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function i8(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Wx;function rH(t,e){if(CI&&t.data instanceof Blob)return t.data.arrayBuffer().then(i8).then(e);if(NI&&(t.data instanceof ArrayBuffer||AI(t.data)))return e(i8(t.data));X4(t,!1,n=>{Wx||(Wx=new TextEncoder),e(Wx.encode(n))})}const a8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<a8.length;t++)Fh[a8.charCodeAt(t)]=t;const iH=t=>{let e=t.length*.75,n=t.length,r,i=0,a,o,s,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),h=new Uint8Array(l);for(r=0;r<n;r+=4)a=Fh[t.charCodeAt(r)],o=Fh[t.charCodeAt(r+1)],s=Fh[t.charCodeAt(r+2)],u=Fh[t.charCodeAt(r+3)],h[i++]=a<<2|o>>4,h[i++]=(o&15)<<4|s>>2,h[i++]=(s&3)<<6|u&63;return l},aH=typeof ArrayBuffer=="function",eS=(t,e)=>{if(typeof t!="string")return{type:"message",data:jI(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:sH(t.substring(1),e)}:ev[n]?t.length>1?{type:ev[n],data:t.substring(1)}:{type:ev[n]}:uE},sH=(t,e)=>{if(aH){const n=iH(t);return jI(n,e)}else return{base64:!0,data:t}},jI=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},MI="",oH=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((a,o)=>{X4(a,!1,s=>{r[o]=s,++i===n&&e(r.join(MI))})})},lH=(t,e)=>{const n=t.split(MI),r=[];for(let i=0;i<n.length;i++){const a=eS(n[i],e);if(r.push(a),a.type==="error")break}return r};function cH(){return new TransformStream({transform(t,e){rH(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Vx;function Vm(t){return t.reduce((e,n)=>e+n.length,0)}function Gm(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function uH(t,e){Vx||(Vx=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(r===0){if(Vm(n)<1)break;const u=Gm(n,1);a=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Vm(n)<2)break;const u=Gm(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Vm(n)<8)break;const u=Gm(n,8),l=new DataView(u.buffer,u.byteOffset,u.length),h=l.getUint32(0);if(h>Math.pow(2,21)-1){s.enqueue(uE);break}i=h*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Vm(n)<i)break;const u=Gm(n,i);s.enqueue(eS(a?u:Vx.decode(u),e)),r=0}if(i===0||i>t){s.enqueue(uE);break}}}})}const OI=4;function ur(t){if(t)return dH(t)}function dH(t){for(var e in ur.prototype)t[e]=ur.prototype[e];return t}ur.prototype.on=ur.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ur.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ur.prototype.off=ur.prototype.removeListener=ur.prototype.removeAllListeners=ur.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ur.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};ur.prototype.emitReserved=ur.prototype.emit;ur.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ur.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Py=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Da=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fH="arraybuffer";function kI(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const hH=Da.setTimeout,pH=Da.clearTimeout;function Ly(t,e){e.useNativeTimers?(t.setTimeoutFn=hH.bind(Da),t.clearTimeoutFn=pH.bind(Da)):(t.setTimeoutFn=Da.setTimeout.bind(Da),t.clearTimeoutFn=Da.clearTimeout.bind(Da))}const mH=1.33;function gH(t){return typeof t=="string"?vH(t):Math.ceil((t.byteLength||t.size)*mH)}function vH(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function II(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function yH(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function bH(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class wH extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class tS extends ur{constructor(e){super(),this.writable=!1,Ly(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new wH(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=eS(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=yH(e);return n.length?"?"+n:""}}class xH extends tS{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};lH(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,oH(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=II()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let TI=!1;try{TI=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const EH=TI;function SH(){}class _H extends xH{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Gd=class tv extends ur{constructor(e,n,r){super(),this.createRequest=e,Ly(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=kI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=tv.requestsCount++,tv.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=SH,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete tv.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Gd.requestsCount=0;Gd.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",s8);else if(typeof addEventListener=="function"){const t="onpagehide"in Da?"pagehide":"unload";addEventListener(t,s8,!1)}}function s8(){for(let t in Gd.requests)Gd.requests.hasOwnProperty(t)&&Gd.requests[t].abort()}const CH=function(){const t=RI({xdomain:!1});return t&&t.responseType!==null}();class NH extends _H{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=CH&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Gd(RI,this.uri(),e)}}function RI(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||EH))return new XMLHttpRequest}catch{}if(!e)try{return new Da[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const PI=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class AH extends tS{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=PI?{}:kI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;X4(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&Py(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=II()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Gx=Da.WebSocket||Da.MozWebSocket;class jH extends AH{createSocket(e,n,r){return PI?new Gx(e,n,r):n?new Gx(e,n):new Gx(e)}doWrite(e,n){this.ws.send(n)}}class MH extends tS{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=uH(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=cH();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:s,value:u})=>{s||(this.onPacket(u),a())}).catch(s=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Py(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const OH={websocket:jH,webtransport:MH,polling:NH},kH=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,IH=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dE(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=kH.exec(t||""),a={},o=14;for(;o--;)a[IH[o]]=i[o]||"";return n!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=TH(a,a.path),a.queryKey=RH(a,a.query),a}function TH(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function RH(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}const fE=typeof addEventListener=="function"&&typeof removeEventListener=="function",nv=[];fE&&addEventListener("offline",()=>{nv.forEach(t=>t())},!1);class oc extends ur{constructor(e,n){if(super(),this.binaryType=fH,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=dE(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=dE(n.host).host);Ly(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bH(this.opts.query)),fE&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},nv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=OI,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&oc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",oc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=gH(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Py(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:e,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(oc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fE&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=nv.indexOf(this._offlineEventListener);r!==-1&&nv.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}oc.protocol=OI;class PH extends oc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;oc.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;oc.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function a(){r||(r=!0,h(),n.close(),n=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=n.name,a(),this.emitReserved("upgradeError",g)};function s(){o("transport closed")}function u(){o("socket closed")}function l(p){n&&p.name!==n.name&&a()}const h=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",s),this.off("close",u),this.off("upgrading",l)};n.once("open",i),n.once("error",o),n.once("close",s),this.once("close",u),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let LH=class extends PH{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>OH[i]).filter(i=>!!i)),super(e,r)}};function DH(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=dE(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const BH=typeof ArrayBuffer=="function",UH=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,LI=Object.prototype.toString,$H=typeof Blob=="function"||typeof Blob<"u"&&LI.call(Blob)==="[object BlobConstructor]",FH=typeof File=="function"||typeof File<"u"&&LI.call(File)==="[object FileConstructor]";function nS(t){return BH&&(t instanceof ArrayBuffer||UH(t))||$H&&t instanceof Blob||FH&&t instanceof File}function rv(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(rv(t[n]))return!0;return!1}if(nS(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return rv(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&rv(t[n]))return!0;return!1}function qH(t){const e=[],n=t.data,r=t;return r.data=hE(n,e),r.attachments=e.length,{packet:r,buffers:e}}function hE(t,e){if(!t)return t;if(nS(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=hE(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=hE(t[r],e));return n}return t}function zH(t,e){return t.data=pE(t.data,e),delete t.attachments,t}function pE(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=pE(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=pE(t[n],e));return t}const HH=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],KH=5;var an;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(an||(an={}));class WH{constructor(e){this.replacer=e}encode(e){return(e.type===an.EVENT||e.type===an.ACK)&&rv(e)?this.encodeAsBinary({type:e.type===an.EVENT?an.BINARY_EVENT:an.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===an.BINARY_EVENT||e.type===an.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=qH(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function o8(t){return Object.prototype.toString.call(t)==="[object Object]"}class rS extends ur{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===an.BINARY_EVENT;r||n.type===an.BINARY_ACK?(n.type=r?an.EVENT:an.ACK,this.reconstructor=new VH(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(nS(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(an[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===an.BINARY_EVENT||r.type===an.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(a,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(a,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(rS.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case an.CONNECT:return o8(n);case an.DISCONNECT:return n===void 0;case an.CONNECT_ERROR:return typeof n=="string"||o8(n);case an.EVENT:case an.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&HH.indexOf(n[0])===-1);case an.ACK:case an.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class VH{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=zH(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const GH=Object.freeze(Object.defineProperty({__proto__:null,Decoder:rS,Encoder:WH,get PacketType(){return an},protocol:KH},Symbol.toStringTag,{value:"Module"}));function ts(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const YH=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class DI extends ur{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ts(e,"open",this.onopen.bind(this)),ts(e,"packet",this.onpacket.bind(this)),ts(e,"error",this.onerror.bind(this)),ts(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,a;if(YH.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:an.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,p=n.pop();this._registerAckCallback(h,p),o.id=h}const s=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!s||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i),o=(...s)=>{this.io.clearTimeoutFn(a),n.apply(this,s)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const a=(o,s)=>o?i(o):r(s);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:an.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case an.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case an.EVENT:case an.BINARY_EVENT:this.onevent(e);break;case an.ACK:case an.BINARY_ACK:this.onack(e);break;case an.DISCONNECT:this.ondisconnect();break;case an.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:an.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:an.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function yf(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}yf.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};yf.prototype.reset=function(){this.attempts=0};yf.prototype.setMin=function(t){this.ms=t};yf.prototype.setMax=function(t){this.max=t};yf.prototype.setJitter=function(t){this.jitter=t};class mE extends ur{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ly(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new yf({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||GH;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new LH(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ts(n,"open",function(){r.onopen(),e&&e()}),a=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},o=ts(n,"error",a);if(this._timeout!==!1){const s=this._timeout,u=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},s);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ts(e,"ping",this.onping.bind(this)),ts(e,"data",this.ondata.bind(this)),ts(e,"error",this.onerror.bind(this)),ts(e,"close",this.onclose.bind(this)),ts(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Py(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new DI(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Eh={};function Zh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=DH(t,e.path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=Eh[i]&&a in Eh[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return s?u=new mE(r,e):(Eh[i]||(Eh[i]=new mE(r,e)),u=Eh[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(Zh,{Manager:mE,Socket:DI,io:Zh,connect:Zh});var Tr=Qo.getLogger("SecurePubSub");class BI{constructor(e={}){Ne(this,"options",void 0),Ne(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||aI,this.options.socketUrl=e.socketUrl||Lq,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?Tr.enableAll():Tr.disableAll()}static setLogLevel(e){Tr.setLevel(e),fq(e)}async publish(e,n){if(!this.isValidTopic(e))throw Tr.error("Invalid topic"),new Error("Invalid topic");const r=Wd(Buffer.from(e,"utf8")),i=await Xg(r.toString("hex"),n),a=await Qg(r,Wd(Buffer.from(i,"utf8"))),o={key:ic(r).toString("hex"),data:i,signature:a.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return Eu(`${this.options.serverUrl}/v2/channel/set`,o)}async subscribe(e){let n=!0;const r=Wd(Buffer.from(e,"utf8")),i=ic(r).toString("hex"),a=this.getSocketConnection();a.connected?(Tr.debug("already connected with socket"),a.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):a.once("connect",()=>{Tr.debug("connected with socket"),a.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});const o=()=>{a.once("connect",async()=>{Tr.debug("connected with socket using reconnect"),n&&a.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},s=()=>{n||document.removeEventListener("visibilitychange",s),!a.connected&&document.visibilityState==="visible"&&o()},u=()=>{Tr.debug("socket disconnected",n),n?(Tr.error("socket disconnected unexpectedly, reconnecting socket"),o()):a.removeListener("disconnect",u)};a.on("disconnect",u);const l=new Promise((h,p)=>{const g=async v=>{try{const y=await bI(r.toString("hex"),v);Tr.info("got data",y),h(y)}catch(y){Tr.error(y),p(y)}finally{n=!1,typeof document<"u"&&document.removeEventListener("visibilitychange",s)}};Tr.info("listening to",`${i}_success`),a.once(`${i}_success`,g)});return typeof document<"u"&&document.addEventListener("visibilitychange",s),l}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=Zh(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",n=>{e.io.opts.transports=["polling","websocket"],Tr.error("connect error",n)}),e.on("connect",async()=>{const{engine:n}=e.io;Tr.debug("initially connected to",n.transport.name),n.once("upgrade",()=>{Tr.debug("upgraded",n.transport.name)}),n.once("close",r=>{Tr.debug("connection closed",r)})}),e.on("error",n=>{Tr.error("socket errored",n),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}class JH extends Ty.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4,sessionSocketUrl:a,sessionServerUrl:o}){super(),Ne(this,"url",void 0),Ne(this,"target",void 0),Ne(this,"features",void 0),Ne(this,"window",void 0),Ne(this,"windowTimer",void 0),Ne(this,"iClosedWindow",void 0),Ne(this,"timeout",void 0),Ne(this,"sessionSocketUrl",void 0),Ne(this,"sessionServerUrl",void 0),this.url=e,this.target=n||"_blank",this.features=r||iI(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this.sessionServerUrl=o||wI,this.sessionSocketUrl=a||xI,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw Cn.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const n=new BI({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),r=await n.subscribe(e);this.close(),n.cleanup();const i=JSON.parse(r);return i.error?{error:i.error,state:i.state}:i.data}}const gE="10.5.0";function ZH(t=!1){const e={},n=new URLSearchParams(window.location.search.slice(1));n.forEach((o,s)=>{s!=="b64Params"&&(e[s]=o)});const r=n.get("b64Params");if(r)try{const o=JSON.parse(Mv(r));Object.keys(o).forEach(s=>{e[s]=o[s]})}catch(o){Ho.error(o)}const i=new URLSearchParams(window.location.hash.substring(1));i.forEach((o,s)=>{s!=="b64Params"&&(e[s]=o)});const a=i.get("b64Params");if(a)try{const o=JSON.parse(Mv(a));Object.keys(o).forEach(s=>{e[s]=o[s]})}catch(o){Ho.error(o)}if(t){const o=new URL(window.location.origin+window.location.pathname);n.size!==0&&(n.delete("error"),n.delete("state"),n.delete("b64Params"),n.delete("sessionNamespace"),o.search=n.toString()),i.size!==0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),o.hash=i.toString()),window.history.replaceState(we(we({},window.history.state),{},{as:o.href,url:o.href}),"",o.href)}return e}class UI{constructor(){Ne(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,n){this.store.set(e,n)}removeItem(e){this.store.delete(e)}}class $I{constructor(e,n){Ne(this,"storage",void 0),Ne(this,"_storeKey",void 0),this.storage=n,this._storeKey=e;try{n.getItem(e)||this.resetStore()}catch{}}static getInstance(e,n="local"){if(!this.instanceMap.has(e)){let r;n==="local"&&sE("localStorage")?r=window.localStorage:n==="session"&&sE("sessionStorage")?r=window.sessionStorage:r=new UI,this.instanceMap.set(e,new this(e,r))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,n){const r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}}Ne($I,"instanceMap",new Map);class QH{constructor(e){if(Ne(this,"state",{}),Ne(this,"options",void 0),Ne(this,"sessionManager",void 0),Ne(this,"currentStorage",void 0),Ne(this,"_storageBaseKey","auth_store"),Ne(this,"dappState",void 0),Ne(this,"addVersionInUrls",!0),Ne(this,"authProvider",void 0),Ne(this,"authProviderPromise",void 0),!e.clientId)throw Ro.invalidParams("clientId is required");e.network||(e.network=Vd.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=Oi.PRODUCTION),e.sdkMode||(e.sdkMode=Cs.DEFAULT),(e.buildEnv===Oi.DEVELOPMENT||e.buildEnv===Oi.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===Oi.DEVELOPMENT?(e.sdkUrl=$z,e.dashboardUrl=Hz):e.buildEnv===Oi.STAGING?(e.sdkUrl=Fz,e.dashboardUrl=Kz):e.buildEnv===Oi.TESTING?(e.sdkUrl=qz,e.dashboardUrl=Wz):(e.sdkUrl=zz,e.dashboardUrl=Vz)),!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=Zr.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),typeof e.includeUserDataInToken!="boolean"&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=wI),e.sessionSocketUrl||(e.sessionSocketUrl=xI),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${gE.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${gE.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){const e=ZH(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const n=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=$I.getInstance(n,this.options.storage);const r=this.currentStorage.get("sessionId");if(this.sessionManager=new $h({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:r,allowedOrigin:this.options.sdkUrl}),(this.options.network===Vd.TESTNET||this.options.network===Vd.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==Oi.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Cn.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===Cs.IFRAME&&(this.authProvider=new Xz({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw Cn.invalidLoginParams("AuthConnection is required");const n=we({},e),r={actionType:wd.LOGIN,options:this.options,params:n},i=await this.authHandler(`${this.baseUrl}/start`,r,J4(e.authConnection));if(this.options.uxMode===Zr.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Cn.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,n){var r;if(this.options.sdkMode!==Cs.IFRAME)throw Cn.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,(r=this.authProvider)!==null&&r!==void 0&&r.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});const i=await this.authProvider.postLoginInitiatedMessage({actionType:wd.LOGIN,params:e,options:this.options},n);if(i.error)throw Cn.loginFailed(i.error);this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var n;if(this.options.sdkMode!==Cs.IFRAME)throw Cn.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!((n=this.authProvider)!==null&&n!==void 0&&n.initialized))throw Ro.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw Cn.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var n;if(!this.sessionId)throw Cn.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw Cn.mfaAlreadyEnabled();const r={actionType:wd.ENABLE_MFA,options:we(we({},this.options),{},{sdkMode:Cs.DEFAULT}),params:we(we({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r,Gz);if(this.options.uxMode===Zr.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Cn.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((n=this.state.userInfo)===null||n===void 0)&&n.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw Cn.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw Cn.mfaNotEnabled();const n={dappUrl:`${window.location.origin}${window.location.pathname}`},r=$h.generateRandomSessionKey(),i={actionType:wd.MANAGE_MFA,options:we(we({},this.options),{},{uxMode:Zr.REDIRECT,sdkMode:Cs.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:we(we(we({},n),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:Km({loginId:r})}),sessionId:this.sessionId};this.createLoginSession(r,i,i.options.sessionTime,!0);const a={loginId:r,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},o=Yh({baseURL:`${this.baseUrl}/start`,hash:{b64Params:Km(a)}});window.open(o,"_blank")}async manageSocialFactor(e,n){if(!this.sessionId)throw Cn.userNotLoggedIn();const r={actionType:e,options:we(we({},this.options),{},{sdkMode:Cs.DEFAULT}),params:we({},n),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==Zr.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw Cn.userNotLoggedIn();const n={actionType:wd.ADD_AUTHENTICATOR_FACTOR,options:we(we({},this.options),{},{sdkMode:Cs.DEFAULT}),params:we(we({},e),{},{authConnection:ot.AUTHENTICATOR}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Zr.REDIRECT)return!r.error}async addPasskeyFactor(e){if(!this.sessionId)throw Cn.userNotLoggedIn();const n={actionType:wd.ADD_PASSKEY_FACTOR,options:we(we({},this.options),{},{sdkMode:Cs.DEFAULT}),params:we(we({},e),{},{authConnection:ot.PASSKEYS}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Zr.REDIRECT)return!r.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw Cn.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,n,r=600,i=!1){if(!this.sessionManager)throw Ro.notInitialized();const o=new $h({sessionServerBaseUrl:n.options.storageServerUrl,sessionNamespace:n.options.sessionNamespace,sessionTime:r,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(n)));n.options.uxMode===Zr.REDIRECT&&!i&&await o}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return Ho.error("authorization failed",e),{}}}updateState(e){this.state=we(we({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,n,r=1e3*10){const i=$h.generateRandomSessionKey();await this.createLoginSession(i,n);const a={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===Zr.REDIRECT){const u=Yh({baseURL:e,hash:{b64Params:Km(a)}});window.location.href=u;return}const o=Yh({baseURL:e,hash:{b64Params:Km(a)}}),s=new JH({url:o,timeout:r,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((u,l)=>{s.on("close",()=>{l(Cn.popupClosed())}),s.listenOnChannel(i).then(u).catch(l);try{s.open()}catch(h){l(h)}})}}var Yx={exports:{}},Jx={exports:{}},Zx,l8;function Jn(){if(l8)return Zx;l8=1;class t extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let r="";for(let i=0;i<n.length;i++)r+=`    ${n[i].stack}
`;super(r),this.name="AggregateError",this.errors=n}}return Zx={AggregateError:t,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,n){return e.includes(n)},ArrayPrototypeIndexOf(e,n){return e.indexOf(n)},ArrayPrototypeJoin(e,n){return e.join(n)},ArrayPrototypeMap(e,n){return e.map(n)},ArrayPrototypePop(e,n){return e.pop(n)},ArrayPrototypePush(e,n){return e.push(n)},ArrayPrototypeSlice(e,n,r){return e.slice(n,r)},Error,FunctionPrototypeCall(e,n,...r){return e.call(n,...r)},FunctionPrototypeSymbolHasInstance(e,n){return Function.prototype[Symbol.hasInstance].call(e,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,n){return Object.defineProperties(e,n)},ObjectDefineProperty(e,n,r){return Object.defineProperty(e,n,r)},ObjectGetOwnPropertyDescriptor(e,n){return Object.getOwnPropertyDescriptor(e,n)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,n){return Object.setPrototypeOf(e,n)},Promise,PromisePrototypeCatch(e,n){return e.catch(n)},PromisePrototypeThen(e,n,r){return e.then(n,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,n){return e.test(n)},SafeSet:Set,String,StringPrototypeSlice(e,n,r){return e.slice(n,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,n,r){return e.set(n,r)},Boolean,Uint8Array},Zx}var Qx={exports:{}},Xx,c8;function FI(){return c8||(c8=1,Xx={format(t,...e){return t.replace(/%([sdifj])/g,function(...[n,r]){const i=e.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),Xx}var e3,u8;function gi(){if(u8)return e3;u8=1;const{format:t,inspect:e}=FI(),{AggregateError:n}=Jn(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",u={};function l(C,x){if(!C)throw new u.ERR_INTERNAL_ASSERTION(x)}function h(C){let x="",M=C.length;const k=C[0]==="-"?1:0;for(;M>=k+4;M-=3)x=`_${C.slice(M-3,M)}${x}`;return`${C.slice(0,M)}${x}`}function p(C,x,M){if(typeof x=="function")return l(x.length<=M.length,`Code: ${C}; The provided arguments length (${M.length}) does not match the required ones (${x.length}).`),x(...M);const k=(x.match(/%[dfijoOs]/g)||[]).length;return l(k===M.length,`Code: ${C}; The provided arguments length (${M.length}) does not match the required ones (${k}).`),M.length===0?x:t(x,...M)}function g(C,x,M){M||(M=Error);class k extends M{constructor(...P){super(p(C,x,P))}toString(){return`${this.name} [${C}]: ${this.message}`}}Object.defineProperties(k.prototype,{name:{value:M.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${C}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),k.prototype.code=C,k.prototype[i]=!0,u[C]=k}function v(C){const x=s+C.name;return Object.defineProperty(C,"name",{value:x}),C}function y(C,x){if(C&&x&&C!==x){if(Array.isArray(x.errors))return x.errors.push(C),x;const M=new r([x,C],x.message);return M.code=x.code,M}return C||x}class w extends Error{constructor(x="The operation was aborted",M=void 0){if(M!==void 0&&typeof M!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",M);super(x,M),this.code="ABORT_ERR",this.name="AbortError"}}return g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(C,x,M)=>{l(typeof C=="string","'name' must be a string"),Array.isArray(x)||(x=[x]);let k="The ";C.endsWith(" argument")?k+=`${C} `:k+=`"${C}" ${C.includes(".")?"property":"argument"} `,k+="must be ";const z=[],P=[],K=[];for(const B of x)l(typeof B=="string","All expected entries have to be of type string"),a.includes(B)?z.push(B.toLowerCase()):o.test(B)?P.push(B):(l(B!=="object",'The value "object" should be written as "Object"'),K.push(B));if(P.length>0){const B=z.indexOf("object");B!==-1&&(z.splice(z,B,1),P.push("Object"))}if(z.length>0){switch(z.length){case 1:k+=`of type ${z[0]}`;break;case 2:k+=`one of type ${z[0]} or ${z[1]}`;break;default:{const B=z.pop();k+=`one of type ${z.join(", ")}, or ${B}`}}(P.length>0||K.length>0)&&(k+=" or ")}if(P.length>0){switch(P.length){case 1:k+=`an instance of ${P[0]}`;break;case 2:k+=`an instance of ${P[0]} or ${P[1]}`;break;default:{const B=P.pop();k+=`an instance of ${P.join(", ")}, or ${B}`}}K.length>0&&(k+=" or ")}switch(K.length){case 0:break;case 1:K[0].toLowerCase()!==K[0]&&(k+="an "),k+=`${K[0]}`;break;case 2:k+=`one of ${K[0]} or ${K[1]}`;break;default:{const B=K.pop();k+=`one of ${K.join(", ")}, or ${B}`}}if(M==null)k+=`. Received ${M}`;else if(typeof M=="function"&&M.name)k+=`. Received function ${M.name}`;else if(typeof M=="object"){var W;if((W=M.constructor)!==null&&W!==void 0&&W.name)k+=`. Received an instance of ${M.constructor.name}`;else{const B=e(M,{depth:-1});k+=`. Received ${B}`}}else{let B=e(M,{colors:!1});B.length>25&&(B=`${B.slice(0,25)}...`),k+=`. Received type ${typeof M} (${B})`}return k},TypeError),g("ERR_INVALID_ARG_VALUE",(C,x,M="is invalid")=>{let k=e(x);return k.length>128&&(k=k.slice(0,128)+"..."),`The ${C.includes(".")?"property":"argument"} '${C}' ${M}. Received ${k}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(C,x,M)=>{var k;const z=M!=null&&(k=M.constructor)!==null&&k!==void 0&&k.name?`instance of ${M.constructor.name}`:`type ${typeof M}`;return`Expected ${C} to be returned from the "${x}" function but got ${z}.`},TypeError),g("ERR_MISSING_ARGS",(...C)=>{l(C.length>0,"At least one arg needs to be specified");let x;const M=C.length;switch(C=(Array.isArray(C)?C:[C]).map(k=>`"${k}"`).join(" or "),M){case 1:x+=`The ${C[0]} argument`;break;case 2:x+=`The ${C[0]} and ${C[1]} arguments`;break;default:{const k=C.pop();x+=`The ${C.join(", ")}, and ${k} arguments`}break}return`${x} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(C,x,M)=>{l(x,'Missing "range" argument');let k;if(Number.isInteger(M)&&Math.abs(M)>2**32)k=h(String(M));else if(typeof M=="bigint"){k=String(M);const z=BigInt(2)**BigInt(32);(M>z||M<-z)&&(k=h(k)),k+="n"}else k=e(M);return`The value of "${C}" is out of range. It must be ${x}. Received ${k}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e3={AbortError:w,aggregateTwoErrors:v(y),hideStackFrames:v,codes:u},e3}var Sh={exports:{}},d8;function m0(){if(d8)return Sh.exports;d8=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Sh.exports=t,Sh.exports.AbortSignal=e,Sh.exports.default=t,Sh.exports}var f8;function Li(){return f8||(f8=1,function(t){const e=Yo(),{format:n,inspect:r}=FI(),{codes:{ERR_INVALID_ARG_TYPE:i}}=gi(),{kResistStopPropagation:a,AggregateError:o,SymbolDispose:s}=Jn(),u=globalThis.AbortSignal||m0().AbortSignal,l=globalThis.AbortController||m0().AbortController,h=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||e.Blob,g=typeof p<"u"?function(C){return C instanceof p}:function(C){return!1},v=(w,C)=>{if(w!==void 0&&(w===null||typeof w!="object"||!("aborted"in w)))throw new i(C,"AbortSignal",w)},y=(w,C)=>{if(typeof w!="function")throw new i(C,"Function",w)};t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(w){let C=!1;return function(...x){C||(C=!0,w.apply(this,x))}},createDeferredPromise:function(){let w,C;return{promise:new Promise((M,k)=>{w=M,C=k}),resolve:w,reject:C}},promisify(w){return new Promise((C,x)=>{w((M,...k)=>M?x(M):C(...k))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(w){return w instanceof h},isArrayBufferView(w){return ArrayBuffer.isView(w)}},isBlob:g,deprecate(w,C){return w},addAbortListener:up().addAbortListener||function(C,x){if(C===void 0)throw new i("signal","AbortSignal",C);v(C,"signal"),y(x,"listener");let M;return C.aborted?queueMicrotask(()=>x()):(C.addEventListener("abort",x,{__proto__:null,once:!0,[a]:!0}),M=()=>{C.removeEventListener("abort",x)}),{__proto__:null,[s](){var k;(k=M)===null||k===void 0||k()}}},AbortSignalAny:u.any||function(C){if(C.length===1)return C[0];const x=new l,M=()=>x.abort();return C.forEach(k=>{v(k,"signals"),k.addEventListener("abort",M,{once:!0})}),x.signal.addEventListener("abort",()=>{C.forEach(k=>k.removeEventListener("abort",M))},{once:!0}),x.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Qx)),Qx.exports}var Ym={},t3,h8;function fp(){if(h8)return t3;h8=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:u,ObjectPrototypeHasOwnProperty:l,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:v}=Jn(),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:C,ERR_INVALID_ARG_VALUE:x,ERR_OUT_OF_RANGE:M,ERR_UNKNOWN_SIGNAL:k}}=gi(),{normalizeEncoding:z}=Li(),{isAsyncFunction:P,isArrayBufferView:K}=Li().types,W={};function B(fe){return fe===(fe|0)}function D(fe){return fe===fe>>>0}const $=/^[0-7]+$/,T="must be a 32-bit unsigned integer or an octal string";function b(fe,Se,Ae){if(typeof fe>"u"&&(fe=Ae),typeof fe=="string"){if(h($,fe)===null)throw new x(Se,fe,T);fe=u(fe,8)}return N(fe,Se),fe}const _=y((fe,Se,Ae=s,xe=o)=>{if(typeof fe!="number")throw new C(Se,"number",fe);if(!i(fe))throw new M(Se,"an integer",fe);if(fe<Ae||fe>xe)throw new M(Se,`>= ${Ae} && <= ${xe}`,fe)}),A=y((fe,Se,Ae=-2147483648,xe=2147483647)=>{if(typeof fe!="number")throw new C(Se,"number",fe);if(!i(fe))throw new M(Se,"an integer",fe);if(fe<Ae||fe>xe)throw new M(Se,`>= ${Ae} && <= ${xe}`,fe)}),N=y((fe,Se,Ae=!1)=>{if(typeof fe!="number")throw new C(Se,"number",fe);if(!i(fe))throw new M(Se,"an integer",fe);const xe=Ae?1:0,ze=4294967295;if(fe<xe||fe>ze)throw new M(Se,`>= ${xe} && <= ${ze}`,fe)});function O(fe,Se){if(typeof fe!="string")throw new C(Se,"string",fe)}function U(fe,Se,Ae=void 0,xe){if(typeof fe!="number")throw new C(Se,"number",fe);if(Ae!=null&&fe<Ae||xe!=null&&fe>xe||(Ae!=null||xe!=null)&&a(fe))throw new M(Se,`${Ae!=null?`>= ${Ae}`:""}${Ae!=null&&xe!=null?" && ":""}${xe!=null?`<= ${xe}`:""}`,fe)}const j=y((fe,Se,Ae)=>{if(!e(Ae,fe)){const ze="must be one of: "+n(r(Ae,Xe=>typeof Xe=="string"?`'${Xe}'`:p(Xe)),", ");throw new x(Se,fe,ze)}});function I(fe,Se){if(typeof fe!="boolean")throw new C(Se,"boolean",fe)}function E(fe,Se,Ae){return fe==null||!l(fe,Se)?Ae:fe[Se]}const L=y((fe,Se,Ae=null)=>{const xe=E(Ae,"allowArray",!1),ze=E(Ae,"allowFunction",!1);if(!E(Ae,"nullable",!1)&&fe===null||!xe&&t(fe)||typeof fe!="object"&&(!ze||typeof fe!="function"))throw new C(Se,"Object",fe)}),q=y((fe,Se)=>{if(fe!=null&&typeof fe!="object"&&typeof fe!="function")throw new C(Se,"a dictionary",fe)}),F=y((fe,Se,Ae=0)=>{if(!t(fe))throw new C(Se,"Array",fe);if(fe.length<Ae){const xe=`must be longer than ${Ae}`;throw new x(Se,fe,xe)}});function G(fe,Se){F(fe,Se);for(let Ae=0;Ae<fe.length;Ae++)O(fe[Ae],`${Se}[${Ae}]`)}function Y(fe,Se){F(fe,Se);for(let Ae=0;Ae<fe.length;Ae++)I(fe[Ae],`${Se}[${Ae}]`)}function Q(fe,Se){F(fe,Se);for(let Ae=0;Ae<fe.length;Ae++){const xe=fe[Ae],ze=`${Se}[${Ae}]`;if(xe==null)throw new C(ze,"AbortSignal",xe);ae(xe,ze)}}function ie(fe,Se="signal"){if(O(fe,Se),W[fe]===void 0)throw W[g(fe)]!==void 0?new k(fe+" (signals must use all capital letters)"):new k(fe)}const Z=y((fe,Se="buffer")=>{if(!K(fe))throw new C(Se,["Buffer","TypedArray","DataView"],fe)});function X(fe,Se){const Ae=z(Se),xe=fe.length;if(Ae==="hex"&&xe%2!==0)throw new x("encoding",Se,`is invalid for data of length ${xe}`)}function te(fe,Se="Port",Ae=!0){if(typeof fe!="number"&&typeof fe!="string"||typeof fe=="string"&&v(fe).length===0||+fe!==+fe>>>0||fe>65535||fe===0&&!Ae)throw new w(Se,fe,Ae);return fe|0}const ae=y((fe,Se)=>{if(fe!==void 0&&(fe===null||typeof fe!="object"||!("aborted"in fe)))throw new C(Se,"AbortSignal",fe)}),oe=y((fe,Se)=>{if(typeof fe!="function")throw new C(Se,"Function",fe)}),ee=y((fe,Se)=>{if(typeof fe!="function"||P(fe))throw new C(Se,"Function",fe)}),le=y((fe,Se)=>{if(fe!==void 0)throw new C(Se,"undefined",fe)});function he(fe,Se,Ae){if(!e(Ae,fe))throw new C(Se,`('${n(Ae,"|")}')`,fe)}const ge=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ee(fe,Se){if(typeof fe>"u"||!h(ge,fe))throw new x(Se,fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ye(fe){if(typeof fe=="string")return Ee(fe,"hints"),fe;if(t(fe)){const Se=fe.length;let Ae="";if(Se===0)return Ae;for(let xe=0;xe<Se;xe++){const ze=fe[xe];Ee(ze,"hints"),Ae+=ze,xe!==Se-1&&(Ae+=", ")}return Ae}throw new x("hints",fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return t3={isInt32:B,isUint32:D,parseFileMode:b,validateArray:F,validateStringArray:G,validateBooleanArray:Y,validateAbortSignalArray:Q,validateBoolean:I,validateBuffer:Z,validateDictionary:q,validateEncoding:X,validateFunction:oe,validateInt32:A,validateInteger:_,validateNumber:U,validateObject:L,validateOneOf:j,validatePlainFunction:ee,validatePort:te,validateSignalName:ie,validateString:O,validateUint32:N,validateUndefined:le,validateUnion:he,validateAbortSignal:ae,validateLinkHeaderValue:ye},t3}var Jm={exports:{}},n3,p8;function el(){if(p8)return n3;p8=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=Jn(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),u=n("nodejs.webstream.isClosedPromise"),l=n("nodejs.webstream.controllerErrorFunction");function h(E,L=!1){var q;return!!(E&&typeof E.pipe=="function"&&typeof E.on=="function"&&(!L||typeof E.pause=="function"&&typeof E.resume=="function")&&(!E._writableState||((q=E._readableState)===null||q===void 0?void 0:q.readable)!==!1)&&(!E._writableState||E._readableState))}function p(E){var L;return!!(E&&typeof E.write=="function"&&typeof E.on=="function"&&(!E._readableState||((L=E._writableState)===null||L===void 0?void 0:L.writable)!==!1))}function g(E){return!!(E&&typeof E.pipe=="function"&&E._readableState&&typeof E.on=="function"&&typeof E.write=="function")}function v(E){return E&&(E._readableState||E._writableState||typeof E.write=="function"&&typeof E.on=="function"||typeof E.pipe=="function"&&typeof E.on=="function")}function y(E){return!!(E&&!v(E)&&typeof E.pipeThrough=="function"&&typeof E.getReader=="function"&&typeof E.cancel=="function")}function w(E){return!!(E&&!v(E)&&typeof E.getWriter=="function"&&typeof E.abort=="function")}function C(E){return!!(E&&!v(E)&&typeof E.readable=="object"&&typeof E.writable=="object")}function x(E){return y(E)||w(E)||C(E)}function M(E,L){return E==null?!1:L===!0?typeof E[t]=="function":L===!1?typeof E[e]=="function":typeof E[t]=="function"||typeof E[e]=="function"}function k(E){if(!v(E))return null;const L=E._writableState,q=E._readableState,F=L||q;return!!(E.destroyed||E[r]||F!=null&&F.destroyed)}function z(E){if(!p(E))return null;if(E.writableEnded===!0)return!0;const L=E._writableState;return L!=null&&L.errored?!1:typeof L?.ended!="boolean"?null:L.ended}function P(E,L){if(!p(E))return null;if(E.writableFinished===!0)return!0;const q=E._writableState;return q!=null&&q.errored?!1:typeof q?.finished!="boolean"?null:!!(q.finished||L===!1&&q.ended===!0&&q.length===0)}function K(E){if(!h(E))return null;if(E.readableEnded===!0)return!0;const L=E._readableState;return!L||L.errored?!1:typeof L?.ended!="boolean"?null:L.ended}function W(E,L){if(!h(E))return null;const q=E._readableState;return q!=null&&q.errored?!1:typeof q?.endEmitted!="boolean"?null:!!(q.endEmitted||L===!1&&q.ended===!0&&q.length===0)}function B(E){return E&&E[a]!=null?E[a]:typeof E?.readable!="boolean"?null:k(E)?!1:h(E)&&E.readable&&!W(E)}function D(E){return E&&E[o]!=null?E[o]:typeof E?.writable!="boolean"?null:k(E)?!1:p(E)&&E.writable&&!z(E)}function $(E,L){return v(E)?k(E)?!0:!(L?.readable!==!1&&B(E)||L?.writable!==!1&&D(E)):null}function T(E){var L,q;return v(E)?E.writableErrored?E.writableErrored:(L=(q=E._writableState)===null||q===void 0?void 0:q.errored)!==null&&L!==void 0?L:null:null}function b(E){var L,q;return v(E)?E.readableErrored?E.readableErrored:(L=(q=E._readableState)===null||q===void 0?void 0:q.errored)!==null&&L!==void 0?L:null:null}function _(E){if(!v(E))return null;if(typeof E.closed=="boolean")return E.closed;const L=E._writableState,q=E._readableState;return typeof L?.closed=="boolean"||typeof q?.closed=="boolean"?L?.closed||q?.closed:typeof E._closed=="boolean"&&A(E)?E._closed:null}function A(E){return typeof E._closed=="boolean"&&typeof E._defaultKeepAlive=="boolean"&&typeof E._removedConnection=="boolean"&&typeof E._removedContLen=="boolean"}function N(E){return typeof E._sent100=="boolean"&&A(E)}function O(E){var L;return typeof E._consuming=="boolean"&&typeof E._dumped=="boolean"&&((L=E.req)===null||L===void 0?void 0:L.upgradeOrConnect)===void 0}function U(E){if(!v(E))return null;const L=E._writableState,q=E._readableState,F=L||q;return!F&&N(E)||!!(F&&F.autoDestroy&&F.emitClose&&F.closed===!1)}function j(E){var L;return!!(E&&((L=E[s])!==null&&L!==void 0?L:E.readableDidRead||E.readableAborted))}function I(E){var L,q,F,G,Y,Q,ie,Z,X,te;return!!(E&&((L=(q=(F=(G=(Y=(Q=E[i])!==null&&Q!==void 0?Q:E.readableErrored)!==null&&Y!==void 0?Y:E.writableErrored)!==null&&G!==void 0?G:(ie=E._readableState)===null||ie===void 0?void 0:ie.errorEmitted)!==null&&F!==void 0?F:(Z=E._writableState)===null||Z===void 0?void 0:Z.errorEmitted)!==null&&q!==void 0?q:(X=E._readableState)===null||X===void 0?void 0:X.errored)!==null&&L!==void 0?L:!((te=E._writableState)===null||te===void 0)&&te.errored))}return n3={isDestroyed:k,kIsDestroyed:r,isDisturbed:j,kIsDisturbed:s,isErrored:I,kIsErrored:i,isReadable:B,kIsReadable:a,kIsClosedPromise:u,kControllerErrorFunction:l,kIsWritable:o,isClosed:_,isDuplexNodeStream:g,isFinished:$,isIterable:M,isReadableNodeStream:h,isReadableStream:y,isReadableEnded:K,isReadableFinished:W,isReadableErrored:b,isNodeStream:v,isWebStream:x,isWritable:D,isWritableNodeStream:p,isWritableStream:w,isWritableEnded:z,isWritableFinished:P,isWritableErrored:T,isServerRequest:O,isServerResponse:N,willEmitClose:U,isTransformStream:C},n3}var m8;function wc(){if(m8)return Jm.exports;m8=1;const t=bc(),{AbortError:e,codes:n}=gi(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=Li(),{validateAbortSignal:s,validateFunction:u,validateObject:l,validateBoolean:h}=fp(),{Promise:p,PromisePrototypeThen:g,SymbolDispose:v}=Jn(),{isClosed:y,isReadable:w,isReadableNodeStream:C,isReadableStream:x,isReadableFinished:M,isReadableErrored:k,isWritable:z,isWritableNodeStream:P,isWritableStream:K,isWritableFinished:W,isWritableErrored:B,isNodeStream:D,willEmitClose:$,kIsClosedPromise:T}=el();let b;function _(j){return j.setHeader&&typeof j.abort=="function"}const A=()=>{};function N(j,I,E){var L,q;if(arguments.length===2?(E=I,I=a):I==null?I=a:l(I,"options"),u(E,"callback"),s(I.signal,"options.signal"),E=o(E),x(j)||K(j))return O(j,I,E);if(!D(j))throw new r("stream",["ReadableStream","WritableStream","Stream"],j);const F=(L=I.readable)!==null&&L!==void 0?L:C(j),G=(q=I.writable)!==null&&q!==void 0?q:P(j),Y=j._writableState,Q=j._readableState,ie=()=>{j.writable||te()};let Z=$(j)&&C(j)===F&&P(j)===G,X=W(j,!1);const te=()=>{X=!0,j.destroyed&&(Z=!1),!(Z&&(!j.readable||F))&&(!F||ae)&&E.call(j)};let ae=M(j,!1);const oe=()=>{ae=!0,j.destroyed&&(Z=!1),!(Z&&(!j.writable||G))&&(!G||X)&&E.call(j)},ee=fe=>{E.call(j,fe)};let le=y(j);const he=()=>{le=!0;const fe=B(j)||k(j);if(fe&&typeof fe!="boolean")return E.call(j,fe);if(F&&!ae&&C(j,!0)&&!M(j,!1))return E.call(j,new i);if(G&&!X&&!W(j,!1))return E.call(j,new i);E.call(j)},ge=()=>{le=!0;const fe=B(j)||k(j);if(fe&&typeof fe!="boolean")return E.call(j,fe);E.call(j)},Ee=()=>{j.req.on("finish",te)};_(j)?(j.on("complete",te),Z||j.on("abort",he),j.req?Ee():j.on("request",Ee)):G&&!Y&&(j.on("end",ie),j.on("close",ie)),!Z&&typeof j.aborted=="boolean"&&j.on("aborted",he),j.on("end",oe),j.on("finish",te),I.error!==!1&&j.on("error",ee),j.on("close",he),le?t.nextTick(he):Y!=null&&Y.errorEmitted||Q!=null&&Q.errorEmitted?Z||t.nextTick(ge):(!F&&(!Z||w(j))&&(X||z(j)===!1)||!G&&(!Z||z(j))&&(ae||w(j)===!1)||Q&&j.req&&j.aborted)&&t.nextTick(ge);const ye=()=>{E=A,j.removeListener("aborted",he),j.removeListener("complete",te),j.removeListener("abort",he),j.removeListener("request",Ee),j.req&&j.req.removeListener("finish",te),j.removeListener("end",ie),j.removeListener("close",ie),j.removeListener("finish",te),j.removeListener("end",oe),j.removeListener("error",ee),j.removeListener("close",he)};if(I.signal&&!le){const fe=()=>{const Se=E;ye(),Se.call(j,new e(void 0,{cause:I.signal.reason}))};if(I.signal.aborted)t.nextTick(fe);else{b=b||Li().addAbortListener;const Se=b(I.signal,fe),Ae=E;E=o((...xe)=>{Se[v](),Ae.apply(j,xe)})}}return ye}function O(j,I,E){let L=!1,q=A;if(I.signal)if(q=()=>{L=!0,E.call(j,new e(void 0,{cause:I.signal.reason}))},I.signal.aborted)t.nextTick(q);else{b=b||Li().addAbortListener;const G=b(I.signal,q),Y=E;E=o((...Q)=>{G[v](),Y.apply(j,Q)})}const F=(...G)=>{L||t.nextTick(()=>E.apply(j,G))};return g(j[T].promise,F,F),A}function U(j,I){var E;let L=!1;return I===null&&(I=a),(E=I)!==null&&E!==void 0&&E.cleanup&&(h(I.cleanup,"cleanup"),L=I.cleanup),new p((q,F)=>{const G=N(j,I,Y=>{L&&G(),Y?F(Y):q()})})}return Jm.exports=N,Jm.exports.finished=U,Jm.exports}var r3,g8;function bf(){if(g8)return r3;g8=1;const t=bc(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=gi(),{Symbol:i}=Jn(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:u}=el(),l=i("kDestroy"),h=i("kConstruct");function p($,T,b){$&&($.stack,T&&!T.errored&&(T.errored=$),b&&!b.errored&&(b.errored=$))}function g($,T){const b=this._readableState,_=this._writableState,A=_||b;return _!=null&&_.destroyed||b!=null&&b.destroyed?(typeof T=="function"&&T(),this):(p($,_,b),_&&(_.destroyed=!0),b&&(b.destroyed=!0),A.constructed?v(this,$,T):this.once(l,function(N){v(this,e(N,$),T)}),this)}function v($,T,b){let _=!1;function A(N){if(_)return;_=!0;const O=$._readableState,U=$._writableState;p(N,U,O),U&&(U.closed=!0),O&&(O.closed=!0),typeof b=="function"&&b(N),N?t.nextTick(y,$,N):t.nextTick(w,$)}try{$._destroy(T||null,A)}catch(N){A(N)}}function y($,T){C($,T),w($)}function w($){const T=$._readableState,b=$._writableState;b&&(b.closeEmitted=!0),T&&(T.closeEmitted=!0),(b!=null&&b.emitClose||T!=null&&T.emitClose)&&$.emit("close")}function C($,T){const b=$._readableState,_=$._writableState;_!=null&&_.errorEmitted||b!=null&&b.errorEmitted||(_&&(_.errorEmitted=!0),b&&(b.errorEmitted=!0),$.emit("error",T))}function x(){const $=this._readableState,T=this._writableState;$&&($.constructed=!0,$.closed=!1,$.closeEmitted=!1,$.destroyed=!1,$.errored=null,$.errorEmitted=!1,$.reading=!1,$.ended=$.readable===!1,$.endEmitted=$.readable===!1),T&&(T.constructed=!0,T.destroyed=!1,T.closed=!1,T.closeEmitted=!1,T.errored=null,T.errorEmitted=!1,T.finalCalled=!1,T.prefinished=!1,T.ended=T.writable===!1,T.ending=T.writable===!1,T.finished=T.writable===!1)}function M($,T,b){const _=$._readableState,A=$._writableState;if(A!=null&&A.destroyed||_!=null&&_.destroyed)return this;_!=null&&_.autoDestroy||A!=null&&A.autoDestroy?$.destroy(T):T&&(T.stack,A&&!A.errored&&(A.errored=T),_&&!_.errored&&(_.errored=T),b?t.nextTick(C,$,T):C($,T))}function k($,T){if(typeof $._construct!="function")return;const b=$._readableState,_=$._writableState;b&&(b.constructed=!1),_&&(_.constructed=!1),$.once(h,T),!($.listenerCount(h)>1)&&t.nextTick(z,$)}function z($){let T=!1;function b(_){if(T){M($,_??new n);return}T=!0;const A=$._readableState,N=$._writableState,O=N||A;A&&(A.constructed=!0),N&&(N.constructed=!0),O.destroyed?$.emit(l,_):_?M($,_,!0):t.nextTick(P,$)}try{$._construct(_=>{t.nextTick(b,_)})}catch(_){t.nextTick(b,_)}}function P($){$.emit(h)}function K($){return $?.setHeader&&typeof $.abort=="function"}function W($){$.emit("close")}function B($,T){$.emit("error",T),t.nextTick(W,$)}function D($,T){!$||o($)||(!T&&!s($)&&(T=new r),u($)?($.socket=null,$.destroy(T)):K($)?$.abort():K($.req)?$.req.abort():typeof $.destroy=="function"?$.destroy(T):typeof $.close=="function"?$.close():T?t.nextTick(B,$,T):t.nextTick(W,$),$.destroyed||($[a]=!0))}return r3={construct:k,destroyer:D,destroy:g,undestroy:x,errorOrDestroy:M},r3}var i3,v8;function iS(){if(v8)return i3;v8=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=Jn(),{EventEmitter:n}=up();function r(a){n.call(this,a)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(a,o){const s=this;function u(w){a.writable&&a.write(w)===!1&&s.pause&&s.pause()}s.on("data",u);function l(){s.readable&&s.resume&&s.resume()}a.on("drain",l),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",p),s.on("close",g));let h=!1;function p(){h||(h=!0,a.end())}function g(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function v(w){y(),n.listenerCount(this,"error")===0&&this.emit("error",w)}i(s,"error",v),i(a,"error",v);function y(){s.removeListener("data",u),a.removeListener("drain",l),s.removeListener("end",p),s.removeListener("close",g),s.removeListener("error",v),a.removeListener("error",v),s.removeListener("end",y),s.removeListener("close",y),a.removeListener("close",y)}return s.on("end",y),s.on("close",y),a.on("close",y),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):t(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return i3={Stream:r,prependListener:i},i3}var a3={exports:{}},y8;function Dy(){return y8||(y8=1,function(t){const{SymbolDispose:e}=Jn(),{AbortError:n,codes:r}=gi(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=el(),s=wc(),{ERR_INVALID_ARG_TYPE:u}=r;let l;const h=(p,g)=>{if(typeof p!="object"||!("aborted"in p))throw new u(g,"AbortSignal",p)};t.exports.addAbortSignal=function(g,v){if(h(g,"signal"),!i(v)&&!a(v))throw new u("stream",["ReadableStream","WritableStream","Stream"],v);return t.exports.addAbortSignalNoValidate(g,v)},t.exports.addAbortSignalNoValidate=function(p,g){if(typeof p!="object"||!("aborted"in p))return g;const v=i(g)?()=>{g.destroy(new n(void 0,{cause:p.reason}))}:()=>{g[o](new n(void 0,{cause:p.reason}))};if(p.aborted)v();else{l=l||Li().addAbortListener;const y=l(p,v);s(g,y[e])}return g}}(a3)),a3.exports}var s3,b8;function XH(){if(b8)return s3;b8=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=Jn(),{Buffer:i}=Yo(),{inspect:a}=Li();return s3=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const u={data:s,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(s){const u={data:s,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let u=this.head,l=""+u.data;for(;(u=u.next)!==null;)l+=s+u.data;return l}concat(s){if(this.length===0)return i.alloc(0);const u=i.allocUnsafe(s>>>0);let l=this.head,h=0;for(;l;)n(u,l.data,h),h+=l.data.length,l=l.next;return u}consume(s,u){const l=this.head.data;if(s<l.length){const h=l.slice(0,s);return this.head.data=l.slice(s),h}return s===l.length?this.shift():u?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[e](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let u="",l=this.head,h=0;do{const p=l.data;if(s>p.length)u+=p,s-=p.length;else{s===p.length?(u+=p,++h,l.next?this.head=l.next:this.head=this.tail=null):(u+=t(p,0,s),this.head=l,l.data=t(p,s));break}++h}while((l=l.next)!==null);return this.length-=h,u}_getBuffer(s){const u=i.allocUnsafe(s),l=s;let h=this.head,p=0;do{const g=h.data;if(s>g.length)n(u,g,l-s),s-=g.length;else{s===g.length?(n(u,g,l-s),++p,h.next?this.head=h.next:this.head=this.tail=null):(n(u,new r(g.buffer,g.byteOffset,s),l-s),this.head=h,h.data=g.slice(s));break}++p}while((h=h.next)!==null);return this.length-=p,u}[Symbol.for("nodejs.util.inspect.custom")](s,u){return a(this,{...u,depth:0,customInspect:!1})}},s3}var o3,w8;function By(){if(w8)return o3;w8=1;const{MathFloor:t,NumberIsInteger:e}=Jn(),{validateInteger:n}=fp(),{ERR_INVALID_ARG_VALUE:r}=gi().codes;let i=16*1024,a=16;function o(h,p,g){return h.highWaterMark!=null?h.highWaterMark:p?h[g]:null}function s(h){return h?a:i}function u(h,p){n(p,"value",0),h?a=p:i=p}function l(h,p,g,v){const y=o(p,v,g);if(y!=null){if(!e(y)||y<0){const w=v?`options.${g}`:"options.highWaterMark";throw new r(w,y)}return t(y)}return s(h.objectMode)}return o3={getHighWaterMark:l,getDefaultHighWaterMark:s,setDefaultHighWaterMark:u},o3}var l3={},Zm={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var x8;function eK(){return x8||(x8=1,function(t,e){var n=Yo(),r=n.Buffer;function i(o,s){for(var u in o)s[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a);function a(o,s,u){return r(o,s,u)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,u)},a.alloc=function(o,s,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return s!==void 0?typeof u=="string"?l.fill(s,u):l.fill(s):l.fill(0),l},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(Zm,Zm.exports)),Zm.exports}var E8;function tK(){if(E8)return l3;E8=1;var t=eK().Buffer,e=t.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(x){if(!x)return"utf8";for(var M;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(M)return;x=(""+x).toLowerCase(),M=!0}}function r(x){var M=n(x);if(typeof M!="string"&&(t.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return M||x}l3.StringDecoder=i;function i(x){this.encoding=r(x);var M;switch(this.encoding){case"utf16le":this.text=p,this.end=g,M=4;break;case"utf8":this.fillLast=u,M=4;break;case"base64":this.text=v,this.end=y,M=3;break;default:this.write=w,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(M)}i.prototype.write=function(x){if(x.length===0)return"";var M,k;if(this.lastNeed){if(M=this.fillLast(x),M===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<x.length?M?M+this.text(x,k):this.text(x,k):M||""},i.prototype.end=h,i.prototype.text=l,i.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function a(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function o(x,M,k){var z=M.length-1;if(z<k)return 0;var P=a(M[z]);return P>=0?(P>0&&(x.lastNeed=P-1),P):--z<k||P===-2?0:(P=a(M[z]),P>=0?(P>0&&(x.lastNeed=P-2),P):--z<k||P===-2?0:(P=a(M[z]),P>=0?(P>0&&(P===2?P=0:x.lastNeed=P-3),P):0))}function s(x,M,k){if((M[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return x.lastNeed=2,""}}function u(x){var M=this.lastTotal-this.lastNeed,k=s(this,x);if(k!==void 0)return k;if(this.lastNeed<=x.length)return x.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,M,0,x.length),this.lastNeed-=x.length}function l(x,M){var k=o(this,x,M);if(!this.lastNeed)return x.toString("utf8",M);this.lastTotal=k;var z=x.length-(k-this.lastNeed);return x.copy(this.lastChar,0,z),x.toString("utf8",M,z)}function h(x){var M=x&&x.length?this.write(x):"";return this.lastNeed?M+"":M}function p(x,M){if((x.length-M)%2===0){var k=x.toString("utf16le",M);if(k){var z=k.charCodeAt(k.length-1);if(z>=55296&&z<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",M,x.length-1)}function g(x){var M=x&&x.length?this.write(x):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,k)}return M}function v(x,M){var k=(x.length-M)%3;return k===0?x.toString("base64",M):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",M,x.length-k))}function y(x){var M=x&&x.length?this.write(x):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function w(x){return x.toString(this.encoding)}function C(x){return x&&x.length?this.write(x):""}return l3}var c3,S8;function qI(){if(S8)return c3;S8=1;const t=bc(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=Jn(),{Buffer:i}=Yo(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=gi().codes;function s(u,l,h){let p;if(typeof l=="string"||l instanceof i)return new u({objectMode:!0,...h,read(){this.push(l),this.push(null)}});let g;if(l&&l[n])g=!0,p=l[n]();else if(l&&l[r])g=!1,p=l[r]();else throw new a("iterable",["Iterable"],l);const v=new u({objectMode:!0,highWaterMark:1,...h});let y=!1;v._read=function(){y||(y=!0,C())},v._destroy=function(x,M){e(w(x),()=>t.nextTick(M,x),k=>t.nextTick(M,k||x))};async function w(x){const M=x!=null,k=typeof p.throw=="function";if(M&&k){const{value:z,done:P}=await p.throw(x);if(await z,P)return}if(typeof p.return=="function"){const{value:z}=await p.return();await z}}async function C(){for(;;){try{const{value:x,done:M}=g?await p.next():p.next();if(M)v.push(null);else{const k=x&&typeof x.then=="function"?await x:x;if(k===null)throw y=!1,new o;if(v.push(k))continue;y=!1}}catch(x){v.destroy(x)}break}}return v}return c3=s,c3}var u3,_8;function Uy(){if(_8)return u3;_8=1;const t=bc(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:u,SafeSet:l,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:g}=Jn();u3=xe,xe.ReadableState=Ae;const{EventEmitter:v}=up(),{Stream:y,prependListener:w}=iS(),{Buffer:C}=Yo(),{addAbortSignal:x}=Dy(),M=wc();let k=Li().debuglog("stream",de=>{k=de});const z=XH(),P=bf(),{getHighWaterMark:K,getDefaultHighWaterMark:W}=By(),{aggregateTwoErrors:B,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_OUT_OF_RANGE:T,ERR_STREAM_PUSH_AFTER_EOF:b,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_},AbortError:A}=gi(),{validateObject:N}=fp(),O=g("kPaused"),{StringDecoder:U}=tK(),j=qI();s(xe.prototype,y.prototype),s(xe,y);const I=()=>{},{errorOrDestroy:E}=P,L=1,q=2,F=4,G=8,Y=16,Q=32,ie=64,Z=128,X=256,te=512,ae=1024,oe=2048,ee=4096,le=8192,he=16384,ge=32768,Ee=65536,ye=1<<17,fe=1<<18;function Se(de){return{enumerable:!1,get(){return(this.state&de)!==0},set(pe){pe?this.state|=de:this.state&=~de}}}a(Ae.prototype,{objectMode:Se(L),ended:Se(q),endEmitted:Se(F),reading:Se(G),constructed:Se(Y),sync:Se(Q),needReadable:Se(ie),emittedReadable:Se(Z),readableListening:Se(X),resumeScheduled:Se(te),errorEmitted:Se(ae),emitClose:Se(oe),autoDestroy:Se(ee),destroyed:Se(le),closed:Se(he),closeEmitted:Se(ge),multiAwaitDrain:Se(Ee),readingMore:Se(ye),dataEmitted:Se(fe)});function Ae(de,pe,Fe){typeof Fe!="boolean"&&(Fe=pe instanceof Ko()),this.state=oe|ee|Y|Q,de&&de.objectMode&&(this.state|=L),Fe&&de&&de.readableObjectMode&&(this.state|=L),this.highWaterMark=de?K(this,de,"readableHighWaterMark",Fe):W(!1),this.buffer=new z,this.length=0,this.pipes=[],this.flowing=null,this[O]=null,de&&de.emitClose===!1&&(this.state&=~oe),de&&de.autoDestroy===!1&&(this.state&=~ee),this.errored=null,this.defaultEncoding=de&&de.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,de&&de.encoding&&(this.decoder=new U(de.encoding),this.encoding=de.encoding)}function xe(de){if(!(this instanceof xe))return new xe(de);const pe=this instanceof Ko();this._readableState=new Ae(de,this,pe),de&&(typeof de.read=="function"&&(this._read=de.read),typeof de.destroy=="function"&&(this._destroy=de.destroy),typeof de.construct=="function"&&(this._construct=de.construct),de.signal&&!pe&&x(de.signal,this)),y.call(this,de),P.construct(this,()=>{this._readableState.needReadable&&ve(this,this._readableState)})}xe.prototype.destroy=P.destroy,xe.prototype._undestroy=P.undestroy,xe.prototype._destroy=function(de,pe){pe(de)},xe.prototype[v.captureRejectionSymbol]=function(de){this.destroy(de)},xe.prototype[h]=function(){let de;return this.destroyed||(de=this.readableEnded?null:new A,this.destroy(de)),new u((pe,Fe)=>M(this,Ye=>Ye&&Ye!==de?Fe(Ye):pe(null)))},xe.prototype.push=function(de,pe){return ze(this,de,pe,!1)},xe.prototype.unshift=function(de,pe){return ze(this,de,pe,!0)};function ze(de,pe,Fe,Ye){k("readableAddChunk",pe);const Je=de._readableState;let mt;if((Je.state&L)===0&&(typeof pe=="string"?(Fe=Fe||Je.defaultEncoding,Je.encoding!==Fe&&(Ye&&Je.encoding?pe=C.from(pe,Fe).toString(Je.encoding):(pe=C.from(pe,Fe),Fe=""))):pe instanceof C?Fe="":y._isUint8Array(pe)?(pe=y._uint8ArrayToBuffer(pe),Fe=""):pe!=null&&(mt=new D("chunk",["string","Buffer","Uint8Array"],pe))),mt)E(de,mt);else if(pe===null)Je.state&=~G,V(de,Je);else if((Je.state&L)!==0||pe&&pe.length>0)if(Ye)if((Je.state&F)!==0)E(de,new _);else{if(Je.destroyed||Je.errored)return!1;Xe(de,Je,pe,!0)}else if(Je.ended)E(de,new b);else{if(Je.destroyed||Je.errored)return!1;Je.state&=~G,Je.decoder&&!Fe?(pe=Je.decoder.write(pe),Je.objectMode||pe.length!==0?Xe(de,Je,pe,!1):ve(de,Je)):Xe(de,Je,pe,!1)}else Ye||(Je.state&=~G,ve(de,Je));return!Je.ended&&(Je.length<Je.highWaterMark||Je.length===0)}function Xe(de,pe,Fe,Ye){pe.flowing&&pe.length===0&&!pe.sync&&de.listenerCount("data")>0?((pe.state&Ee)!==0?pe.awaitDrainWriters.clear():pe.awaitDrainWriters=null,pe.dataEmitted=!0,de.emit("data",Fe)):(pe.length+=pe.objectMode?1:Fe.length,Ye?pe.buffer.unshift(Fe):pe.buffer.push(Fe),(pe.state&ie)!==0&&J(de)),ve(de,pe)}xe.prototype.isPaused=function(){const de=this._readableState;return de[O]===!0||de.flowing===!1},xe.prototype.setEncoding=function(de){const pe=new U(de);this._readableState.decoder=pe,this._readableState.encoding=this._readableState.decoder.encoding;const Fe=this._readableState.buffer;let Ye="";for(const Je of Fe)Ye+=pe.write(Je);return Fe.clear(),Ye!==""&&Fe.push(Ye),this._readableState.length=Ye.length,this};const nt=1073741824;function et(de){if(de>nt)throw new T("size","<= 1GiB",de);return de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++,de}function re(de,pe){return de<=0||pe.length===0&&pe.ended?0:(pe.state&L)!==0?1:r(de)?pe.flowing&&pe.length?pe.buffer.first().length:pe.length:de<=pe.length?de:pe.ended?pe.length:0}xe.prototype.read=function(de){k("read",de),de===void 0?de=NaN:n(de)||(de=i(de,10));const pe=this._readableState,Fe=de;if(de>pe.highWaterMark&&(pe.highWaterMark=et(de)),de!==0&&(pe.state&=~Z),de===0&&pe.needReadable&&((pe.highWaterMark!==0?pe.length>=pe.highWaterMark:pe.length>0)||pe.ended))return k("read: emitReadable",pe.length,pe.ended),pe.length===0&&pe.ended?rt(this):J(this),null;if(de=re(de,pe),de===0&&pe.ended)return pe.length===0&&rt(this),null;let Ye=(pe.state&ie)!==0;if(k("need readable",Ye),(pe.length===0||pe.length-de<pe.highWaterMark)&&(Ye=!0,k("length less than watermark",Ye)),pe.ended||pe.reading||pe.destroyed||pe.errored||!pe.constructed)Ye=!1,k("reading, ended or constructing",Ye);else if(Ye){k("do read"),pe.state|=G|Q,pe.length===0&&(pe.state|=ie);try{this._read(pe.highWaterMark)}catch(mt){E(this,mt)}pe.state&=~Q,pe.reading||(de=re(Fe,pe))}let Je;return de>0?Je=mr(de,pe):Je=null,Je===null?(pe.needReadable=pe.length<=pe.highWaterMark,de=0):(pe.length-=de,pe.multiAwaitDrain?pe.awaitDrainWriters.clear():pe.awaitDrainWriters=null),pe.length===0&&(pe.ended||(pe.needReadable=!0),Fe!==de&&pe.ended&&rt(this)),Je!==null&&!pe.errorEmitted&&!pe.closeEmitted&&(pe.dataEmitted=!0,this.emit("data",Je)),Je};function V(de,pe){if(k("onEofChunk"),!pe.ended){if(pe.decoder){const Fe=pe.decoder.end();Fe&&Fe.length&&(pe.buffer.push(Fe),pe.length+=pe.objectMode?1:Fe.length)}pe.ended=!0,pe.sync?J(de):(pe.needReadable=!1,pe.emittedReadable=!0,ue(de))}}function J(de){const pe=de._readableState;k("emitReadable",pe.needReadable,pe.emittedReadable),pe.needReadable=!1,pe.emittedReadable||(k("emitReadable",pe.flowing),pe.emittedReadable=!0,t.nextTick(ue,de))}function ue(de){const pe=de._readableState;k("emitReadable_",pe.destroyed,pe.length,pe.ended),!pe.destroyed&&!pe.errored&&(pe.length||pe.ended)&&(de.emit("readable"),pe.emittedReadable=!1),pe.needReadable=!pe.flowing&&!pe.ended&&pe.length<=pe.highWaterMark,Tt(de)}function ve(de,pe){!pe.readingMore&&pe.constructed&&(pe.readingMore=!0,t.nextTick(Me,de,pe))}function Me(de,pe){for(;!pe.reading&&!pe.ended&&(pe.length<pe.highWaterMark||pe.flowing&&pe.length===0);){const Fe=pe.length;if(k("maybeReadMore read 0"),de.read(0),Fe===pe.length)break}pe.readingMore=!1}xe.prototype._read=function(de){throw new $("_read()")},xe.prototype.pipe=function(de,pe){const Fe=this,Ye=this._readableState;Ye.pipes.length===1&&(Ye.multiAwaitDrain||(Ye.multiAwaitDrain=!0,Ye.awaitDrainWriters=new l(Ye.awaitDrainWriters?[Ye.awaitDrainWriters]:[]))),Ye.pipes.push(de),k("pipe count=%d opts=%j",Ye.pipes.length,pe);const mt=(!pe||pe.end!==!1)&&de!==t.stdout&&de!==t.stderr?nn:gr;Ye.endEmitted?t.nextTick(mt):Fe.once("end",mt),de.on("unpipe",bn);function bn(hn,vr){k("onunpipe"),hn===Fe&&vr&&vr.hasUnpiped===!1&&(vr.hasUnpiped=!0,Rn())}function nn(){k("onend"),de.end()}let Jt,qr=!1;function Rn(){k("cleanup"),de.removeListener("close",dn),de.removeListener("finish",zn),Jt&&de.removeListener("drain",Jt),de.removeListener("error",un),de.removeListener("unpipe",bn),Fe.removeListener("end",nn),Fe.removeListener("end",gr),Fe.removeListener("data",za),qr=!0,Jt&&Ye.awaitDrainWriters&&(!de._writableState||de._writableState.needDrain)&&Jt()}function mn(){qr||(Ye.pipes.length===1&&Ye.pipes[0]===de?(k("false write response, pause",0),Ye.awaitDrainWriters=de,Ye.multiAwaitDrain=!1):Ye.pipes.length>1&&Ye.pipes.includes(de)&&(k("false write response, pause",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.add(de)),Fe.pause()),Jt||(Jt=Ie(Fe,de),de.on("drain",Jt))}Fe.on("data",za);function za(hn){k("ondata");const vr=de.write(hn);k("dest.write",vr),vr===!1&&mn()}function un(hn){if(k("onerror",hn),gr(),de.removeListener("error",un),de.listenerCount("error")===0){const vr=de._writableState||de._readableState;vr&&!vr.errorEmitted?E(de,hn):de.emit("error",hn)}}w(de,"error",un);function dn(){de.removeListener("finish",zn),gr()}de.once("close",dn);function zn(){k("onfinish"),de.removeListener("close",dn),gr()}de.once("finish",zn);function gr(){k("unpipe"),Fe.unpipe(de)}return de.emit("pipe",Fe),de.writableNeedDrain===!0?mn():Ye.flowing||(k("pipe resume"),Fe.resume()),de};function Ie(de,pe){return function(){const Ye=de._readableState;Ye.awaitDrainWriters===pe?(k("pipeOnDrain",1),Ye.awaitDrainWriters=null):Ye.multiAwaitDrain&&(k("pipeOnDrain",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.delete(pe)),(!Ye.awaitDrainWriters||Ye.awaitDrainWriters.size===0)&&de.listenerCount("data")&&de.resume()}}xe.prototype.unpipe=function(de){const pe=this._readableState,Fe={hasUnpiped:!1};if(pe.pipes.length===0)return this;if(!de){const Je=pe.pipes;pe.pipes=[],this.pause();for(let mt=0;mt<Je.length;mt++)Je[mt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ye=e(pe.pipes,de);return Ye===-1?this:(pe.pipes.splice(Ye,1),pe.pipes.length===0&&this.pause(),de.emit("unpipe",this,Fe),this)},xe.prototype.on=function(de,pe){const Fe=y.prototype.on.call(this,de,pe),Ye=this._readableState;return de==="data"?(Ye.readableListening=this.listenerCount("readable")>0,Ye.flowing!==!1&&this.resume()):de==="readable"&&!Ye.endEmitted&&!Ye.readableListening&&(Ye.readableListening=Ye.needReadable=!0,Ye.flowing=!1,Ye.emittedReadable=!1,k("on readable",Ye.length,Ye.reading),Ye.length?J(this):Ye.reading||t.nextTick(Pt,this)),Fe},xe.prototype.addListener=xe.prototype.on,xe.prototype.removeListener=function(de,pe){const Fe=y.prototype.removeListener.call(this,de,pe);return de==="readable"&&t.nextTick(st,this),Fe},xe.prototype.off=xe.prototype.removeListener,xe.prototype.removeAllListeners=function(de){const pe=y.prototype.removeAllListeners.apply(this,arguments);return(de==="readable"||de===void 0)&&t.nextTick(st,this),pe};function st(de){const pe=de._readableState;pe.readableListening=de.listenerCount("readable")>0,pe.resumeScheduled&&pe[O]===!1?pe.flowing=!0:de.listenerCount("data")>0?de.resume():pe.readableListening||(pe.flowing=null)}function Pt(de){k("readable nexttick read 0"),de.read(0)}xe.prototype.resume=function(){const de=this._readableState;return de.flowing||(k("resume"),de.flowing=!de.readableListening,ut(this,de)),de[O]=!1,this};function ut(de,pe){pe.resumeScheduled||(pe.resumeScheduled=!0,t.nextTick(bt,de,pe))}function bt(de,pe){k("resume",pe.reading),pe.reading||de.read(0),pe.resumeScheduled=!1,de.emit("resume"),Tt(de),pe.flowing&&!pe.reading&&de.read(0)}xe.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[O]=!0,this};function Tt(de){const pe=de._readableState;for(k("flow",pe.flowing);pe.flowing&&de.read()!==null;);}xe.prototype.wrap=function(de){let pe=!1;de.on("data",Ye=>{!this.push(Ye)&&de.pause&&(pe=!0,de.pause())}),de.on("end",()=>{this.push(null)}),de.on("error",Ye=>{E(this,Ye)}),de.on("close",()=>{this.destroy()}),de.on("destroy",()=>{this.destroy()}),this._read=()=>{pe&&de.resume&&(pe=!1,de.resume())};const Fe=o(de);for(let Ye=1;Ye<Fe.length;Ye++){const Je=Fe[Ye];this[Je]===void 0&&typeof de[Je]=="function"&&(this[Je]=de[Je].bind(de))}return this},xe.prototype[p]=function(){return Bt(this)},xe.prototype.iterator=function(de){return de!==void 0&&N(de,"options"),Bt(this,de)};function Bt(de,pe){typeof de.read!="function"&&(de=xe.wrap(de,{objectMode:!0}));const Fe=cn(de,pe);return Fe.stream=de,Fe}async function*cn(de,pe){let Fe=I;function Ye(bn){this===de?(Fe(),Fe=I):Fe=bn}de.on("readable",Ye);let Je;const mt=M(de,{writable:!1},bn=>{Je=bn?B(Je,bn):null,Fe(),Fe=I});try{for(;;){const bn=de.destroyed?null:de.read();if(bn!==null)yield bn;else{if(Je)throw Je;if(Je===null)return;await new u(Ye)}}}catch(bn){throw Je=B(Je,bn),Je}finally{(Je||pe?.destroyOnReturn!==!1)&&(Je===void 0||de._readableState.autoDestroy)?P.destroyer(de,null):(de.off("readable",Ye),mt())}}a(xe.prototype,{readable:{__proto__:null,get(){const de=this._readableState;return!!de&&de.readable!==!1&&!de.destroyed&&!de.errorEmitted&&!de.endEmitted},set(de){this._readableState&&(this._readableState.readable=!!de)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(de){this._readableState&&(this._readableState.flowing=de)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(de){this._readableState&&(this._readableState.destroyed=de)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(Ae.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[O]!==!1},set(de){this[O]=!!de}}}),xe._fromList=mr;function mr(de,pe){if(pe.length===0)return null;let Fe;return pe.objectMode?Fe=pe.buffer.shift():!de||de>=pe.length?(pe.decoder?Fe=pe.buffer.join(""):pe.buffer.length===1?Fe=pe.buffer.first():Fe=pe.buffer.concat(pe.length),pe.buffer.clear()):Fe=pe.buffer.consume(de,pe.decoder),Fe}function rt(de){const pe=de._readableState;k("endReadable",pe.endEmitted),pe.endEmitted||(pe.ended=!0,t.nextTick(Mt,pe,de))}function Mt(de,pe){if(k("endReadableNT",de.endEmitted,de.length),!de.errored&&!de.closeEmitted&&!de.endEmitted&&de.length===0){if(de.endEmitted=!0,pe.emit("end"),pe.writable&&pe.allowHalfOpen===!1)t.nextTick(Yt,pe);else if(de.autoDestroy){const Fe=pe._writableState;(!Fe||Fe.autoDestroy&&(Fe.finished||Fe.writable===!1))&&pe.destroy()}}}function Yt(de){de.writable&&!de.writableEnded&&!de.destroyed&&de.end()}xe.from=function(de,pe){return j(xe,de,pe)};let Ot;function wt(){return Ot===void 0&&(Ot={}),Ot}return xe.fromWeb=function(de,pe){return wt().newStreamReadableFromReadableStream(de,pe)},xe.toWeb=function(de,pe){return wt().newReadableStreamFromStreamReadable(de,pe)},xe.wrap=function(de,pe){var Fe,Ye;return new xe({objectMode:(Fe=(Ye=de.readableObjectMode)!==null&&Ye!==void 0?Ye:de.objectMode)!==null&&Fe!==void 0?Fe:!0,...pe,destroy(Je,mt){P.destroyer(de,Je),mt(Je)}}).wrap(de)},u3}var d3,C8;function aS(){if(C8)return d3;C8=1;const t=bc(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:u,SymbolHasInstance:l}=Jn();d3=N,N.WritableState=_;const{EventEmitter:h}=up(),p=iS().Stream,{Buffer:g}=Yo(),v=bf(),{addAbortSignal:y}=Dy(),{getHighWaterMark:w,getDefaultHighWaterMark:C}=By(),{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_MULTIPLE_CALLBACK:k,ERR_STREAM_CANNOT_PIPE:z,ERR_STREAM_DESTROYED:P,ERR_STREAM_ALREADY_FINISHED:K,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:B,ERR_UNKNOWN_ENCODING:D}=gi().codes,{errorOrDestroy:$}=v;o(N.prototype,p.prototype),o(N,p);function T(){}const b=u("kOnFinished");function _(ee,le,he){typeof he!="boolean"&&(he=le instanceof Ko()),this.objectMode=!!(ee&&ee.objectMode),he&&(this.objectMode=this.objectMode||!!(ee&&ee.writableObjectMode)),this.highWaterMark=ee?w(this,ee,"writableHighWaterMark",he):C(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ge=!!(ee&&ee.decodeStrings===!1);this.decodeStrings=!ge,this.defaultEncoding=ee&&ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=E.bind(void 0,le),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,A(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ee||ee.emitClose!==!1,this.autoDestroy=!ee||ee.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[b]=[]}function A(ee){ee.buffered=[],ee.bufferedIndex=0,ee.allBuffers=!0,ee.allNoop=!0}_.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(_.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function N(ee){const le=this instanceof Ko();if(!le&&!r(N,this))return new N(ee);this._writableState=new _(ee,this,le),ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final),typeof ee.construct=="function"&&(this._construct=ee.construct),ee.signal&&y(ee.signal,this)),p.call(this,ee),v.construct(this,()=>{const he=this._writableState;he.writing||G(this,he),Z(this,he)})}i(N,l,{__proto__:null,value:function(ee){return r(this,ee)?!0:this!==N?!1:ee&&ee._writableState instanceof _}}),N.prototype.pipe=function(){$(this,new z)};function O(ee,le,he,ge){const Ee=ee._writableState;if(typeof he=="function")ge=he,he=Ee.defaultEncoding;else{if(!he)he=Ee.defaultEncoding;else if(he!=="buffer"&&!g.isEncoding(he))throw new D(he);typeof ge!="function"&&(ge=T)}if(le===null)throw new W;if(!Ee.objectMode)if(typeof le=="string")Ee.decodeStrings!==!1&&(le=g.from(le,he),he="buffer");else if(le instanceof g)he="buffer";else if(p._isUint8Array(le))le=p._uint8ArrayToBuffer(le),he="buffer";else throw new x("chunk",["string","Buffer","Uint8Array"],le);let ye;return Ee.ending?ye=new B:Ee.destroyed&&(ye=new P("write")),ye?(t.nextTick(ge,ye),$(ee,ye,!0),ye):(Ee.pendingcb++,U(ee,Ee,le,he,ge))}N.prototype.write=function(ee,le,he){return O(this,ee,le,he)===!0},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){const ee=this._writableState;ee.corked&&(ee.corked--,ee.writing||G(this,ee))},N.prototype.setDefaultEncoding=function(le){if(typeof le=="string"&&(le=s(le)),!g.isEncoding(le))throw new D(le);return this._writableState.defaultEncoding=le,this};function U(ee,le,he,ge,Ee){const ye=le.objectMode?1:he.length;le.length+=ye;const fe=le.length<le.highWaterMark;return fe||(le.needDrain=!0),le.writing||le.corked||le.errored||!le.constructed?(le.buffered.push({chunk:he,encoding:ge,callback:Ee}),le.allBuffers&&ge!=="buffer"&&(le.allBuffers=!1),le.allNoop&&Ee!==T&&(le.allNoop=!1)):(le.writelen=ye,le.writecb=Ee,le.writing=!0,le.sync=!0,ee._write(he,ge,le.onwrite),le.sync=!1),fe&&!le.errored&&!le.destroyed}function j(ee,le,he,ge,Ee,ye,fe){le.writelen=ge,le.writecb=fe,le.writing=!0,le.sync=!0,le.destroyed?le.onwrite(new P("write")):he?ee._writev(Ee,le.onwrite):ee._write(Ee,ye,le.onwrite),le.sync=!1}function I(ee,le,he,ge){--le.pendingcb,ge(he),F(le),$(ee,he)}function E(ee,le){const he=ee._writableState,ge=he.sync,Ee=he.writecb;if(typeof Ee!="function"){$(ee,new k);return}he.writing=!1,he.writecb=null,he.length-=he.writelen,he.writelen=0,le?(le.stack,he.errored||(he.errored=le),ee._readableState&&!ee._readableState.errored&&(ee._readableState.errored=le),ge?t.nextTick(I,ee,he,le,Ee):I(ee,he,le,Ee)):(he.buffered.length>he.bufferedIndex&&G(ee,he),ge?he.afterWriteTickInfo!==null&&he.afterWriteTickInfo.cb===Ee?he.afterWriteTickInfo.count++:(he.afterWriteTickInfo={count:1,cb:Ee,stream:ee,state:he},t.nextTick(L,he.afterWriteTickInfo)):q(ee,he,1,Ee))}function L({stream:ee,state:le,count:he,cb:ge}){return le.afterWriteTickInfo=null,q(ee,le,he,ge)}function q(ee,le,he,ge){for(!le.ending&&!ee.destroyed&&le.length===0&&le.needDrain&&(le.needDrain=!1,ee.emit("drain"));he-- >0;)le.pendingcb--,ge();le.destroyed&&F(le),Z(ee,le)}function F(ee){if(ee.writing)return;for(let Ee=ee.bufferedIndex;Ee<ee.buffered.length;++Ee){var le;const{chunk:ye,callback:fe}=ee.buffered[Ee],Se=ee.objectMode?1:ye.length;ee.length-=Se,fe((le=ee.errored)!==null&&le!==void 0?le:new P("write"))}const he=ee[b].splice(0);for(let Ee=0;Ee<he.length;Ee++){var ge;he[Ee]((ge=ee.errored)!==null&&ge!==void 0?ge:new P("end"))}A(ee)}function G(ee,le){if(le.corked||le.bufferProcessing||le.destroyed||!le.constructed)return;const{buffered:he,bufferedIndex:ge,objectMode:Ee}=le,ye=he.length-ge;if(!ye)return;let fe=ge;if(le.bufferProcessing=!0,ye>1&&ee._writev){le.pendingcb-=ye-1;const Se=le.allNoop?T:xe=>{for(let ze=fe;ze<he.length;++ze)he[ze].callback(xe)},Ae=le.allNoop&&fe===0?he:e(he,fe);Ae.allBuffers=le.allBuffers,j(ee,le,!0,le.length,Ae,"",Se),A(le)}else{do{const{chunk:Se,encoding:Ae,callback:xe}=he[fe];he[fe++]=null;const ze=Ee?1:Se.length;j(ee,le,!1,ze,Se,Ae,xe)}while(fe<he.length&&!le.writing);fe===he.length?A(le):fe>256?(he.splice(0,fe),le.bufferedIndex=0):le.bufferedIndex=fe}le.bufferProcessing=!1}N.prototype._write=function(ee,le,he){if(this._writev)this._writev([{chunk:ee,encoding:le}],he);else throw new M("_write()")},N.prototype._writev=null,N.prototype.end=function(ee,le,he){const ge=this._writableState;typeof ee=="function"?(he=ee,ee=null,le=null):typeof le=="function"&&(he=le,le=null);let Ee;if(ee!=null){const ye=O(this,ee,le);ye instanceof n&&(Ee=ye)}return ge.corked&&(ge.corked=1,this.uncork()),Ee||(!ge.errored&&!ge.ending?(ge.ending=!0,Z(this,ge,!0),ge.ended=!0):ge.finished?Ee=new K("end"):ge.destroyed&&(Ee=new P("end"))),typeof he=="function"&&(Ee||ge.finished?t.nextTick(he,Ee):ge[b].push(he)),this};function Y(ee){return ee.ending&&!ee.destroyed&&ee.constructed&&ee.length===0&&!ee.errored&&ee.buffered.length===0&&!ee.finished&&!ee.writing&&!ee.errorEmitted&&!ee.closeEmitted}function Q(ee,le){let he=!1;function ge(Ee){if(he){$(ee,Ee??k());return}if(he=!0,le.pendingcb--,Ee){const ye=le[b].splice(0);for(let fe=0;fe<ye.length;fe++)ye[fe](Ee);$(ee,Ee,le.sync)}else Y(le)&&(le.prefinished=!0,ee.emit("prefinish"),le.pendingcb++,t.nextTick(X,ee,le))}le.sync=!0,le.pendingcb++;try{ee._final(ge)}catch(Ee){ge(Ee)}le.sync=!1}function ie(ee,le){!le.prefinished&&!le.finalCalled&&(typeof ee._final=="function"&&!le.destroyed?(le.finalCalled=!0,Q(ee,le)):(le.prefinished=!0,ee.emit("prefinish")))}function Z(ee,le,he){Y(le)&&(ie(ee,le),le.pendingcb===0&&(he?(le.pendingcb++,t.nextTick((ge,Ee)=>{Y(Ee)?X(ge,Ee):Ee.pendingcb--},ee,le)):Y(le)&&(le.pendingcb++,X(ee,le))))}function X(ee,le){le.pendingcb--,le.finished=!0;const he=le[b].splice(0);for(let ge=0;ge<he.length;ge++)he[ge]();if(ee.emit("finish"),le.autoDestroy){const ge=ee._readableState;(!ge||ge.autoDestroy&&(ge.endEmitted||ge.readable===!1))&&ee.destroy()}}a(N.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ee){this._writableState&&(this._writableState.destroyed=ee)}},writable:{__proto__:null,get(){const ee=this._writableState;return!!ee&&ee.writable!==!1&&!ee.destroyed&&!ee.errored&&!ee.ending&&!ee.ended},set(ee){this._writableState&&(this._writableState.writable=!!ee)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const ee=this._writableState;return ee?!ee.destroyed&&!ee.ending&&ee.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const te=v.destroy;N.prototype.destroy=function(ee,le){const he=this._writableState;return!he.destroyed&&(he.bufferedIndex<he.buffered.length||he[b].length)&&t.nextTick(F,he),te.call(this,ee,le),this},N.prototype._undestroy=v.undestroy,N.prototype._destroy=function(ee,le){le(ee)},N.prototype[h.captureRejectionSymbol]=function(ee){this.destroy(ee)};let ae;function oe(){return ae===void 0&&(ae={}),ae}return N.fromWeb=function(ee,le){return oe().newStreamWritableFromWritableStream(ee,le)},N.toWeb=function(ee){return oe().newWritableStreamFromStreamWritable(ee)},d3}var f3,N8;function nK(){if(N8)return f3;N8=1;const t=bc(),e=Yo(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:u,isReadableStream:l,isWritableStream:h}=el(),p=wc(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:y}}=gi(),{destroyer:w}=bf(),C=Ko(),x=Uy(),M=aS(),{createDeferredPromise:k}=Li(),z=qI(),P=globalThis.Blob||e.Blob,K=typeof P<"u"?function(_){return _ instanceof P}:function(_){return!1},W=globalThis.AbortController||m0().AbortController,{FunctionPrototypeCall:B}=Jn();class D extends C{constructor(_){super(_),_?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}f3=function b(_,A){if(u(_))return _;if(o(_))return T({readable:_});if(s(_))return T({writable:_});if(a(_))return T({writable:!1,readable:!1});if(l(_))return T({readable:x.fromWeb(_)});if(h(_))return T({writable:M.fromWeb(_)});if(typeof _=="function"){const{value:O,write:U,final:j,destroy:I}=$(_);if(i(O))return z(D,O,{objectMode:!0,write:U,final:j,destroy:I});const E=O?.then;if(typeof E=="function"){let L;const q=B(E,O,F=>{if(F!=null)throw new y("nully","body",F)},F=>{w(L,F)});return L=new D({objectMode:!0,readable:!1,write:U,final(F){j(async()=>{try{await q,t.nextTick(F,null)}catch(G){t.nextTick(F,G)}})},destroy:I})}throw new y("Iterable, AsyncIterable or AsyncFunction",A,O)}if(K(_))return b(_.arrayBuffer());if(i(_))return z(D,_,{objectMode:!0,writable:!1});if(l(_?.readable)&&h(_?.writable))return D.fromWeb(_);if(typeof _?.writable=="object"||typeof _?.readable=="object"){const O=_!=null&&_.readable?o(_?.readable)?_?.readable:b(_.readable):void 0,U=_!=null&&_.writable?s(_?.writable)?_?.writable:b(_.writable):void 0;return T({readable:O,writable:U})}const N=_?.then;if(typeof N=="function"){let O;return B(N,_,U=>{U!=null&&O.push(U),O.push(null)},U=>{w(O,U)}),O=new D({objectMode:!0,writable:!1,read(){}})}throw new v(A,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],_)};function $(b){let{promise:_,resolve:A}=k();const N=new W,O=N.signal;return{value:b(async function*(){for(;;){const j=_;_=null;const{chunk:I,done:E,cb:L}=await j;if(t.nextTick(L),E)return;if(O.aborted)throw new g(void 0,{cause:O.reason});({promise:_,resolve:A}=k()),yield I}}(),{signal:O}),write(j,I,E){const L=A;A=null,L({chunk:j,done:!1,cb:E})},final(j){const I=A;A=null,I({done:!0,cb:j})},destroy(j,I){N.abort(),I(j)}}}function T(b){const _=b.readable&&typeof b.readable.read!="function"?x.wrap(b.readable):b.readable,A=b.writable;let N=!!n(_),O=!!r(A),U,j,I,E,L;function q(F){const G=E;E=null,G?G(F):F&&L.destroy(F)}return L=new D({readableObjectMode:!!(_!=null&&_.readableObjectMode),writableObjectMode:!!(A!=null&&A.writableObjectMode),readable:N,writable:O}),O&&(p(A,F=>{O=!1,F&&w(_,F),q(F)}),L._write=function(F,G,Y){A.write(F,G)?Y():U=Y},L._final=function(F){A.end(),j=F},A.on("drain",function(){if(U){const F=U;U=null,F()}}),A.on("finish",function(){if(j){const F=j;j=null,F()}})),N&&(p(_,F=>{N=!1,F&&w(_,F),q(F)}),_.on("readable",function(){if(I){const F=I;I=null,F()}}),_.on("end",function(){L.push(null)}),L._read=function(){for(;;){const F=_.read();if(F===null){I=L._read;return}if(!L.push(F))return}}),L._destroy=function(F,G){!F&&E!==null&&(F=new g),I=null,U=null,j=null,E===null?G(F):(E=G,w(A,F),w(_,F))},L}return f3}var h3,A8;function Ko(){if(A8)return h3;A8=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=Jn();h3=o;const i=Uy(),a=aS();r(o.prototype,i.prototype),r(o,i);{const h=n(a.prototype);for(let p=0;p<h.length;p++){const g=h[p];o.prototype[g]||(o.prototype[g]=a.prototype[g])}}function o(h){if(!(this instanceof o))return new o(h);i.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(a.prototype,"writableLength")},writableFinished:{__proto__:null,...e(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});let s;function u(){return s===void 0&&(s={}),s}o.fromWeb=function(h,p){return u().newStreamDuplexFromReadableWritablePair(h,p)},o.toWeb=function(h){return u().newReadableWritablePairFromDuplex(h)};let l;return o.from=function(h){return l||(l=nK()),l(h,"body")},h3}var p3,j8;function zI(){if(j8)return p3;j8=1;const{ObjectSetPrototypeOf:t,Symbol:e}=Jn();p3=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=gi().codes,r=Ko(),{getHighWaterMark:i}=By();t(o.prototype,r.prototype),t(o,r);const a=e("kCallback");function o(l){if(!(this instanceof o))return new o(l);const h=l?i(this,l,"readableHighWaterMark",!0):null;h===0&&(l={...l,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:l.writableHighWaterMark||0}),r.call(this,l),this._readableState.sync=!1,this[a]=null,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",u)}function s(l){typeof this._flush=="function"&&!this.destroyed?this._flush((h,p)=>{if(h){l?l(h):this.destroy(h);return}p!=null&&this.push(p),this.push(null),l&&l()}):(this.push(null),l&&l())}function u(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(l,h,p){throw new n("_transform()")},o.prototype._write=function(l,h,p){const g=this._readableState,v=this._writableState,y=g.length;this._transform(l,h,(w,C)=>{if(w){p(w);return}C!=null&&this.push(C),v.ended||y===g.length||g.length<g.highWaterMark?p():this[a]=p})},o.prototype._read=function(){if(this[a]){const l=this[a];this[a]=null,l()}},p3}var m3,M8;function HI(){if(M8)return m3;M8=1;const{ObjectSetPrototypeOf:t}=Jn();m3=n;const e=zI();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},m3}var g3,O8;function sS(){if(O8)return g3;O8=1;const t=bc(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=Jn(),a=wc(),{once:o}=Li(),s=bf(),u=Ko(),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:v,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:w}=gi(),{validateFunction:C,validateAbortSignal:x}=fp(),{isIterable:M,isReadable:k,isReadableNodeStream:z,isNodeStream:P,isTransformStream:K,isWebStream:W,isReadableStream:B,isReadableFinished:D}=el(),$=globalThis.AbortController||m0().AbortController;let T,b,_;function A(F,G,Y){let Q=!1;F.on("close",()=>{Q=!0});const ie=a(F,{readable:G,writable:Y},Z=>{Q=!Z});return{destroy:Z=>{Q||(Q=!0,s.destroyer(F,Z||new v("pipe")))},cleanup:ie}}function N(F){return C(F[F.length-1],"streams[stream.length - 1]"),F.pop()}function O(F){if(M(F))return F;if(z(F))return U(F);throw new h("val",["Readable","Iterable","AsyncIterable"],F)}async function*U(F){b||(b=Uy()),yield*b.prototype[r].call(F)}async function j(F,G,Y,{end:Q}){let ie,Z=null;const X=oe=>{if(oe&&(ie=oe),Z){const ee=Z;Z=null,ee()}},te=()=>new n((oe,ee)=>{ie?ee(ie):Z=()=>{ie?ee(ie):oe()}});G.on("drain",X);const ae=a(G,{readable:!1},X);try{G.writableNeedDrain&&await te();for await(const oe of F)G.write(oe)||await te();Q&&(G.end(),await te()),Y()}catch(oe){Y(ie!==oe?l(ie,oe):oe)}finally{ae(),G.off("drain",X)}}async function I(F,G,Y,{end:Q}){K(G)&&(G=G.writable);const ie=G.getWriter();try{for await(const Z of F)await ie.ready,ie.write(Z).catch(()=>{});await ie.ready,Q&&await ie.close(),Y()}catch(Z){try{await ie.abort(Z),Y(Z)}catch(X){Y(X)}}}function E(...F){return L(F,o(N(F)))}function L(F,G,Y){if(F.length===1&&e(F[0])&&(F=F[0]),F.length<2)throw new g("streams");const Q=new $,ie=Q.signal,Z=Y?.signal,X=[];x(Z,"options.signal");function te(){Ee(new w)}_=_||Li().addAbortListener;let ae;Z&&(ae=_(Z,te));let oe,ee;const le=[];let he=0;function ge(Ae){Ee(Ae,--he===0)}function Ee(Ae,xe){var ze;if(Ae&&(!oe||oe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(oe=Ae),!(!oe&&!xe)){for(;le.length;)le.shift()(oe);(ze=ae)===null||ze===void 0||ze[i](),Q.abort(),xe&&(oe||X.forEach(Xe=>Xe()),t.nextTick(G,oe,ee))}}let ye;for(let Ae=0;Ae<F.length;Ae++){const xe=F[Ae],ze=Ae<F.length-1,Xe=Ae>0,nt=ze||Y?.end!==!1,et=Ae===F.length-1;if(P(xe)){let re=function(V){V&&V.name!=="AbortError"&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ge(V)};if(nt){const{destroy:V,cleanup:J}=A(xe,ze,Xe);le.push(V),k(xe)&&et&&X.push(J)}xe.on("error",re),k(xe)&&et&&X.push(()=>{xe.removeListener("error",re)})}if(Ae===0)if(typeof xe=="function"){if(ye=xe({signal:ie}),!M(ye))throw new p("Iterable, AsyncIterable or Stream","source",ye)}else M(xe)||z(xe)||K(xe)?ye=xe:ye=u.from(xe);else if(typeof xe=="function"){if(K(ye)){var fe;ye=O((fe=ye)===null||fe===void 0?void 0:fe.readable)}else ye=O(ye);if(ye=xe(ye,{signal:ie}),ze){if(!M(ye,!0))throw new p("AsyncIterable",`transform[${Ae-1}]`,ye)}else{var Se;T||(T=HI());const re=new T({objectMode:!0}),V=(Se=ye)===null||Se===void 0?void 0:Se.then;if(typeof V=="function")he++,V.call(ye,ve=>{ee=ve,ve!=null&&re.write(ve),nt&&re.end(),t.nextTick(ge)},ve=>{re.destroy(ve),t.nextTick(ge,ve)});else if(M(ye,!0))he++,j(ye,re,ge,{end:nt});else if(B(ye)||K(ye)){const ve=ye.readable||ye;he++,j(ve,re,ge,{end:nt})}else throw new p("AsyncIterable or Promise","destination",ye);ye=re;const{destroy:J,cleanup:ue}=A(ye,!1,!0);le.push(J),et&&X.push(ue)}}else if(P(xe)){if(z(ye)){he+=2;const re=q(ye,xe,ge,{end:nt});k(xe)&&et&&X.push(re)}else if(K(ye)||B(ye)){const re=ye.readable||ye;he++,j(re,xe,ge,{end:nt})}else if(M(ye))he++,j(ye,xe,ge,{end:nt});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ye);ye=xe}else if(W(xe)){if(z(ye))he++,I(O(ye),xe,ge,{end:nt});else if(B(ye)||M(ye))he++,I(ye,xe,ge,{end:nt});else if(K(ye))he++,I(ye.readable,xe,ge,{end:nt});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ye);ye=xe}else ye=u.from(xe)}return(ie!=null&&ie.aborted||Z!=null&&Z.aborted)&&t.nextTick(te),ye}function q(F,G,Y,{end:Q}){let ie=!1;if(G.on("close",()=>{ie||Y(new y)}),F.pipe(G,{end:!1}),Q){let Z=function(){ie=!0,G.end()};D(F)?t.nextTick(Z):F.once("end",Z)}else Y();return a(F,{readable:!0,writable:!1},Z=>{const X=F._readableState;Z&&Z.code==="ERR_STREAM_PREMATURE_CLOSE"&&X&&X.ended&&!X.errored&&!X.errorEmitted?F.once("end",Y).once("error",Y):Y(Z)}),a(G,{readable:!1,writable:!0},Y)}return g3={pipelineImpl:L,pipeline:E},g3}var v3,k8;function KI(){if(k8)return v3;k8=1;const{pipeline:t}=sS(),e=Ko(),{destroyer:n}=bf(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:u,isReadableStream:l}=el(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=gi(),v=wc();return v3=function(...w){if(w.length===0)throw new g("streams");if(w.length===1)return e.from(w[0]);const C=[...w];if(typeof w[0]=="function"&&(w[0]=e.from(w[0])),typeof w[w.length-1]=="function"){const T=w.length-1;w[T]=e.from(w[T])}for(let T=0;T<w.length;++T)if(!(!r(w[T])&&!o(w[T]))){if(T<w.length-1&&!(i(w[T])||l(w[T])||s(w[T])))throw new p(`streams[${T}]`,C[T],"must be readable");if(T>0&&!(a(w[T])||u(w[T])||s(w[T])))throw new p(`streams[${T}]`,C[T],"must be writable")}let x,M,k,z,P;function K(T){const b=z;z=null,b?b(T):T?P.destroy(T):!$&&!D&&P.destroy()}const W=w[0],B=t(w,K),D=!!(a(W)||u(W)||s(W)),$=!!(i(B)||l(B)||s(B));if(P=new e({writableObjectMode:!!(W!=null&&W.writableObjectMode),readableObjectMode:!!(B!=null&&B.readableObjectMode),writable:D,readable:$}),D){if(r(W))P._write=function(b,_,A){W.write(b,_)?A():x=A},P._final=function(b){W.end(),M=b},W.on("drain",function(){if(x){const b=x;x=null,b()}});else if(o(W)){const _=(s(W)?W.writable:W).getWriter();P._write=async function(A,N,O){try{await _.ready,_.write(A).catch(()=>{}),O()}catch(U){O(U)}},P._final=async function(A){try{await _.ready,_.close().catch(()=>{}),M=A}catch(N){A(N)}}}const T=s(B)?B.readable:B;v(T,()=>{if(M){const b=M;M=null,b()}})}if($){if(r(B))B.on("readable",function(){if(k){const T=k;k=null,T()}}),B.on("end",function(){P.push(null)}),P._read=function(){for(;;){const T=B.read();if(T===null){k=P._read;return}if(!P.push(T))return}};else if(o(B)){const b=(s(B)?B.readable:B).getReader();P._read=async function(){for(;;)try{const{value:_,done:A}=await b.read();if(!P.push(_))return;if(A){P.push(null);return}}catch{return}}}}return P._destroy=function(T,b){!T&&z!==null&&(T=new h),k=null,x=null,M=null,z===null?b(T):(z=b,r(B)&&n(B,T))},P},v3}var I8;function rK(){if(I8)return Ym;I8=1;const t=globalThis.AbortController||m0().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=gi(),{validateAbortSignal:o,validateInteger:s,validateObject:u}=fp(),l=Jn().Symbol("kWeak"),h=Jn().Symbol("kResistStopPropagation"),{finished:p}=wc(),g=KI(),{addAbortSignalNoValidate:v}=Dy(),{isWritable:y,isNodeStream:w}=el(),{deprecate:C}=Li(),{ArrayPrototypePush:x,Boolean:M,MathFloor:k,Number:z,NumberIsNaN:P,Promise:K,PromiseReject:W,PromiseResolve:B,PromisePrototypeThen:D,Symbol:$}=Jn(),T=$("kEmpty"),b=$("kEof");function _(Z,X){if(X!=null&&u(X,"options"),X?.signal!=null&&o(X.signal,"options.signal"),w(Z)&&!y(Z))throw new e("stream",Z,"must be writable");const te=g(this,Z);return X!=null&&X.signal&&v(X.signal,te),te}function A(Z,X){if(typeof Z!="function")throw new n("fn",["Function","AsyncFunction"],Z);X!=null&&u(X,"options"),X?.signal!=null&&o(X.signal,"options.signal");let te=1;X?.concurrency!=null&&(te=k(X.concurrency));let ae=te-1;return X?.highWaterMark!=null&&(ae=k(X.highWaterMark)),s(te,"options.concurrency",1),s(ae,"options.highWaterMark",0),ae+=te,(async function*(){const ee=Li().AbortSignalAny([X?.signal].filter(M)),le=this,he=[],ge={signal:ee};let Ee,ye,fe=!1,Se=0;function Ae(){fe=!0,xe()}function xe(){Se-=1,ze()}function ze(){ye&&!fe&&Se<te&&he.length<ae&&(ye(),ye=null)}async function Xe(){try{for await(let nt of le){if(fe)return;if(ee.aborted)throw new a;try{if(nt=Z(nt,ge),nt===T)continue;nt=B(nt)}catch(et){nt=W(et)}Se+=1,D(nt,xe,Ae),he.push(nt),Ee&&(Ee(),Ee=null),!fe&&(he.length>=ae||Se>=te)&&await new K(et=>{ye=et})}he.push(b)}catch(nt){const et=W(nt);D(et,xe,Ae),he.push(et)}finally{fe=!0,Ee&&(Ee(),Ee=null)}}Xe();try{for(;;){for(;he.length>0;){const nt=await he[0];if(nt===b)return;if(ee.aborted)throw new a;nt!==T&&(yield nt),he.shift(),ze()}await new K(nt=>{Ee=nt})}}finally{fe=!0,ye&&(ye(),ye=null)}}).call(this)}function N(Z=void 0){return Z!=null&&u(Z,"options"),Z?.signal!=null&&o(Z.signal,"options.signal"),(async function*(){let te=0;for await(const oe of this){var ae;if(Z!=null&&(ae=Z.signal)!==null&&ae!==void 0&&ae.aborted)throw new a({cause:Z.signal.reason});yield[te++,oe]}}).call(this)}async function O(Z,X=void 0){for await(const te of E.call(this,Z,X))return!0;return!1}async function U(Z,X=void 0){if(typeof Z!="function")throw new n("fn",["Function","AsyncFunction"],Z);return!await O.call(this,async(...te)=>!await Z(...te),X)}async function j(Z,X){for await(const te of E.call(this,Z,X))return te}async function I(Z,X){if(typeof Z!="function")throw new n("fn",["Function","AsyncFunction"],Z);async function te(ae,oe){return await Z(ae,oe),T}for await(const ae of A.call(this,te,X));}function E(Z,X){if(typeof Z!="function")throw new n("fn",["Function","AsyncFunction"],Z);async function te(ae,oe){return await Z(ae,oe)?ae:T}return A.call(this,te,X)}class L extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function q(Z,X,te){var ae;if(typeof Z!="function")throw new n("reducer",["Function","AsyncFunction"],Z);te!=null&&u(te,"options"),te?.signal!=null&&o(te.signal,"options.signal");let oe=arguments.length>1;if(te!=null&&(ae=te.signal)!==null&&ae!==void 0&&ae.aborted){const Ee=new a(void 0,{cause:te.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(Ee)),Ee}const ee=new t,le=ee.signal;if(te!=null&&te.signal){const Ee={once:!0,[l]:this,[h]:!0};te.signal.addEventListener("abort",()=>ee.abort(),Ee)}let he=!1;try{for await(const Ee of this){var ge;if(he=!0,te!=null&&(ge=te.signal)!==null&&ge!==void 0&&ge.aborted)throw new a;oe?X=await Z(X,Ee,{signal:le}):(X=Ee,oe=!0)}if(!he&&!oe)throw new L}finally{ee.abort()}return X}async function F(Z){Z!=null&&u(Z,"options"),Z?.signal!=null&&o(Z.signal,"options.signal");const X=[];for await(const ae of this){var te;if(Z!=null&&(te=Z.signal)!==null&&te!==void 0&&te.aborted)throw new a(void 0,{cause:Z.signal.reason});x(X,ae)}return X}function G(Z,X){const te=A.call(this,Z,X);return(async function*(){for await(const oe of te)yield*oe}).call(this)}function Y(Z){if(Z=z(Z),P(Z))return 0;if(Z<0)throw new i("number",">= 0",Z);return Z}function Q(Z,X=void 0){return X!=null&&u(X,"options"),X?.signal!=null&&o(X.signal,"options.signal"),Z=Y(Z),(async function*(){var ae;if(X!=null&&(ae=X.signal)!==null&&ae!==void 0&&ae.aborted)throw new a;for await(const ee of this){var oe;if(X!=null&&(oe=X.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;Z--<=0&&(yield ee)}}).call(this)}function ie(Z,X=void 0){return X!=null&&u(X,"options"),X?.signal!=null&&o(X.signal,"options.signal"),Z=Y(Z),(async function*(){var ae;if(X!=null&&(ae=X.signal)!==null&&ae!==void 0&&ae.aborted)throw new a;for await(const ee of this){var oe;if(X!=null&&(oe=X.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;if(Z-- >0&&(yield ee),Z<=0)return}}).call(this)}return Ym.streamReturningOperators={asIndexedPairs:C(N,"readable.asIndexedPairs will be removed in a future version."),drop:Q,filter:E,flatMap:G,map:A,take:ie,compose:_},Ym.promiseReturningOperators={every:U,forEach:I,reduce:q,toArray:F,some:O,find:j},Ym}var y3,T8;function WI(){if(T8)return y3;T8=1;const{ArrayPrototypePop:t,Promise:e}=Jn(),{isIterable:n,isNodeStream:r,isWebStream:i}=el(),{pipelineImpl:a}=sS(),{finished:o}=wc();VI();function s(...u){return new e((l,h)=>{let p,g;const v=u[u.length-1];if(v&&typeof v=="object"&&!r(v)&&!n(v)&&!i(v)){const y=t(u);p=y.signal,g=y.end}a(u,(y,w)=>{y?h(y):l(w)},{signal:p,end:g})})}return y3={finished:o,pipeline:s},y3}var R8;function VI(){if(R8)return Jx.exports;R8=1;const{Buffer:t}=Yo(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=Jn(),{promisify:{custom:i}}=Li(),{streamReturningOperators:a,promiseReturningOperators:o}=rK(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=gi(),u=KI(),{setDefaultHighWaterMark:l,getDefaultHighWaterMark:h}=By(),{pipeline:p}=sS(),{destroyer:g}=bf(),v=wc(),y=WI(),w=el(),C=Jx.exports=iS().Stream;C.isDestroyed=w.isDestroyed,C.isDisturbed=w.isDisturbed,C.isErrored=w.isErrored,C.isReadable=w.isReadable,C.isWritable=w.isWritable,C.Readable=Uy();for(const M of n(a)){let z=function(...P){if(new.target)throw s();return C.Readable.from(r(k,this,P))};const k=a[M];e(z,"name",{__proto__:null,value:k.name}),e(z,"length",{__proto__:null,value:k.length}),e(C.Readable.prototype,M,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}for(const M of n(o)){let z=function(...P){if(new.target)throw s();return r(k,this,P)};const k=o[M];e(z,"name",{__proto__:null,value:k.name}),e(z,"length",{__proto__:null,value:k.length}),e(C.Readable.prototype,M,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}C.Writable=aS(),C.Duplex=Ko(),C.Transform=zI(),C.PassThrough=HI(),C.pipeline=p;const{addAbortSignal:x}=Dy();return C.addAbortSignal=x,C.finished=v,C.destroy=g,C.compose=u,C.setDefaultHighWaterMark=l,C.getDefaultHighWaterMark=h,e(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return y}}),e(p,i,{__proto__:null,enumerable:!0,get(){return y.pipeline}}),e(v,i,{__proto__:null,enumerable:!0,get(){return y.finished}}),C.Stream=C,C._isUint8Array=function(k){return k instanceof Uint8Array},C._uint8ArrayToBuffer=function(k){return t.from(k.buffer,k.byteOffset,k.byteLength)},Jx.exports}var P8;function iK(){return P8||(P8=1,function(t){const e=VI(),n=WI(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(Yx)),Yx.exports}var aK=iK();function L8(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function sK(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class xc extends Ty.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const s=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw s.context=o,s}const a=i[e];if(a===void 0)return!1;if(typeof a=="function")L8(a,this,n);else{const o=a.length,s=sK(a);for(let u=0;u<o;u+=1)L8(s[u],this,n)}return!0}}class _h extends Error{constructor({code:e,message:n,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),Ne(this,"code",void 0),Ne(this,"data",void 0),this.code=e,r!==void 0&&(this.data=r)}toString(){return dI({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const Lr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},D8={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};var GI=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};const B8=Lr.rpc.internal,oK="Unspecified error message. This is a bug, please report it.",lK="Unspecified server error.";function YI(t){return Number.isInteger(t)}function U8(t){return typeof t=="string"&&t.length>0}function Ov(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function cK(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function uK(t){return t>=-32099&&t<=-32e3}function JI(t){const e=t;return!(!e||!YI(e.code)||!U8(e.message)||e.stack&&!U8(e.stack))}function $y(t,e=oK){if(YI(t)){const n=t.toString();if(GI(D8,n))return D8[n].message;if(uK(t))return lK}return e}const dK={code:B8,message:$y(B8)};function vE(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function $8(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return vE(r)&&(e[n]=r),e},{})}function ZI(t){return Array.isArray(t)?t.map(e=>vE(e)?e:Ov(e)?$8(e):null):Ov(t)?$8(t):vE(t)?t:null}function fK(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(JI(t))return t;const n=ZI(t);return we(we({},e),{},{data:{cause:n}})}function yE(t,{fallbackError:e=dK,shouldIncludeStack:n=!0}={}){if(!JI(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=fK(t,e);return n||delete r.stack,r}function hK(t){return Ov(t)&&GI(t,"cause")&&Ov(t.cause)}var pK=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};function mK(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function gK(t,e){if(e!=="[Circular]")return e}class QI extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');hK(r)?(super(n,{cause:r.cause}),Ne(this,"cause",void 0),Ne(this,"code",void 0),Ne(this,"data",void 0),pK(this,"cause")||Object.assign(this,{cause:r.cause})):(super(n),Ne(this,"cause",void 0),Ne(this,"code",void 0),Ne(this,"data",void 0)),r!==void 0&&(this.data=r),this.code=e,this.cause=r?.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,cK(this.data)&&(e.data.cause=ZI(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return dI(this.serialize(),{replacer:gK,space:2})}}class XI extends QI{constructor(e,n,r){if(!mK(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function eT(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function xa(t,e){const[n,r]=eT(e);return new QI(t,n??$y(t),r)}function Ch(t,e){const[n,r]=eT(e);return new XI(t,n??$y(t),r)}const $o={parse:t=>xa(Lr.rpc.parse,t),invalidRequest:t=>xa(Lr.rpc.invalidRequest,t),invalidParams:t=>xa(Lr.rpc.invalidParams,t),methodNotFound:t=>xa(Lr.rpc.methodNotFound,t),internal:t=>xa(Lr.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return xa(e,t)},invalidInput:t=>xa(Lr.rpc.invalidInput,t),resourceNotFound:t=>xa(Lr.rpc.resourceNotFound,t),resourceUnavailable:t=>xa(Lr.rpc.resourceUnavailable,t),transactionRejected:t=>xa(Lr.rpc.transactionRejected,t),methodNotSupported:t=>xa(Lr.rpc.methodNotSupported,t),limitExceeded:t=>xa(Lr.rpc.limitExceeded,t)},F8={userRejectedRequest:t=>Ch(Lr.provider.userRejectedRequest,t),unauthorized:t=>Ch(Lr.provider.unauthorized,t),unsupportedMethod:t=>Ch(Lr.provider.unsupportedMethod,t),disconnected:t=>Ch(Lr.provider.disconnected,t),chainDisconnected:t=>Ch(Lr.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new XI(e,n,r)}},Tle=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)};function Rle(){const t={};function e(){return!1}const n=new xc;function r(u){const l=t[u.id];if(!l)throw new Error(`StreamMiddleware - Unknown response id "${u.id}"`);delete t[u.id],Object.assign(l.res,u),setTimeout(l.end)}function i(u){n.emit("notification",u)}function a(u,l,h){let p;try{!u.id?i(u):r(u)}catch(g){p=g}h(p)}const o=new aK.Duplex({objectMode:!0,read:e,write:a});return{events:n,middleware:(u,l,h,p)=>{o.push(u),t[u.id]={req:u,res:l,next:h,end:p}},stream:o}}function Ple(t){return(e,n,r,i)=>{const a=t[e.method];return a===void 0?r():typeof a=="function"?a(e,n,r,i):(n.result=a,i())}}function Lle(){return(t,e,n,r)=>{const i=t.id,a=Math.random().toString(36).slice(2);t.id=a,e.id=a,n(o=>{t.id=i,e.id=i,o()})}}function vK(t){return async(e,n,r,i)=>{let a;const o=new Promise(h=>{a=h});let s=null,u=!1;const l=async()=>{u=!0,r(h=>{s=h,a()}),await o};try{await t(e,n,l),u?(await o,s(null)):i(null)}catch(h){const p=h;s?s(p):i(p)}}}function bE(t){const{message:e="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=t,a=parseInt(n?.toString()||"-32603");return{message:e||t?.toString()||$y(a),code:a,stack:r,data:i||e||t?.toString()}}class js extends xc{constructor(){super(),Ne(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){const i=[];let a=null,o=!1;for(const s of r)if([a,o]=await js._runMiddleware(e,n,s,i),o)break;return[a,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(a=>{const o=u=>{const l=u||n.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),Ho.error(l),n.error=yE(l,{shouldIncludeStack:!0,fallbackError:bE(l)})),a([l,!0])},s=u=>{n.error?o(n.error):(u&&(typeof u!="function"&&o(new _h({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(u)),a([null,!1]))};try{r(e,n,s,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(a=>a?i(a):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new _h({code:-32603,message:"Response has no error or result for request"});if(!r)throw new _h({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[a,o,s]=await js._runAllMiddleware(e,n,this._middleware);return o?(await js._runReturnHandlers(s),i(a)):r(async u=>{try{await js._runReturnHandlers(s)}catch(l){return u(l)}return u()})}catch(a){return i(a)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise((n,r)=>{this._handle(e,(i,a)=>{i&&a===void 0?r(i):n(a)}).catch(r)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const o=new _h({code:-32603,message:"request must be plain object"});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new _h({code:-32603,message:"method must be string"});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}const r=we({},e),i={id:r.id,jsonrpc:r.jsonrpc};let a=null;try{await this._processRequest(r,i)}catch(o){a=o}return a&&(delete i.result,i.error||(typeof a=="object"&&Object.keys(a).includes("stack")===!1&&(a.stack="Stack trace is not available."),Ho.error(a),i.error=yE(a,{shouldIncludeStack:!0,fallbackError:bE(a)}))),n(a,i)}async _processRequest(e,n){const[r,i,a]=await js._runAllMiddleware(e,n,this._middleware);if(js._checkForCompletion(e,n,i),await js._runReturnHandlers(a),r)throw r}}function yK(t){const e=new js;return t.forEach(n=>{e.push(n)}),e.asMiddleware()}function bK(t){const e=new xc;return e.sendAsync=async n=>{const r=await t.handle(n);if(r.error){typeof r.error=="object"&&Object.keys(r.error).includes("stack")===!1&&(r.error.stack="Stack trace is not available."),Ho.error(r.error);const i=yE(r.error,{fallbackError:bE(r.error),shouldIncludeStack:!0});throw $o.internal(i)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{const r=we(we({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}function q8(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function wK(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Fy(t,...e){if(!wK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function xK(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");q8(t.outputLen),q8(t.blockLen)}function kv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function EK(t,e){Fy(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const b3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w3=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Es=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function SK(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function oS(t){return typeof t=="string"&&(t=SK(t)),Fy(t),t}function _K(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Fy(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}let tT=class{clone(){return this._cloneInto()}};function CK(t){const e=r=>t().update(oS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function NK(t=32){if(b3&&typeof b3.getRandomValues=="function")return b3.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function AK(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),u=r?4:0,l=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+l,s,r)}const jK=(t,e,n)=>t&e^~t&n,MK=(t,e,n)=>t&e^t&n^e&n;class OK extends tT{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=w3(this.buffer)}update(e){kv(this);const{view:n,buffer:r,blockLen:i}=this;e=oS(e);const a=e.length;for(let o=0;o<a;){const s=Math.min(i-this.pos,a-o);if(s===i){const u=w3(e);for(;i<=a-o;o+=i)this.process(u,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){kv(this),EK(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let p=o;p<i;p++)n[p]=0;AK(r,i-8,BigInt(this.length*8),a),this.process(r,0);const s=w3(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<l;p++)s.setUint32(4*p,h[p],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%n&&e.buffer.set(r),e}}const kK=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Il=new Uint32Array(64);class IK extends OK{constructor(){super(64,32,8,!1),this.A=kl[0]|0,this.B=kl[1]|0,this.C=kl[2]|0,this.D=kl[3]|0,this.E=kl[4]|0,this.F=kl[5]|0,this.G=kl[6]|0,this.H=kl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:a,F:o,G:s,H:u}=this;return[e,n,r,i,a,o,s,u]}set(e,n,r,i,a,o,s,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Il[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const g=Il[p-15],v=Il[p-2],y=Es(g,7)^Es(g,18)^g>>>3,w=Es(v,17)^Es(v,19)^v>>>10;Il[p]=w+Il[p-7]+y+Il[p-16]|0}let{A:r,B:i,C:a,D:o,E:s,F:u,G:l,H:h}=this;for(let p=0;p<64;p++){const g=Es(s,6)^Es(s,11)^Es(s,25),v=h+g+jK(s,u,l)+kK[p]+Il[p]|0,w=(Es(r,2)^Es(r,13)^Es(r,22))+MK(r,i,a)|0;h=l,l=u,u=s,s=o+v|0,o=a,a=i,i=r,r=v+w|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(r,i,a,o,s,u,l,h)}roundClean(){Il.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const TK=CK(()=>new IK);class nT extends tT{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,xK(e);const r=oS(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(e){return kv(this),this.iHash.update(e),this}digestInto(e){kv(this),Fy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rT=(t,e,n)=>new nT(t,e).update(n).digest();rT.create=(t,e)=>new nT(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iT=BigInt(0),qy=BigInt(1),RK=BigInt(2);function Su(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function hp(t){if(!Su(t))throw new Error("Uint8Array expected")}const PK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nf(t){hp(t);let e="";for(let n=0;n<t.length;n++)e+=PK[t[n]];return e}function aT(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function lS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const mo={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function z8(t){if(t>=mo._0&&t<=mo._9)return t-mo._0;if(t>=mo._A&&t<=mo._F)return t-(mo._A-10);if(t>=mo._a&&t<=mo._f)return t-(mo._a-10)}function rf(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const o=z8(t.charCodeAt(a)),s=z8(t.charCodeAt(a+1));if(o===void 0||s===void 0){const u=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}r[i]=o*16+s}return r}function yu(t){return lS(nf(t))}function cS(t){return hp(t),lS(nf(Uint8Array.from(t).reverse()))}function af(t,e){return rf(t.toString(16).padStart(e*2,"0"))}function uS(t,e){return af(t,e).reverse()}function LK(t){return rf(aT(t))}function es(t,e,n){let r;if(typeof e=="string")try{r=rf(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(Su(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function g0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];hp(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}function DK(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function BK(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function UK(t){let e;for(e=0;t>iT;t>>=qy,e+=1);return e}function $K(t,e){return t>>BigInt(e)&qy}function FK(t,e,n){return t|(n?qy:iT)<<BigInt(e)}const dS=t=>(RK<<BigInt(t-1))-qy,x3=t=>new Uint8Array(t),H8=t=>Uint8Array.from(t);function sT(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=x3(t),i=x3(t),a=0;const o=()=>{r.fill(1),i.fill(0),a=0},s=(...p)=>n(i,r,...p),u=(p=x3())=>{i=s(H8([0]),p),r=s(),p.length!==0&&(i=s(H8([1]),p),r=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const g=[];for(;p<e;){r=s();const v=r.slice();g.push(v),p+=r.length}return g0(...g)};return(p,g)=>{o(),u(p);let v;for(;!(v=g(l()));)u();return o(),v}}const qK={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Su(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function pp(t,e,n={}){const r=(i,a,o)=>{const s=qK[a];if(typeof s!="function")throw new Error(`Invalid validator "${a}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!s(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${a}`)};for(const[i,a]of Object.entries(e))r(i,a,!1);for(const[i,a]of Object.entries(n))r(i,a,!0);return t}const zK=Object.freeze(Object.defineProperty({__proto__:null,abytes:hp,bitGet:$K,bitLen:UK,bitMask:dS,bitSet:FK,bytesToHex:nf,bytesToNumberBE:yu,bytesToNumberLE:cS,concatBytes:g0,createHmacDrbg:sT,ensureBytes:es,equalBytes:DK,hexToBytes:rf,hexToNumber:lS,isBytes:Su,numberToBytesBE:af,numberToBytesLE:uS,numberToHexUnpadded:aT,numberToVarBytesBE:LK,utf8ToBytes:BK,validateObject:pp},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mr=BigInt(0),sr=BigInt(1),su=BigInt(2),HK=BigInt(3),wE=BigInt(4),K8=BigInt(5),W8=BigInt(8);BigInt(9);BigInt(16);function ki(t,e){const n=t%e;return n>=Mr?n:e+n}function KK(t,e,n){if(n<=Mr||e<Mr)throw new Error("Expected power/modulo > 0");if(n===sr)return Mr;let r=sr;for(;e>Mr;)e&sr&&(r=r*t%n),t=t*t%n,e>>=sr;return r}function Ea(t,e,n){let r=t;for(;e-- >Mr;)r*=r,r%=n;return r}function xE(t,e){if(t===Mr||e<=Mr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ki(t,e),r=e,i=Mr,a=sr;for(;n!==Mr;){const s=r/n,u=r%n,l=i-a*s;r=n,n=u,i=a,a=l}if(r!==sr)throw new Error("invert: does not exist");return ki(i,e)}function WK(t){const e=(t-sr)/su;let n,r,i;for(n=t-sr,r=0;n%su===Mr;n/=su,r++);for(i=su;i<t&&KK(i,e,t)!==t-sr;i++);if(r===1){const o=(t+sr)/wE;return function(u,l){const h=u.pow(l,o);if(!u.eql(u.sqr(h),l))throw new Error("Cannot find square root");return h}}const a=(n+sr)/su;return function(s,u){if(s.pow(u,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,h=s.pow(s.mul(s.ONE,i),n),p=s.pow(u,a),g=s.pow(u,n);for(;!s.eql(g,s.ONE);){if(s.eql(g,s.ZERO))return s.ZERO;let v=1;for(let w=s.sqr(g);v<l&&!s.eql(w,s.ONE);v++)w=s.sqr(w);const y=s.pow(h,sr<<BigInt(l-v-1));h=s.sqr(y),p=s.mul(p,y),g=s.mul(g,h),l=v}return p}}function VK(t){if(t%wE===HK){const e=(t+sr)/wE;return function(r,i){const a=r.pow(i,e);if(!r.eql(r.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%W8===K8){const e=(t-K8)/W8;return function(r,i){const a=r.mul(i,su),o=r.pow(a,e),s=r.mul(i,o),u=r.mul(r.mul(s,su),o),l=r.mul(s,r.sub(u,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return WK(t)}const GK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=GK.reduce((r,i)=>(r[i]="function",r),e);return pp(t,n)}function JK(t,e,n){if(n<Mr)throw new Error("Expected power > 0");if(n===Mr)return t.ONE;if(n===sr)return e;let r=t.ONE,i=e;for(;n>Mr;)n&sr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=sr;return r}function ZK(t,e){const n=new Array(e.length),r=e.reduce((a,o,s)=>t.is0(o)?a:(n[s]=a,t.mul(a,o)),t.ONE),i=t.inv(r);return e.reduceRight((a,o,s)=>t.is0(o)?a:(n[s]=t.mul(a,n[s]),t.mul(a,o)),i),n}function oT(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function QK(t,e,n=!1,r={}){if(t<=Mr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=oT(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=VK(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:dS(i),ZERO:Mr,ONE:sr,create:u=>ki(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Mr<=u&&u<t},is0:u=>u===Mr,isOdd:u=>(u&sr)===sr,neg:u=>ki(-u,t),eql:(u,l)=>u===l,sqr:u=>ki(u*u,t),add:(u,l)=>ki(u+l,t),sub:(u,l)=>ki(u-l,t),mul:(u,l)=>ki(u*l,t),pow:(u,l)=>JK(s,u,l),div:(u,l)=>ki(u*xE(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>xE(u,t),sqrt:r.sqrt||(u=>o(s,u)),invertBatch:u=>ZK(s,u),cmov:(u,l,h)=>h?l:u,toBytes:u=>n?uS(u,a):af(u,a),fromBytes:u=>{if(u.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${u.length}`);return n?cS(u):yu(u)}});return Object.freeze(s)}function lT(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function cT(t){const e=lT(t);return e+Math.ceil(e/2)}function XK(t,e,n=!1){const r=t.length,i=lT(e),a=cT(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const o=n?yu(t):cS(t),s=ki(o,e-sr)+sr;return n?uS(s,i):af(s,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eW=BigInt(0),E3=BigInt(1);function tW(t,e){const n=(i,a)=>{const o=a.negate();return i?o:a},r=i=>{const a=Math.ceil(e/i)+1,o=2**(i-1);return{windows:a,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,a){let o=t.ZERO,s=i;for(;a>eW;)a&E3&&(o=o.add(s)),s=s.double(),a>>=E3;return o},precomputeWindow(i,a){const{windows:o,windowSize:s}=r(a),u=[];let l=i,h=l;for(let p=0;p<o;p++){h=l,u.push(h);for(let g=1;g<s;g++)h=h.add(l),u.push(h);l=h.double()}return u},wNAF(i,a,o){const{windows:s,windowSize:u}=r(i);let l=t.ZERO,h=t.BASE;const p=BigInt(2**i-1),g=2**i,v=BigInt(i);for(let y=0;y<s;y++){const w=y*u;let C=Number(o&p);o>>=v,C>u&&(C-=g,o+=E3);const x=w,M=w+Math.abs(C)-1,k=y%2!==0,z=C<0;C===0?h=h.add(n(k,a[x])):l=l.add(n(z,a[M]))}return{p:l,f:h}},wNAFCached(i,a,o,s){const u=i._WINDOW_SIZE||1;let l=a.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&a.set(i,s(l))),this.wNAF(u,l,o)}}}function uT(t){return YK(t.Fp),pp(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oT(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nW(t){const e=uT(t);pp(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:rW,hexToBytes:iW}=zK,uu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=uu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:rW(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=uu,n=typeof t=="string"?iW(t):t;hp(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=uu._parseInt(n.subarray(2)),{d:o,l:s}=uu._parseInt(a);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const h=l.toString(16);return h.length&1?`0${h}`:h},r=e(n(t.s)),i=e(n(t.r)),a=r.length/2,o=i.length/2,s=n(a),u=n(o);return`30${n(o+a+4)}02${u}${i}02${s}${r}`}},ko=BigInt(0),Ta=BigInt(1);BigInt(2);const V8=BigInt(3);BigInt(4);function aW(t){const e=nW(t),{Fp:n}=e,r=e.toBytes||((y,w,C)=>{const x=w.toAffine();return g0(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),i=e.fromBytes||(y=>{const w=y.subarray(1),C=n.fromBytes(w.subarray(0,n.BYTES)),x=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:C,y:x}});function a(y){const{a:w,b:C}=e,x=n.sqr(y),M=n.mul(x,y);return n.add(n.add(M,n.mul(y,w)),C)}if(!n.eql(n.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&ko<y&&y<e.n}function s(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:x,n:M}=e;if(w&&typeof y!="bigint"){if(Su(y)&&(y=nf(y)),typeof y!="string"||!w.includes(y.length))throw new Error("Invalid key");y=y.padStart(C*2,"0")}let k;try{k=typeof y=="bigint"?y:yu(es("private key",y,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof y}`)}return x&&(k=ki(k,M)),s(k),k}const l=new Map;function h(y){if(!(y instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(w,C,x){if(this.px=w,this.py=C,this.pz=x,w==null||!n.isValid(w))throw new Error("x required");if(C==null||!n.isValid(C))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required")}static fromAffine(w){const{x:C,y:x}=w||{};if(!w||!n.isValid(C)||!n.isValid(x))throw new Error("invalid affine point");if(w instanceof p)throw new Error("projective point not allowed");const M=k=>n.eql(k,n.ZERO);return M(C)&&M(x)?p.ZERO:new p(C,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const C=n.invertBatch(w.map(x=>x.pz));return w.map((x,M)=>x.toAffine(C[M])).map(p.fromAffine)}static fromHex(w){const C=p.fromAffine(i(es("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return p.BASE.multiply(u(w))}_setWindowSize(w){this._WINDOW_SIZE=w,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:C}=this.toAffine();if(!n.isValid(w)||!n.isValid(C))throw new Error("bad point: x or y not FE");const x=n.sqr(C),M=a(w);if(!n.eql(x,M))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){h(w);const{px:C,py:x,pz:M}=this,{px:k,py:z,pz:P}=w,K=n.eql(n.mul(C,P),n.mul(k,M)),W=n.eql(n.mul(x,P),n.mul(z,M));return K&&W}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:C}=e,x=n.mul(C,V8),{px:M,py:k,pz:z}=this;let P=n.ZERO,K=n.ZERO,W=n.ZERO,B=n.mul(M,M),D=n.mul(k,k),$=n.mul(z,z),T=n.mul(M,k);return T=n.add(T,T),W=n.mul(M,z),W=n.add(W,W),P=n.mul(w,W),K=n.mul(x,$),K=n.add(P,K),P=n.sub(D,K),K=n.add(D,K),K=n.mul(P,K),P=n.mul(T,P),W=n.mul(x,W),$=n.mul(w,$),T=n.sub(B,$),T=n.mul(w,T),T=n.add(T,W),W=n.add(B,B),B=n.add(W,B),B=n.add(B,$),B=n.mul(B,T),K=n.add(K,B),$=n.mul(k,z),$=n.add($,$),B=n.mul($,T),P=n.sub(P,B),W=n.mul($,D),W=n.add(W,W),W=n.add(W,W),new p(P,K,W)}add(w){h(w);const{px:C,py:x,pz:M}=this,{px:k,py:z,pz:P}=w;let K=n.ZERO,W=n.ZERO,B=n.ZERO;const D=e.a,$=n.mul(e.b,V8);let T=n.mul(C,k),b=n.mul(x,z),_=n.mul(M,P),A=n.add(C,x),N=n.add(k,z);A=n.mul(A,N),N=n.add(T,b),A=n.sub(A,N),N=n.add(C,M);let O=n.add(k,P);return N=n.mul(N,O),O=n.add(T,_),N=n.sub(N,O),O=n.add(x,M),K=n.add(z,P),O=n.mul(O,K),K=n.add(b,_),O=n.sub(O,K),B=n.mul(D,N),K=n.mul($,_),B=n.add(K,B),K=n.sub(b,B),B=n.add(b,B),W=n.mul(K,B),b=n.add(T,T),b=n.add(b,T),_=n.mul(D,_),N=n.mul($,N),b=n.add(b,_),_=n.sub(T,_),_=n.mul(D,_),N=n.add(N,_),T=n.mul(b,N),W=n.add(W,T),T=n.mul(O,N),K=n.mul(A,K),K=n.sub(K,T),T=n.mul(A,b),B=n.mul(O,B),B=n.add(B,T),new p(K,W,B)}subtract(w){return this.add(w.negate())}is0(){return this.equals(p.ZERO)}wNAF(w){return v.wNAFCached(this,l,w,C=>{const x=n.invertBatch(C.map(M=>M.pz));return C.map((M,k)=>M.toAffine(x[k])).map(p.fromAffine)})}multiplyUnsafe(w){const C=p.ZERO;if(w===ko)return C;if(s(w),w===Ta)return this;const{endo:x}=e;if(!x)return v.unsafeLadder(this,w);let{k1neg:M,k1:k,k2neg:z,k2:P}=x.splitScalar(w),K=C,W=C,B=this;for(;k>ko||P>ko;)k&Ta&&(K=K.add(B)),P&Ta&&(W=W.add(B)),B=B.double(),k>>=Ta,P>>=Ta;return M&&(K=K.negate()),z&&(W=W.negate()),W=new p(n.mul(W.px,x.beta),W.py,W.pz),K.add(W)}multiply(w){s(w);let C=w,x,M;const{endo:k}=e;if(k){const{k1neg:z,k1:P,k2neg:K,k2:W}=k.splitScalar(C);let{p:B,f:D}=this.wNAF(P),{p:$,f:T}=this.wNAF(W);B=v.constTimeNegate(z,B),$=v.constTimeNegate(K,$),$=new p(n.mul($.px,k.beta),$.py,$.pz),x=B.add($),M=D.add(T)}else{const{p:z,f:P}=this.wNAF(C);x=z,M=P}return p.normalizeZ([x,M])[0]}multiplyAndAddUnsafe(w,C,x){const M=p.BASE,k=(P,K)=>K===ko||K===Ta||!P.equals(M)?P.multiplyUnsafe(K):P.multiply(K),z=k(this,C).add(k(w,x));return z.is0()?void 0:z}toAffine(w){const{px:C,py:x,pz:M}=this,k=this.is0();w==null&&(w=k?n.ONE:n.inv(M));const z=n.mul(C,w),P=n.mul(x,w),K=n.mul(M,w);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(K,n.ONE))throw new Error("invZ was invalid");return{x:z,y:P}}isTorsionFree(){const{h:w,isTorsionFree:C}=e;if(w===Ta)return!0;if(C)return C(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:C}=e;return w===Ta?this:C?C(p,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),r(p,this,w)}toHex(w=!0){return nf(this.toRawBytes(w))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const g=e.nBitLength,v=tW(p,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:o}}function sW(t){const e=uT(t);return pp(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oW(t){const e=sW(t),{Fp:n,n:r}=e,i=n.BYTES+1,a=2*n.BYTES+1;function o(N){return ko<N&&N<n.ORDER}function s(N){return ki(N,r)}function u(N){return xE(N,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:g}=aW({...e,toBytes(N,O,U){const j=O.toAffine(),I=n.toBytes(j.x),E=g0;return U?E(Uint8Array.from([O.hasEvenY()?2:3]),I):E(Uint8Array.from([4]),I,n.toBytes(j.y))},fromBytes(N){const O=N.length,U=N[0],j=N.subarray(1);if(O===i&&(U===2||U===3)){const I=yu(j);if(!o(I))throw new Error("Point is not on curve");const E=p(I);let L;try{L=n.sqrt(E)}catch(G){const Y=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+Y)}const q=(L&Ta)===Ta;return(U&1)===1!==q&&(L=n.neg(L)),{x:I,y:L}}else if(O===a&&U===4){const I=n.fromBytes(j.subarray(0,n.BYTES)),E=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:I,y:E}}else throw new Error(`Point of length ${O} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),v=N=>nf(af(N,e.nByteLength));function y(N){const O=r>>Ta;return N>O}function w(N){return y(N)?s(-N):N}const C=(N,O,U)=>yu(N.slice(O,U));class x{constructor(O,U,j){this.r=O,this.s=U,this.recovery=j,this.assertValidity()}static fromCompact(O){const U=e.nByteLength;return O=es("compactSignature",O,U*2),new x(C(O,0,U),C(O,U,2*U))}static fromDER(O){const{r:U,s:j}=uu.toSig(es("DER",O));return new x(U,j)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(O){return new x(this.r,this.s,O)}recoverPublicKey(O){const{r:U,s:j,recovery:I}=this,E=W(es("msgHash",O));if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");const L=I===2||I===3?U+e.n:U;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(I&1)===0?"02":"03",F=l.fromHex(q+v(L)),G=u(L),Y=s(-E*G),Q=s(j*G),ie=l.BASE.multiplyAndAddUnsafe(F,Y,Q);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return rf(this.toDERHex())}toDERHex(){return uu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rf(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const M={isValidPrivateKey(N){try{return h(N),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const N=cT(e.n);return XK(e.randomBytes(N),e.n)},precompute(N=8,O=l.BASE){return O._setWindowSize(N),O.multiply(BigInt(3)),O}};function k(N,O=!0){return l.fromPrivateKey(N).toRawBytes(O)}function z(N){const O=Su(N),U=typeof N=="string",j=(O||U)&&N.length;return O?j===i||j===a:U?j===2*i||j===2*a:N instanceof l}function P(N,O,U=!0){if(z(N))throw new Error("first arg must be private key");if(!z(O))throw new Error("second arg must be public key");return l.fromHex(O).multiply(h(N)).toRawBytes(U)}const K=e.bits2int||function(N){const O=yu(N),U=N.length*8-e.nBitLength;return U>0?O>>BigInt(U):O},W=e.bits2int_modN||function(N){return s(K(N))},B=dS(e.nBitLength);function D(N){if(typeof N!="bigint")throw new Error("bigint expected");if(!(ko<=N&&N<B))throw new Error(`bigint expected < 2^${e.nBitLength}`);return af(N,e.nByteLength)}function $(N,O,U=T){if(["recovered","canonical"].some(X=>X in U))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:I}=e;let{lowS:E,prehash:L,extraEntropy:q}=U;E==null&&(E=!0),N=es("msgHash",N),L&&(N=es("prehashed msgHash",j(N)));const F=W(N),G=h(O),Y=[D(G),D(F)];if(q!=null&&q!==!1){const X=q===!0?I(n.BYTES):q;Y.push(es("extraEntropy",X))}const Q=g0(...Y),ie=F;function Z(X){const te=K(X);if(!g(te))return;const ae=u(te),oe=l.BASE.multiply(te).toAffine(),ee=s(oe.x);if(ee===ko)return;const le=s(ae*s(ie+ee*G));if(le===ko)return;let he=(oe.x===ee?0:2)|Number(oe.y&Ta),ge=le;return E&&y(le)&&(ge=w(le),he^=1),new x(ee,ge,he)}return{seed:Q,k2sig:Z}}const T={lowS:e.lowS,prehash:!1},b={lowS:e.lowS,prehash:!1};function _(N,O,U=T){const{seed:j,k2sig:I}=$(N,O,U),E=e;return sT(E.hash.outputLen,E.nByteLength,E.hmac)(j,I)}l.BASE._setWindowSize(8);function A(N,O,U,j=b){const I=N;if(O=es("msgHash",O),U=es("publicKey",U),"strict"in j)throw new Error("options.strict was renamed to lowS");const{lowS:E,prehash:L}=j;let q,F;try{if(typeof I=="string"||Su(I))try{q=x.fromDER(I)}catch(oe){if(!(oe instanceof uu.Err))throw oe;q=x.fromCompact(I)}else if(typeof I=="object"&&typeof I.r=="bigint"&&typeof I.s=="bigint"){const{r:oe,s:ee}=I;q=new x(oe,ee)}else throw new Error("PARSE");F=l.fromHex(U)}catch(oe){if(oe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(E&&q.hasHighS())return!1;L&&(O=e.hash(O));const{r:G,s:Y}=q,Q=W(O),ie=u(Y),Z=s(Q*ie),X=s(G*ie),te=l.BASE.multiplyAndAddUnsafe(F,Z,X)?.toAffine();return te?s(te.x)===G:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:P,sign:_,verify:A,ProjectivePoint:l,Signature:x,utils:M}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lW(t){return{hash:t,hmac:(e,...n)=>rT(t,e,_K(...n)),randomBytes:NK}}function cW(t,e){const n=r=>oW({...t,...lW(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),G8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),uW=BigInt(1),EE=BigInt(2),Y8=(t,e)=>(t+e/EE)/e;function dW(t){const e=dT,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),u=BigInt(88),l=t*t*t%e,h=l*l*t%e,p=Ea(h,n,e)*h%e,g=Ea(p,n,e)*h%e,v=Ea(g,EE,e)*l%e,y=Ea(v,i,e)*v%e,w=Ea(y,a,e)*y%e,C=Ea(w,s,e)*w%e,x=Ea(C,u,e)*C%e,M=Ea(x,s,e)*w%e,k=Ea(M,n,e)*h%e,z=Ea(k,o,e)*y%e,P=Ea(z,r,e)*l%e,K=Ea(P,EE,e);if(!SE.eql(SE.sqr(K),t))throw new Error("Cannot find square root");return K}const SE=QK(dT,void 0,void 0,{sqrt:dW}),fS=cW({a:BigInt(0),b:BigInt(7),Fp:SE,n:G8,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=G8,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-uW*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),s=Y8(a*t,e),u=Y8(-r*t,e);let l=ki(t-s*n-u*i,e),h=ki(-s*r-u*a,e);const p=l>o,g=h>o;if(p&&(l=e-l),g&&(h=e-h),l>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:l,k2neg:g,k2:h}}}},TK);BigInt(0);fS.ProjectivePoint;function J8(t,e=3,n=50,r="black",i=0,a=20,o="#0346ff"){const s=[];let u;for(u=0;u<e;u+=1)s.push(t(o).rotate((u+1)/e*-i).saturate((u+1)/e*(a/100)).mix(t(r),n/100*(u+1)/e).hex());return s}function fW(t,e){const n=J8(t,3,50,"black",0,20,e),r=J8(t,6,85,"white",0,20,e);return[...n.reverse(),e,...r]}function hW(t,e,n){if(n.primary){const r=fW(t,n.primary);e.style.setProperty("--app-primary-900",r[0]),e.style.setProperty("--app-primary-800",r[1]),e.style.setProperty("--app-primary-700",r[2]),e.style.setProperty("--app-primary-600",r[3]),e.style.setProperty("--app-primary-500",r[4]),e.style.setProperty("--app-primary-400",r[5]),e.style.setProperty("--app-primary-300",r[6]),e.style.setProperty("--app-primary-200",r[7]),e.style.setProperty("--app-primary-100",r[8]),e.style.setProperty("--app-primary-50",r[9])}n.onPrimary&&e.style.setProperty("--app-on-primary",n.onPrimary)}class pW extends xc{constructor({config:e={},state:n={}}){super(),Ne(this,"defaultConfig",{}),Ne(this,"defaultState",{}),Ne(this,"disabled",!1),Ne(this,"name","BaseController"),Ne(this,"initialConfig",void 0),Ne(this,"initialState",void 0),Ne(this,"internalConfig",this.defaultConfig),Ne(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,n=!1,r=!0){if(r){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,n=!1){this.internalState=we(n?{}:we({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const mW=()=>!0,gW=["newListener","removeListener"],vW=t=>!gW.includes(t);function yW(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function bW(t,e){let r={}.eventFilter||mW;if(typeof r=="string"&&r==="skipInternal"&&(r=vW),typeof r!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,a=s=>{if(i===s)return;const u=i;i=s,u.eventNames().filter(r).forEach(h=>{yW(u,h).forEach(p=>{s.on(h,p)})}),u.removeAllListeners()};return new Proxy({},{get:(s,u)=>u==="setTarget"?a:i[u],set:(s,u,l)=>u==="setTarget"?(a=l,!0):(i[u]=l,!0),has:(s,u)=>u[0]==="_"?!1:u in i})}const wW={BOTTOM_LEFT:"bottom-left"},Z8={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"};function xW(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}BigInt(0);const _E={},CE={};for(let t=0;t<16;t++){const e=t,n=t*16,r=t.toString(16).toLowerCase();CE[r]=e,CE[r.toUpperCase()]=e,_E[r]=n,_E[r.toUpperCase()]=n}function EW(t){const e=t.length,n=new Uint8Array(e/2);for(let r=0;r<e;r+=2)n[r/2]=_E[t[r]]+CE[t[r+1]];return n}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));for(let t=0;t<=256*256-1;t++)BigInt(t);const zy=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);const e=t.slice(2);return EW(e.length%2===0?e:xW(e))},SW=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},mp=t=>{const e=SW(t);return zy(e)};BigInt("0xffffffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");fS.CURVE.n;fS.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const _W="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";zy(_W);const CW="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";zy(CW);const NW="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";zy(NW);Uint8Array.from([128]);BigInt(-1);BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(7);BigInt(8);BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));var Q8;(function(t){t.String="string",t.Bytes="view",t.Number="number"})(Q8||(Q8={}));var X8;(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(X8||(X8={}));var ej;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(ej||(ej={}));var tj;(function(t){t[t.Deposit=0]="Deposit",t[t.Withdrawal=1]="Withdrawal",t[t.Consolidation=2]="Consolidation"})(tj||(tj={}));var _u;(function(t){t[t.Version=0]="Version",t[t.Balance=1]="Balance",t[t.Nonce=2]="Nonce",t[t.CodeHash=3]="CodeHash",t[t.CodeSize=4]="CodeSize"})(_u||(_u={}));mp(_u.Version);mp(_u.Balance);mp(_u.Nonce);mp(_u.CodeHash);mp(_u.CodeSize);BigInt(256)**BigInt(31);var AW=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,S3=Math.ceil,ja=Math.floor,Mi="[BigNumber Error] ",nj=Mi+"Number primitive has more than 15 significant digits: ",Za=1e14,Ft=14,_3=9007199254740991,C3=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Tl=1e7,Sr=1e9;function fT(t){var e,n,r,i=M.prototype={constructor:M,toString:null,valueOf:null},a=new M(1),o=20,s=4,u=-7,l=21,h=-1e7,p=1e7,g=!1,v=1,y=0,w={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},C="0123456789abcdefghijklmnopqrstuvwxyz",x=!0;function M(B,D){var $,T,b,_,A,N,O,U,j=this;if(!(j instanceof M))return new M(B,D);if(D==null){if(B&&B._isBigNumber===!0){j.s=B.s,!B.c||B.e>p?j.c=j.e=null:B.e<h?j.c=[j.e=0]:(j.e=B.e,j.c=B.c.slice());return}if((N=typeof B=="number")&&B*0==0){if(j.s=1/B<0?(B=-B,-1):1,B===~~B){for(_=0,A=B;A>=10;A/=10,_++);_>p?j.c=j.e=null:(j.e=_,j.c=[B]);return}U=String(B)}else{if(!AW.test(U=String(B)))return r(j,U,N);j.s=U.charCodeAt(0)==45?(U=U.slice(1),-1):1}(_=U.indexOf("."))>-1&&(U=U.replace(".","")),(A=U.search(/e/i))>0?(_<0&&(_=A),_+=+U.slice(A+1),U=U.substring(0,A)):_<0&&(_=U.length)}else{if(Wn(D,2,C.length,"Base"),D==10&&x)return j=new M(B),K(j,o+j.e+1,s);if(U=String(B),N=typeof B=="number"){if(B*0!=0)return r(j,U,N,D);if(j.s=1/B<0?(U=U.slice(1),-1):1,M.DEBUG&&U.replace(/^0\.0*|\./,"").length>15)throw Error(nj+B)}else j.s=U.charCodeAt(0)===45?(U=U.slice(1),-1):1;for($=C.slice(0,D),_=A=0,O=U.length;A<O;A++)if($.indexOf(T=U.charAt(A))<0){if(T=="."){if(A>_){_=O;continue}}else if(!b&&(U==U.toUpperCase()&&(U=U.toLowerCase())||U==U.toLowerCase()&&(U=U.toUpperCase()))){b=!0,A=-1,_=0;continue}return r(j,String(B),N,D)}N=!1,U=n(U,D,10,j.s),(_=U.indexOf("."))>-1?U=U.replace(".",""):_=U.length}for(A=0;U.charCodeAt(A)===48;A++);for(O=U.length;U.charCodeAt(--O)===48;);if(U=U.slice(A,++O)){if(O-=A,N&&M.DEBUG&&O>15&&(B>_3||B!==ja(B)))throw Error(nj+j.s*B);if((_=_-A-1)>p)j.c=j.e=null;else if(_<h)j.c=[j.e=0];else{if(j.e=_,j.c=[],A=(_+1)%Ft,_<0&&(A+=Ft),A<O){for(A&&j.c.push(+U.slice(0,A)),O-=Ft;A<O;)j.c.push(+U.slice(A,A+=Ft));A=Ft-(U=U.slice(A)).length}else A-=O;for(;A--;U+="0");j.c.push(+U)}}else j.c=[j.e=0]}M.clone=fT,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(B){var D,$;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(D="DECIMAL_PLACES")&&($=B[D],Wn($,0,Sr,D),o=$),B.hasOwnProperty(D="ROUNDING_MODE")&&($=B[D],Wn($,0,8,D),s=$),B.hasOwnProperty(D="EXPONENTIAL_AT")&&($=B[D],$&&$.pop?(Wn($[0],-Sr,0,D),Wn($[1],0,Sr,D),u=$[0],l=$[1]):(Wn($,-Sr,Sr,D),u=-(l=$<0?-$:$))),B.hasOwnProperty(D="RANGE"))if($=B[D],$&&$.pop)Wn($[0],-Sr,-1,D),Wn($[1],1,Sr,D),h=$[0],p=$[1];else if(Wn($,-Sr,Sr,D),$)h=-(p=$<0?-$:$);else throw Error(Mi+D+" cannot be zero: "+$);if(B.hasOwnProperty(D="CRYPTO"))if($=B[D],$===!!$)if($)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))g=$;else throw g=!$,Error(Mi+"crypto unavailable");else g=$;else throw Error(Mi+D+" not true or false: "+$);if(B.hasOwnProperty(D="MODULO_MODE")&&($=B[D],Wn($,0,9,D),v=$),B.hasOwnProperty(D="POW_PRECISION")&&($=B[D],Wn($,0,Sr,D),y=$),B.hasOwnProperty(D="FORMAT"))if($=B[D],typeof $=="object")w=$;else throw Error(Mi+D+" not an object: "+$);if(B.hasOwnProperty(D="ALPHABET"))if($=B[D],typeof $=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test($))x=$.slice(0,10)=="0123456789",C=$;else throw Error(Mi+D+" invalid: "+$)}else throw Error(Mi+"Object expected: "+B);return{DECIMAL_PLACES:o,ROUNDING_MODE:s,EXPONENTIAL_AT:[u,l],RANGE:[h,p],CRYPTO:g,MODULO_MODE:v,POW_PRECISION:y,FORMAT:w,ALPHABET:C}},M.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!M.DEBUG)return!0;var D,$,T=B.c,b=B.e,_=B.s;e:if({}.toString.call(T)=="[object Array]"){if((_===1||_===-1)&&b>=-Sr&&b<=Sr&&b===ja(b)){if(T[0]===0){if(b===0&&T.length===1)return!0;break e}if(D=(b+1)%Ft,D<1&&(D+=Ft),String(T[0]).length==D){for(D=0;D<T.length;D++)if($=T[D],$<0||$>=Za||$!==ja($))break e;if($!==0)return!0}}}else if(T===null&&b===null&&(_===null||_===1||_===-1))return!0;throw Error(Mi+"Invalid BigNumber: "+B)},M.maximum=M.max=function(){return z(arguments,-1)},M.minimum=M.min=function(){return z(arguments,1)},M.random=function(){var B=9007199254740992,D=Math.random()*B&2097151?function(){return ja(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function($){var T,b,_,A,N,O=0,U=[],j=new M(a);if($==null?$=o:Wn($,0,Sr),A=S3($/Ft),g)if(crypto.getRandomValues){for(T=crypto.getRandomValues(new Uint32Array(A*=2));O<A;)N=T[O]*131072+(T[O+1]>>>11),N>=9e15?(b=crypto.getRandomValues(new Uint32Array(2)),T[O]=b[0],T[O+1]=b[1]):(U.push(N%1e14),O+=2);O=A/2}else if(crypto.randomBytes){for(T=crypto.randomBytes(A*=7);O<A;)N=(T[O]&31)*281474976710656+T[O+1]*1099511627776+T[O+2]*4294967296+T[O+3]*16777216+(T[O+4]<<16)+(T[O+5]<<8)+T[O+6],N>=9e15?crypto.randomBytes(7).copy(T,O):(U.push(N%1e14),O+=7);O=A/7}else throw g=!1,Error(Mi+"crypto unavailable");if(!g)for(;O<A;)N=D(),N<9e15&&(U[O++]=N%1e14);for(A=U[--O],$%=Ft,A&&$&&(N=C3[Ft-$],U[O]=ja(A/N)*N);U[O]===0;U.pop(),O--);if(O<0)U=[_=0];else{for(_=-1;U[0]===0;U.splice(0,1),_-=Ft);for(O=1,N=U[0];N>=10;N/=10,O++);O<Ft&&(_-=Ft-O)}return j.e=_,j.c=U,j}}(),M.sum=function(){for(var B=1,D=arguments,$=new M(D[0]);B<D.length;)$=$.plus(D[B++]);return $},n=function(){var B="0123456789";function D($,T,b,_){for(var A,N=[0],O,U=0,j=$.length;U<j;){for(O=N.length;O--;N[O]*=T);for(N[0]+=_.indexOf($.charAt(U++)),A=0;A<N.length;A++)N[A]>b-1&&(N[A+1]==null&&(N[A+1]=0),N[A+1]+=N[A]/b|0,N[A]%=b)}return N.reverse()}return function($,T,b,_,A){var N,O,U,j,I,E,L,q,F=$.indexOf("."),G=o,Y=s;for(F>=0&&(j=y,y=0,$=$.replace(".",""),q=new M(T),E=q.pow($.length-F),y=j,q.c=D(go(Sa(E.c),E.e,"0"),10,b,B),q.e=q.c.length),L=D($,T,b,A?(N=C,B):(N=B,C)),U=j=L.length;L[--j]==0;L.pop());if(!L[0])return N.charAt(0);if(F<0?--U:(E.c=L,E.e=U,E.s=_,E=e(E,q,G,Y,b),L=E.c,I=E.r,U=E.e),O=U+G+1,F=L[O],j=b/2,I=I||O<0||L[O+1]!=null,I=Y<4?(F!=null||I)&&(Y==0||Y==(E.s<0?3:2)):F>j||F==j&&(Y==4||I||Y==6&&L[O-1]&1||Y==(E.s<0?8:7)),O<1||!L[0])$=I?go(N.charAt(1),-G,N.charAt(0)):N.charAt(0);else{if(L.length=O,I)for(--b;++L[--O]>b;)L[O]=0,O||(++U,L=[1].concat(L));for(j=L.length;!L[--j];);for(F=0,$="";F<=j;$+=N.charAt(L[F++]));$=go($,U,N.charAt(0))}return $}}(),e=function(){function B(T,b,_){var A,N,O,U,j=0,I=T.length,E=b%Tl,L=b/Tl|0;for(T=T.slice();I--;)O=T[I]%Tl,U=T[I]/Tl|0,A=L*O+U*E,N=E*O+A%Tl*Tl+j,j=(N/_|0)+(A/Tl|0)+L*U,T[I]=N%_;return j&&(T=[j].concat(T)),T}function D(T,b,_,A){var N,O;if(_!=A)O=_>A?1:-1;else for(N=O=0;N<_;N++)if(T[N]!=b[N]){O=T[N]>b[N]?1:-1;break}return O}function $(T,b,_,A){for(var N=0;_--;)T[_]-=N,N=T[_]<b[_]?1:0,T[_]=N*A+T[_]-b[_];for(;!T[0]&&T.length>1;T.splice(0,1));}return function(T,b,_,A,N){var O,U,j,I,E,L,q,F,G,Y,Q,ie,Z,X,te,ae,oe,ee=T.s==b.s?1:-1,le=T.c,he=b.c;if(!le||!le[0]||!he||!he[0])return new M(!T.s||!b.s||(le?he&&le[0]==he[0]:!he)?NaN:le&&le[0]==0||!he?ee*0:ee/0);for(F=new M(ee),G=F.c=[],U=T.e-b.e,ee=_+U+1,N||(N=Za,U=Ma(T.e/Ft)-Ma(b.e/Ft),ee=ee/Ft|0),j=0;he[j]==(le[j]||0);j++);if(he[j]>(le[j]||0)&&U--,ee<0)G.push(1),I=!0;else{for(X=le.length,ae=he.length,j=0,ee+=2,E=ja(N/(he[0]+1)),E>1&&(he=B(he,E,N),le=B(le,E,N),ae=he.length,X=le.length),Z=ae,Y=le.slice(0,ae),Q=Y.length;Q<ae;Y[Q++]=0);oe=he.slice(),oe=[0].concat(oe),te=he[0],he[1]>=N/2&&te++;do{if(E=0,O=D(he,Y,ae,Q),O<0){if(ie=Y[0],ae!=Q&&(ie=ie*N+(Y[1]||0)),E=ja(ie/te),E>1)for(E>=N&&(E=N-1),L=B(he,E,N),q=L.length,Q=Y.length;D(L,Y,q,Q)==1;)E--,$(L,ae<q?oe:he,q,N),q=L.length,O=1;else E==0&&(O=E=1),L=he.slice(),q=L.length;if(q<Q&&(L=[0].concat(L)),$(Y,L,Q,N),Q=Y.length,O==-1)for(;D(he,Y,ae,Q)<1;)E++,$(Y,ae<Q?oe:he,Q,N),Q=Y.length}else O===0&&(E++,Y=[0]);G[j++]=E,Y[0]?Y[Q++]=le[Z]||0:(Y=[le[Z]],Q=1)}while((Z++<X||Y[0]!=null)&&ee--);I=Y[0]!=null,G[0]||G.splice(0,1)}if(N==Za){for(j=1,ee=G[0];ee>=10;ee/=10,j++);K(F,_+(F.e=j+U*Ft-1)+1,A,I)}else F.e=U,F.r=+I;return F}}();function k(B,D,$,T){var b,_,A,N,O;if($==null?$=s:Wn($,0,8),!B.c)return B.toString();if(b=B.c[0],A=B.e,D==null)O=Sa(B.c),O=T==1||T==2&&(A<=u||A>=l)?Xm(O,A):go(O,A,"0");else if(B=K(new M(B),D,$),_=B.e,O=Sa(B.c),N=O.length,T==1||T==2&&(D<=_||_<=u)){for(;N<D;O+="0",N++);O=Xm(O,_)}else if(D-=A+(T===2&&_>A),O=go(O,_,"0"),_+1>N){if(--D>0)for(O+=".";D--;O+="0");}else if(D+=_-N,D>0)for(_+1==N&&(O+=".");D--;O+="0");return B.s<0&&b?"-"+O:O}function z(B,D){for(var $,T,b=1,_=new M(B[0]);b<B.length;b++)T=new M(B[b]),(!T.s||($=Hc(_,T))===D||$===0&&_.s===D)&&(_=T);return _}function P(B,D,$){for(var T=1,b=D.length;!D[--b];D.pop());for(b=D[0];b>=10;b/=10,T++);return($=T+$*Ft-1)>p?B.c=B.e=null:$<h?B.c=[B.e=0]:(B.e=$,B.c=D),B}r=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,D=/^([^.]+)\.$/,$=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(_,A,N,O){var U,j=N?A:A.replace(b,"");if(T.test(j))_.s=isNaN(j)?null:j<0?-1:1;else{if(!N&&(j=j.replace(B,function(I,E,L){return U=(L=L.toLowerCase())=="x"?16:L=="b"?2:8,!O||O==U?E:I}),O&&(U=O,j=j.replace(D,"$1").replace($,"0.$1")),A!=j))return new M(j,U);if(M.DEBUG)throw Error(Mi+"Not a"+(O?" base "+O:"")+" number: "+A);_.s=null}_.c=_.e=null}}();function K(B,D,$,T){var b,_,A,N,O,U,j,I=B.c,E=C3;if(I){e:{for(b=1,N=I[0];N>=10;N/=10,b++);if(_=D-b,_<0)_+=Ft,A=D,O=I[U=0],j=ja(O/E[b-A-1]%10);else if(U=S3((_+1)/Ft),U>=I.length)if(T){for(;I.length<=U;I.push(0));O=j=0,b=1,_%=Ft,A=_-Ft+1}else break e;else{for(O=N=I[U],b=1;N>=10;N/=10,b++);_%=Ft,A=_-Ft+b,j=A<0?0:ja(O/E[b-A-1]%10)}if(T=T||D<0||I[U+1]!=null||(A<0?O:O%E[b-A-1]),T=$<4?(j||T)&&($==0||$==(B.s<0?3:2)):j>5||j==5&&($==4||T||$==6&&(_>0?A>0?O/E[b-A]:0:I[U-1])%10&1||$==(B.s<0?8:7)),D<1||!I[0])return I.length=0,T?(D-=B.e+1,I[0]=E[(Ft-D%Ft)%Ft],B.e=-D||0):I[0]=B.e=0,B;if(_==0?(I.length=U,N=1,U--):(I.length=U+1,N=E[Ft-_],I[U]=A>0?ja(O/E[b-A]%E[A])*N:0),T)for(;;)if(U==0){for(_=1,A=I[0];A>=10;A/=10,_++);for(A=I[0]+=N,N=1;A>=10;A/=10,N++);_!=N&&(B.e++,I[0]==Za&&(I[0]=1));break}else{if(I[U]+=N,I[U]!=Za)break;I[U--]=0,N=1}for(_=I.length;I[--_]===0;I.pop());}B.e>p?B.c=B.e=null:B.e<h&&(B.c=[B.e=0])}return B}function W(B){var D,$=B.e;return $===null?B.toString():(D=Sa(B.c),D=$<=u||$>=l?Xm(D,$):go(D,$,"0"),B.s<0?"-"+D:D)}return i.absoluteValue=i.abs=function(){var B=new M(this);return B.s<0&&(B.s=1),B},i.comparedTo=function(B,D){return Hc(this,new M(B,D))},i.decimalPlaces=i.dp=function(B,D){var $,T,b,_=this;if(B!=null)return Wn(B,0,Sr),D==null?D=s:Wn(D,0,8),K(new M(_),B+_.e+1,D);if(!($=_.c))return null;if(T=((b=$.length-1)-Ma(this.e/Ft))*Ft,b=$[b])for(;b%10==0;b/=10,T--);return T<0&&(T=0),T},i.dividedBy=i.div=function(B,D){return e(this,new M(B,D),o,s)},i.dividedToIntegerBy=i.idiv=function(B,D){return e(this,new M(B,D),0,1)},i.exponentiatedBy=i.pow=function(B,D){var $,T,b,_,A,N,O,U,j,I=this;if(B=new M(B),B.c&&!B.isInteger())throw Error(Mi+"Exponent not an integer: "+W(B));if(D!=null&&(D=new M(D)),N=B.e>14,!I.c||!I.c[0]||I.c[0]==1&&!I.e&&I.c.length==1||!B.c||!B.c[0])return j=new M(Math.pow(+W(I),N?B.s*(2-Qm(B)):+W(B))),D?j.mod(D):j;if(O=B.s<0,D){if(D.c?!D.c[0]:!D.s)return new M(NaN);T=!O&&I.isInteger()&&D.isInteger(),T&&(I=I.mod(D))}else{if(B.e>9&&(I.e>0||I.e<-1||(I.e==0?I.c[0]>1||N&&I.c[1]>=24e7:I.c[0]<8e13||N&&I.c[0]<=9999975e7)))return _=I.s<0&&Qm(B)?-0:0,I.e>-1&&(_=1/_),new M(O?1/_:_);y&&(_=S3(y/Ft+2))}for(N?($=new M(.5),O&&(B.s=1),U=Qm(B)):(b=Math.abs(+W(B)),U=b%2),j=new M(a);;){if(U){if(j=j.times(I),!j.c)break;_?j.c.length>_&&(j.c.length=_):T&&(j=j.mod(D))}if(b){if(b=ja(b/2),b===0)break;U=b%2}else if(B=B.times($),K(B,B.e+1,1),B.e>14)U=Qm(B);else{if(b=+W(B),b===0)break;U=b%2}I=I.times(I),_?I.c&&I.c.length>_&&(I.c.length=_):T&&(I=I.mod(D))}return T?j:(O&&(j=a.div(j)),D?j.mod(D):_?K(j,y,s,A):j)},i.integerValue=function(B){var D=new M(this);return B==null?B=s:Wn(B,0,8),K(D,D.e+1,B)},i.isEqualTo=i.eq=function(B,D){return Hc(this,new M(B,D))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(B,D){return Hc(this,new M(B,D))>0},i.isGreaterThanOrEqualTo=i.gte=function(B,D){return(D=Hc(this,new M(B,D)))===1||D===0},i.isInteger=function(){return!!this.c&&Ma(this.e/Ft)>this.c.length-2},i.isLessThan=i.lt=function(B,D){return Hc(this,new M(B,D))<0},i.isLessThanOrEqualTo=i.lte=function(B,D){return(D=Hc(this,new M(B,D)))===-1||D===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(B,D){var $,T,b,_,A=this,N=A.s;if(B=new M(B,D),D=B.s,!N||!D)return new M(NaN);if(N!=D)return B.s=-D,A.plus(B);var O=A.e/Ft,U=B.e/Ft,j=A.c,I=B.c;if(!O||!U){if(!j||!I)return j?(B.s=-D,B):new M(I?A:NaN);if(!j[0]||!I[0])return I[0]?(B.s=-D,B):new M(j[0]?A:s==3?-0:0)}if(O=Ma(O),U=Ma(U),j=j.slice(),N=O-U){for((_=N<0)?(N=-N,b=j):(U=O,b=I),b.reverse(),D=N;D--;b.push(0));b.reverse()}else for(T=(_=(N=j.length)<(D=I.length))?N:D,N=D=0;D<T;D++)if(j[D]!=I[D]){_=j[D]<I[D];break}if(_&&(b=j,j=I,I=b,B.s=-B.s),D=(T=I.length)-($=j.length),D>0)for(;D--;j[$++]=0);for(D=Za-1;T>N;){if(j[--T]<I[T]){for($=T;$&&!j[--$];j[$]=D);--j[$],j[T]+=Za}j[T]-=I[T]}for(;j[0]==0;j.splice(0,1),--U);return j[0]?P(B,j,U):(B.s=s==3?-1:1,B.c=[B.e=0],B)},i.modulo=i.mod=function(B,D){var $,T,b=this;return B=new M(B,D),!b.c||!B.s||B.c&&!B.c[0]?new M(NaN):!B.c||b.c&&!b.c[0]?new M(b):(v==9?(T=B.s,B.s=1,$=e(b,B,0,3),B.s=T,$.s*=T):$=e(b,B,0,v),B=b.minus($.times(B)),!B.c[0]&&v==1&&(B.s=b.s),B)},i.multipliedBy=i.times=function(B,D){var $,T,b,_,A,N,O,U,j,I,E,L,q,F,G,Y=this,Q=Y.c,ie=(B=new M(B,D)).c;if(!Q||!ie||!Q[0]||!ie[0])return!Y.s||!B.s||Q&&!Q[0]&&!ie||ie&&!ie[0]&&!Q?B.c=B.e=B.s=null:(B.s*=Y.s,!Q||!ie?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(T=Ma(Y.e/Ft)+Ma(B.e/Ft),B.s*=Y.s,O=Q.length,I=ie.length,O<I&&(q=Q,Q=ie,ie=q,b=O,O=I,I=b),b=O+I,q=[];b--;q.push(0));for(F=Za,G=Tl,b=I;--b>=0;){for($=0,E=ie[b]%G,L=ie[b]/G|0,A=O,_=b+A;_>b;)U=Q[--A]%G,j=Q[A]/G|0,N=L*U+j*E,U=E*U+N%G*G+q[_]+$,$=(U/F|0)+(N/G|0)+L*j,q[_--]=U%F;q[_]=$}return $?++T:q.splice(0,1),P(B,q,T)},i.negated=function(){var B=new M(this);return B.s=-B.s||null,B},i.plus=function(B,D){var $,T=this,b=T.s;if(B=new M(B,D),D=B.s,!b||!D)return new M(NaN);if(b!=D)return B.s=-D,T.minus(B);var _=T.e/Ft,A=B.e/Ft,N=T.c,O=B.c;if(!_||!A){if(!N||!O)return new M(b/0);if(!N[0]||!O[0])return O[0]?B:new M(N[0]?T:b*0)}if(_=Ma(_),A=Ma(A),N=N.slice(),b=_-A){for(b>0?(A=_,$=O):(b=-b,$=N),$.reverse();b--;$.push(0));$.reverse()}for(b=N.length,D=O.length,b-D<0&&($=O,O=N,N=$,D=b),b=0;D;)b=(N[--D]=N[D]+O[D]+b)/Za|0,N[D]=Za===N[D]?0:N[D]%Za;return b&&(N=[b].concat(N),++A),P(B,N,A)},i.precision=i.sd=function(B,D){var $,T,b,_=this;if(B!=null&&B!==!!B)return Wn(B,1,Sr),D==null?D=s:Wn(D,0,8),K(new M(_),B,D);if(!($=_.c))return null;if(b=$.length-1,T=b*Ft+1,b=$[b]){for(;b%10==0;b/=10,T--);for(b=$[0];b>=10;b/=10,T++);}return B&&_.e+1>T&&(T=_.e+1),T},i.shiftedBy=function(B){return Wn(B,-_3,_3),this.times("1e"+B)},i.squareRoot=i.sqrt=function(){var B,D,$,T,b,_=this,A=_.c,N=_.s,O=_.e,U=o+4,j=new M("0.5");if(N!==1||!A||!A[0])return new M(!N||N<0&&(!A||A[0])?NaN:A?_:1/0);if(N=Math.sqrt(+W(_)),N==0||N==1/0?(D=Sa(A),(D.length+O)%2==0&&(D+="0"),N=Math.sqrt(+D),O=Ma((O+1)/2)-(O<0||O%2),N==1/0?D="5e"+O:(D=N.toExponential(),D=D.slice(0,D.indexOf("e")+1)+O),$=new M(D)):$=new M(N+""),$.c[0]){for(O=$.e,N=O+U,N<3&&(N=0);;)if(b=$,$=j.times(b.plus(e(_,b,U,1))),Sa(b.c).slice(0,N)===(D=Sa($.c)).slice(0,N))if($.e<O&&--N,D=D.slice(N-3,N+1),D=="9999"||!T&&D=="4999"){if(!T&&(K(b,b.e+o+2,0),b.times(b).eq(_))){$=b;break}U+=4,N+=4,T=1}else{(!+D||!+D.slice(1)&&D.charAt(0)=="5")&&(K($,$.e+o+2,1),B=!$.times($).eq(_));break}}return K($,$.e+o+1,s,B)},i.toExponential=function(B,D){return B!=null&&(Wn(B,0,Sr),B++),k(this,B,D,1)},i.toFixed=function(B,D){return B!=null&&(Wn(B,0,Sr),B=B+this.e+1),k(this,B,D)},i.toFormat=function(B,D,$){var T,b=this;if($==null)B!=null&&D&&typeof D=="object"?($=D,D=null):B&&typeof B=="object"?($=B,B=D=null):$=w;else if(typeof $!="object")throw Error(Mi+"Argument not an object: "+$);if(T=b.toFixed(B,D),b.c){var _,A=T.split("."),N=+$.groupSize,O=+$.secondaryGroupSize,U=$.groupSeparator||"",j=A[0],I=A[1],E=b.s<0,L=E?j.slice(1):j,q=L.length;if(O&&(_=N,N=O,O=_,q-=_),N>0&&q>0){for(_=q%N||N,j=L.substr(0,_);_<q;_+=N)j+=U+L.substr(_,N);O>0&&(j+=U+L.slice(_)),E&&(j="-"+j)}T=I?j+($.decimalSeparator||"")+((O=+$.fractionGroupSize)?I.replace(new RegExp("\\d{"+O+"}\\B","g"),"$&"+($.fractionGroupSeparator||"")):I):j}return($.prefix||"")+T+($.suffix||"")},i.toFraction=function(B){var D,$,T,b,_,A,N,O,U,j,I,E,L=this,q=L.c;if(B!=null&&(N=new M(B),!N.isInteger()&&(N.c||N.s!==1)||N.lt(a)))throw Error(Mi+"Argument "+(N.isInteger()?"out of range: ":"not an integer: ")+W(N));if(!q)return new M(L);for(D=new M(a),U=$=new M(a),T=O=new M(a),E=Sa(q),_=D.e=E.length-L.e-1,D.c[0]=C3[(A=_%Ft)<0?Ft+A:A],B=!B||N.comparedTo(D)>0?_>0?D:U:N,A=p,p=1/0,N=new M(E),O.c[0]=0;j=e(N,D,0,1),b=$.plus(j.times(T)),b.comparedTo(B)!=1;)$=T,T=b,U=O.plus(j.times(b=U)),O=b,D=N.minus(j.times(b=D)),N=b;return b=e(B.minus($),T,0,1),O=O.plus(b.times(U)),$=$.plus(b.times(T)),O.s=U.s=L.s,_=_*2,I=e(U,T,_,s).minus(L).abs().comparedTo(e(O,$,_,s).minus(L).abs())<1?[U,T]:[O,$],p=A,I},i.toNumber=function(){return+W(this)},i.toPrecision=function(B,D){return B!=null&&Wn(B,1,Sr),k(this,B,D,2)},i.toString=function(B){var D,$=this,T=$.s,b=$.e;return b===null?T?(D="Infinity",T<0&&(D="-"+D)):D="NaN":(B==null?D=b<=u||b>=l?Xm(Sa($.c),b):go(Sa($.c),b,"0"):B===10&&x?($=K(new M($),o+b+1,s),D=go(Sa($.c),$.e,"0")):(Wn(B,2,C.length,"Base"),D=n(go(Sa($.c),b,"0"),10,B,T,!0)),T<0&&$.c[0]&&(D="-"+D)),D},i.valueOf=i.toJSON=function(){return W(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&M.set(t),M}function Ma(t){var e=t|0;return t>0||t===e?e:e-1}function Sa(t){for(var e,n,r=1,i=t.length,a=t[0]+"";r<i;){for(e=t[r++]+"",n=Ft-e.length;n--;e="0"+e);a+=e}for(i=a.length;a.charCodeAt(--i)===48;);return a.slice(0,i+1||1)}function Hc(t,e){var n,r,i=t.c,a=e.c,o=t.s,s=e.s,u=t.e,l=e.e;if(!o||!s)return null;if(n=i&&!i[0],r=a&&!a[0],n||r)return n?r?0:-s:o;if(o!=s)return o;if(n=o<0,r=u==l,!i||!a)return r?0:!i^n?1:-1;if(!r)return u>l^n?1:-1;for(s=(u=i.length)<(l=a.length)?u:l,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^n?1:-1;return u==l?0:u>l^n?1:-1}function Wn(t,e,n,r){if(t<e||t>n||t!==ja(t))throw Error(Mi+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Qm(t){var e=t.c.length-1;return Ma(t.e/Ft)==e&&t.c[e]%2!=0}function Xm(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function go(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}fT();const jW={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},rj={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},ij={INTERNAL:"internal",NETWORK:"network"},MW={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},qt={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},Ule=()=>Math.random().toString(36).slice(2);function $le({width:t,height:e}){const n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=1,s=Math.abs((i-t)/2/o+n),u=Math.abs((a-e)/2/o+r);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${e/o},width=${t/o},top=${u},left=${s}`}const OW=t=>{try{const e=t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},kW=t=>{try{return new URL(t).hostname}catch{return""}},IW=t=>{if(t)return t.chainNamespace===qt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===qt.SOLANA?`${t.chainNamespace}:${MW[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`},TW=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function RW(t){switch(t.status){case 405:throw $o.methodNotFound();case 418:throw $o.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw $o.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function PW(t){return new Promise(e=>{setTimeout(e,t)})}function LW(t,e){if(t.status!==200)throw $o.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var n;throw $o.internal({data:e.error,message:(n=e.error)===null||n===void 0?void 0:n.message})}return e.result}function DW({req:t,rpcTarget:e,originHttpHeaderKey:n}){const r=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},a=t.origin,o=JSON.stringify(i),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o};return n&&a&&(s.headers[n]=a),{fetchUrl:r.href,fetchParams:s}}function BW({rpcTarget:t,originHttpHeaderKey:e,analytics:n,providerConfig:r}){return vK(async(i,a,o)=>{const{fetchUrl:s,fetchParams:u}=DW({req:i,rpcTarget:t,originHttpHeaderKey:e}),l=5,h=1e3,p=Date.now(),g=!Object.values(jW).includes(i.method),v={chain_id:IW(r),chain_rpc_target:kW(s),method:i.method};for(let y=0;y<l;y++){try{const w=await fetch(s,u);RW(w);const C=await w.json(),x=LW(w,C);a.result=x,g||n?.track(rj.JRPC_REQUEST_COMPLETED,we(we({request_type:ij.NETWORK},v),{},{duration:Date.now()-p}));return}catch(w){const C=(w.message||w).toString();if(!TW.some(M=>C.includes(M)))throw g||n?.track(rj.JRPC_REQUEST_FAILED,we(we({request_type:ij.NETWORK},v),{},{error_code:w?.code,error_message:C,duration:Date.now()-p})),await Q4(w)}await PW(h)}})}function du(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}}class qh extends Error{}qh.prototype.name="InvalidTokenError";function UW(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function $W(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return UW(e)}catch{return atob(e)}}function FW(t,e){if(typeof t!="string")throw new qh("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new qh(`Invalid token specified: missing part #${n+1}`);let i;try{i=$W(r)}catch(a){throw new qh(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new qh(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}const hT="https://authjs.web3auth.io",qW=async(t,e)=>{const a={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},o=await Eu(`${hT}/siww/get`,a);if(!o.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return o.challenge},zW=async(t,e,n,r,i,a,o,s,u)=>{var l;const p=we({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:typeof window<"u"&&((l=window.location)===null||l===void 0?void 0:l.hostname)||"com://reactnative",timeout:i},{}),g=await Eu(`${hT}/siww/verify`,p,{headers:{client_id:a,wallet_provider:r,web3auth_network:o}});if(!g.success)throw Qo.error("Failed to authenticate user, ,message verification failed",g.error),new Error("Failed to authenticate user, ,message verification failed");return g.token},HW={ALL:"all"},Dd={MODAL:"modal",EMBED:"embed"},aj="Web3Auth-state",v0={MODAL:"modal",NO_MODAL:"no-modal"},KW={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"};function WW(t,e){return JSON.parse(t,(n,r)=>{var i,a,o;let s=r;return((i=s)===null||i===void 0?void 0:i.__type)==="bigint"&&(s=BigInt(s.value)),((a=s)===null||a===void 0?void 0:a.__type)==="Map"&&(s=new Map(s.value)),(o=void 0)!==null&&o!==void 0?o:s})}const VW=t=>({getItem(e){if(typeof window>"u")return null;const n=GW(document.cookie,e);return n??null},setItem(e,n){if(typeof window>"u")return;let r=`${e}=${n};path=/;samesite=Lax`;t!=null&&t.expiry&&typeof t.expiry=="number"&&(r+=`; expires=${new Date(Date.now()+t.expiry).toUTCString()}`),r+="; secure",document.cookie=r},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1;path=/`)}});function GW(t,e){const n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}var NE=function(t,e){return NE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},NE(t,e)};function Fi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var it=function(){return it=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},it.apply(this,arguments)};function pT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xt(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?a(h.value):i(h.value).then(s,u)}l((r=r.apply(t,e||[])).next())})}function Et(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(h){return u([l,h])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(h){l=[6,h],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function pr(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function AE(t,e,n){e.split&&(e=e.split("."));for(var r=0,i=e.length,a=t,o,s;r<i&&(s=""+e[r++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)a=a[s]=r===i?n:typeof(o=a[s])==typeof e?o:e[r]*0!==0||~(""+e[r]).indexOf(".")?{}:[]}var YW=function(t,e){return Object.keys(t).filter(function(n){return e(n,t[n])}).reduce(function(n,r){return n[r]=t[r],n},{})},Cu=function(t){Fi(e,t);function e(n,r){var i=t.call(this,"".concat(n," ").concat(r))||this;return i.field=n,i}return e}(Error);function mc(t){return typeof t=="string"}function jE(t){return typeof t=="number"}function Yd(t){return typeof t=="function"}function JW(t){return t!=null}function ss(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var hS="is not a string",pS="is not an object",ZW="is nil";function QW(t){if(!JW(t))throw new Cu("Event",ZW);if(typeof t!="object")throw new Cu("Event",pS)}function XW(t){if(!mc(t.type))throw new Cu(".type",hS)}function eV(t){if(!mc(t.event))throw new Cu(".event",hS)}function tV(t){if(!ss(t.properties))throw new Cu(".properties",pS)}function nV(t){if(!ss(t.traits))throw new Cu(".traits",pS)}function rV(t){if(!mc(t.messageId))throw new Cu(".messageId",hS)}function iV(t){QW(t),XW(t),rV(t),t.type==="track"&&(eV(t),tV(t)),["group","identify"].includes(t.type)&&nV(t)}var aV=function(){function t(e){var n,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(n=e.onEventMethodCall)!==null&&n!==void 0?n:function(){},this.onFinishedEvent=(r=e.onFinishedEvent)!==null&&r!==void 0?r:function(){}}return t}(),sV=function(){function t(e){this.settings=new aV(e)}return t.prototype.track=function(e,n,r,i){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize(it(it({},this.baseEvent()),{event:e,type:"track",properties:n??{},options:it({},r),integrations:it({},i)}))},t.prototype.page=function(e,n,r,i,a){var o;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:it({},r),options:it({},i),integrations:it({},a)};return e!==null&&(s.category=e,s.properties=(o=s.properties)!==null&&o!==void 0?o:{},s.properties.category=e),n!==null&&(s.name=n),this.normalize(it(it({},this.baseEvent()),s))},t.prototype.screen=function(e,n,r,i,a){this.settings.onEventMethodCall({type:"screen",options:i});var o={type:"screen",properties:it({},r),options:it({},i),integrations:it({},a)};return e!==null&&(o.category=e),n!==null&&(o.name=n),this.normalize(it(it({},this.baseEvent()),o))},t.prototype.identify=function(e,n,r,i){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize(it(it({},this.baseEvent()),{type:"identify",userId:e,traits:n??{},options:it({},r),integrations:i}))},t.prototype.group=function(e,n,r,i){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize(it(it({},this.baseEvent()),{type:"group",traits:n??{},options:it({},r),integrations:it({},i),groupId:e}))},t.prototype.alias=function(e,n,r,i){this.settings.onEventMethodCall({type:"alias",options:r});var a={userId:e,type:"alias",options:it({},r),integrations:it({},i)};return n!==null&&(a.previousId=n),e===void 0?this.normalize(it(it({},a),this.baseEvent())):this.normalize(it(it({},this.baseEvent()),a))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var n,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),a=(n=e.context)!==null&&n!==void 0?n:{},o={};return i.forEach(function(s){s!=="context"&&(r.includes(s)?AE(o,s,e[s]):AE(a,s,e[s]))}),[a,o]},t.prototype.normalize=function(e){var n,r,i=Object.keys((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(g,v){var y,w;return it(it({},g),(y={},y[v]=!!(!((w=e.integrations)===null||w===void 0)&&w[v]),y))},{});e.options=YW(e.options||{},function(g,v){return v!==void 0});var a=it(it({},i),(r=e.options)===null||r===void 0?void 0:r.integrations),o=e.options?this.context(e.options):[],s=o[0],u=o[1],l=e.options,h=pT(e,["options"]),p=it(it(it(it({timestamp:new Date},h),{context:s,integrations:a}),u),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(p),iV(p),p},t}();function oV(t,e){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},e);t.then(function(a){return clearTimeout(i),n(a)}).catch(r)})}function lV(t){return new Promise(function(e){return setTimeout(e,t)})}function cV(t,e,n){var r=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return lV(n).then(function(){return oV(r(),1e3)}).catch(function(i){t?.log("warn","Callback Error",{error:i}),t?.stats.increment("callback_error")}).then(function(){return t})}var mT=function(){var t,e,n=!1,r=new Promise(function(i,a){t=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];n=!0,i.apply(void 0,o)},e=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];n=!0,a.apply(void 0,o)}});return{resolve:t,reject:e,promise:r,isSettled:function(){return n}}},mS=function(){function t(e){var n;this.callbacks={},this.warned=!1,this.maxListeners=(n=e?.maxListeners)!==null&&n!==void 0?n:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,n){return this.callbacks[e]?(this.callbacks[e].push(n),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[n],this},t.prototype.once=function(e,n){var r=this,i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];r.off(e,i),n.apply(r,a)};return this.on(e,i),this},t.prototype.off=function(e,n){var r,i=(r=this.callbacks[e])!==null&&r!==void 0?r:[],a=i.filter(function(o){return o!==n});return this.callbacks[e]=a,this},t.prototype.emit=function(e){for(var n=this,r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=(r=this.callbacks[e])!==null&&r!==void 0?r:[];return o.forEach(function(s){s.apply(n,i)}),this},t}();function uV(t){var e=Math.random()+1,n=t.minTimeout,r=n===void 0?500:n,i=t.factor,a=i===void 0?2:i,o=t.attempt,s=t.maxTimeout,u=s===void 0?1/0:s;return Math.min(e*r*Math.pow(a,o),u)}var gT="onRemoveFromFuture",gS=function(t){Fi(e,t);function e(n,r,i){var a=t.call(this)||this;return a.future=[],a.maxAttempts=n,a.queue=r,a.seen=i??{},a}return e.prototype.push=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=r.map(function(o){var s=n.updateAttempts(o);return s>n.maxAttempts||n.includes(o)?!1:(n.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,s){return n.getAttempts(o)-n.getAttempts(s)}),a},e.prototype.pushWithBackoff=function(n,r){var i=this;if(r===void 0&&(r=0),r==0&&this.getAttempts(n)===0)return this.push(n)[0];var a=this.updateAttempts(n);if(a>this.maxAttempts||this.includes(n))return!1;var o=uV({attempt:a-1});return r>0&&o<r&&(o=r),setTimeout(function(){i.queue.push(n),i.future=i.future.filter(function(s){return s.id!==n.id}),i.emit(gT)},o),this.future.push(n),!0},e.prototype.getAttempts=function(n){var r;return(r=this.seen[n.id])!==null&&r!==void 0?r:0},e.prototype.updateAttempts=function(n){return this.seen[n.id]=this.getAttempts(n)+1,this.getAttempts(n)},e.prototype.includes=function(n){return this.queue.includes(n)||this.future.includes(n)||!!this.queue.find(function(r){return r.id===n.id})||!!this.future.find(function(r){return r.id===n.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(mS),fu=256,iv=[],eg;for(;fu--;)iv[fu]=(fu+256).toString(16).substring(1);function vS(){var t=0,e,n="";if(!eg||fu+16>256){for(eg=Array(t=256);t--;)eg[t]=256*Math.random()|0;t=fu=0}for(;t<16;t++)e=eg[fu+t],t==6?n+=iv[e&15|64]:t==8?n+=iv[e&63|128]:n+=iv[e],t&1&&t>1&&t<11&&(n+="-");return fu++,n}var dV=function(){function t(){this._logs=[]}return t.prototype.log=function(e,n,r){var i=new Date;this._logs.push({level:e,message:n,time:i,extras:r})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(n,r){var i,a,o,s=it(it({},r),{json:JSON.stringify(r.extras,null," "),extras:r.extras});delete s.time;var u=(o=(a=r.time)===null||a===void 0?void 0:a.toISOString())!==null&&o!==void 0?o:"";return n[u]&&(u="".concat(u,"-").concat(Math.random())),it(it({},n),(i={},i[u]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(n){var r=n.level,i=n.message,a=n.extras;r==="info"||r==="debug"?console.log(i,a??""):console[r](i,a??"")});this._logs=[]},t}(),fV=function(t){var e={gauge:"g",counter:"c"};return e[t]},vT=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,n,r){n===void 0&&(n=1),this.metrics.push({metric:e,value:n,tags:r??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,n,r){this.metrics.push({metric:e,value:n,tags:r??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(n){return it(it({},n),{tags:n.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:fV(e.type),e:e.timestamp}})},t}(),hV=function(t){Fi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(vT),sf=function(){function t(e){var n,r,i;this.retry=(n=e.retry)!==null&&n!==void 0?n:!0,this.type=(r=e.type)!==null&&r!==void 0?r:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),Iv=function(){function t(e,n,r,i){n===void 0&&(n=vS()),r===void 0&&(r=new hV),i===void 0&&(i=new dV),this.attempts=0,this.event=e,this._id=n,this.logger=i,this.stats=r}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new sf({reason:"Context Cancel"})},t.prototype.log=function(e,n,r){this.logger.log(e,n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,n){var r;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((r=this.event.integrations)===null||r===void 0?void 0:r[i])===!1)return this.event}return AE(this.event,e,n),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();function pV(t,e){var n={};return t.forEach(function(r){var i,a=void 0;{var o=r[e];a=typeof o!="string"?JSON.stringify(o):o}a!==void 0&&(n[a]=pr(pr([],(i=n[a])!==null&&i!==void 0?i:[],!0),[r],!1))}),n}var mV=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},gV=function(){var t,e,n=0;return{done:function(){return t},run:function(r){var i=r();return mV(i)&&(++n===1&&(t=new Promise(function(a){return e=a})),i.finally(function(){return--n===0&&e()})),i}}};function vV(t){return xt(this,void 0,void 0,function(){var e;return Et(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t()];case 1:return[2,n.sent()];case 2:return e=n.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function Qh(t,e){t.log("debug","plugin",{plugin:e.name});var n=new Date().getTime(),r=e[t.event.type];if(r===void 0)return Promise.resolve(t);var i=vV(function(){return r.apply(e,[t])}).then(function(a){var o=new Date().getTime()-n;return a.stats.gauge("plugin_time",o,["plugin:".concat(e.name)]),a}).catch(function(a){if(a instanceof sf&&a.type==="middleware_cancellation")throw a;return a instanceof sf?(t.log("warn",a.type,{plugin:e.name,error:a}),a):(t.log("error","plugin Error",{plugin:e.name,error:a}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),a)});return i}function yV(t,e){return Qh(t,e).then(function(n){if(n instanceof Iv)return n;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(n)})}var bV=function(t){Fi(e,t);function e(n){var r=t.call(this)||this;return r.criticalTasks=gV(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=n,r.queue.on(gT,function(){r.scheduleFlush(0)}),r}return e.prototype.register=function(n,r,i){return xt(this,void 0,void 0,function(){var a,o,s=this;return Et(this,function(u){switch(u.label){case 0:return this.plugins.push(r),a=function(l){s.failedInitializations.push(r.name),s.emit("initialization_failure",r),console.warn(r.name,l),n.log("warn","Failed to load destination",{plugin:r.name,error:l}),s.plugins=s.plugins.filter(function(h){return h!==r})},r.type==="destination"&&r.name!=="Segment.io"?(r.load(n,i).catch(a),[3,4]):[3,1];case 1:return u.trys.push([1,3,,4]),[4,r.load(n,i)];case 2:return u.sent(),[3,4];case 3:return o=u.sent(),a(o),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(n,r,i){return xt(this,void 0,void 0,function(){var a;return Et(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r.unload?[4,Promise.resolve(r.unload(n,i))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==r.name}),[3,4];case 3:return a=o.sent(),n.log("warn","Failed to unload destination",{plugin:r.name,error:a}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(n){return xt(this,void 0,void 0,function(){var r;return Et(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.push(n),r=this.subscribeToDelivery(n),this.scheduleFlush(0),[2,r]})})},e.prototype.subscribeToDelivery=function(n){return xt(this,void 0,void 0,function(){var r=this;return Et(this,function(i){return[2,new Promise(function(a){var o=function(s,u){s.isSame(n)&&(r.off("flush",o),a(s))};r.on("flush",o)})]})})},e.prototype.dispatchSingle=function(n){return xt(this,void 0,void 0,function(){var r=this;return Et(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.updateAttempts(n),n.attempts=1,[2,this.deliver(n).catch(function(a){var o=r.enqueuRetry(a,n);return o?r.subscribeToDelivery(n):(n.setFailedDelivery({reason:a}),n)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(n){var r=this;n===void 0&&(n=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){r.flush().then(function(){setTimeout(function(){r.flushing=!1,r.queue.length&&r.scheduleFlush(0)},0)})},n))},e.prototype.deliver=function(n){return xt(this,void 0,void 0,function(){var r,i,a,o;return Et(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),r=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(n)];case 3:return n=s.sent(),i=Date.now()-r,this.emit("delivery_success",n),n.stats.gauge("delivered",i),n.log("debug","Delivered",n.event),[2,n];case 4:throw a=s.sent(),o=a,n.log("error","Failed to deliver",o),this.emit("delivery_failure",n,o),n.stats.increment("delivery_failed"),a;case 5:return[2]}})})},e.prototype.enqueuRetry=function(n,r){var i=!(n instanceof sf)||n.retry;return i?this.queue.pushWithBackoff(r):!1},e.prototype.flush=function(){return xt(this,void 0,void 0,function(){var n,r,i;return Et(this,function(a){switch(a.label){case 0:if(this.queue.length===0)return[2,[]];if(n=this.queue.pop(),!n)return[2,[]];n.attempts=this.queue.getAttempts(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.deliver(n)];case 2:return n=a.sent(),this.emit("flush",n,!0),[3,4];case 3:return r=a.sent(),i=this.enqueuRetry(r,n),i||(n.setFailedDelivery({reason:r}),this.emit("flush",n,!1)),[2,[]];case 4:return[2,[n]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(n){var r=this.plugins.filter(function(v){var y,w,C;if(v.type!=="destination"&&v.name!=="Segment.io")return!0;var x=void 0;return(y=v.alternativeNames)===null||y===void 0||y.forEach(function(M){n[M]!==void 0&&(x=n[M])}),(C=(w=n[v.name])!==null&&w!==void 0?w:x)!==null&&C!==void 0?C:(v.name==="Segment.io"?!0:n.All)!==!1}),i=pV(r,"type"),a=i.before,o=a===void 0?[]:a,s=i.enrichment,u=s===void 0?[]:s,l=i.destination,h=l===void 0?[]:l,p=i.after,g=p===void 0?[]:p;return{before:o,enrichment:u,destinations:h,after:g}},e.prototype.flushOne=function(n){var r,i;return xt(this,void 0,void 0,function(){var a,o,s,u,l,h,y,p,g,v,y,w,C,x,M;return Et(this,function(k){switch(k.label){case 0:if(!this.isReady())throw new Error("Not ready");n.attempts>1&&this.emit("delivery_retry",n),a=this.availableExtensions((r=n.event.integrations)!==null&&r!==void 0?r:{}),o=a.before,s=a.enrichment,u=0,l=o,k.label=1;case 1:return u<l.length?(h=l[u],[4,yV(n,h)]):[3,4];case 2:y=k.sent(),y instanceof Iv&&(n=y),this.emit("message_enriched",n,h),k.label=3;case 3:return u++,[3,1];case 4:p=0,g=s,k.label=5;case 5:return p<g.length?(v=g[p],[4,Qh(n,v)]):[3,8];case 6:y=k.sent(),y instanceof Iv&&(n=y),this.emit("message_enriched",n,v),k.label=7;case 7:return p++,[3,5];case 8:return w=this.availableExtensions((i=n.event.integrations)!==null&&i!==void 0?i:{}),C=w.destinations,x=w.after,[4,new Promise(function(z,P){setTimeout(function(){var K=C.map(function(W){return Qh(n,W)});Promise.all(K).then(z).catch(P)},0)})];case 9:return k.sent(),n.stats.increment("message_delivered"),this.emit("message_delivered",n),M=x.map(function(z){return Qh(n,z)}),[4,Promise.all(M)];case 10:return k.sent(),[2,n]}})})},e}(mS),wV=function(t,e){var n=Date.now()-t;return Math.max((e??300)-n,0)};function xV(t,e,n,r){return xt(this,void 0,void 0,function(){var i,a;return Et(this,function(o){switch(o.label){case 0:return n.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return a=o.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:a=o.sent(),o.label=4;case 4:return r?.callback?[4,cV(a,r.callback,wV(i,r.timeout))]:[3,6];case 5:a=o.sent(),o.label=6;case 6:return r?.debug&&a.flush(),[2,a]}})})}function EV(t,e,n,r){var i,a=[t,e,n,r],o=ss(t)?t.event:t;if(!o||!mc(o))throw new Error("Event missing");var s=ss(t)?(i=t.properties)!==null&&i!==void 0?i:{}:ss(e)?e:{},u={};Yd(n)||(u=n??{}),ss(t)&&!Yd(e)&&(u=e??{});var l=a.find(Yd);return[o,s,u,l]}function sj(t,e,n,r,i){var a,o,s=null,u=null,l=[t,e,n,r,i],h=l.filter(mc);h.length===1?mc(l[1])?(u=l[1],s=null):(u=h[0],s=null):h.length===2&&(typeof l[0]=="string"&&(s=l[0]),typeof l[1]=="string"&&(u=l[1]));var p=l.find(Yd),g=l.filter(ss);return g.length===1?ss(l[2])?(o={},a=l[2]):ss(l[3])?(a={},o=l[3]):(a=g[0],o={}):g.length===2&&(a=g[0],o=g[1]),[s,u,a??(a={}),o??(o={}),p]}var oj=function(t){return function(){for(var e,n,r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var o={},s=["callback","options","traits","id"],u=0,l=i;u<l.length;u++){var h=l[u],p=s.pop();if(p==="id"){if(mc(h)||jE(h)){o.id=h.toString();continue}if(h==null)continue;p=s.pop()}if((p==="traits"||p==="options")&&(h==null||ss(h))&&(o[p]=h),Yd(h)){o.callback=h;break}}return[(e=o.id)!==null&&e!==void 0?e:t.id(),(n=o.traits)!==null&&n!==void 0?n:{},(r=o.options)!==null&&r!==void 0?r:{},o.callback]}};function SV(t,e,n,r){jE(t)&&(t=t.toString()),jE(e)&&(e=e.toString());var i=[t,e,n,r],a=i.filter(mc),o=a[0],s=o===void 0?t:o,u=a[1],l=u===void 0?null:u,h=i.filter(ss)[0],p=h===void 0?{}:h,g=i.find(Yd);return[s,l,p,g]}function yS(){return typeof window<"u"}function Fle(){return!yS()}function _V(){return yS()?window.navigator.onLine:!0}function y0(){return!_V()}function CV(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,a=[],o=[],s={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return a},entries:function(){return o},get:function(h){return s[h.toLowerCase()]},has:function(h){return h.toLowerCase()in s}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(h,p,g){a.push(p=p.toLowerCase()),o.push([p,g]),s[p]=s[p]?s[p]+","+g:g}),n(u())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var bS=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:null},Hy=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bS();return(n&&n.fetch||CV).apply(void 0,t)},Ky="1.81.1",yT="api.segment.io/v1",NV=function(t,e,n){var r=e.reduce(function(i,a){var o=a.split(":"),s=o[0],u=o[1];return i[s]=u,i},{});return{type:"Counter",metric:t,value:1,tags:it(it({},r),{library:"analytics.js",library_version:"npm:next-".concat(Ky)})}};function N3(t){console.error("Error sending segment performance metrics",t)}var AV=function(){function t(e){var n=this,r,i,a,o,s;if(this.host=(r=e?.host)!==null&&r!==void 0?r:yT,this.sampleRate=(i=e?.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(a=e?.flushTimer)!==null&&a!==void 0?a:30*1e3,this.maxQueueSize=(o=e?.maxQueueSize)!==null&&o!==void 0?o:20,this.protocol=(s=e?.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var u=!1,l=function(){u||(u=!0,n.flush().catch(N3),u=!1,setTimeout(l,n.flushTimer))};l()}}return t.prototype.increment=function(e,n){if(e.includes("analytics_js.")&&n.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=NV(e,n);this.queue.push(r),e.includes("error")&&this.flush().catch(N3)}},t.prototype.flush=function(){return xt(this,void 0,void 0,function(){var e=this;return Et(this,function(n){switch(n.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(r){N3(r),e.sampleRate=0})];case 1:return n.sent(),[2]}})})},t.prototype.send=function(){return xt(this,void 0,void 0,function(){var e,n,r;return Et(this,function(i){return e={series:this.queue},this.queue=[],n={"Content-Type":"text/plain"},r="".concat(this.protocol,"://").concat(this.host,"/m"),[2,Hy(r,{headers:n,body:JSON.stringify(e),method:"POST"})]})})},t}(),tg,bT=function(t){Fi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(n){tg=new AV(n)},e.prototype.increment=function(n,r,i){t.prototype.increment.call(this,n,r,i),tg?.increment(n,i??[])},e}(vT),Fo=function(t){Fi(e,t);function e(n,r){return t.call(this,n,r,new bT)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(Iv);function jV(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var wT="bpc",xT=function(t,e,n,r,i,a){return{__t:wT,c:e,p:r,u:t,s:n,t:i,r:a}},MV=Object.keys(xT("","","","","",""));function OV(t){if(!jV(t)||t.__t!==wT)return!1;for(var e in t)if(!MV.includes(e))return!1;return!0}var kV=function(t,e){return t.indexOf("?")>-1?t:t+e},IV=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},TV=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},ET=function(t){var e=t.c,n=t.p,r=t.s,i=t.u,a=t.r,o=t.t,s=e?TV(e):n,u=e?kV(e,r):IV(i);return{path:s,referrer:a,search:r,title:o,url:u}},ST=function(){var t=document.querySelector("link[rel='canonical']");return xT(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},RV=function(){return ET(ST())};function PV(t,e){return Object.assign.apply(Object,pr([{}],e.map(function(n){var r;if(t&&Object.prototype.hasOwnProperty.call(t,n))return r={},r[n]=t[n],r}),!1))}var xd=function(t,e){e===void 0&&(e=RV());var n=t.context,r;t.type==="page"&&(r=t.properties&&PV(t.properties,Object.keys(e)),t.properties=it(it(it({},e),t.properties),t.name?{name:t.name}:{})),n.page=it(it(it({},e),r),n.page)},LV=function(t){Fi(e,t);function e(n){var r=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(vS())},onEventMethodCall:function(i){var a=i.options;r.maybeUpdateAnonId(a)},onFinishedEvent:function(i){return r.addIdentity(i),i}})||this;return r.user=n,r}return e.prototype.maybeUpdateAnonId=function(n){n?.anonymousId&&this.user.anonymousId(n.anonymousId)},e.prototype.addIdentity=function(n){this.user.id()&&(n.userId=this.user.id()),this.user.anonymousId()&&(n.anonymousId=this.user.anonymousId())},e.prototype.track=function(n,r,i,a,o){var s=t.prototype.track.call(this,n,r,i,a);return xd(s,o),s},e.prototype.page=function(n,r,i,a,o,s){var u=t.prototype.page.call(this,n,r,i,a,o);return xd(u,s),u},e.prototype.screen=function(n,r,i,a,o,s){var u=t.prototype.screen.call(this,n,r,i,a,o);return xd(u,s),u},e.prototype.identify=function(n,r,i,a,o){var s=t.prototype.identify.call(this,n,r,i,a);return xd(s,o),s},e.prototype.group=function(n,r,i,a,o){var s=t.prototype.group.call(this,n,r,i,a);return xd(s,o),s},e.prototype.alias=function(n,r,i,a,o){var s=t.prototype.alias.call(this,n,r,i,a);return xd(s,o),s},e}(sV),DV=function(t){return"addMiddleware"in t&&t.type==="destination"},Bs={getItem:function(){},setItem:function(){},removeItem:function(){}};try{Bs=yS()&&window.localStorage?window.localStorage:Bs}catch(t){console.warn("Unable to access localStorage",t)}function _T(t){var e=Bs.getItem(t);return(e?JSON.parse(e):[]).map(function(n){return new Fo(n.event,n.id)})}function BV(t,e){var n=_T(t),r=pr(pr([],e,!0),n,!0),i=r.reduce(function(a,o){var s;return it(it({},a),(s={},s[o.id]=o,s))},{});Bs.setItem(t,JSON.stringify(Object.values(i)))}function CT(t){var e=Bs.getItem(t);return e?JSON.parse(e):{}}function UV(t,e){var n=CT(t);Bs.setItem(t,JSON.stringify(it(it({},n),e)))}function lj(t){Bs.removeItem(t)}var $V=function(){return new Date().getTime()};function ME(t,e,n){n===void 0&&(n=0);var r=50,i="persisted-queue:v1:".concat(t,":lock"),a=function(l){return new Date().getTime()>l},o=Bs.getItem(i),s=o?JSON.parse(o):null,u=s===null||a(s);if(u){Bs.setItem(i,JSON.stringify($V()+r)),e(),Bs.removeItem(i);return}!u&&n<3?setTimeout(function(){ME(t,e,n+1)},r):console.error("Unable to retrieve lock")}var wS=function(t){Fi(e,t);function e(n,r){var i=t.call(this,n,[])||this,a="persisted-queue:v1:".concat(r,":items"),o="persisted-queue:v1:".concat(r,":seen"),s=[],u={};return ME(r,function(){try{s=_T(a),u=CT(o),lj(a),lj(o),i.queue=pr(pr([],s,!0),i.queue,!0),i.seen=it(it({},u),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=pr(pr([],i.queue,!0),i.future,!0);try{ME(r,function(){BV(a,l),UV(o,i.seen)})}catch(h){console.error(h)}}}),i}return e}(gS),FV=function(t){Fi(e,t);function e(n){return t.call(this,typeof n=="string"?new wS(4,n):n)||this}return e.prototype.flush=function(){return xt(this,void 0,void 0,function(){return Et(this,function(n){return y0()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(bV);function xS(t){for(var e=t.constructor.prototype,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);a&&typeof a.value=="function"&&(t[i]=t[i].bind(t))}}return t}/*! js-cookie v3.0.1 | MIT */function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var qV={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function OE(t,e){function n(i,a,o){if(!(typeof document>"u")){o=ng({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,o[u]!==!0&&(s+="="+o[u].split(";")[0]));return document.cookie=i+"="+t.write(a,i)+s}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},s=0;s<a.length;s++){var u=a[s].split("="),l=u.slice(1).join("=");try{var h=decodeURIComponent(u[0]);if(o[h]=t.read(l,h),i===h)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",ng({},a,{expires:-1}))},withAttributes:function(i){return OE(this.converter,ng({},this.attributes,i))},withConverter:function(i){return OE(ng({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Io=OE(qV,{path:"/"});function zV(t){var e=t.hostname,n=e.split("."),r=n[n.length-1],i=[];if(n.length===4&&parseInt(r,10)>0||n.length<=1)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i}function HV(t){try{return new URL(t)}catch{return}}function NT(t){var e=HV(t);if(e)for(var n=zV(e),r=0;r<n.length;++r){var i="__tld__",a=n[r],o={domain:"."+a};try{if(Io.set(i,"1",o),Io.get(i))return Io.remove(i,o),a}catch{return}}}var KV=365,AT=function(){function t(e){e===void 0&&(e=t.defaults),this.options=it(it({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:KV,domain:NT(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var n;try{var r=Io.get(e);if(r==null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return null}},t.prototype.set=function(e,n){typeof n=="string"?Io.set(e,n,this.opts()):n===null?Io.remove(e,this.opts()):Io.set(e,JSON.stringify(n),this.opts())},t.prototype.remove=function(e){return Io.remove(e,this.opts())},t}(),WV=function(){function t(){}return t.prototype.localStorageWarning=function(e,n){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(n))},t.prototype.get=function(e){var n;try{var r=localStorage.getItem(e);if(r===null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t}(),ES=function(){function t(){this.cache={}}return t.prototype.get=function(e){var n;return(n=this.cache[e])!==null&&n!==void 0?n:null},t.prototype.set=function(e,n){this.cache[e]=n},t.prototype.remove=function(e){delete this.cache[e]},t}(),Ti={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function jT(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(Ti).includes(e)})}function VV(t){return typeof t=="object"&&t.name!==void 0}var A3=function(t,e,n,r){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(n,'" | Err: ').concat(r))},bu=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var n=null,r=0,i=this.stores;r<i.length;r++){var a=i[r];try{if(n=a.get(e),n!=null)return n}catch(o){A3(a,"get",e,o)}}return null},t.prototype.set=function(e,n){this.stores.forEach(function(r){try{r.set(e,n)}catch(i){A3(r,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(n){try{n.remove(e)}catch(r){A3(n,"remove",e,r)}})},t.prototype.getAndSync=function(e){var n=this.get(e),r=typeof n=="number"?n.toString():n;return this.set(e,r),r},t}();function kE(t){var e=t.map(function(n){var r,i;switch(VV(n)?(r=n.name,i=n.settings):r=n,r){case Ti.Cookie:return new AT(i);case Ti.LocalStorage:return new WV;case Ti.Memory:return new ES;default:throw new Error("Unknown Store Type: ".concat(n))}});return e}function MT(t,e){return t.map(function(n){return e&&n===Ti.Cookie?{name:n,settings:e}:n})}var Kc={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},OT=function(){function t(e,n){e===void 0&&(e=Kc);var r=this,i,a,o,s;this.options={},this.id=function(l){if(r.options.disable)return null;var h=r.identityStore.getAndSync(r.idKey);if(l!==void 0){r.identityStore.set(r.idKey,l);var p=l!==h&&h!==null&&l!==null;p&&r.anonymousId(null)}var g=r.identityStore.getAndSync(r.idKey);if(g)return g;var v=r.legacyUserStore.get(Kc.cookie.oldKey);return v?typeof v=="object"?v.id:v:null},this.anonymousId=function(l){var h,p;if(r.options.disable)return null;if(l===void 0){var g=(h=r.identityStore.getAndSync(r.anonKey))!==null&&h!==void 0?h:(p=r.legacySIO())===null||p===void 0?void 0:p[0];if(g)return g}return l===null?(r.identityStore.set(r.anonKey,null),r.identityStore.getAndSync(r.anonKey)):(r.identityStore.set(r.anonKey,l??vS()),r.identityStore.getAndSync(r.anonKey))},this.traits=function(l){var h;if(!r.options.disable)return l===null&&(l={}),l&&r.traitsStore.set(r.traitsKey,l??{}),(h=r.traitsStore.get(r.traitsKey))!==null&&h!==void 0?h:{}},this.options=it(it({},Kc),e),this.cookieOptions=n,this.idKey=(a=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&a!==void 0?a:Kc.cookie.key,this.traitsKey=(s=(o=e.localStorage)===null||o===void 0?void 0:o.key)!==null&&s!==void 0?s:Kc.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,n),this.legacyUserStore=this.createStorage(this.options,n,function(l){return l===Ti.Cookie}),this.traitsStore=this.createStorage(this.options,n,function(l){return l!==Ti.Cookie});var u=this.legacyUserStore.get(Kc.cookie.oldKey);u&&typeof u=="object"&&(u.id&&this.id(u.id),u.traits&&this.traits(u.traits)),xS(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var n=e.split("----"),r=n[0],i=n[1];return[r,i]},t.prototype.identify=function(e,n){if(!this.options.disable){n=n??{};var r=this.id();(r===null||r===e)&&(n=it(it({},this.traits()),n)),e&&this.id(e),this.traits(n)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,n,r){var i=[Ti.LocalStorage,Ti.Cookie,Ti.Memory];return e.disable?new bu([]):e.persist?(e.storage!==void 0&&e.storage!==null&&jT(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(a){return a!==Ti.LocalStorage})),r&&(i=i.filter(r)),new bu(kE(MT(i,n)))):new bu([new ES])},t.defaults=Kc,t}(),cj={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},GV=function(t){Fi(e,t);function e(n,r){n===void 0&&(n=cj);var i=t.call(this,it(it({},cj),n),r)||this;return i.anonymousId=function(a){},xS(i),i}return e}(OT),SS="analytics";function kT(){return window[SS]}function YV(t){SS=t}function JV(t){window[SS]=t}var ZV=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},IT=function(t,e,n){n.getAndRemove(t).forEach(function(r){Wy(e,r).catch(console.error)})},QV=function(t,e){return xt(void 0,void 0,void 0,function(){var n,r,i;return Et(this,function(a){switch(a.label){case 0:n=0,r=e.getAndRemove("addSourceMiddleware"),a.label=1;case 1:return n<r.length?(i=r[n],[4,Wy(t,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},XV=function(t,e){return xt(void 0,void 0,void 0,function(){var n,r,i;return Et(this,function(a){switch(a.label){case 0:n=0,r=e.getAndRemove("register"),a.label=1;case 1:return n<r.length?(i=r[n],[4,Wy(t,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},eG=IT.bind(void 0,"on"),tG=IT.bind(void 0,"setAnonymousId"),nG=function(t,e){Object.keys(e.calls).forEach(function(n){e.getAndRemove(n).forEach(function(r){setTimeout(function(){Wy(t,r).catch(console.error)},0)})})},Ed=function(t){if(TT(t)){var e=t.pop();return ET(e)}},TT=function(t){var e=t[t.length-1];return OV(e)},IE=function(){function t(e,n,r,i){r===void 0&&(r=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=r,this.reject=i,this.called=!1,this.args=n}return t}(),rG=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n;return(n=this.calls[e])!==null&&n!==void 0?n:[]},t.prototype.getAndRemove=function(e){var n=this.get(e);return this.calls[e]=[],n},t.prototype.add=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var a=["track","screen","alias","group","page","identify"];a.includes(i.method)&&!TT(i.args)&&(i.args=pr(pr([],i.args,!0),[ST()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){},t}();function Wy(t,e){return xt(this,void 0,void 0,function(){var n,r;return Et(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,n=t[e.method].apply(t,e.args),ZV(n)?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(n),[3,4];case 3:return r=i.sent(),e.reject(r),[3,4];case 4:return[2]}})})}var iG=function(){function t(e){var n=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Ky,this._preInitBuffer=new rG,this._promise=e(this._preInitBuffer),this._promise.then(function(r){var i=r[0],a=r[1];n.instance=i,n.ctx=a}).catch(function(){})}return t.prototype.then=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).then.apply(e,n)},t.prototype.catch=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).catch.apply(e,n)},t.prototype.finally=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).finally.apply(e,n)},t.prototype._createMethod=function(e){var n=this;return function(){for(var r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n.instance){var o=(r=n.instance)[e].apply(r,i);return Promise.resolve(o)}return new Promise(function(s,u){n._preInitBuffer.add(new IE(e,i,s,u))})}},t.prototype._createChainableMethod=function(e){var n=this;return function(){for(var r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return n.instance?((r=n.instance)[e].apply(r,i),n):(n._preInitBuffer.add(new IE(e,i)),n)}},t}(),Nh={},Wc={},Sd={},j3={exports:{}},uj;function Vy(){return uj||(uj=1,function(t){t.exports=e(n),t.exports.find=t.exports,t.exports.replace=function(s,u,l,h){return e(i).call(this,s,u,l,h),s},t.exports.del=function(s,u,l){return e(r).call(this,s,u,null,l),s};function e(s){return function(u,l,h,p){var g=p&&o(p.normalizer)?p.normalizer:a;l=g(l);for(var v,y=!1;!y;)w();function w(){for(v in u){var C=g(v);if(l.indexOf(C)===0){var x=l.substr(C.length);if(x.charAt(0)==="."||x.length===0){l=x.substr(1);var M=u[v];if(M==null){y=!0;return}if(!l.length){y=!0;return}u=M;return}}}v=void 0,y=!0}if(v)return u==null?u:s(u,v,h)}}function n(s,u){if(s.hasOwnProperty(u))return s[u]}function r(s,u){return s.hasOwnProperty(u)&&delete s[u],s}function i(s,u,l){return s.hasOwnProperty(u)&&(s[u]=l),s}function a(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function o(s){return typeof s=="function"}}(j3)),j3.exports}var dj;function aG(){if(dj)return Sd;dj=1;var t=Sd&&Sd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Sd,"__esModule",{value:!0});var e=t(Vy());function n(i,a){return function(){var o=this.traits(),s=this.properties?this.properties():{};return e.default(o,"address."+i)||e.default(o,i)||(a?e.default(o,"address."+a):null)||(a?e.default(o,a):null)||e.default(s,"address."+i)||e.default(s,i)||(a?e.default(s,"address."+a):null)||(a?e.default(s,a):null)}}function r(i){i.zip=n("postalCode","zip"),i.country=n("country"),i.street=n("street"),i.state=n("state"),i.city=n("city"),i.region=n("region")}return Sd.default=r,Sd}var Ah={},fj;function sG(){if(fj)return Ah;fj=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.clone=void 0;function t(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t(e[r]));return n}else return Array.isArray(e)?e.map(t):e}return Ah.clone=t,Ah}var rg={},hj;function oG(){if(hj)return rg;hj=1,Object.defineProperty(rg,"__esModule",{value:!0});var t={Salesforce:!0};function e(n){return!t[n]}return rg.default=e,rg}var ig={},pj;function RT(){if(pj)return ig;pj=1;var t=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;return ig.parse=function(e){var n=[1,5,6,7,11,12],r=t.exec(e),i=0;if(!r)return new Date(e);for(var a=0,o;o=n[a];a++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?i=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(i=r[11]*60+r[12],r[10]==="+"&&(i=0-i));var s=Date.UTC(r[1],r[2],r[3],r[5],r[6]+i,r[7],r[8]);return new Date(s)},ig.is=function(e,n){return typeof e!="string"||n&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:t.test(e)},ig}var ag={},mj;function lG(){if(mj)return ag;mj=1;var t=/\d{13}/;return ag.is=function(e){return t.test(e)},ag.parse=function(e){return e=parseInt(e,10),new Date(e)},ag}var sg={},gj;function cG(){if(gj)return sg;gj=1;var t=/\d{10}/;return sg.is=function(e){return t.test(e)},sg.parse=function(e){var n=parseInt(e,10)*1e3;return new Date(n)},sg}var M3,vj;function _S(){if(vj)return M3;vj=1;var t=RT(),e=lG(),n=cG(),r=Object.prototype,i=r.toString;function a(u){return i.call(u)==="[object Date]"}function o(u){return i.call(u)==="[object Number]"}M3=function(l){return a(l)?l:o(l)?new Date(s(l)):t.is(l)?t.parse(l):e.is(l)?e.parse(l):n.is(l)?n.parse(l):new Date(l)};function s(u){return u<315576e5?u*1e3:u}return M3}var O3,yj;function uG(){if(yj)return O3;yj=1;var t=RT();O3=e;function e(i,a){return a===void 0&&(a=!0),i&&typeof i=="object"?n(i,a):Array.isArray(i)?r(i,a):t.is(i,a)?t.parse(i):i}function n(i,a){return Object.keys(i).forEach(function(o){i[o]=e(i[o],a)}),i}function r(i,a){return i.forEach(function(o,s){i[s]=e(o,a)}),i}return O3}var bj;function Iu(){if(bj)return Wc;bj=1;var t=Wc&&Wc.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.Facade=void 0;var e=t(aG()),n=sG(),r=t(oG()),i=t(_S()),a=t(Vy()),o=t(uG());function s(h,p){p=p||{},this.raw=n.clone(h),"clone"in p||(p.clone=!0),p.clone&&(h=n.clone(h)),"traverse"in p||(p.traverse=!0),"timestamp"in h?h.timestamp=i.default(h.timestamp):h.timestamp=new Date,p.traverse&&o.default(h),this.opts=p,this.obj=h}Wc.Facade=s;var u=s.prototype;u.proxy=function(h){var p=h.split(".");h=p.shift();var g=this[h]||this.obj[h];return g&&(typeof g=="function"&&(g=g.call(this)||{}),p.length===0?this.opts.clone?l(g):g:(g=a.default(g,p.join(".")),this.opts.clone?l(g):g))},u.field=function(h){var p=this.obj[h];return this.opts.clone?l(p):p},s.proxy=function(h){return function(){return this.proxy(h)}},s.field=function(h){return function(){return this.field(h)}},s.multi=function(h){return function(){var p=this.proxy(h+"s");if(Array.isArray(p))return p;var g=this.proxy(h);return g&&(g=[this.opts.clone?n.clone(g):g]),g||[]}},s.one=function(h){return function(){var p=this.proxy(h);if(p)return p;var g=this.proxy(h+"s");if(Array.isArray(g))return g[0]}},u.json=function(){var h=this.opts.clone?n.clone(this.obj):this.obj;return this.type&&(h.type=this.type()),h},u.rawEvent=function(){return this.raw},u.options=function(h){var p=this.obj.options||this.obj.context||{},g=this.opts.clone?n.clone(p):p;if(!h)return g;if(this.enabled(h)){var v=this.integrations(),y=v[h]||a.default(v,h);return typeof y!="object"&&(y=a.default(this.options(),h)),typeof y=="object"?y:{}}},u.context=u.options,u.enabled=function(h){var p=this.proxy("options.providers.all");typeof p!="boolean"&&(p=this.proxy("options.all")),typeof p!="boolean"&&(p=this.proxy("integrations.all")),typeof p!="boolean"&&(p=!0);var g=p&&r.default(h),v=this.integrations();if(v.providers&&v.providers.hasOwnProperty(h)&&(g=v.providers[h]),v.hasOwnProperty(h)){var y=v[h];typeof y=="boolean"?g=y:g=!0}return!!g},u.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},u.active=function(){var h=this.proxy("options.active");return h==null&&(h=!0),h},u.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},u.sessionId=u.anonymousId,u.groupId=s.proxy("options.groupId"),u.traits=function(h){var p=this.proxy("options.traits")||{},g=this.userId();h=h||{},g&&(p.id=g);for(var v in h)if(Object.prototype.hasOwnProperty.call(h,v)){var y=this[v]==null?this.proxy("options.traits."+v):this[v]();if(y==null)continue;p[h[v]]=y,delete p[v]}return p},u.library=function(){var h=this.proxy("options.library");return h?typeof h=="string"?{name:h,version:null}:h:{name:"unknown",version:null}},u.device=function(){var h=this.proxy("context.device");(typeof h!="object"||h===null)&&(h={});var p=this.library().name;return h.type||(p.indexOf("ios")>-1&&(h.type="ios"),p.indexOf("android")>-1&&(h.type="android")),h},u.userAgent=s.proxy("context.userAgent"),u.timezone=s.proxy("context.timezone"),u.timestamp=s.field("timestamp"),u.channel=s.field("channel"),u.ip=s.proxy("context.ip"),u.userId=s.field("userId"),e.default(u);function l(h){return n.clone(h)}return Wc}var Vc={},wj;function dG(){if(wj)return Vc;wj=1;var t=Vc&&Vc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.Alias=void 0;var e=t(ds()),n=Iu();function r(i,a){n.Facade.call(this,i,a)}return Vc.Alias=r,e.default(r,n.Facade),r.prototype.action=function(){return"alias"},r.prototype.type=r.prototype.action,r.prototype.previousId=function(){return this.field("previousId")||this.field("from")},r.prototype.from=r.prototype.previousId,r.prototype.userId=function(){return this.field("userId")||this.field("to")},r.prototype.to=r.prototype.userId,Vc}var Gc={},og={},xj;function Gy(){if(xj)return og;xj=1,Object.defineProperty(og,"__esModule",{value:!0});var t=/.+\@.+\..+/;function e(n){return t.test(n)}return og.default=e,og}var Ej;function fG(){if(Ej)return Gc;Ej=1;var t=Gc&&Gc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.Group=void 0;var e=t(ds()),n=t(Gy()),r=t(_S()),i=Iu();function a(s,u){i.Facade.call(this,s,u)}Gc.Group=a,e.default(a,i.Facade);var o=a.prototype;return o.action=function(){return"group"},o.type=o.action,o.groupId=i.Facade.field("groupId"),o.created=function(){var s=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(s)return r.default(s)},o.email=function(){var s=this.proxy("traits.email");if(s)return s;var u=this.groupId();if(n.default(u))return u},o.traits=function(s){var u=this.properties(),l=this.groupId();s=s||{},l&&(u.id=l);for(var h in s)if(Object.prototype.hasOwnProperty.call(s,h)){var p=this[h]==null?this.proxy("traits."+h):this[h]();if(p==null)continue;u[s[h]]=p,delete u[h]}return u},o.name=i.Facade.proxy("traits.name"),o.industry=i.Facade.proxy("traits.industry"),o.employees=i.Facade.proxy("traits.employees"),o.properties=function(){return this.field("traits")||this.field("properties")||{}},Gc}var Yc={},Sj;function PT(){if(Sj)return Yc;Sj=1;var t=Yc&&Yc.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.Identify=void 0;var e=Iu(),n=t(Vy()),r=t(ds()),i=t(Gy()),a=t(_S()),o=function(l){return l.trim()};function s(l,h){e.Facade.call(this,l,h)}Yc.Identify=s,r.default(s,e.Facade);var u=s.prototype;return u.action=function(){return"identify"},u.type=u.action,u.traits=function(l){var h=this.field("traits")||{},p=this.userId();l=l||{},p&&(h.id=p);for(var g in l){var v=this[g]==null?this.proxy("traits."+g):this[g]();v!=null&&(h[l[g]]=v,g!==l[g]&&delete h[g])}return h},u.email=function(){var l=this.proxy("traits.email");if(l)return l;var h=this.userId();if(i.default(h))return h},u.created=function(){var l=this.proxy("traits.created")||this.proxy("traits.createdAt");if(l)return a.default(l)},u.companyCreated=function(){var l=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(l)return a.default(l)},u.companyName=function(){return this.proxy("traits.company.name")},u.name=function(){var l=this.proxy("traits.name");if(typeof l=="string")return o(l);var h=this.firstName(),p=this.lastName();if(h&&p)return o(h+" "+p)},u.firstName=function(){var l=this.proxy("traits.firstName");if(typeof l=="string")return o(l);var h=this.proxy("traits.name");if(typeof h=="string")return o(h).split(" ")[0]},u.lastName=function(){var l=this.proxy("traits.lastName");if(typeof l=="string")return o(l);var h=this.proxy("traits.name");if(typeof h=="string"){var p=o(h).indexOf(" ");if(p!==-1)return o(h.substr(p+1))}},u.uid=function(){return this.userId()||this.username()||this.email()},u.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},u.age=function(){var l=this.birthday(),h=n.default(this.traits(),"age");if(h!=null)return h;if(l instanceof Date){var p=new Date;return p.getFullYear()-l.getFullYear()}},u.avatar=function(){var l=this.traits();return n.default(l,"avatar")||n.default(l,"photoUrl")||n.default(l,"avatarUrl")},u.position=function(){var l=this.traits();return n.default(l,"position")||n.default(l,"jobTitle")},u.username=e.Facade.proxy("traits.username"),u.website=e.Facade.one("traits.website"),u.websites=e.Facade.multi("traits.website"),u.phone=e.Facade.one("traits.phone"),u.phones=e.Facade.multi("traits.phone"),u.address=e.Facade.proxy("traits.address"),u.gender=e.Facade.proxy("traits.gender"),u.birthday=e.Facade.proxy("traits.birthday"),Yc}var Jc={},_j;function CS(){if(_j)return Jc;_j=1;var t=Jc&&Jc.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.Track=void 0;var e=t(ds()),n=Iu(),r=PT(),i=t(Gy()),a=t(Vy());function o(l,h){n.Facade.call(this,l,h)}Jc.Track=o,e.default(o,n.Facade);var s=o.prototype;s.action=function(){return"track"},s.type=s.action,s.event=n.Facade.field("event"),s.value=n.Facade.proxy("properties.value"),s.category=n.Facade.proxy("properties.category"),s.id=n.Facade.proxy("properties.id"),s.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},s.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},s.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},s.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},s.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},s.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},s.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},s.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},s.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},s.sku=n.Facade.proxy("properties.sku"),s.tax=n.Facade.proxy("properties.tax"),s.name=n.Facade.proxy("properties.name"),s.price=n.Facade.proxy("properties.price"),s.total=n.Facade.proxy("properties.total"),s.repeat=n.Facade.proxy("properties.repeat"),s.coupon=n.Facade.proxy("properties.coupon"),s.shipping=n.Facade.proxy("properties.shipping"),s.discount=n.Facade.proxy("properties.discount"),s.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},s.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},s.description=n.Facade.proxy("properties.description"),s.plan=n.Facade.proxy("properties.plan"),s.subtotal=function(){var l=a.default(this.properties(),"subtotal"),h=this.total()||this.revenue();if(l)return l;if(!h)return 0;if(this.total()){var p=this.tax();p&&(h-=p),p=this.shipping(),p&&(h-=p),p=this.discount(),p&&(h+=p)}return h},s.products=function(){var l=this.properties(),h=a.default(l,"products");return Array.isArray(h)?h.filter(function(p){return p!==null}):[]},s.quantity=function(){var l=this.obj.properties||{};return l.quantity||1},s.currency=function(){var l=this.obj.properties||{};return l.currency||"USD"},s.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.query=n.Facade.proxy("options.query"),s.properties=function(l){var h=this.field("properties")||{};l=l||{};for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var g=this[p]==null?this.proxy("properties."+p):this[p]();if(g==null)continue;h[l[p]]=g,delete h[p]}return h},s.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},s.email=function(){var l=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(l)return l;var h=this.userId();if(i.default(h))return h},s.revenue=function(){var l=this.proxy("properties.revenue"),h=this.event(),p=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!l&&h&&h.match(p)&&(l=this.proxy("properties.total")),u(l)},s.cents=function(){var l=this.revenue();return typeof l!="number"?this.value()||0:l*100},s.identify=function(){var l=this.json();return l.traits=this.traits(),new r.Identify(l,this.opts)};function u(l){if(l){if(typeof l=="number")return l;if(typeof l=="string"&&(l=l.replace(/\$/g,""),l=parseFloat(l),!isNaN(l)))return l}}return Jc}var Zc={},Cj;function LT(){if(Cj)return Zc;Cj=1;var t=Zc&&Zc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.Page=void 0;var e=t(ds()),n=Iu(),r=CS(),i=t(Gy());function a(s,u){n.Facade.call(this,s,u)}Zc.Page=a,e.default(a,n.Facade);var o=a.prototype;return o.action=function(){return"page"},o.type=o.action,o.category=n.Facade.field("category"),o.name=n.Facade.field("name"),o.title=n.Facade.proxy("properties.title"),o.path=n.Facade.proxy("properties.path"),o.url=n.Facade.proxy("properties.url"),o.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},o.properties=function(s){var u=this.field("properties")||{},l=this.category(),h=this.name();s=s||{},l&&(u.category=l),h&&(u.name=h);for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)){var g=this[p]==null?this.proxy("properties."+p):this[p]();if(g==null)continue;u[s[p]]=g,p!==s[p]&&delete u[p]}return u},o.email=function(){var s=this.proxy("context.traits.email")||this.proxy("properties.email");if(s)return s;var u=this.userId();if(i.default(u))return u},o.fullName=function(){var s=this.category(),u=this.name();return u&&s?s+" "+u:u},o.event=function(s){return s?"Viewed "+s+" Page":"Loaded a Page"},o.track=function(s){var u=this.json();return u.event=this.event(s),u.timestamp=this.timestamp(),u.properties=this.properties(),new r.Track(u,this.opts)},Zc}var Qc={},Nj;function hG(){if(Nj)return Qc;Nj=1;var t=Qc&&Qc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.Screen=void 0;var e=t(ds()),n=LT(),r=CS();function i(a,o){n.Page.call(this,a,o)}return Qc.Screen=i,e.default(i,n.Page),i.prototype.action=function(){return"screen"},i.prototype.type=i.prototype.action,i.prototype.event=function(a){return a?"Viewed "+a+" Screen":"Loaded a Screen"},i.prototype.track=function(a){var o=this.json();return o.event=this.event(a),o.timestamp=this.timestamp(),o.properties=this.properties(),new r.Track(o,this.opts)},Qc}var Xc={},Aj;function pG(){if(Aj)return Xc;Aj=1;var t=Xc&&Xc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.Delete=void 0;var e=t(ds()),n=Iu();function r(i,a){n.Facade.call(this,i,a)}return Xc.Delete=r,e.default(r,n.Facade),r.prototype.type=function(){return"delete"},Xc}var jj;function mG(){return jj||(jj=1,function(t){var e=Nh&&Nh.__assign||function(){return e=Object.assign||function(h){for(var p,g=1,v=arguments.length;g<v;g++){p=arguments[g];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(h[y]=p[y])}return h},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var n=Iu();Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return n.Facade}});var r=dG();Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return r.Alias}});var i=fG();Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var a=PT();Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return a.Identify}});var o=CS();Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return o.Track}});var s=LT();Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return s.Page}});var u=hG();Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return u.Screen}});var l=pG();Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return l.Delete}}),t.default=e(e({},n.Facade),{Alias:r.Alias,Group:i.Group,Identify:a.Identify,Track:o.Track,Page:s.Page,Screen:u.Screen,Delete:l.Delete})}(Nh)),Nh}var eu=mG();function Tv(t,e){var n=new eu.Facade(t,e);return t.type==="track"&&(n=new eu.Track(t,e)),t.type==="identify"&&(n=new eu.Identify(t,e)),t.type==="page"&&(n=new eu.Page(t,e)),t.type==="alias"&&(n=new eu.Alias(t,e)),t.type==="group"&&(n=new eu.Group(t,e)),t.type==="screen"&&(n=new eu.Screen(t,e)),Object.defineProperty(n,"obj",{value:t,writable:!0}),n}var gG=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},DT=function(t){Fi(e,t);function e(n,r){var i=t.call(this,n)||this;return i.retryTimeout=r,i.name="RateLimitError",i}return e}(Error),BT=function(t){return it({"Content-Type":"text/plain"},typeof t=="function"?t():t)},vG=500,yG=64;function NS(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function bG(t){return NS(t)>=vG-50}function wG(t){return NS(t)>=yG-10}function xG(t){var e=[],n=0;return t.forEach(function(r){var i=NS(e[n]);i>=64&&n++,e[n]?e[n].push(r):e[n]=[r]}),e}function EG(t,e){var n,r,i=[],a=!1,o=(n=e?.size)!==null&&n!==void 0?n:10,s=(r=e?.timeout)!==null&&r!==void 0?r:5e3,u=0;function l(y){var w;if(y.length!==0){var C=(w=y[0])===null||w===void 0?void 0:w.writeKey,x=y.map(function(M){var k=M;k.sentAt;var z=pT(k,["sentAt"]);return z});return Hy("https://".concat(t,"/b"),{credentials:e?.credentials,keepalive:e?.keepalive||a,headers:BT(e?.headers),method:"post",body:JSON.stringify({writeKey:C,batch:x,sentAt:new Date().toISOString()}),priority:e?.priority}).then(function(M){var k;if(M.status>=500)throw new Error("Bad response from server: ".concat(M.status));if(M.status===429){var z=(k=M.headers)===null||k===void 0?void 0:k.get("x-ratelimit-reset"),P=typeof z=="string"?parseInt(z)*1e3:s;throw new DT("Rate limit exceeded: ".concat(M.status),P)}})}}function h(y){var w;return y===void 0&&(y=1),xt(this,void 0,void 0,function(){var C;return Et(this,function(x){return i.length?(C=i,i=[],[2,(w=l(C))===null||w===void 0?void 0:w.catch(function(M){var k,z=Fo.system();z.log("error","Error sending batch",M),y<=((k=e?.maxRetries)!==null&&k!==void 0?k:10)&&(M.name==="RateLimitError"&&(u=M.retryTimeout),i.push.apply(i,C),i.map(function(P){if("_metadata"in P){var K=P;K._metadata=it(it({},K._metadata),{retryCount:y})}}),g(y+1))})]):[2]})})}var p;function g(y){y===void 0&&(y=1),!p&&(p=setTimeout(function(){p=void 0,h(y).catch(console.error)},u||s),u=0)}gG(function(y){if(a=y,a&&i.length){var w=xG(i).map(l);Promise.all(w).catch(console.error)}});function v(y,w){return xt(this,void 0,void 0,function(){var C;return Et(this,function(x){return i.push(w),C=i.length>=o||bG(i)||e?.keepalive&&wG(i),[2,C||a?h():g()]})})}return{dispatch:v}}function SG(t){function e(n,r){return Hy(n,{credentials:t?.credentials,keepalive:t?.keepalive,headers:BT(t?.headers),method:"post",body:JSON.stringify(r),priority:t?.priority}).then(function(i){var a;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var o=(a=i.headers)===null||a===void 0?void 0:a.get("x-ratelimit-reset"),s=o?parseInt(o)*1e3:5e3;throw new DT("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}function _G(t,e,n,r,i){var a,o=t.user();delete e.options,e.writeKey=n?.apiKey,e.userId=e.userId||o.id(),e.anonymousId=e.anonymousId||o.anonymousId(),e.sentAt=new Date;var s=t.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=it(it({},e._metadata),{retryCount:i.attempts})),i.attempts++);var u=[],l=[];for(var h in r){var p=r[h];h==="Segment.io"&&u.push(h),p.bundlingStatus==="bundled"&&u.push(h),p.bundlingStatus==="unbundled"&&l.push(h)}for(var g=0,v=n?.unbundledIntegrations||[];g<v.length;g++){var y=v[g];l.includes(y)||l.push(y)}var w=(a=n?.maybeBundledConfigIds)!==null&&a!==void 0?a:{},C=[];return u.sort().forEach(function(x){var M;((M=w[x])!==null&&M!==void 0?M:[]).forEach(function(k){C.push(k)})}),n?.addBundledMetadata!==!1&&(e._metadata=it(it({},e._metadata),{bundled:u.sort(),unbundled:l.sort(),bundledIds:C})),e}var CG=function(t,e){return xt(void 0,void 0,void 0,function(){var n;return Et(this,function(r){return n=function(i){return xt(void 0,void 0,void 0,function(){var a;return Et(this,function(o){switch(o.label){case 0:return t(i)?(a=n,[4,e()]):[3,2];case 1:return[2,a.apply(void 0,[o.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})};function NG(t,e){return xt(this,void 0,void 0,function(){var n,r=this;return Et(this,function(i){switch(i.label){case 0:return n=[],y0()?[2,e]:[4,CG(function(){return e.length>0&&!y0()},function(){return xt(r,void 0,void 0,function(){var a,o,s;return Et(this,function(u){switch(u.label){case 0:return a=e.pop(),a?[4,Qh(a,t)]:[2];case 1:return o=u.sent(),s=o instanceof Fo,s||n.push(a),[2]}})})})];case 1:return i.sent(),n.map(function(a){return e.pushWithBackoff(a)}),[2,e]}})})}function _d(t,e,n,r){var i=this;t||setTimeout(function(){return xt(i,void 0,void 0,function(){var a,o;return Et(this,function(s){switch(s.label){case 0:return a=!0,[4,NG(n,e)];case 1:return o=s.sent(),a=!1,e.todo>0&&r(a,o,n,r),[2]}})})},Math.random()*5e3)}function AG(t,e){var n,r,i,a,o=t.user();return e.previousId=(i=(r=(n=e.previousId)!==null&&n!==void 0?n:e.from)!==null&&r!==void 0?r:o.id())!==null&&i!==void 0?i:o.anonymousId(),e.userId=(a=e.userId)!==null&&a!==void 0?a:e.to,delete e.from,delete e.to,e}var jG=function(t){return t.name==="Segment.io"};function MG(t,e,n){var r,i,a;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(u)),u.clear()});var o=(r=e?.apiKey)!==null&&r!==void 0?r:"",s=t.options.disableClientPersistence?new gS(t.queue.queue.maxAttempts,[]):new wS(t.queue.queue.maxAttempts,"".concat(o,":dest-Segment.io")),u=new Set,l=!1,h=(i=e?.apiHost)!==null&&i!==void 0?i:yT,p=(a=e?.protocol)!==null&&a!==void 0?a:"https",g="".concat(p,"://").concat(h),v=e?.deliveryStrategy,y=v&&"strategy"in v&&v.strategy==="batching"?EG(h,v.config):SG(v?.config);function w(x){return xt(this,void 0,void 0,function(){var M,k;return Et(this,function(z){return y0()?(s.push(x),_d(l,s,C,_d),[2,x]):(u.add(x),M=x.event.type.charAt(0),k=Tv(x.event).json(),x.event.type==="track"&&delete k.traits,x.event.type==="alias"&&(k=AG(t,k)),s.getAttempts(x)>=s.maxAttempts?(u.delete(x),[2,x]):[2,y.dispatch("".concat(g,"/").concat(M),_G(t,k,e,n,x)).then(function(){return x}).catch(function(P){if(x.log("error","Error sending event",P),P.name==="RateLimitError"){var K=P.retryTimeout;s.pushWithBackoff(x,K)}else s.pushWithBackoff(x);return _d(l,s,C,_d),x}).finally(function(){u.delete(x)})])})})}var C={metadata:{writeKey:o,apiHost:h,protocol:p},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:w,identify:w,page:w,alias:w,group:w,screen:w};return s.todo&&_d(l,s,C,_d),C}var Fl="This is being deprecated and will be not be available in future releases of Analytics JS",k3=bS(),I3=k3?.analytics;function OG(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=e?10:1,i=n?new gS(r,[]):new wS(r,t);return new FV(i)}var kG=function(){function t(e,n){var r;this.timeout=300,this._getSegmentPluginMetadata=function(){var a;return(a=n.plugins.find(jG))===null||a===void 0?void 0:a.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(r=e.cdnSettings)!==null&&r!==void 0?r:i,this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,n;return(n=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||n===void 0?void 0:n.apiHost},enumerable:!1,configurable:!0}),t}();function Ss(){console.warn(Fl)}var UT=function(t){Fi(e,t);function e(n,r,i,a,o){var s=this,u,l;s=t.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=Ss,s.addIntegrationMiddleware=Ss,s.listeners=Ss,s.addEventListener=Ss,s.removeAllListeners=Ss,s.removeListener=Ss,s.removeEventListener=Ss,s.hasListeners=Ss,s.add=Ss,s.addIntegration=Ss;var h=r?.cookie,p=(u=r?.disableClientPersistence)!==null&&u!==void 0?u:!1;s.queue=i??OG("".concat(n.writeKey,":event-queue"),r?.retryQueue,p),s.settings=new kG(n,s.queue);var g=r?.storage;return s._universalStorage=s.createStore(p,g,h),s._user=a??new OT(it({persist:!p,storage:r?.storage},r?.user),h).load(),s._group=o??new GV(it({persist:!p,storage:r?.storage},r?.group),h).load(),s.eventFactory=new LV(s._user),s.integrations=(l=r?.integrations)!==null&&l!==void 0?l:{},s.options=r??{},xS(s),s}return e.prototype.createStore=function(n,r,i){return n?new bu([new ES]):r&&jT(r)?new bu(kE(MT(r.stores,i))):new bu(kE([Ti.LocalStorage,{name:Ti.Cookie,settings:i},Ti.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a,o,s,u,l,h,p=this;return Et(this,function(g){return i=Ed(n),a=EV.apply(void 0,n),o=a[0],s=a[1],u=a[2],l=a[3],h=this.eventFactory.track(o,s,u,this.integrations,i),[2,this._dispatch(h,l).then(function(v){return p.emit("track",o,v.event.properties,v.event.options),v})]})})},e.prototype.page=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a,o,s,u,l,h,p,g=this;return Et(this,function(v){return i=Ed(n),a=sj.apply(void 0,n),o=a[0],s=a[1],u=a[2],l=a[3],h=a[4],p=this.eventFactory.page(o,s,u,l,this.integrations,i),[2,this._dispatch(p,h).then(function(y){return g.emit("page",o,s,y.event.properties,y.event.options),y})]})})},e.prototype.identify=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a,o,s,u,l,h,p=this;return Et(this,function(g){return i=Ed(n),a=oj(this._user).apply(void 0,n),o=a[0],s=a[1],u=a[2],l=a[3],this._user.identify(o,s),h=this.eventFactory.identify(this._user.id(),this._user.traits(),u,this.integrations,i),[2,this._dispatch(h,l).then(function(v){return p.emit("identify",v.event.userId,v.event.traits,v.event.options),v})]})})},e.prototype.group=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=Ed(r);if(r.length===0)return this._group;var o=oj(this._group).apply(void 0,r),s=o[0],u=o[1],l=o[2],h=o[3];this._group.identify(s,u);var p=this._group.id(),g=this._group.traits(),v=this.eventFactory.group(p,g,l,this.integrations,a);return this._dispatch(v,h).then(function(y){return n.emit("group",y.event.groupId,y.event.traits,y.event.options),y})},e.prototype.alias=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a,o,s,u,l,h,p=this;return Et(this,function(g){return i=Ed(n),a=SV.apply(void 0,n),o=a[0],s=a[1],u=a[2],l=a[3],h=this.eventFactory.alias(o,s,u,this.integrations,i),[2,this._dispatch(h,l).then(function(v){return p.emit("alias",o,s,v.event.options),v})]})})},e.prototype.screen=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a,o,s,u,l,h,p,g=this;return Et(this,function(v){return i=Ed(n),a=sj.apply(void 0,n),o=a[0],s=a[1],u=a[2],l=a[3],h=a[4],p=this.eventFactory.screen(o,s,u,l,this.integrations,i),[2,this._dispatch(p,h).then(function(y){return g.emit("screen",o,s,y.event.properties,y.event.options),y})]})})},e.prototype.trackClick=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a;return Et(this,function(o){switch(o.label){case 0:return[4,yn(()=>import("./auto-track-DMEAo0rB.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,pr([this],n,!1))]}})})},e.prototype.trackLink=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a;return Et(this,function(o){switch(o.label){case 0:return[4,yn(()=>import("./auto-track-DMEAo0rB.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,pr([this],n,!1))]}})})},e.prototype.trackSubmit=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a;return Et(this,function(o){switch(o.label){case 0:return[4,yn(()=>import("./auto-track-DMEAo0rB.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,pr([this],n,!1))]}})})},e.prototype.trackForm=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a;return Et(this,function(o){switch(o.label){case 0:return[4,yn(()=>import("./auto-track-DMEAo0rB.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,pr([this],n,!1))]}})})},e.prototype.register=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a,o=this;return Et(this,function(s){switch(s.label){case 0:return i=Fo.system(),a=n.map(function(u){return o.queue.register(i,u,o)}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xt(this,void 0,void 0,function(){var i,a,o=this;return Et(this,function(s){switch(s.label){case 0:return i=Fo.system(),a=n.map(function(u){var l=o.queue.plugins.find(function(h){return h.name===u});if(l)return o.queue.deregister(i,l,o);i.log("warn","plugin ".concat(u," not found"))}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(n){return n===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=n,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(n){this.settings.timeout=n},e.prototype._dispatch=function(n,r){return xt(this,void 0,void 0,function(){var i;return Et(this,function(a){return i=new Fo(n),i.stats.increment("analytics_js.invoke",1,[n.type]),y0()&&!this.options.retryQueue?[2,i]:[2,xV(i,this.queue,this,{callback:r,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(n){return xt(this,void 0,void 0,function(){var r=this;return Et(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return xt(r,void 0,void 0,function(){var a,o,s;return Et(this,function(u){switch(u.label){case 0:return[4,yn(()=>Promise.resolve().then(()=>GG),void 0)];case 1:return a=u.sent().sourceMiddlewarePlugin,o={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return o[l.name]=!0}),s=a(n,o),[4,this.register(s)];case 2:return u.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return this.queue.plugins.filter(DV).forEach(function(a){(n==="*"||a.name.toLowerCase()===n.toLowerCase())&&a.addMiddleware.apply(a,r)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(n){return this._user.anonymousId(n)},e.prototype.queryString=function(n){return xt(this,void 0,void 0,function(){var r;return Et(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,yn(()=>import("./index-XdGstp89.js"),[])];case 1:return r=i.sent().queryString,[2,r(this,n)]}})})},e.prototype.use=function(n){return n(this),this},e.prototype.ready=function(n){return n===void 0&&(n=function(r){return r}),xt(this,void 0,void 0,function(){return Et(this,function(r){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return n(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Fl),JV(I3??this),this},e.prototype.normalize=function(n){return console.warn(Fl),this.eventFactory.normalize(n)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Fl),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return Ky},enumerable:!1,configurable:!0}),e.prototype.initialize=function(n,r){return xt(this,void 0,void 0,function(){return Et(this,function(i){return console.warn(Fl),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(n){return xt(this,void 0,void 0,function(){return Et(this,function(r){switch(r.label){case 0:return console.warn(Fl),[4,this.page({path:n})];case 1:return r.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var n;return console.warn(Fl),(n=this._plugins)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Fl);var n=this.queue.plugins.filter(function(r){return r.type==="destination"}).reduce(function(r,i){var a="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),o=window[a];if(!o)return r;var s=o.Integration;return s?(r[i.name]=s,r):(r[i.name]=o,r)},{});return n},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var r=this,i=n.shift();i&&!r[i]||r[i].apply(this,n)},e}(mS),Mj=function(t){Fi(e,t);function e(){var n=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return n.initialized=!0,n}return e}(UT),Oj={};function $T(){return typeof process>"u"||!Oj?{}:Oj}var IG=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,TG=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(n){var r,i=(r=n.getAttribute("src"))!==null&&r!==void 0?r:"",a=IG.exec(i);a&&a[1]&&(t=a[1])}),t},av,RG=function(){var t,e=av??((t=kT())===null||t===void 0?void 0:t._cdn);return e},PG=function(t){var e=kT();e&&(e._cdn=t),av=t},AS=function(){var t=RG();if(t)return t;var e=TG();return e||"https://cdn.segment.com"},qle=function(){var t=AS();return"".concat(t,"/next-integrations")};function LG(t,e){var n,r=Object.entries((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(i,a){var o,s,u=a[0],l=a[1];return typeof l=="object"?it(it({},i),(o={},o[u]=l,o)):it(it({},i),(s={},s[u]={},s))},{});return Object.entries(t.integrations).reduce(function(i,a){var o,s=a[0],u=a[1];return it(it({},i),(o={},o[s]=it(it({},u),r[s]),o))},{})}function DG(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function BG(t){return xt(this,void 0,void 0,function(){var e;return Et(this,function(n){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var jh;function UG(){if(jh)return jh;var t=NT(window.location.href);return jh={expires:31536e6,secure:!1,path:"/"},t&&(jh.domain=t),jh}function $G(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var n=t.split("&"),r=0,i=n;r<i.length;r++){var a=i[r],o=a.split("="),s=o[0],u=o[1];if(e[s])return{id:u,type:e[s]}}}function FG(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,n){var r=n.split("="),i=r[0],a=r[1],o=a===void 0?"":a;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=DG(o)}return e},{})}function qG(){var t=Io.get("_ga");if(t&&t.startsWith("amp"))return t}function zG(t,e,n){var r,i=new bu(n?[]:[new AT(UG())]),a=i.get("s:context.referrer"),o=(r=$G(t))!==null&&r!==void 0?r:a;o&&(e&&(e.referrer=it(it({},e.referrer),o)),i.set("s:context.referrer",o))}var HG=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];Array.isArray(i)?i.forEach(function(a){return e.append(r,a)}):e.append(r,i)}),e.toString()}catch{return""}},KG=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(n,r){return xt(e,void 0,void 0,function(){var i;return Et(this,function(a){switch(a.label){case 0:this.instance=r,a.label=1;case 1:return a.trys.push([1,3,,4]),i=this,[4,BG(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(n){var r,i,a=n.event.context,o=a.page.search||"",s=typeof o=="object"?HG(o):o;a.userAgent=navigator.userAgent,a.userAgentData=e.userAgentData;var u=navigator.userLanguage||navigator.language;typeof a.locale>"u"&&typeof u<"u"&&(a.locale=u),(r=a.library)!==null&&r!==void 0||(a.library={name:"analytics.js",version:"".concat("npm:next","-").concat(Ky)}),s&&!a.campaign&&(a.campaign=FG(s));var l=qG();l&&(a.amp={id:l}),zG(s,a,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return n},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),WG=new KG;function FT(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(n){return n.src===t})}function T3(t,e){var n=FT(t);if(n!==void 0){var r=n?.getAttribute("status");if(r==="loaded")return Promise.resolve(n);if(r==="loading")return new Promise(function(i,a){n.addEventListener("load",function(){return i(n)}),n.addEventListener("error",function(o){return a(o)})})}return new Promise(function(i,a){var o,s=window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var u=0,l=Object.entries({});u<l.length;u++){var h=l[u],p=h[0],g=h[1];s.setAttribute(p,g)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),a(new Error("Failed to load ".concat(t)))};var v=window.document.querySelector("script");v?(o=v.parentElement)===null||o===void 0||o.insertBefore(s,v):window.document.head.appendChild(s)})}function zle(t){var e=FT(t);return e!==void 0&&e.remove(),Promise.resolve()}function qT(t,e,n){return xt(this,void 0,void 0,function(){function r(l,h){return xt(this,void 0,void 0,function(){var p,g,v;return Et(this,function(y){switch(y.label){case 0:return p=!1,g=null,[4,h({payload:Tv(l,{clone:!0,traverse:!1}),integration:t,next:function(w){p=!0,w===null&&(g=null),w&&(g=w.obj)}})];case 1:return y.sent(),!p&&g!==null&&(g=g,g.integrations=it(it({},l.integrations),(v={},v[t]=!1,v))),[2,g]}})})}var i,a,o,s,u;return Et(this,function(l){switch(l.label){case 0:i=Tv(e,{clone:!0,traverse:!1}).rawEvent(),a=0,o=n,l.label=1;case 1:return a<o.length?(s=o[a],[4,r(i,s)]):[3,4];case 2:if(u=l.sent(),u===null)return[2,null];i=u,l.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function VG(t,e){function n(r){return xt(this,void 0,void 0,function(){var i;return Et(this,function(a){switch(a.label){case 0:return i=!1,[4,t({payload:Tv(r.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(o){i=!0,o&&(r.event=o.obj)}})];case 1:if(a.sent(),!i)throw new sf({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(r){return Promise.resolve(r)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}const GG=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:qT,sourceMiddlewarePlugin:VG},Symbol.toStringTag,{value:"Module"}));function lg(t,e){var n=e.methodName,r=e.integrationName,i=e.type,a=e.didError,o=a===void 0?!1:a;t.stats.increment("analytics_js.integration.invoke".concat(o?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(i)])}var YG=function(){function t(e,n){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=mT(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=n,this.name=e,this.type=n.type,this.alternativeNames.push(n.name)}return t.prototype.addMiddleware=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type==="destination"&&(e=this.middleware).push.apply(e,n)},t.prototype.transform=function(e){return xt(this,void 0,void 0,function(){var n;return Et(this,function(r){switch(r.label){case 0:return[4,qT(this.name,e.event,this.middleware)];case 1:return n=r.sent(),n===null&&e.cancel(new sf({retry:!1,reason:"dropped by destination middleware"})),[2,new Fo(n)]}})})},t.prototype._createMethod=function(e){var n=this;return function(r){return xt(n,void 0,void 0,function(){var i,a;return Et(this,function(o){switch(o.label){case 0:return this.action[e]?(i=r,this.type!=="destination"?[3,2]:[4,this.transform(r)]):[2,r];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return lg(r,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return o.sent(),[3,6];case 5:throw a=o.sent(),lg(r,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),a;case 6:return[2,r]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return xt(this,void 0,void 0,function(){return Et(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,n){return xt(this,void 0,void 0,function(){var r,i,a,o;return Et(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),lg(e,{integrationName:this.action.name,methodName:"load",type:"action"}),r=this.action.load(e,n),a=(i=this.loadPromise).resolve,[4,r];case 2:return a.apply(i,[s.sent()]),[2,r];case 3:throw o=s.sent(),lg(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(o),o;case 4:return[2]}})})},t.prototype.unload=function(e,n){var r,i;return(i=(r=this.action).unload)===null||i===void 0?void 0:i.call(r,e,n)},t}();function JG(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(n){e.forEach(function(r){var i;if(n[r]===void 0)throw new Error("Plugin: ".concat((i=n.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(r))})}),!0}function ZG(t,e){var n=t[e.creationName],r=t[e.name];return t.All===!1&&!n&&!r||n===!1||r===!1}function QG(t,e){return xt(this,void 0,void 0,function(){var n,r,i,a,o,s;return Et(this,function(u){switch(u.label){case 0:if(u.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=AS(),!e)return[3,6];i=t.url.split("/"),a=i[i.length-2],o=t.url.replace(a,btoa(a).replace(/=/g,"")),u.label=1;case 1:return u.trys.push([1,3,,5]),[4,T3(o.replace(n,r))];case 2:return u.sent(),[3,5];case 3:return u.sent(),[4,T3(t.url.replace(n,r))];case 4:return u.sent(),[3,5];case 5:return[3,8];case 6:return[4,T3(t.url.replace(n,r))];case 7:u.sent(),u.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw s=u.sent(),console.error("Failed to create PluginFactory",t),s;case 10:return[2]}})})}function XG(t,e,n,r,i,a){var o,s,u;return xt(this,void 0,void 0,function(){var l,h,p,g=this;return Et(this,function(v){switch(v.label){case 0:return l=[],h=(s=(o=t.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&s!==void 0?s:[],p=((u=t.remotePlugins)!==null&&u!==void 0?u:[]).map(function(y){return xt(g,void 0,void 0,function(){var w,C,x,M,k,z,P;return Et(this,function(K){switch(K.label){case 0:if(ZG(e,y))return[2];K.label=1;case 1:return K.trys.push([1,6,,7]),C=a?.find(function(W){var B=W.pluginName;return B===y.name}),C?[3,3]:[4,QG(y,r?.obfuscate)];case 2:C=K.sent(),K.label=3;case 3:return w=C,w?(x=n[y.name],[4,w(it(it({},y.settings),x))]):[3,5];case 4:M=K.sent(),k=Array.isArray(M)?M:[M],JG(k),z=h.filter(function(W){return W.destinationName===y.creationName}),k.forEach(function(W){var B=new YG(y.creationName,W);z.length&&i&&B.addMiddleware(i),l.push(B)}),K.label=5;case 5:return[3,7];case 6:return P=K.sent(),console.warn("Failed to load Remote Plugin",P),[3,7];case 7:return[2]}})})}),[4,Promise.all(p)];case 1:return v.sent(),[2,l.filter(Boolean)]}})})}var R3,kj,eY=bS(),Ij=(R3=(kj=eY).__SEGMENT_INSPECTOR__)!==null&&R3!==void 0?R3:kj.__SEGMENT_INSPECTOR__={},tY=function(t){var e;return(e=Ij.attach)===null||e===void 0?void 0:e.call(Ij,t)};function nY(t,e){return Hy("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(r){throw new Error(r)})}).catch(function(n){throw console.error(n.message),n})}function rY(t){return $T().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function iY(t){var e,n,r;return $T().NODE_ENV!=="test"&&((r=(n=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0)>0}function aY(t,e){tG(t,e),eG(t,e)}function sY(t,e,n){return xt(this,void 0,void 0,function(){return Et(this,function(r){switch(r.label){case 0:return[4,lY(t,e)];case 1:return r.sent(),nG(t,n),[2]}})})}var oY=function(){var t,e,n=(t=window.location.hash)!==null&&t!==void 0?t:"",r=(e=window.location.search)!==null&&e!==void 0?e:"",i=r.length?r:n.replace(/(?=#).*(?=\?)/,"");return i},lY=function(t,e){return xt(void 0,void 0,void 0,function(){return Et(this,function(n){switch(n.label){case 0:return e.includes("ajs_")?[4,t.queryString(e).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};function cY(t,e,n,r,i,a,o){var s,u,l;return i===void 0&&(i=[]),xt(this,void 0,void 0,function(){var h,p,g,v,y,w,C,x,M,k,z,P,K,W,B,D=this;return Et(this,function($){switch($.label){case 0:return aY(n,o),h=i?.filter(function(T){return typeof T=="object"}),p=i?.filter(function(T){return typeof T=="function"&&typeof T.pluginName=="string"}),iY(e)?[4,yn(()=>import("./index-7O0TZzl3.js"),[]).then(function(T){return T.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return v=$.sent(),[3,3];case 2:v=void 0,$.label=3;case 3:return g=v,rY(e)||a.length>0?[4,yn(()=>import("./index-CbshS3Pv.js"),__vite__mapDeps([0,1])).then(function(T){return T.ajsDestinations(t,e,n.integrations,r,g,a)})]:[3,5];case 4:return w=$.sent(),[3,6];case 5:w=[],$.label=6;case 6:return y=w,e.legacyVideoPluginsEnabled?[4,yn(()=>import("./index-DlGNfl_d.js"),[]).then(function(T){return T.loadLegacyVideoPlugins(n)})]:[3,8];case 7:$.sent(),$.label=8;case 8:return!((s=r.plan)===null||s===void 0)&&s.track?[4,yn(()=>import("./index-BxNOrR5M.js"),__vite__mapDeps([2,1])).then(function(T){var b;return T.schemaFilter((b=r.plan)===null||b===void 0?void 0:b.track,e)})]:[3,10];case 9:return x=$.sent(),[3,11];case 10:x=void 0,$.label=11;case 11:return C=x,M=LG(e,r),[4,XG(e,n.integrations,M,r,g,p).catch(function(){return[]})];case 12:return k=$.sent(),z=pr(pr([WG],y,!0),k,!0),C&&z.push(C),P=((u=r.integrations)===null||u===void 0?void 0:u.All)===!1&&!r.integrations["Segment.io"]||r.integrations&&r.integrations["Segment.io"]===!1,P?[3,14]:(W=(K=z).push,[4,MG(n,M["Segment.io"],e.integrations)]);case 13:W.apply(K,[$.sent()]),$.label=14;case 14:return[4,n.register.apply(n,pr(pr([],z,!1),h,!1))];case 15:return B=$.sent(),[4,XV(n,o)];case 16:return $.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(T){var b=T[1];return b})?[4,yn(()=>import("./index-D1dPQik1.js"),[]).then(function(T){var b=T.remoteMiddlewares;return xt(D,void 0,void 0,function(){var _,A;return Et(this,function(N){switch(N.label){case 0:return[4,b(B,e,r.obfuscate)];case 1:return _=N.sent(),A=_.map(function(O){return n.addSourceMiddleware(O)}),[2,Promise.all(A)]}})})})]:[3,18];case 17:$.sent(),$.label=18;case 18:return[4,QV(n,o)];case 19:return $.sent(),[2,B]}})})}function uY(t,e,n){var r,i,a,o,s,u,l,h,p;return e===void 0&&(e={}),xt(this,void 0,void 0,function(){var g,v,y,w,C,x,M,k,z,P,K;return Et(this,function(W){switch(W.label){case 0:return e.disable===!0?[2,[new Mj,Fo.system()]]:(e.globalAnalyticsKey&&YV(e.globalAnalyticsKey),t.cdnURL&&PG(t.cdnURL),e.initialPageview&&n.add(new IE("page",[])),g=oY(),v=(r=t.cdnURL)!==null&&r!==void 0?r:AS(),(i=t.cdnSettings)!==null&&i!==void 0?(w=i,[3,3]):[3,1]);case 1:return[4,nY(t.writeKey,v)];case 2:w=W.sent(),W.label=3;case 3:return y=w,e.updateCDNSettings&&(y=e.updateCDNSettings(y)),typeof e.disable!="function"?[3,5]:[4,e.disable(y)];case 4:if(C=W.sent(),C)return[2,[new Mj,Fo.system()]];W.label=5;case 5:return x=(o=(a=y.integrations["Segment.io"])===null||a===void 0?void 0:a.retryQueue)!==null&&o!==void 0?o:!0,e=it({retryQueue:x},e),M=new UT(it(it({},t),{cdnSettings:y,cdnURL:v}),e),tY(M),k=(s=t.plugins)!==null&&s!==void 0?s:[],z=(u=t.classicIntegrations)!==null&&u!==void 0?u:[],P=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],bT.initRemoteMetrics(it(it({},y.metrics),{host:(h=P?.apiHost)!==null&&h!==void 0?h:(p=y.metrics)===null||p===void 0?void 0:p.host,protocol:P?.protocol})),[4,cY(t.writeKey,y,M,e,k,z,n)];case 6:return K=W.sent(),M.initialized=!0,M.emit("initialize",t,e),[4,sY(M,g,n)];case 7:return W.sent(),[2,[M,K]]}})})}var dY=function(t){Fi(e,t);function e(){var n=this,r=mT(),i=r.promise,a=r.resolve;return n=t.call(this,function(o){return i.then(function(s){var u=s[0],l=s[1];return uY(u,l,o)})})||this,n._resolveLoadStart=function(o,s){return a([o,s])},n}return e.prototype.load=function(n,r){return r===void 0&&(r={}),this._resolveLoadStart(n,r),this},e.load=function(n,r){return r===void 0&&(r={}),new e().load(n,r)},e.standalone=function(n,r){return e.load({writeKey:n},r).then(function(i){return i[0]})},e}(iG);const fY=globalThis,P3="<anonymous>";function hY(t){try{return!t||typeof t!="function"?P3:t.name||P3}catch{return P3}}const zT=Object.prototype.toString;function pY(t){switch(zT.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Yy(t,Error)}}function HT(t,e){return zT.call(t)===`[object ${e}]`}function mY(t){return HT(t,"String")}function gY(t){return HT(t,"Object")}function vY(t){return typeof Event<"u"&&Yy(t,Event)}function yY(t){return typeof Element<"u"&&Yy(t,Element)}function bY(t){return gY(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Yy(t,e){try{return t instanceof e}catch{return!1}}function wY(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}const xY=fY,EY=80;function SY(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let a=0,o=0;const s=" > ",u=s.length;let l;const h=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||EY;for(;n&&a++<r&&(l=_Y(n,h),!(l==="html"||a>1&&o+i.length*u+l.length>=p));)i.push(l),o+=l.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function _Y(t,e){const n=t,r=[];if(!n?.tagName)return"";if(xY.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e?.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&mY(o)){const s=o.split(/\s+/);for(const u of s)r.push(`.${u}`)}}const a=["aria-label","type","name","title","alt"];for(const o of a){const s=n.getAttribute(o);s&&r.push(`[${o}="${s}"]`)}return r.join("")}function CY(t){if(pY(t))return{message:t.message,name:t.name,stack:t.stack,...Rj(t)};if(vY(t)){const e={type:t.type,target:Tj(t.target),currentTarget:Tj(t.currentTarget),...Rj(t)};return typeof CustomEvent<"u"&&Yy(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Tj(t){try{return yY(t)?SY(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Rj(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function NY(t,e=100,n=1/0){try{return TE("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function TE(t,e,n=1/0,r=1/0,i=MY()){const[a,o]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const s=AY(t,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return s.replace("object ","");if(a(e))return"[Circular ~]";const l=e;if(l&&typeof l.toJSON=="function")try{const v=l.toJSON();return TE("",v,u-1,r,i)}catch{}const h=Array.isArray(e)?[]:{};let p=0;const g=CY(e);for(const v in g){if(!Object.prototype.hasOwnProperty.call(g,v))continue;if(p>=r){h[v]="[MaxProperties ~]";break}const y=g[v];h[v]=TE(v,y,u-1,r,i),p++}return o(e),h}function AY(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof globalThis<"u"&&e===globalThis)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(wY(e))return"[VueViewModel]";if(bY(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${hY(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=jY(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function jY(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function MY(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}class Xh{constructor(e){Ne(this,"sentry",void 0),Ne(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){const n=e.findIndex(l=>l instanceof Error),r=e.findIndex(l=>typeof l=="string"),i=e.findIndex(l=>l&&typeof l=="object"&&"status"in l&&"type"in l),a=e.findIndex(l=>l&&typeof l=="object"&&"isAxiosError"in l&&l.isAxiosError===!0);let o;if(i!==-1){var s;const l=e[i],h=(s=l.headers)===null||s===void 0?void 0:s.get("content-type");if(h.includes("application/json")){const p=await l.json();o=new Error(p?.error||p?.message||JSON.stringify(p))}else h.includes("text/plain")?o=new Error(await l.text()):o=new Error(`${l.status} ${l.type.toString()} ${l.statusText}`)}else if(a!==-1){const h=e[a].response;if(h){var u;const p=(u=h.headers)===null||u===void 0?void 0:u["content-type"];if(p.includes("application/json")){const g=h.data,v="error"in g?g.error:"message"in g?g.message:JSON.stringify(g);o=new Error(v)}else p.includes("text/plain")?o=new Error(h.data):o=new Error(`${h.status} ${h.data.toString()}`)}else o=new Error("Network error")}else n!==-1?o=e.splice(n,1)[0]:r!==-1?o=new Error(e.splice(r,1)[0]):o=new Error("Unknown error");return[o,e]}static translateArgs(e){const n=e.findIndex(i=>typeof i=="string"),r=n!==-1?e.splice(n,1)[0]:void 0;return r?{message:r,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){const n=e.methodFactory;e.methodFactory=(r,i,a)=>{a&&(this.category=a.toString());const o=n(r,i,a),s=typeof window<"u",u=(...l)=>{var h;const p=(h=this.sentry)===null||h===void 0?void 0:h.getActiveSpan(),{traceId:g,spanId:v}=p?.spanContext()||{},y=r==="error"&&l.length>=1&&l[0]instanceof Error;if(s){if(y){const x=l[0],M=g||v?`${x.message}: traceId: ${g} - spanId: ${v}`:x.message,z=[new Error(M,{cause:x}),...l.slice(1)];o&&o(...z);return}o&&o(...l)}else{let x={timestamp:new Date,level:r.toUpperCase(),logger:a};if((g||v)&&(x=we(we({},x),{},{traceId:g,spanId:v})),y){var w;const M=l[0];x=we(we({},x),{},{message:(w=M.message)!==null&&w!==void 0?w:"",stack:M.stack,extra:l.length>1?l.slice(1):void 0})}else{var C;x=we(we({},x),{},{message:(C=l[0])!==null&&C!==void 0?C:"",extra:l.length>1?l.slice(1):void 0})}o&&o(JSON.stringify(NY(x)))}};switch(r){case"error":return async(...l)=>{const{stack:h}=l.find(v=>v instanceof Error)||new Error,[p,g]=await Xh.translateError(l);p.stack=h,this.error(p,...g),u(p,...g)};default:return(...l)=>{this.log(Xh.translateLevel(r),...l),u(...l)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){const n=this.sentry.getClient().getOptions();n&&(n.enabled=e)}}isEnabled(){if(this.sentry){var e;const n=this.sentry.getClient().getOptions();return(e=n?.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...n){this.sentry&&this.sentry.addBreadcrumb(we(we({},Xh.translateArgs(n)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...n){if(this.sentry){const r={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:n}};this.sentry.captureException(e,r)}}}const at=Qo.getLogger("web3auth-logger"),OY=new Xh;OY.install(at);const kY="f6LbNqCeVRf512ggdME4b6CyflhF1tsX";class IY{constructor(){Ne(this,"segment",void 0),Ne(this,"globalProperties",{}),Ne(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new dY,this.segment.load({writeKey:kY},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(at.debug("Analytics initialized"),!0)).catch(e=>{at.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=we(we({},this.globalProperties),e)}async identify(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,we({},n))}catch(r){at.error(`Failed to identify user ${e} in analytics`,r)}}async track(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,we(we({},n),this.globalProperties))}catch(r){at.error(`Failed to track event ${e}`,r)}}getSegment(){if(!this.segment)throw at.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){const e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}}const Nn={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},KT={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},WT={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"},Mh={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Pj={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},TY={[Pj.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[Pj.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Mh.MAINNET]:"https://api.web3auth.io/signer-service",[Mh.TESTNET]:"https://api.web3auth.io/signer-service",[Mh.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Mh.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Mh.CELESTE]:"https://api.web3auth.io/signer-polygon-service"};class Ba extends SI{constructor(e,n,r){super(n),Ne(this,"code",void 0),Ne(this,"message",void 0),Ne(this,"cause",void 0),this.code=e,this.message=n||"",this.cause=r,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}}class lt extends Ba{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,n="",r){return new lt(e,`${lt.messages[e]}, ${n}`,r)}static notFound(e="",n){return lt.fromCode(5001,e,n)}static notInstalled(e="",n){return lt.fromCode(5002,e,n)}static notReady(e="",n){return lt.fromCode(5003,e,n)}static windowBlocked(e="",n){return lt.fromCode(5004,e,n)}static windowClosed(e="",n){return lt.fromCode(5005,e,n)}static incompatibleChainNameSpace(e="",n){return lt.fromCode(5006,e,n)}static duplicateConnectorError(e="",n){return lt.fromCode(5007,e,n)}static invalidProviderConfigError(e="",n){return lt.fromCode(5008,e,n)}static providerNotReadyError(e="",n){return lt.fromCode(5009,e,n)}static rpcConnectionError(e="",n){return lt.fromCode(5010,e,n)}static invalidParams(e="",n){return lt.fromCode(5011,e,n)}static invalidNetwork(e="",n){return lt.fromCode(5013,e,n)}}Ne(lt,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class Ct extends Ba{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,n="",r){return new Ct(e,`${Ct.messages[e]}. ${n}`,r)}static connectionError(e="",n){return Ct.fromCode(5111,e,n)}static disconnectionError(e="",n){return Ct.fromCode(5112,e,n)}static notConnectedError(e="",n){return Ct.fromCode(5113,e,n)}static popupClosed(e="",n){return Ct.fromCode(5114,e,n)}static mfaEnabled(e="",n){return Ct.fromCode(5115,e,n)}static chainConfigNotAdded(e="",n){return Ct.fromCode(5116,e,n)}static unsupportedOperation(e="",n){return Ct.fromCode(5117,e,n)}static sfaKeyNotFound(e="",n){return Ct.fromCode(5118,e,n)}static userNotLoggedIn(e="",n){return Ct.fromCode(5119,e,n)}}Ne(Ct,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});class is extends Ba{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,n="",r){return new is(e,`${is.messages[e]}, ${n}`,r)}static chainIDNotAllowed(e="",n){return is.fromCode(5201,e,n)}static operationNotAllowed(e="",n){return is.fromCode(5202,e,n)}static chainNamespaceNotAllowed(e="",n){return is.fromCode(5203,e,n)}}Ne(is,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class No extends Ba{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,n="",r){return new is(e,`${No.messages[e]}, ${n}`,r)}static invalidRequestArgs(e="",n){return is.fromCode(5301,e,n)}static invalidRequestMethod(e="",n){return is.fromCode(5302,e,n)}static invalidRequestParams(e="",n){return is.fromCode(5303,e,n)}}Ne(No,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const L3=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),RY=(t=Vd.SAPPHIRE_MAINNET)=>TY[t],VT=async({clientId:t,web3AuthNetwork:e,aaProvider:n,authBuildEnv:r})=>{const i=new URL(`${RY(e)}/api/v2/configuration`);return i.searchParams.append("project_id",t),i.searchParams.append("network",e),r&&i.searchParams.append("build_env",r),n&&i.searchParams.append("aa_provider",n),await Ws(i.href)},PY=async t=>await Ws(t),Hle=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e};function To(t,e,n){return e?e.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((r,i)=>{const a=()=>{n?.(),i(new DOMException("Aborted","AbortError"))};return e.addEventListener("abort",a),Promise.resolve().then(()=>t()).then(r,i).finally(()=>{e.removeEventListener("abort",a)})}):t()}const D3=()=>typeof window<"u"&&typeof document<"u",GT=t=>{var e,n;return{whitelabel_app_name:t?.appName,whitelabel_app_url:t?.appUrl,whitelabel_logo_light_enabled:!!t?.logoLight,whitelabel_logo_dark_enabled:!!t?.logoDark,whitelabel_default_language:t?.defaultLanguage,whitelabel_theme_mode:t?.mode,whitelabel_use_logo_loader:t?.useLogoLoader,whitelabel_theme_primary:t==null||(e=t.theme)===null||e===void 0?void 0:e.primary,whitelabel_theme_on_primary:t==null||(n=t.theme)===null||n===void 0?void 0:n.onPrimary,whitelabel_tnc_link_enabled:!!t?.tncLink,whitelabel_privacy_policy_enabled:!!t?.privacyPolicy}},LY=t=>{var e,n,r,i,a;const o=Array.from(new Set(t==null||(e=t.chains)===null||e===void 0?void 0:e.map(u=>{var l;return RE((l=u.bundlerConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean))),s=Array.from(new Set(t==null||(n=t.chains)===null||n===void 0?void 0:n.map(u=>{var l;return RE((l=u.paymasterConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean)));return{aa_smart_account_type:t?.smartAccountType,aa_chain_ids:t==null||(r=t.chains)===null||r===void 0?void 0:r.map(u=>Bd({chainId:u.chainId,chainNamespace:qt.EIP155})),aa_bundler_urls:o,aa_paymaster_urls:s,aa_paymaster_enabled:s.length>0,aa_paymaster_context_enabled:t==null||(i=t.chains)===null||i===void 0?void 0:i.some(u=>{var l;return(l=u.bundlerConfig)===null||l===void 0?void 0:l.paymasterContext}),aa_erc20_paymaster_enabled:t==null||(a=t.chains)===null||a===void 0?void 0:a.some(u=>{var l;return(l=u.bundlerConfig)===null||l===void 0||(l=l.paymasterContext)===null||l===void 0?void 0:l.token})}},DY=t=>{var e,n,r,i,a,o,s,u,l,h,p;return{ws_confirmation_strategy:t?.confirmationStrategy,ws_enable_key_export:t?.enableKeyExport,ws_show_widget_button:t==null||(e=t.whiteLabel)===null||e===void 0?void 0:e.showWidgetButton,ws_button_position:t==null||(n=t.whiteLabel)===null||n===void 0?void 0:n.buttonPosition,ws_hide_nft_display:t==null||(r=t.whiteLabel)===null||r===void 0?void 0:r.hideNftDisplay,ws_hide_token_display:t==null||(i=t.whiteLabel)===null||i===void 0?void 0:i.hideTokenDisplay,ws_hide_transfers:t==null||(a=t.whiteLabel)===null||a===void 0?void 0:a.hideTransfers,ws_hide_topup:t==null||(o=t.whiteLabel)===null||o===void 0?void 0:o.hideTopup,ws_hide_receive:t==null||(s=t.whiteLabel)===null||s===void 0?void 0:s.hideReceive,ws_hide_swap:t==null||(u=t.whiteLabel)===null||u===void 0?void 0:u.hideSwap,ws_hide_show_all_tokens:t==null||(l=t.whiteLabel)===null||l===void 0?void 0:l.hideShowAllTokens,ws_hide_wallet_connect:t==null||(h=t.whiteLabel)===null||h===void 0?void 0:h.hideWalletConnect,ws_default_portfolio:t==null||(p=t.whiteLabel)===null||p===void 0?void 0:p.defaultPortfolio}},YT="10.2.0",Rd=t=>{try{const e=t instanceof Ba?t.code:t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},RE=t=>{try{return new URL(t).hostname}catch{return""}},Bd=t=>t.chainNamespace===qt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===qt.SOLANA?`${t.chainNamespace}:${KW[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`;var B3,Lj;function BY(){if(Lj)return B3;Lj=1,B3=t;function t(e){e=e||{};var n=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*n);return function(){return r=r%n,r++}}return B3}var UY=BY();const $Y=$i(UY);$Y();let FY=function(t){return t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t}({});class qY extends pW{constructor({config:e,state:n}){super({config:e,state:n}),Ne(this,"_providerEngineProxy",null),Ne(this,"keyExportFlagSetByCode",!1);const{chain:r}=e;if(!r)throw lt.invalidProviderConfigError("Please provide chain");if(!r.chainId)throw lt.invalidProviderConfigError("Please provide chainId inside chain");if(!r.rpcTarget)throw lt.invalidProviderConfigError("Please provide rpcTarget inside chain");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var n;if(!e||typeof e!="object"||Array.isArray(e))throw $o.invalidRequest({message:No.invalidRequestArgs().message,data:we(we({},e||{}),{},{cause:No.invalidRequestArgs().message})});const{method:r,params:i}=e;if(typeof r!="string"||r.length===0)throw $o.invalidRequest({message:No.invalidRequestMethod().message,data:we(we({},e||{}),{},{cause:No.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw $o.invalidRequest({message:No.invalidRequestParams().message,data:we(we({},e||{}),{},{cause:No.invalidRequestParams().message})});return(n=this.provider)===null||n===void 0?void 0:n.request(e)}sendAsync(e,n){return n?this.send(e,n):this.request(e)}send(e,n){this.request(e).then(r=>n(null,{result:r})).catch(r=>n(r,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);const n=r=>{r!=="newListener"&&e.on(r,(...i)=>{if(r===FY.CHAIN_CHANGED){const a=i[0];this.update({chainId:a})}this.emit(r,...i)})};this.eventNames().forEach(r=>{n(r)}),this.on("newListener",r=>{this.listenerCount(r)>0||n(r)})}else this._providerEngineProxy=bW(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(n=>n.chainId===e)}}function zY(t){return(e,n,r,i)=>e.method==="chainId"?(n.result=t,i()):r()}function HY(t){return(e,n,r,i)=>e.method==="provider_config"?(n.result=t,i()):r()}function KY(t){const{chainId:e,rpcTarget:n}=t,r=BW({rpcTarget:n});return{networkMiddleware:yK([zY(e),HY(t),r]),fetchMiddleware:r}}var JT;class jS extends qY{constructor({config:e,state:n}){super({config:e,state:n})}async setupProvider(e){const n=this.getChain(e);if(!n)throw F8.custom({message:"Chain not found",code:4902});const{networkMiddleware:r}=KY(n),i=new js;i.push(r);const a=bK(i);this.updateProviderEngineProxy(a),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw F8.custom({message:"Provider is not initialized",code:4902});const n=e.chainId;this.chainId!==n&&(this.update({chainId:"loading"}),await this.setupProvider(n))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}JT=jS;Ne(jS,"getProviderInstance",async t=>{const e=new JT({config:{chain:t.chain,chains:t.chains}}),{chainId:n}=t.chain;return await e.setupProvider(n),e});const WY=t=>{const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:t.location.hostname};function Dj(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}async function VY(t){const{document:e}=t;let n=e.querySelector('head > link[rel="shortcut icon"]');return n&&await Dj(n.href)||(n=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(r=>!!r.href)||null,n&&await Dj(n.href))?n.href:null}function GY(t){const[e,n]=t.split(".");return{header:JSON.parse(Mv(e)),payload:JSON.parse(Mv(n))}}const lc={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},Rv={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},YY=we({},Rv),Pv=we({COINBASE:"coinbase"},Rv),pt=we(we({},Pv),YY),ZT={[Rv.AUTH]:"Auth",[Rv.WALLET_CONNECT_V2]:"Wallet Connect v2",[Pv.COINBASE]:"Coinbase Smart Wallet",[Pv.METAMASK]:"MetaMask"},ct={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored"},ht=we(we({},ct),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),_o={EXTERNAL:"external",IN_APP:"in_app"};class QT extends xc{constructor(e){super(),Ne(this,"connectorData",{}),Ne(this,"isInjected",void 0),Ne(this,"icon",void 0),Ne(this,"coreOptions",void 0),Ne(this,"rehydrated",!1),Ne(this,"connectorNamespace",void 0),Ne(this,"type",void 0),Ne(this,"name",void 0),Ne(this,"status",void 0),this.coreOptions=e.coreOptions}get connnected(){return this.status===ct.CONNECTED}checkConnectionRequirements(){if(!(this.name===pt.WALLET_CONNECT_V2&&this.status===ct.CONNECTING)&&!(this.name===pt.METAMASK&&!this.isInjected&&this.status===ct.CONNECTING)){if(this.status===ct.CONNECTING)throw lt.notReady("Already connecting");if(this.status===ct.CONNECTED)throw Ct.connectionError("Already connected");if(this.status!==ct.READY)throw Ct.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw lt.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw lt.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==qt.OTHER)throw lt.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==qt.OTHER)throw lt.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==lc.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw lt.invalidParams("Connector doesn't support this chain namespace");if(this.status!==ct.NOT_READY){if(this.status===ct.CONNECTED)throw lt.notReady("Already connected");if(this.status===ct.READY)throw lt.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(this.status!==ct.CONNECTED)throw Ct.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,n=!1){if(!n&&!this.provider)throw Ct.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw lt.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(i=>i.chainId===e.chainId&&(i.chainNamespace===this.connectorNamespace||this.connectorNamespace===lc.MULTICHAIN)))throw lt.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(ht.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}class JY extends QT{constructor(e){super(e),Ne(this,"name",pt.AUTH),Ne(this,"connectorNamespace",lc.MULTICHAIN),Ne(this,"type",_o.IN_APP),Ne(this,"authInstance",null),Ne(this,"status",ct.NOT_READY),Ne(this,"privateKeyProvider",null),Ne(this,"authOptions",void 0),Ne(this,"loginSettings",{authConnection:""}),Ne(this,"wsSettings",void 0),Ne(this,"wsEmbedInstance",null),Ne(this,"authConnectionConfig",[]),Ne(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==ct.NOT_READY){var e;if((e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(e){const{chains:n}=this.coreOptions,{chainId:r}=e,i=n.find(p=>p.chainId===r);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw lt.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw lt.invalidParams("authOptions is required before auth's initialization");if(this.authConnectionConfig.length===0)throw lt.invalidParams("authConnectionConfig is required before auth's initialization");const a=this.authOptions.uxMode===Zr.REDIRECT;this.authOptions=we(we({},this.authOptions),{},{replaceUrlOnRedirect:a,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new QH(we(we({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:Cs.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(p=>!p.isDefault),mfaSettings:this.coreOptions.mfaSettings})),at.debug("initializing auth connector init",this.authOptions);const o=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case qt.EIP155:case qt.SOLANA:{var s,u,l,h;const{default:p}=await yn(async()=>{const{default:y}=await import("./index-D4hzu4LN.js");return{default:y}},[]);this.wsEmbedInstance=new p({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});const g=n.filter(y=>y.chainNamespace===qt.EIP155||y.chainNamespace===qt.SOLANA),v=we(we(we({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel),{},{logoLight:((s=this.wsSettings.whiteLabel)===null||s===void 0?void 0:s.logoLight)||((u=this.authOptions.whiteLabel)===null||u===void 0?void 0:u.logoLight)||"",logoDark:((l=this.wsSettings.whiteLabel)===null||l===void 0?void 0:l.logoDark)||((h=this.authOptions.whiteLabel)===null||h===void 0?void 0:h.logoDark)||""});this.wsEmbedInstancePromise=this.wsEmbedInstance.init(we(we({},this.wsSettings),{},{chains:g,chainId:r,whiteLabel:we(we({},v),{},{logoLight:v.logoLight||"",logoDark:v.logoDark||""})})).then(()=>{this.wsEmbedInstancePromise=null});break}case qt.XRPL:throw Ct.connectionError("Private key provider is required for XRPL");default:{const{CommonPrivateKeyProvider:p}=await yn(async()=>{const{CommonPrivateKeyProvider:g}=await import("./index-DoaMiDZz.js");return{CommonPrivateKeyProvider:g}},[]);this.privateKeyProvider=new p({config:{chain:i,chains:this.coreOptions.chains}})}}at.debug("initializing auth connector"),await o,this.status=ct.READY,this.emit(ht.READY,pt.AUTH);try{const{sessionId:p}=this.authInstance||{};if(p&&(e.autoConnect||a))this.rehydrated=!0,await this.connect({chainId:e.chainId});else if(!p&&e.autoConnect)throw Ct.connectionError("Failed to rehydrate")}catch(p){this.emit(ht.REHYDRATION_ERROR,p)}}async connect(e){super.checkConnectionRequirements(),this.status=ct.CONNECTING,this.emit(ht.CONNECTING,we(we({},e),{},{connector:pt.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){var n;throw at.error("Failed to connect with auth provider",r),this.status=ct.READY,this.emit(ht.ERRORED,r),r!=null&&(n=r.message)!==null&&n!==void 0&&n.includes("user closed popup")?Ct.popupClosed():r instanceof Ba?r:Ct.connectionError("Failed to login with auth",r)}}async enableMFA(e={authConnection:""}){if(this.status!==ct.CONNECTED)throw Ct.notConnectedError("Not connected with wallet");if(!this.authInstance)throw lt.notReady("authInstance is not ready");try{const n=await this.authInstance.enableMFA(e);n&&this.emit(ht.MFA_ENABLED,n)}catch(n){throw at.error("Failed to enable MFA with auth provider",n),n instanceof Ba?n:Ct.connectionError("Failed to enable MFA with auth",n)}}async manageMFA(e={authConnection:""}){if(this.status!==ct.CONNECTED)throw Ct.notConnectedError("Not connected with wallet");if(!this.authInstance)throw lt.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(n){throw at.error("Failed to manage MFA with auth provider",n),n instanceof Ba?n:Ct.connectionError("Failed to manage MFA with auth",n)}}async disconnect(e={cleanup:!1}){if(this.status!==ct.CONNECTED)throw Ct.notConnectedError("Not connected with wallet");if(!this.authInstance)throw lt.notReady("authInstance is not ready");this.status=ct.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=ct.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=ct.READY,this.rehydrated=!1,this.emit(ht.DISCONNECTED)}async getIdentityToken(){if(this.status!==ct.CONNECTED)throw Ct.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==ct.CONNECTED)throw Ct.notConnectedError("Not connected with wallet");if(!this.authInstance)throw lt.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const{chainId:r}=e,{chainId:i}=this.provider,{chainNamespace:a}=this.getChain(i),{chainNamespace:o}=this.getChain(r);if(i!==r)if(a===qt.SOLANA||a===qt.EIP155){var s;if(o!==qt.SOLANA&&o!==qt.EIP155)throw Ct.connectionError("Cannot switch to other chain namespace");const l=`${o}:${Number(e.chainId)}`;await((s=this.wsEmbedInstance.provider)===null||s===void 0?void 0:s.request({method:"wallet_switchChain",params:{chainId:l}}))}else{var u;if(a!==o)throw Ct.connectionError("Cannot switch to other chain namespace");await((u=this.privateKeyProvider)===null||u===void 0?void 0:u.switchChain(e))}}async cleanup(){if(!this.authInstance)throw lt.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){const{authConnection:n,authConnectionId:r,groupedAuthConnectionId:i}=e;return this.authConnectionConfig.find(o=>i&&r?o.authConnection===n&&o.groupedAuthConnectionId===i&&o.authConnectionId===r:r?o.authConnection===n&&o.authConnectionId===r:o.authConnection===n&&o.isDefault)}getChain(e){return this.coreOptions.chains.find(n=>n.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw Ct.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var n,r;if(!this.authInstance)throw lt.notReady("authInstance is not ready");const i=this.coreOptions.chains.find(l=>l.chainId===e.chainId);if(!i)throw Ct.connectionError("Chain config is not available");const{chainNamespace:a}=i,o=a===qt.EIP155||a===qt.SOLANA?(n=this.authInstance)===null||n===void 0?void 0:n.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=we(we({},e.extraLoginOptions),{},{id_token:e.idToken})),!o||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var s;this.loginSettings.curve=Uz.OTHER;const l=qn(this.loginSettings,e);(s=e.extraLoginOptions)!==null&&s!==void 0&&s.id_token?await this.connectWithJwtLogin(l):await this.connectWithSocialLogin(l)}if(a===qt.EIP155||a===qt.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;const{sessionId:l,sessionNamespace:h}=this.authInstance||{};if(l&&await this.wsEmbedInstance.loginWithSessionId({sessionId:l,sessionNamespace:h})){var u;this.status=ct.CONNECTED,this.emit(ht.CONNECTED,{connector:pt.AUTH,reconnected:this.rehydrated,provider:this.provider}),(u=this.wsEmbedInstance)===null||u===void 0||u.provider.on("accountsChanged",(g=[])=>{g.length===0&&this.status===ct.CONNECTED&&this.disconnect({cleanup:!1})})}}else{const l=this._getFinalPrivKey();l&&(await this.privateKeyProvider.setupProvider(l,e.chainId),this.status=ct.CONNECTED,this.emit(ht.CONNECTED,{connector:pt.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection))throw Ct.connectionError("Invalid auth connection.");const a=we(we(we({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||((n=e.extraLoginOptions)===null||n===void 0?void 0:n.login_hint)}),o=G4(),s=du(e);s.extraLoginOptions=we(we({},s.extraLoginOptions||{}),{},{login_hint:e.loginHint||((r=e.extraLoginOptions)===null||r===void 0?void 0:r.login_hint)}),delete s.chainId;const u={authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||a.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:a,customState:{nonce:o,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(s),version:gE.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork},l=Lz(u),h=new Ry({url:l.finalURL,timeout:0});if(this.authOptions.uxMode===Zr.REDIRECT)return h.redirect(this.authOptions.replaceUrlOnRedirect);let p=!1;return new Promise((g,v)=>{h.open().catch(w=>{at.error("Error during login with social",w),this.authInstance.postLoginCancelledMessage(o),v(w)});const y=new BI({sameIpCheck:!0});y.subscribe(`web3auth-login-${o}`).then(w=>{const C=JSON.parse(w||"{}");return C?.message==="login_finished"&&(C!=null&&C.error&&(this.authInstance.postLoginCancelledMessage(o),v(C.error)),p=!0,y.cleanup(),h.close()),!0}).catch(w=>{at.error("Error during login with social",w)}),h.once("close",()=>{p||(y.cleanup(),this.authInstance.postLoginCancelledMessage(o),v(Ct.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(s,o).then(g).catch(w=>{if(w instanceof Ba)throw w;v(Ct.connectionError(w instanceof Error?w.message:w||"Failed to login with social"))})})}connectWithJwtLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection)&&!e.authConnectionId)throw Ct.connectionError("Invalid auth connection.");i!=null&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});const a=du(e),o=we(we({},i?.jwtParameters||{}),e.extraLoginOptions||{});let s;if(e.loginHint||(n=e.extraLoginOptions)!==null&&n!==void 0&&n.login_hint){var u;s=e.loginHint||((u=e.extraLoginOptions)===null||u===void 0?void 0:u.login_hint)}else if((r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){const{payload:l}=GY(e.extraLoginOptions.id_token);s=h0(l,a.authConnection,o.userIdField,o.isUserIdCaseSensitive)}else throw Ct.connectionError("Invalid login hint or id_token");return a.extraLoginOptions=we(we({},o),{},{login_hint:s}),delete a.chainId,this.authInstance.postLoginInitiatedMessage(a)}}const ZY=t=>({projectConfig:e,coreOptions:n})=>{var r,i,a,o;const s={},{whitelist:u,sessionTime:l}=e;u&&(s.originData=u.signed_urls),n.sessionTime?s.sessionTime=n.sessionTime:l&&(s.sessionTime=l),(r=n.uiConfig)!==null&&r!==void 0&&r.uxMode&&(s.uxMode=n.uiConfig.uxMode);const h=n.uiConfig||{};s.whiteLabel=h;const p=qn.all([{uxMode:Zr.POPUP,buildEnv:n.authBuildEnv||Oi.PRODUCTION},s,{}]),g=qn.all([h,((i=n.walletServicesConfig)===null||i===void 0?void 0:i.whiteLabel)||{}]),v=we(we({},n.walletServicesConfig),{},{whiteLabel:g,accountAbstractionConfig:n.accountAbstractionConfig,enableLogging:n.enableLogging}),y=(a=(o=n.walletServicesConfig)===null||o===void 0?void 0:o.enableKeyExport)!==null&&a!==void 0?a:!0;return n.privateKeyProvider&&n.privateKeyProvider.setKeyExportFlag(y),new JY({connectorSettings:p,walletServicesSettings:v,loginSettings:we(we({},{}),{},{mfaLevel:n.mfaLevel}),coreOptions:n,authConnectionConfig:e.embeddedWalletAuth})};var cg={exports:{}},Bj;function QY(){return Bj||(Bj=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(o){var s=typeof a<"u"&&a||typeof self<"u"&&self||typeof a<"u"&&a||{},u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(N){return N&&DataView.prototype.isPrototypeOf(N)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(N){return N&&h.indexOf(Object.prototype.toString.call(N))>-1};function g(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function v(N){return typeof N!="string"&&(N=String(N)),N}function y(N){var O={next:function(){var U=N.shift();return{done:U===void 0,value:U}}};return u.iterable&&(O[Symbol.iterator]=function(){return O}),O}function w(N){this.map={},N instanceof w?N.forEach(function(O,U){this.append(U,O)},this):Array.isArray(N)?N.forEach(function(O){if(O.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+O.length);this.append(O[0],O[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(O){this.append(O,N[O])},this)}w.prototype.append=function(N,O){N=g(N),O=v(O);var U=this.map[N];this.map[N]=U?U+", "+O:O},w.prototype.delete=function(N){delete this.map[g(N)]},w.prototype.get=function(N){return N=g(N),this.has(N)?this.map[N]:null},w.prototype.has=function(N){return this.map.hasOwnProperty(g(N))},w.prototype.set=function(N,O){this.map[g(N)]=v(O)},w.prototype.forEach=function(N,O){for(var U in this.map)this.map.hasOwnProperty(U)&&N.call(O,this.map[U],U,this)},w.prototype.keys=function(){var N=[];return this.forEach(function(O,U){N.push(U)}),y(N)},w.prototype.values=function(){var N=[];return this.forEach(function(O){N.push(O)}),y(N)},w.prototype.entries=function(){var N=[];return this.forEach(function(O,U){N.push([U,O])}),y(N)},u.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function C(N){if(!N._noBody){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}}function x(N){return new Promise(function(O,U){N.onload=function(){O(N.result)},N.onerror=function(){U(N.error)}})}function M(N){var O=new FileReader,U=x(O);return O.readAsArrayBuffer(N),U}function k(N){var O=new FileReader,U=x(O),j=/charset=([A-Za-z0-9_-]+)/.exec(N.type),I=j?j[1]:"utf-8";return O.readAsText(N,I),U}function z(N){for(var O=new Uint8Array(N),U=new Array(O.length),j=0;j<O.length;j++)U[j]=String.fromCharCode(O[j]);return U.join("")}function P(N){if(N.slice)return N.slice(0);var O=new Uint8Array(N.byteLength);return O.set(new Uint8Array(N)),O.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:u.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:u.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():u.arrayBuffer&&u.blob&&l(N)?(this._bodyArrayBuffer=P(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||p(N))?this._bodyArrayBuffer=P(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var N=C(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=C(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(M);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var N=C(this);if(N)return N;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(z(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var W=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function B(N){var O=N.toUpperCase();return W.indexOf(O)>-1?O:N}function D(N,O){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var U=O.body;if(N instanceof D){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,O.headers||(this.headers=new w(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!U&&N._bodyInit!=null&&(U=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new w(O.headers)),this.method=B(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal||function(){if("AbortController"in s){var E=new AbortController;return E.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(U),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var I=/\?/;this.url+=(I.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function $(N){var O=new FormData;return N.trim().split("&").forEach(function(U){if(U){var j=U.split("="),I=j.shift().replace(/\+/g," "),E=j.join("=").replace(/\+/g," ");O.append(decodeURIComponent(I),decodeURIComponent(E))}}),O}function T(N){var O=new w,U=N.replace(/\r?\n[\t ]+/g," ");return U.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var I=j.split(":"),E=I.shift().trim();if(E){var L=I.join(":").trim();try{O.append(E,L)}catch(q){console.warn("Response "+q.message)}}}),O}K.call(D.prototype);function b(N,O){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new w(O.headers),this.url=O.url||"",this._initBody(N)}K.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},b.error=function(){var N=new b(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var _=[301,302,303,307,308];b.redirect=function(N,O){if(_.indexOf(O)===-1)throw new RangeError("Invalid status code");return new b(null,{status:O,headers:{location:N}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(O,U){this.message=O,this.name=U;var j=Error(O);this.stack=j.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function A(N,O){return new Promise(function(U,j){var I=new D(N,O);if(I.signal&&I.signal.aborted)return j(new o.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function L(){E.abort()}E.onload=function(){var G={statusText:E.statusText,headers:T(E.getAllResponseHeaders()||"")};I.url.indexOf("file://")===0&&(E.status<200||E.status>599)?G.status=200:G.status=E.status,G.url="responseURL"in E?E.responseURL:G.headers.get("X-Request-URL");var Y="response"in E?E.response:E.responseText;setTimeout(function(){U(new b(Y,G))},0)},E.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},E.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},E.onabort=function(){setTimeout(function(){j(new o.DOMException("Aborted","AbortError"))},0)};function q(G){try{return G===""&&s.location.href?s.location.href:G}catch{return G}}if(E.open(I.method,q(I.url),!0),I.credentials==="include"?E.withCredentials=!0:I.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&(u.blob?E.responseType="blob":u.arrayBuffer&&(E.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof w||s.Headers&&O.headers instanceof s.Headers)){var F=[];Object.getOwnPropertyNames(O.headers).forEach(function(G){F.push(g(G)),E.setRequestHeader(G,v(O.headers[G]))}),I.headers.forEach(function(G,Y){F.indexOf(Y)===-1&&E.setRequestHeader(Y,G)})}else I.headers.forEach(function(G,Y){E.setRequestHeader(Y,G)});I.signal&&(I.signal.addEventListener("abort",L),E.onreadystatechange=function(){E.readyState===4&&I.signal.removeEventListener("abort",L)}),E.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return A.polyfill=!0,s.fetch||(s.fetch=A,s.Headers=w,s.Request=D,s.Response=b),o.Headers=w,o.Request=D,o.Response=b,o.fetch=A,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(cg,cg.exports)),cg.exports}var XY=QY();const XT=$i(XY);var ug={exports:{}},U3,Uj;function eJ(){if(Uj)return U3;Uj=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,a=r*365.25;U3=function(h,p){p=p||{};var g=typeof h;if(g==="string"&&h.length>0)return o(h);if(g==="number"&&isFinite(h))return p.long?u(h):s(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var g=parseFloat(p[1]),v=(p[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*r;case"hours":case"hour":case"hrs":case"hr":case"h":return g*n;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function s(h){var p=Math.abs(h);return p>=r?Math.round(h/r)+"d":p>=n?Math.round(h/n)+"h":p>=e?Math.round(h/e)+"m":p>=t?Math.round(h/t)+"s":h+"ms"}function u(h){var p=Math.abs(h);return p>=r?l(h,p,r,"day"):p>=n?l(h,p,n,"hour"):p>=e?l(h,p,e,"minute"):p>=t?l(h,p,t,"second"):h+" ms"}function l(h,p,g,v){var y=p>=g*1.5;return Math.round(h/g)+" "+v+(y?"s":"")}return U3}var $3,$j;function tJ(){if($j)return $3;$j=1;function t(e){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=a,r.enabled=u,r.humanize=eJ(),r.destroy=h,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function n(p){let g=0;for(let v=0;v<p.length;v++)g=(g<<5)-g+p.charCodeAt(v),g|=0;return r.colors[Math.abs(g)%r.colors.length]}r.selectColor=n;function r(p){let g,v=null,y,w;function C(...x){if(!C.enabled)return;const M=C,k=Number(new Date),z=k-(g||k);M.diff=z,M.prev=g,M.curr=k,g=k,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let P=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(W,B)=>{if(W==="%%")return"%";P++;const D=r.formatters[B];if(typeof D=="function"){const $=x[P];W=D.call(M,$),x.splice(P,1),P--}return W}),r.formatArgs.call(M,x),(M.log||r.log).apply(M,x)}return C.namespace=p,C.useColors=r.useColors(),C.color=r.selectColor(p),C.extend=i,C.destroy=r.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(y!==r.namespaces&&(y=r.namespaces,w=r.enabled(p)),w),set:x=>{v=x}}),typeof r.init=="function"&&r.init(C),C}function i(p,g){const v=r(this.namespace+(typeof g>"u"?":":g)+p);return v.log=this.log,v}function a(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];const g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of g)v[0]==="-"?r.skips.push(v.slice(1)):r.names.push(v)}function o(p,g){let v=0,y=0,w=-1,C=0;for(;v<p.length;)if(y<g.length&&(g[y]===p[v]||g[y]==="*"))g[y]==="*"?(w=y,C=v,y++):(v++,y++);else if(w!==-1)y=w+1,C++,v=C;else return!1;for(;y<g.length&&g[y]==="*";)y++;return y===g.length}function s(){const p=[...r.names,...r.skips.map(g=>"-"+g)].join(",");return r.enable(""),p}function u(p){for(const g of r.skips)if(o(p,g))return!1;for(const g of r.names)if(o(p,g))return!0;return!1}function l(p){return p instanceof Error?p.stack||p.message:p}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return $3=t,$3}var Fj;function nJ(){return Fj||(Fj=1,function(t,e){var n={};e.formatArgs=i,e.save=a,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;l.splice(1,0,h,"color: inherit");let p=0,g=0;l[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(p++,v==="%c"&&(g=p))}),l.splice(g,0,h)}e.log=console.debug||console.log||(()=>{});function a(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=tJ()(e);const{formatters:u}=t.exports;u.j=function(l){try{return JSON.stringify(l)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}(ug,ug.exports)),ug.exports}var rJ=nJ();const hi=$i(rJ);var F3,qj;function iJ(){if(qj)return F3;qj=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(D,$)=>{for(var T in $)t(D,T,{get:$[T],enumerable:!0})},a=(D,$,T,b)=>{if($&&typeof $=="object"||typeof $=="function")for(let _ of n($))!r.call(D,_)&&_!==T&&t(D,_,{get:()=>$[_],enumerable:!(b=e($,_))||b.enumerable});return D},o=D=>a(t({},"__esModule",{value:!0}),D),s={};i(s,{createFinalURL:()=>K,createPathBasedClient:()=>w,createQuerySerializer:()=>k,default:()=>p,defaultBodySerializer:()=>P,defaultPathSerializer:()=>z,mergeHeaders:()=>W,randomID:()=>h,removeTrailingSlash:()=>B,serializeArrayParam:()=>M,serializeObjectParam:()=>x,serializePrimitiveParam:()=>C,wrapAsPathBasedClient:()=>y}),F3=o(s);var u=/\{[^{}]+\}/g,l=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function h(){return Math.random().toString(36).slice(2,11)}function p(D){let{baseUrl:$="",Request:T=globalThis.Request,fetch:b=globalThis.fetch,querySerializer:_,bodySerializer:A,headers:N,requestInitExt:O=void 0,...U}={...D};O=l()?O:void 0,$=B($);const j=[];async function I(E,L){const{baseUrl:q,fetch:F=b,Request:G=T,headers:Y,params:Q={},parseAs:ie="json",querySerializer:Z,bodySerializer:X=A??P,body:te,...ae}=L||{};let oe=$;q&&(oe=B(q)??$);let ee=typeof _=="function"?_:k(_);Z&&(ee=typeof Z=="function"?Z:k({...typeof _=="object"?_:{},...Z}));const le=te===void 0?void 0:X(te,W(N,Y,Q.header)),he=W(le===void 0||le instanceof FormData?{}:{"Content-Type":"application/json"},N,Y,Q.header),ge={redirect:"follow",...U,...ae,body:le,headers:he};let Ee,ye,fe=new T(K(E,{baseUrl:oe,params:Q,querySerializer:ee}),ge),Se;for(const xe in ae)xe in fe||(fe[xe]=ae[xe]);if(j.length){Ee=h(),ye=Object.freeze({baseUrl:oe,fetch:F,parseAs:ie,querySerializer:ee,bodySerializer:X});for(const xe of j)if(xe&&typeof xe=="object"&&typeof xe.onRequest=="function"){const ze=await xe.onRequest({request:fe,schemaPath:E,params:Q,options:ye,id:Ee});if(ze)if(ze instanceof T)fe=ze;else if(ze instanceof Response){Se=ze;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!Se){try{Se=await F(fe,O)}catch(xe){let ze=xe;if(j.length)for(let Xe=j.length-1;Xe>=0;Xe--){const nt=j[Xe];if(nt&&typeof nt=="object"&&typeof nt.onError=="function"){const et=await nt.onError({request:fe,error:ze,schemaPath:E,params:Q,options:ye,id:Ee});if(et){if(et instanceof Response){ze=void 0,Se=et;break}if(et instanceof Error){ze=et;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(ze)throw ze}if(j.length)for(let xe=j.length-1;xe>=0;xe--){const ze=j[xe];if(ze&&typeof ze=="object"&&typeof ze.onResponse=="function"){const Xe=await ze.onResponse({request:fe,response:Se,schemaPath:E,params:Q,options:ye,id:Ee});if(Xe){if(!(Xe instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");Se=Xe}}}}if(Se.status===204||fe.method==="HEAD"||Se.headers.get("Content-Length")==="0")return Se.ok?{data:void 0,response:Se}:{error:void 0,response:Se};if(Se.ok)return ie==="stream"?{data:Se.body,response:Se}:{data:await Se[ie](),response:Se};let Ae=await Se.text();try{Ae=JSON.parse(Ae)}catch{}return{error:Ae,response:Se}}return{request(E,L,q){return I(L,{...q,method:E.toUpperCase()})},GET(E,L){return I(E,{...L,method:"GET"})},PUT(E,L){return I(E,{...L,method:"PUT"})},POST(E,L){return I(E,{...L,method:"POST"})},DELETE(E,L){return I(E,{...L,method:"DELETE"})},OPTIONS(E,L){return I(E,{...L,method:"OPTIONS"})},HEAD(E,L){return I(E,{...L,method:"HEAD"})},PATCH(E,L){return I(E,{...L,method:"PATCH"})},TRACE(E,L){return I(E,{...L,method:"TRACE"})},use(...E){for(const L of E)if(L){if(typeof L!="object"||!("onRequest"in L||"onResponse"in L||"onError"in L))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");j.push(L)}},eject(...E){for(const L of E){const q=j.indexOf(L);q!==-1&&j.splice(q,1)}}}}var g=class{constructor(D,$){this.client=D,this.url=$}GET=D=>this.client.GET(this.url,D);PUT=D=>this.client.PUT(this.url,D);POST=D=>this.client.POST(this.url,D);DELETE=D=>this.client.DELETE(this.url,D);OPTIONS=D=>this.client.OPTIONS(this.url,D);HEAD=D=>this.client.HEAD(this.url,D);PATCH=D=>this.client.PATCH(this.url,D);TRACE=D=>this.client.TRACE(this.url,D)},v=class{constructor(){this.client=null}get(D,$){const T=new g(D,$);return this.client[$]=T,T}};function y(D){const $=new v,T=new Proxy(D,$);function b(){}b.prototype=T;const _=new b;return $.client=_,_}function w(D){return y(p(D))}function C(D,$,T){if($==null)return"";if(typeof $=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${D}=${T?.allowReserved===!0?$:encodeURIComponent($)}`}function x(D,$,T){if(!$||typeof $!="object")return"";const b=[],_={simple:",",label:".",matrix:";"}[T.style]||"&";if(T.style!=="deepObject"&&T.explode===!1){for(const O in $)b.push(O,T.allowReserved===!0?$[O]:encodeURIComponent($[O]));const N=b.join(",");switch(T.style){case"form":return`${D}=${N}`;case"label":return`.${N}`;case"matrix":return`;${D}=${N}`;default:return N}}for(const N in $){const O=T.style==="deepObject"?`${D}[${N}]`:N;b.push(C(O,$[N],T))}const A=b.join(_);return T.style==="label"||T.style==="matrix"?`${_}${A}`:A}function M(D,$,T){if(!Array.isArray($))return"";if(T.explode===!1){const A={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[T.style]||",",N=(T.allowReserved===!0?$:$.map(O=>encodeURIComponent(O))).join(A);switch(T.style){case"simple":return N;case"label":return`.${N}`;case"matrix":return`;${D}=${N}`;default:return`${D}=${N}`}}const b={simple:",",label:".",matrix:";"}[T.style]||"&",_=[];for(const A of $)T.style==="simple"||T.style==="label"?_.push(T.allowReserved===!0?A:encodeURIComponent(A)):_.push(C(D,A,T));return T.style==="label"||T.style==="matrix"?`${b}${_.join(b)}`:_.join(b)}function k(D){return function(T){const b=[];if(T&&typeof T=="object")for(const _ in T){const A=T[_];if(A!=null){if(Array.isArray(A)){if(A.length===0)continue;b.push(M(_,A,{style:"form",explode:!0,...D?.array,allowReserved:D?.allowReserved||!1}));continue}if(typeof A=="object"){b.push(x(_,A,{style:"deepObject",explode:!0,...D?.object,allowReserved:D?.allowReserved||!1}));continue}b.push(C(_,A,D))}}return b.join("&")}}function z(D,$){let T=D;for(const b of D.match(u)??[]){let _=b.substring(1,b.length-1),A=!1,N="simple";if(_.endsWith("*")&&(A=!0,_=_.substring(0,_.length-1)),_.startsWith(".")?(N="label",_=_.substring(1)):_.startsWith(";")&&(N="matrix",_=_.substring(1)),!$||$[_]===void 0||$[_]===null)continue;const O=$[_];if(Array.isArray(O)){T=T.replace(b,M(_,O,{style:N,explode:A}));continue}if(typeof O=="object"){T=T.replace(b,x(_,O,{style:N,explode:A}));continue}if(N==="matrix"){T=T.replace(b,`;${C(_,O)}`);continue}T=T.replace(b,N==="label"?`.${encodeURIComponent(O)}`:encodeURIComponent(O))}return T}function P(D,$){return D instanceof FormData?D:$&&($.get instanceof Function?$.get("Content-Type")??$.get("content-type"):$["Content-Type"]??$["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(D).toString():JSON.stringify(D)}function K(D,$){let T=`${$.baseUrl}${D}`;$.params?.path&&(T=z(T,$.params.path));let b=$.querySerializer($.params.query??{});return b.startsWith("?")&&(b=b.substring(1)),b&&(T+=`?${b}`),T}function W(...D){const $=new Headers;for(const T of D){if(!T||typeof T!="object")continue;const b=T instanceof Headers?T.entries():Object.entries(T);for(const[_,A]of b)if(A===null)$.delete(_);else if(Array.isArray(A))for(const N of A)$.append(_,N);else A!==void 0&&$.set(_,A)}return $}function B(D){return D.endsWith("/")?D.substring(0,D.length-1):D}return F3}var q3,zj;function aJ(){if(zj)return q3;zj=1;var t={},e=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=(K,W)=>{for(var B in W)n(K,B,{get:W[B],enumerable:!0})},u=(K,W,B,D)=>{if(W&&typeof W=="object"||typeof W=="function")for(let $ of i(W))!o.call(K,$)&&$!==B&&n(K,$,{get:()=>W[$],enumerable:!(D=r(W,$))||D.enumerable});return K},l=(K,W,B)=>(B=K!=null?e(a(K)):{},u(!K||!K.__esModule?n(B,"default",{value:K,enumerable:!0}):B,K)),h=K=>u(n({},"__esModule",{value:!0}),K),p={};s(p,{analytics:()=>P}),q3=h(p);var g=l(iJ()),v=class{constructor(K){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=K.batchSize,this.baseTimeoutMs=K.baseTimeoutMs,this.currentTimeoutMs=K.baseTimeoutMs,this.sendFn=K.sendFn}enqueue(K){this.batch.push(K),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;const K=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(K),this.currentTimeoutMs=this.baseTimeoutMs}catch(W){console.error("Sender: Failed to send batch",W),this.batch=[...K,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},y=v,w=class{constructor(K){this.enabled=!1,this.properties={};const W=(0,g.default)({baseUrl:K}),B=async D=>{const $=await W.POST("/v1/events",{body:D});if($.response.status!==200)throw new Error($.error)};this.sender=new y({batchSize:100,baseTimeoutMs:200,sendFn:B})}enable(){this.enabled=!0}setGlobalProperty(K,W){this.properties[K]=W}track(K,W){if(!this.enabled)return;const B={name:K,...this.properties,...W};this.sender.enqueue(B)}},C=w,x,M;typeof process<"u"&&t&&(x=(M=t.METAMASK_ANALYTICS_ENDPOINT)!=null?M:t.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var k=x??"https://mm-sdk-analytics.api.cx.metamask.io/",z=new C(k),P=z;return q3}var ar=aJ(),z3={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var Hj;function sJ(){return Hj||(Hj=1,function(t,e){(function(n){var r=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(I){return Object.prototype.toString.call(I)==="[object Array]"},a=10,o=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",u=typeof Reflect=="object",l=typeof setImmediate=="function",h=l?setImmediate:setTimeout,p=s?u&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(j){var I=Object.getOwnPropertyNames(j);return I.push.apply(I,Object.getOwnPropertySymbols(j)),I}:Object.keys;function g(){this._events={},this._conf&&v.call(this,this._conf)}function v(j){j&&(this._conf=j,j.delimiter&&(this.delimiter=j.delimiter),j.maxListeners!==n&&(this._maxListeners=j.maxListeners),j.wildcard&&(this.wildcard=j.wildcard),j.newListener&&(this._newListener=j.newListener),j.removeListener&&(this._removeListener=j.removeListener),j.verboseMemoryLeak&&(this.verboseMemoryLeak=j.verboseMemoryLeak),j.ignoreErrors&&(this.ignoreErrors=j.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function y(j,I){var E="(node) warning: possible EventEmitter memory leak detected. "+j+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(E+=" Event name: "+I+"."),typeof process<"u"&&process.emitWarning){var L=new Error(E);L.name="MaxListenersExceededWarning",L.emitter=this,L.count=j,process.emitWarning(L)}else console.error(E),console.trace&&console.trace()}var w=function(j,I,E){var L=arguments.length;switch(L){case 0:return[];case 1:return[j];case 2:return[j,I];case 3:return[j,I,E];default:for(var q=new Array(L);L--;)q[L]=arguments[L];return q}};function C(j,I){for(var E={},L,q=j.length,F=0,G=0;G<q;G++)L=j[G],E[L]=G<F?I[G]:n;return E}function x(j,I,E){this._emitter=j,this._target=I,this._listeners={},this._listenersCount=0;var L,q;if((E.on||E.off)&&(L=E.on,q=E.off),I.addEventListener?(L=I.addEventListener,q=I.removeEventListener):I.addListener?(L=I.addListener,q=I.removeListener):I.on&&(L=I.on,q=I.off),!L&&!q)throw Error("target does not implement any known event API");if(typeof L!="function")throw TypeError("on method must be a function");if(typeof q!="function")throw TypeError("off method must be a function");this._on=L,this._off=q;var F=j._observers;F?F.push(this):j._observers=[this]}Object.assign(x.prototype,{subscribe:function(j,I,E){var L=this,q=this._target,F=this._emitter,G=this._listeners,Y=function(){var Q=w.apply(null,arguments),ie={data:Q,name:I,original:j};if(E){var Z=E.call(q,ie);Z!==!1&&F.emit.apply(F,[ie.name].concat(Q));return}F.emit.apply(F,[I].concat(Q))};if(G[j])throw Error("Event '"+j+"' is already listening");this._listenersCount++,F._newListener&&F._removeListener&&!L._onNewListener?(this._onNewListener=function(Q){Q===I&&G[j]===null&&(G[j]=Y,L._on.call(q,j,Y))},F.on("newListener",this._onNewListener),this._onRemoveListener=function(Q){Q===I&&!F.hasListeners(Q)&&G[j]&&(G[j]=null,L._off.call(q,j,Y))},G[j]=null,F.on("removeListener",this._onRemoveListener)):(G[j]=Y,L._on.call(q,j,Y))},unsubscribe:function(j){var I=this,E=this._listeners,L=this._emitter,q,F,G=this._off,Y=this._target,Q;if(j&&typeof j!="string")throw TypeError("event must be a string");function ie(){I._onNewListener&&(L.off("newListener",I._onNewListener),L.off("removeListener",I._onRemoveListener),I._onNewListener=null,I._onRemoveListener=null);var Z=B.call(L,I);L._observers.splice(Z,1)}if(j){if(q=E[j],!q)return;G.call(Y,j,q),delete E[j],--this._listenersCount||ie()}else{for(F=p(E),Q=F.length;Q-- >0;)j=F[Q],G.call(Y,j,E[j]);this._listeners={},this._listenersCount=0,ie()}}});function M(j,I,E,L){var q=Object.assign({},I);if(!j)return q;if(typeof j!="object")throw TypeError("options must be an object");var F=Object.keys(j),G=F.length,Y,Q,ie;function Z(te){throw Error('Invalid "'+Y+'" option value'+(te?". Reason: "+te:""))}for(var X=0;X<G;X++){if(Y=F[X],!r.call(I,Y))throw Error('Unknown "'+Y+'" option');Q=j[Y],Q!==n&&(ie=E[Y],q[Y]=ie?ie(Q,Z):Q)}return q}function k(j,I){return(typeof j!="function"||!j.hasOwnProperty("prototype"))&&I("value must be a constructor"),j}function z(j){var I="value must be type of "+j.join("|"),E=j.length,L=j[0],q=j[1];return E===1?function(F,G){if(typeof F===L)return F;G(I)}:E===2?function(F,G){var Y=typeof F;if(Y===L||Y===q)return F;G(I)}:function(F,G){for(var Y=typeof F,Q=E;Q-- >0;)if(Y===j[Q])return F;G(I)}}var P=z(["function"]),K=z(["object","function"]);function W(j,I,E){var L,q,F=0,G,Y=new j(function(Q,ie,Z){E=M(E,{timeout:0,overload:!1},{timeout:function(oe,ee){return oe*=1,(typeof oe!="number"||oe<0||!Number.isFinite(oe))&&ee("timeout must be a positive number"),oe}}),L=!E.overload&&typeof j.prototype.cancel=="function"&&typeof Z=="function";function X(){q&&(q=null),F&&(clearTimeout(F),F=0)}var te=function(oe){X(),Q(oe)},ae=function(oe){X(),ie(oe)};L?I(te,ae,Z):(q=[function(oe){ae(oe||Error("canceled"))}],I(te,ae,function(oe){if(G)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof oe!="function")throw TypeError("onCancel callback must be a function");q.push(oe)}),G=!0),E.timeout>0&&(F=setTimeout(function(){var oe=Error("timeout");oe.code="ETIMEDOUT",F=0,Y.cancel(oe),ie(oe)},E.timeout))});return L||(Y.cancel=function(Q){if(q){for(var ie=q.length,Z=1;Z<ie;Z++)q[Z](Q);q[0](Q),q=null}}),Y}function B(j){var I=this._observers;if(!I)return-1;for(var E=I.length,L=0;L<E;L++)if(I[L]._target===j)return L;return-1}function D(j,I,E,L,q){if(!E)return null;if(L===0){var F=typeof I;if(F==="string"){var G,Y,Q=0,ie=0,Z=this.delimiter,X=Z.length;if((Y=I.indexOf(Z))!==-1){G=new Array(5);do G[Q++]=I.slice(ie,Y),ie=Y+X;while((Y=I.indexOf(Z,ie))!==-1);G[Q++]=I.slice(ie),I=G,q=Q}else I=[I],q=1}else F==="object"?q=I.length:(I=[I],q=1)}var te=null,ae,oe,ee,le,he,ge=I[L],Ee=I[L+1],ye,fe;if(L===q)E._listeners&&(typeof E._listeners=="function"?(j&&j.push(E._listeners),te=[E]):(j&&j.push.apply(j,E._listeners),te=[E]));else if(ge==="*"){for(ye=p(E),Y=ye.length;Y-- >0;)ae=ye[Y],ae!=="_listeners"&&(fe=D(j,I,E[ae],L+1,q),fe&&(te?te.push.apply(te,fe):te=fe));return te}else if(ge==="**"){for(he=L+1===q||L+2===q&&Ee==="*",he&&E._listeners&&(te=D(j,I,E,q,q)),ye=p(E),Y=ye.length;Y-- >0;)ae=ye[Y],ae!=="_listeners"&&(ae==="*"||ae==="**"?(E[ae]._listeners&&!he&&(fe=D(j,I,E[ae],q,q),fe&&(te?te.push.apply(te,fe):te=fe)),fe=D(j,I,E[ae],L,q)):ae===Ee?fe=D(j,I,E[ae],L+2,q):fe=D(j,I,E[ae],L,q),fe&&(te?te.push.apply(te,fe):te=fe));return te}else E[ge]&&(te=D(j,I,E[ge],L+1,q));if(oe=E["*"],oe&&D(j,I,oe,L+1,q),ee=E["**"],ee)if(L<q)for(ee._listeners&&D(j,I,ee,q,q),ye=p(ee),Y=ye.length;Y-- >0;)ae=ye[Y],ae!=="_listeners"&&(ae===Ee?D(j,I,ee[ae],L+2,q):ae===ge?D(j,I,ee[ae],L+1,q):(le={},le[ae]=ee[ae],D(j,I,{"**":le},L+1,q)));else ee._listeners?D(j,I,ee,q,q):ee["*"]&&ee["*"]._listeners&&D(j,I,ee["*"],q,q);return te}function $(j,I,E){var L=0,q=0,F,G=this.delimiter,Y=G.length,Q;if(typeof j=="string")if((F=j.indexOf(G))!==-1){Q=new Array(5);do Q[L++]=j.slice(q,F),q=F+Y;while((F=j.indexOf(G,q))!==-1);Q[L++]=j.slice(q)}else Q=[j],L=1;else Q=j,L=j.length;if(L>1){for(F=0;F+1<L;F++)if(Q[F]==="**"&&Q[F+1]==="**")return}var ie=this.listenerTree,Z;for(F=0;F<L;F++)if(Z=Q[F],ie=ie[Z]||(ie[Z]={}),F===L-1)return ie._listeners?(typeof ie._listeners=="function"&&(ie._listeners=[ie._listeners]),E?ie._listeners.unshift(I):ie._listeners.push(I),!ie._listeners.warned&&this._maxListeners>0&&ie._listeners.length>this._maxListeners&&(ie._listeners.warned=!0,y.call(this,ie._listeners.length,Z))):ie._listeners=I,!0;return!0}function T(j,I,E,L){for(var q=p(j),F=q.length,G,Y,Q,ie=j._listeners,Z;F-- >0;)Y=q[F],G=j[Y],Y==="_listeners"?Q=E:Q=E?E.concat(Y):[Y],Z=L||typeof Y=="symbol",ie&&I.push(Z?Q:Q.join(this.delimiter)),typeof G=="object"&&T.call(this,G,I,Q,Z);return I}function b(j){for(var I=p(j),E=I.length,L,q,F;E-- >0;)q=I[E],L=j[q],L&&(F=!0,q!=="_listeners"&&!b(L)&&delete j[q]);return F}function _(j,I,E){this.emitter=j,this.event=I,this.listener=E}_.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function A(j,I,E){if(E===!0)q=!0;else if(E===!1)L=!0;else{if(!E||typeof E!="object")throw TypeError("options should be an object or true");var L=E.async,q=E.promisify,F=E.nextTick,G=E.objectify}if(L||F||q){var Y=I,Q=I._origin||I;if(F&&!o)throw Error("process.nextTick is not supported");q===n&&(q=I.constructor.name==="AsyncFunction"),I=function(){var ie=arguments,Z=this,X=this.event;return q?F?Promise.resolve():new Promise(function(te){h(te)}).then(function(){return Z.event=X,Y.apply(Z,ie)}):(F?process.nextTick:h)(function(){Z.event=X,Y.apply(Z,ie)})},I._async=!0,I._origin=Q}return[I,G?new _(this,j,I):this]}function N(j){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,v.call(this,j)}N.EventEmitter2=N,N.prototype.listenTo=function(j,I,E){if(typeof j!="object")throw TypeError("target musts be an object");var L=this;E=M(E,{on:n,off:n,reducers:n},{on:P,off:P,reducers:K});function q(F){if(typeof F!="object")throw TypeError("events must be an object");var G=E.reducers,Y=B.call(L,j),Q;Y===-1?Q=new x(L,j,E):Q=L._observers[Y];for(var ie=p(F),Z=ie.length,X,te=typeof G=="function",ae=0;ae<Z;ae++)X=ie[ae],Q.subscribe(X,F[X]||X,te?G:G&&G[X])}return i(I)?q(C(I)):q(typeof I=="string"?C(I.split(/\s+/)):I),this},N.prototype.stopListeningTo=function(j,I){var E=this._observers;if(!E)return!1;var L=E.length,q,F=!1;if(j&&typeof j!="object")throw TypeError("target should be an object");for(;L-- >0;)q=E[L],(!j||q._target===j)&&(q.unsubscribe(I),F=!0);return F},N.prototype.delimiter=".",N.prototype.setMaxListeners=function(j){j!==n&&(this._maxListeners=j,this._conf||(this._conf={}),this._conf.maxListeners=j)},N.prototype.getMaxListeners=function(){return this._maxListeners},N.prototype.event="",N.prototype.once=function(j,I,E){return this._once(j,I,!1,E)},N.prototype.prependOnceListener=function(j,I,E){return this._once(j,I,!0,E)},N.prototype._once=function(j,I,E,L){return this._many(j,1,I,E,L)},N.prototype.many=function(j,I,E,L){return this._many(j,I,E,!1,L)},N.prototype.prependMany=function(j,I,E,L){return this._many(j,I,E,!0,L)},N.prototype._many=function(j,I,E,L,q){var F=this;if(typeof E!="function")throw new Error("many only accepts instances of Function");function G(){return--I===0&&F.off(j,G),E.apply(this,arguments)}return G._origin=E,this._on(j,G,L,q)},N.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||g.call(this);var j=arguments[0],I,E=this.wildcard,L,q,F,G,Y;if(j==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(E&&(I=j,j!=="newListener"&&j!=="removeListener"&&typeof j=="object")){if(q=j.length,s){for(F=0;F<q;F++)if(typeof j[F]=="symbol"){Y=!0;break}}Y||(j=j.join(this.delimiter))}var Q=arguments.length,ie;if(this._all&&this._all.length)for(ie=this._all.slice(),F=0,q=ie.length;F<q;F++)switch(this.event=j,Q){case 1:ie[F].call(this,j);break;case 2:ie[F].call(this,j,arguments[1]);break;case 3:ie[F].call(this,j,arguments[1],arguments[2]);break;default:ie[F].apply(this,arguments)}if(E)ie=[],D.call(this,ie,I,this.listenerTree,0,q);else if(ie=this._events[j],typeof ie=="function"){switch(this.event=j,Q){case 1:ie.call(this);break;case 2:ie.call(this,arguments[1]);break;case 3:ie.call(this,arguments[1],arguments[2]);break;default:for(L=new Array(Q-1),G=1;G<Q;G++)L[G-1]=arguments[G];ie.apply(this,L)}return!0}else ie&&(ie=ie.slice());if(ie&&ie.length){if(Q>3)for(L=new Array(Q-1),G=1;G<Q;G++)L[G-1]=arguments[G];for(F=0,q=ie.length;F<q;F++)switch(this.event=j,Q){case 1:ie[F].call(this);break;case 2:ie[F].call(this,arguments[1]);break;case 3:ie[F].call(this,arguments[1],arguments[2]);break;default:ie[F].apply(this,L)}return!0}else if(!this.ignoreErrors&&!this._all&&j==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},N.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||g.call(this);var j=arguments[0],I=this.wildcard,E,L,q,F,G,Y;if(j==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(I&&(E=j,j!=="newListener"&&j!=="removeListener"&&typeof j=="object")){if(F=j.length,s){for(G=0;G<F;G++)if(typeof j[G]=="symbol"){L=!0;break}}L||(j=j.join(this.delimiter))}var Q=[],ie=arguments.length,Z;if(this._all)for(G=0,F=this._all.length;G<F;G++)switch(this.event=j,ie){case 1:Q.push(this._all[G].call(this,j));break;case 2:Q.push(this._all[G].call(this,j,arguments[1]));break;case 3:Q.push(this._all[G].call(this,j,arguments[1],arguments[2]));break;default:Q.push(this._all[G].apply(this,arguments))}if(I?(Z=[],D.call(this,Z,E,this.listenerTree,0)):Z=this._events[j],typeof Z=="function")switch(this.event=j,ie){case 1:Q.push(Z.call(this));break;case 2:Q.push(Z.call(this,arguments[1]));break;case 3:Q.push(Z.call(this,arguments[1],arguments[2]));break;default:for(q=new Array(ie-1),Y=1;Y<ie;Y++)q[Y-1]=arguments[Y];Q.push(Z.apply(this,q))}else if(Z&&Z.length){if(Z=Z.slice(),ie>3)for(q=new Array(ie-1),Y=1;Y<ie;Y++)q[Y-1]=arguments[Y];for(G=0,F=Z.length;G<F;G++)switch(this.event=j,ie){case 1:Q.push(Z[G].call(this));break;case 2:Q.push(Z[G].call(this,arguments[1]));break;case 3:Q.push(Z[G].call(this,arguments[1],arguments[2]));break;default:Q.push(Z[G].apply(this,q))}}else if(!this.ignoreErrors&&!this._all&&j==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(Q)},N.prototype.on=function(j,I,E){return this._on(j,I,!1,E)},N.prototype.prependListener=function(j,I,E){return this._on(j,I,!0,E)},N.prototype.onAny=function(j){return this._onAny(j,!1)},N.prototype.prependAny=function(j){return this._onAny(j,!0)},N.prototype.addListener=N.prototype.on,N.prototype._onAny=function(j,I){if(typeof j!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),I?this._all.unshift(j):this._all.push(j),this},N.prototype._on=function(j,I,E,L){if(typeof j=="function")return this._onAny(j,I),this;if(typeof I!="function")throw new Error("on only accepts instances of Function");this._events||g.call(this);var q=this,F;return L!==n&&(F=A.call(this,j,I,L),I=F[0],q=F[1]),this._newListener&&this.emit("newListener",j,I),this.wildcard?($.call(this,j,I,E),q):(this._events[j]?(typeof this._events[j]=="function"&&(this._events[j]=[this._events[j]]),E?this._events[j].unshift(I):this._events[j].push(I),!this._events[j].warned&&this._maxListeners>0&&this._events[j].length>this._maxListeners&&(this._events[j].warned=!0,y.call(this,this._events[j].length,j))):this._events[j]=I,q)},N.prototype.off=function(j,I){if(typeof I!="function")throw new Error("removeListener only takes instances of Function");var E,L=[];if(this.wildcard){var q=typeof j=="string"?j.split(this.delimiter):j.slice();if(L=D.call(this,null,q,this.listenerTree,0),!L)return this}else{if(!this._events[j])return this;E=this._events[j],L.push({_listeners:E})}for(var F=0;F<L.length;F++){var G=L[F];if(E=G._listeners,i(E)){for(var Y=-1,Q=0,ie=E.length;Q<ie;Q++)if(E[Q]===I||E[Q].listener&&E[Q].listener===I||E[Q]._origin&&E[Q]._origin===I){Y=Q;break}if(Y<0)continue;return this.wildcard?G._listeners.splice(Y,1):this._events[j].splice(Y,1),E.length===0&&(this.wildcard?delete G._listeners:delete this._events[j]),this._removeListener&&this.emit("removeListener",j,I),this}else(E===I||E.listener&&E.listener===I||E._origin&&E._origin===I)&&(this.wildcard?delete G._listeners:delete this._events[j],this._removeListener&&this.emit("removeListener",j,I))}return this.listenerTree&&b(this.listenerTree),this},N.prototype.offAny=function(j){var I=0,E=0,L;if(j&&this._all&&this._all.length>0){for(L=this._all,I=0,E=L.length;I<E;I++)if(j===L[I])return L.splice(I,1),this._removeListener&&this.emit("removeListenerAny",j),this}else{if(L=this._all,this._removeListener)for(I=0,E=L.length;I<E;I++)this.emit("removeListenerAny",L[I]);this._all=[]}return this},N.prototype.removeListener=N.prototype.off,N.prototype.removeAllListeners=function(j){if(j===n)return!this._events||g.call(this),this;if(this.wildcard){var I=D.call(this,null,j,this.listenerTree,0),E,L;if(!I)return this;for(L=0;L<I.length;L++)E=I[L],E._listeners=null;this.listenerTree&&b(this.listenerTree)}else this._events&&(this._events[j]=null);return this},N.prototype.listeners=function(j){var I=this._events,E,L,q,F,G;if(j===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!I)return[];for(E=p(I),F=E.length,q=[];F-- >0;)L=I[E[F]],typeof L=="function"?q.push(L):q.push.apply(q,L);return q}else{if(this.wildcard){if(G=this.listenerTree,!G)return[];var Y=[],Q=typeof j=="string"?j.split(this.delimiter):j.slice();return D.call(this,Y,Q,G,0),Y}return I?(L=I[j],L?typeof L=="function"?[L]:L:[]):[]}},N.prototype.eventNames=function(j){var I=this._events;return this.wildcard?T.call(this,this.listenerTree,[],null,j):I?p(I):[]},N.prototype.listenerCount=function(j){return this.listeners(j).length},N.prototype.hasListeners=function(j){if(this.wildcard){var I=[],E=typeof j=="string"?j.split(this.delimiter):j.slice();return D.call(this,I,E,this.listenerTree,0),I.length>0}var L=this._events,q=this._all;return!!(q&&q.length||L&&(j===n?p(L).length:L[j]))},N.prototype.listenersAny=function(){return this._all?this._all:[]},N.prototype.waitFor=function(j,I){var E=this,L=typeof I;return L==="number"?I={timeout:I}:L==="function"&&(I={filter:I}),I=M(I,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:P,Promise:k}),W(I.Promise,function(q,F,G){function Y(){var Q=I.filter;if(!(Q&&!Q.apply(E,arguments)))if(E.off(j,Y),I.handleError){var ie=arguments[0];ie?F(ie):q(w.apply(null,arguments).slice(1))}else q(w.apply(null,arguments))}G(function(){E.off(j,Y)}),E._on(j,Y,!1)},{timeout:I.timeout,overload:I.overload})};function O(j,I,E){E=M(E,{Promise,timeout:0,overload:!1},{Promise:k});var L=E.Promise;return W(L,function(q,F,G){var Y;if(typeof j.addEventListener=="function"){Y=function(){q(w.apply(null,arguments))},G(function(){j.removeEventListener(I,Y)}),j.addEventListener(I,Y,{once:!0});return}var Q=function(){ie&&j.removeListener("error",ie),q(w.apply(null,arguments))},ie;I!=="error"&&(ie=function(Z){j.removeListener(I,Q),F(Z)},j.once("error",ie)),G(function(){ie&&j.removeListener("error",ie),j.removeListener(I,Q)}),j.once(I,Q)},{timeout:E.timeout,overload:E.overload})}var U=N.prototype;Object.defineProperties(N,{defaultMaxListeners:{get:function(){return U._maxListeners},set:function(j){if(typeof j!="number"||j<0||Number.isNaN(j))throw TypeError("n must be a non-negative number");U._maxListeners=j},enumerable:!0},once:{value:O,writable:!0,configurable:!0}}),Object.defineProperties(U,{_maxListeners:{value:a,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=N})()}(z3)),z3.exports}var Jy=sJ();const oJ=$i(Jy);var dg,lJ=new Uint8Array(16);function cJ(){if(!dg&&(dg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dg(lJ)}const uJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function PE(t){return typeof t=="string"&&uJ.test(t)}var Pr=[];for(var H3=0;H3<256;++H3)Pr.push((H3+256).toString(16).substr(1));function dJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Pr[t[e+0]]+Pr[t[e+1]]+Pr[t[e+2]]+Pr[t[e+3]]+"-"+Pr[t[e+4]]+Pr[t[e+5]]+"-"+Pr[t[e+6]]+Pr[t[e+7]]+"-"+Pr[t[e+8]]+Pr[t[e+9]]+"-"+Pr[t[e+10]]+Pr[t[e+11]]+Pr[t[e+12]]+Pr[t[e+13]]+Pr[t[e+14]]+Pr[t[e+15]]).toLowerCase();if(!PE(n))throw TypeError("Stringified UUID is invalid");return n}function Xl(t,e,n){t=t||{};var r=t.random||(t.rng||cJ)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return dJ(r)}function Be(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(l){try{u(r.next(l))}catch(h){a(h)}}function s(l){try{u(r.throw(l))}catch(h){a(h)}}function u(l){var h;l.done?i(l.value):(h=l.value,h instanceof n?h:new n(function(p){p(h)})).then(o,s)}u((r=r.apply(t,e||[])).next())})}var pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},Os=[],Ia=[],fJ=typeof Uint8Array<"u"?Uint8Array:Array,MS=!1;function eR(){MS=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Os[e]=t[e],Ia[t.charCodeAt(e)]=e;Ia[45]=62,Ia[95]=63}function hJ(t,e,n){for(var r,i,a=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],a.push(Os[(i=r)>>18&63]+Os[i>>12&63]+Os[i>>6&63]+Os[63&i]);return a.join("")}function Kj(t){var e;MS||eR();for(var n=t.length,r=n%3,i="",a=[],o=16383,s=0,u=n-r;s<u;s+=o)a.push(hJ(t,s,s+o>u?u:s+o));return r===1?(e=t[n-1],i+=Os[e>>2],i+=Os[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=Os[e>>10],i+=Os[e>>4&63],i+=Os[e<<2&63],i+="="),a.push(i),a.join("")}function fg(t,e,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,h=-7,p=n?i-1:0,g=n?-1:1,v=t[e+p];for(p+=g,a=v&(1<<-h)-1,v>>=-h,h+=s;h>0;a=256*a+t[e+p],p+=g,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=r;h>0;o=256*o+t[e+p],p+=g,h-=8);if(a===0)a=1-l;else{if(a===u)return o?NaN:1/0*(v?-1:1);o+=Math.pow(2,r),a-=l}return(v?-1:1)*o*Math.pow(2,a-r)}function tR(t,e,n,r,i,a){var o,s,u,l=8*a-i-1,h=(1<<l)-1,p=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:a-1,y=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+p>=1?g/u:g*Math.pow(2,1-p))*u>=2&&(o++,u/=2),o+p>=h?(s=0,o=h):o+p>=1?(s=(e*u-1)*Math.pow(2,i),o+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[n+v]=255&s,v+=y,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[n+v]=255&o,v+=y,o/=256,l-=8);t[n+v-y]|=128*w}var pJ={}.toString,nR=Array.isArray||function(t){return pJ.call(t)=="[object Array]"};$e.TYPED_ARRAY_SUPPORT=pi.TYPED_ARRAY_SUPPORT===void 0||pi.TYPED_ARRAY_SUPPORT;var mJ=Lv();function Lv(){return $e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Po(t,e){if(Lv()<e)throw new RangeError("Invalid typed array length");return $e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=$e.prototype:(t===null&&(t=new $e(e)),t.length=e),t}function $e(t,e,n){if(!($e.TYPED_ARRAY_SUPPORT||this instanceof $e))return new $e(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return LE(this,t)}return rR(this,t,e,n)}function rR(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?function(i,a,o,s){if(a.byteLength,o<0||a.byteLength<o)throw new RangeError("'offset' is out of bounds");if(a.byteLength<o+(s||0))throw new RangeError("'length' is out of bounds");return a=o===void 0&&s===void 0?new Uint8Array(a):s===void 0?new Uint8Array(a,o):new Uint8Array(a,o,s),$e.TYPED_ARRAY_SUPPORT?(i=a).__proto__=$e.prototype:i=K3(i,a),i}(t,e,n,r):typeof e=="string"?function(i,a,o){if(typeof o=="string"&&o!==""||(o="utf8"),!$e.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var s=0|aR(a,o);i=Po(i,s);var u=i.write(a,o);return u!==s&&(i=i.slice(0,u)),i}(t,e,n):function(i,a){if(ks(a)){var o=0|OS(a.length);return(i=Po(i,o)).length===0||a.copy(i,0,0,o),i}if(a){if(typeof ArrayBuffer<"u"&&a.buffer instanceof ArrayBuffer||"length"in a)return typeof a.length!="number"||(s=a.length)!=s?Po(i,0):K3(i,a);if(a.type==="Buffer"&&nR(a.data))return K3(i,a.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function iR(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function LE(t,e){if(iR(e),t=Po(t,e<0?0:0|OS(e)),!$e.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function K3(t,e){var n=e.length<0?0:0|OS(e.length);t=Po(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function OS(t){if(t>=Lv())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Lv().toString(16)+" bytes");return 0|t}function ks(t){return!(t==null||!t._isBuffer)}function aR(t,e){if(ks(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Dv(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return cR(t).length;default:if(r)return Dv(t).length;e=(""+e).toLowerCase(),r=!0}}function gJ(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return CJ(this,e,n);case"utf8":case"utf-8":return oR(this,e,n);case"ascii":return SJ(this,e,n);case"latin1":case"binary":return _J(this,e,n);case"base64":return EJ(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return NJ(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function tu(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Wj(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof e=="string"&&(e=$e.from(e,r)),ks(e))return e.length===0?-1:Vj(t,e,n,r,i);if(typeof e=="number")return e&=255,$e.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Vj(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Vj(t,e,n,r,i){var a,o=1,s=t.length,u=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(v,y){return o===1?v[y]:v.readUInt16BE(y*o)}if(i){var h=-1;for(a=n;a<s;a++)if(l(t,a)===l(e,h===-1?0:a-h)){if(h===-1&&(h=a),a-h+1===u)return h*o}else h!==-1&&(a-=a-h),h=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var p=!0,g=0;g<u;g++)if(l(t,a+g)!==l(e,g)){p=!1;break}if(p)return a}return-1}function vJ(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function yJ(t,e,n,r){return Zy(Dv(e,t.length-n),t,n,r)}function sR(t,e,n,r){return Zy(function(i){for(var a=[],o=0;o<i.length;++o)a.push(255&i.charCodeAt(o));return a}(e),t,n,r)}function bJ(t,e,n,r){return sR(t,e,n,r)}function wJ(t,e,n,r){return Zy(cR(e),t,n,r)}function xJ(t,e,n,r){return Zy(function(i,a){for(var o,s,u,l=[],h=0;h<i.length&&!((a-=2)<0);++h)s=(o=i.charCodeAt(h))>>8,u=o%256,l.push(u),l.push(s);return l}(e,t.length-n),t,n,r)}function EJ(t,e,n){return e===0&&n===t.length?Kj(t):Kj(t.slice(e,n))}function oR(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a,o,s,u,l=t[i],h=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=n)switch(p){case 1:l<128&&(h=l);break;case 2:(192&(a=t[i+1]))==128&&(u=(31&l)<<6|63&a)>127&&(h=u);break;case 3:a=t[i+1],o=t[i+2],(192&a)==128&&(192&o)==128&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],(192&a)==128&&(192&o)==128&&(192&s)==128&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(h=u)}h===null?(h=65533,p=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=p}return function(g){var v=g.length;if(v<=Gj)return String.fromCharCode.apply(String,g);for(var y="",w=0;w<v;)y+=String.fromCharCode.apply(String,g.slice(w,w+=Gj));return y}(r)}$e.poolSize=8192,$e._augment=function(t){return t.__proto__=$e.prototype,t},$e.from=function(t,e,n){return rR(null,t,e,n)},$e.TYPED_ARRAY_SUPPORT&&($e.prototype.__proto__=Uint8Array.prototype,$e.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&$e[Symbol.species]),$e.alloc=function(t,e,n){return function(r,i,a,o){return iR(i),i<=0?Po(r,i):a!==void 0?typeof o=="string"?Po(r,i).fill(a,o):Po(r,i).fill(a):Po(r,i)}(null,t,e,n)},$e.allocUnsafe=function(t){return LE(null,t)},$e.allocUnsafeSlow=function(t){return LE(null,t)},$e.isBuffer=uR,$e.compare=function(t,e){if(!ks(t)||!ks(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},$e.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$e.concat=function(t,e){if(!nR(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return $e.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=$e.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!ks(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},$e.byteLength=aR,$e.prototype._isBuffer=!0,$e.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)tu(this,e,e+1);return this},$e.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)tu(this,e,e+3),tu(this,e+1,e+2);return this},$e.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)tu(this,e,e+7),tu(this,e+1,e+6),tu(this,e+2,e+5),tu(this,e+3,e+4);return this},$e.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?oR(this,0,t):gJ.apply(this,arguments)},$e.prototype.equals=function(t){if(!ks(t))throw new TypeError("Argument must be a Buffer");return this===t||$e.compare(this,t)===0},$e.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},$e.prototype.compare=function(t,e,n,r,i){if(!ks(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),s=Math.min(a,o),u=this.slice(r,i),l=t.slice(e,n),h=0;h<s;++h)if(u[h]!==l[h]){a=u[h],o=l[h];break}return a<o?-1:o<a?1:0},$e.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},$e.prototype.indexOf=function(t,e,n){return Wj(this,t,e,n,!0)},$e.prototype.lastIndexOf=function(t,e,n){return Wj(this,t,e,n,!1)},$e.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return vJ(this,t,e,n);case"utf8":case"utf-8":return yJ(this,t,e,n);case"ascii":return sR(this,t,e,n);case"latin1":case"binary":return bJ(this,t,e,n);case"base64":return wJ(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xJ(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},$e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Gj=4096;function SJ(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function _J(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function CJ(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=jJ(t[a]);return i}function NJ(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function _r(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function Ci(t,e,n,r,i,a){if(!ks(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function hg(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function pg(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function lR(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Yj(t,e,n,r,i){return i||lR(t,0,n,4),tR(t,e,n,r,23,4),n+4}function Jj(t,e,n,r,i){return i||lR(t,0,n,8),tR(t,e,n,r,52,8),n+8}$e.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),$e.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=$e.prototype;else{var i=e-t;n=new $e(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},$e.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||_r(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},$e.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||_r(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},$e.prototype.readUInt8=function(t,e){return e||_r(t,1,this.length),this[t]},$e.prototype.readUInt16LE=function(t,e){return e||_r(t,2,this.length),this[t]|this[t+1]<<8},$e.prototype.readUInt16BE=function(t,e){return e||_r(t,2,this.length),this[t]<<8|this[t+1]},$e.prototype.readUInt32LE=function(t,e){return e||_r(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},$e.prototype.readUInt32BE=function(t,e){return e||_r(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},$e.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||_r(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},$e.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||_r(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},$e.prototype.readInt8=function(t,e){return e||_r(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},$e.prototype.readInt16LE=function(t,e){e||_r(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},$e.prototype.readInt16BE=function(t,e){e||_r(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},$e.prototype.readInt32LE=function(t,e){return e||_r(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},$e.prototype.readInt32BE=function(t,e){return e||_r(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},$e.prototype.readFloatLE=function(t,e){return e||_r(t,4,this.length),fg(this,t,!0,23,4)},$e.prototype.readFloatBE=function(t,e){return e||_r(t,4,this.length),fg(this,t,!1,23,4)},$e.prototype.readDoubleLE=function(t,e){return e||_r(t,8,this.length),fg(this,t,!0,52,8)},$e.prototype.readDoubleBE=function(t,e){return e||_r(t,8,this.length),fg(this,t,!1,52,8)},$e.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||Ci(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},$e.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||Ci(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},$e.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,1,255,0),$e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},$e.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,2,65535,0),$e.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):hg(this,t,e,!0),e+2},$e.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,2,65535,0),$e.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):hg(this,t,e,!1),e+2},$e.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,4,4294967295,0),$e.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):pg(this,t,e,!0),e+4},$e.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,4,4294967295,0),$e.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):pg(this,t,e,!1),e+4},$e.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);Ci(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&s===0&&this[e+a-1]!==0&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},$e.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);Ci(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&s===0&&this[e+a+1]!==0&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},$e.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,1,127,-128),$e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},$e.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,2,32767,-32768),$e.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):hg(this,t,e,!0),e+2},$e.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,2,32767,-32768),$e.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):hg(this,t,e,!1),e+2},$e.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,4,2147483647,-2147483648),$e.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):pg(this,t,e,!0),e+4},$e.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||Ci(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),$e.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):pg(this,t,e,!1),e+4},$e.prototype.writeFloatLE=function(t,e,n){return Yj(this,t,e,!0,n)},$e.prototype.writeFloatBE=function(t,e,n){return Yj(this,t,e,!1,n)},$e.prototype.writeDoubleLE=function(t,e,n){return Jj(this,t,e,!0,n)},$e.prototype.writeDoubleBE=function(t,e,n){return Jj(this,t,e,!1,n)},$e.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!$e.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},$e.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!$e.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var o=ks(t)?t:Dv(new $e(t,r).toString()),s=o.length;for(a=0;a<n-e;++a)this[a+e]=o[a%s]}return this};var AJ=/[^+\/0-9A-Za-z-_]/g;function jJ(t){return t<16?"0"+t.toString(16):t.toString(16)}function Dv(t,e){var n;e=e||1/0;for(var r=t.length,i=null,a=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function cR(t){return function(e){var n,r,i,a,o,s;MS||eR();var u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[u-2]==="="?2:e[u-1]==="="?1:0,s=new fJ(3*u/4-o),i=o>0?u-4:u;var l=0;for(n=0,r=0;n<i;n+=4,r+=3)a=Ia[e.charCodeAt(n)]<<18|Ia[e.charCodeAt(n+1)]<<12|Ia[e.charCodeAt(n+2)]<<6|Ia[e.charCodeAt(n+3)],s[l++]=a>>16&255,s[l++]=a>>8&255,s[l++]=255&a;return o===2?(a=Ia[e.charCodeAt(n)]<<2|Ia[e.charCodeAt(n+1)]>>4,s[l++]=255&a):o===1&&(a=Ia[e.charCodeAt(n)]<<10|Ia[e.charCodeAt(n+1)]<<4|Ia[e.charCodeAt(n+2)]>>2,s[l++]=a>>8&255,s[l++]=255&a),s}(function(e){if((e=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(e).replace(AJ,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function Zy(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function uR(t){return t!=null&&(!!t._isBuffer||Zj(t)||function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Zj(e.slice(0,0))}(t))}function Zj(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var MJ=Object.freeze({__proto__:null,Buffer:$e,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),$e.alloc(+t)},isBuffer:uR,kMaxLength:mJ}),Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Pd={},ca={},Xr={};function Bv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function dR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function fR(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function kS(t,...e){if(!fR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function hR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");Bv(t.outputLen),Bv(t.blockLen)}function pR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mR(t,e){kS(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.isBytes=fR,Xr.number=Bv,Xr.bool=dR,Xr.bytes=kS,Xr.hash=hR,Xr.exists=pR,Xr.output=mR;const OJ={number:Bv,bool:dR,bytes:kS,hash:hR,exists:pR,output:mR};Xr.default=OJ,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=r,t.hexToBytes=o,t.hexToNumber=s,t.bytesToNumberBE=function(p){return s(r(p))},t.numberToBytesBE=function(p,g){return o(p.toString(16).padStart(2*g,"0"))},t.asyncLoop=async function(p,g,v){let y=Date.now();for(let w=0;w<p;w++){v(w);const C=Date.now()-y;C>=0&&C<g||(await(0,t.nextTick)(),y+=C)}},t.utf8ToBytes=u,t.bytesToUtf8=function(p){return new TextDecoder().decode(p)},t.toBytes=function(p){if(typeof p=="string")p=u(p);else{if(!(0,e.isBytes)(p))throw new Error("Uint8Array expected, got "+typeof p);p=h(p)}return p},t.concatBytes=function(...p){let g=0;for(let y=0;y<p.length;y++){const w=p[y];(0,e.bytes)(w),g+=w.length}const v=new Uint8Array(g);for(let y=0,w=0;y<p.length;y++){const C=p[y];v.set(C,w),w+=C.length}return v},t.checkOpts=function(p,g){if(g==null||typeof g!="object")throw new Error("options must be defined");return Object.assign(p,g)},t.equalBytes=function(p,g){if(p.length!==g.length)return!1;let v=0;for(let y=0;y<p.length;y++)v|=p[y]^g[y];return v===0},t.setBigUint64=l,t.u64Lengths=function(p,g){const v=new Uint8Array(16),y=(0,t.createView)(v);return l(y,0,BigInt(g?g.length:0),!0),l(y,8,BigInt(p.length),!0),v},t.isAligned32=function(p){return p.byteOffset%4==0},t.copyBytes=h,t.clean=function(...p){for(let g=0;g<p.length;g++)p[g].fill(0)};const e=Xr;if(t.u8=p=>new Uint8Array(p.buffer,p.byteOffset,p.byteLength),t.u16=p=>new Uint16Array(p.buffer,p.byteOffset,Math.floor(p.byteLength/2)),t.u32=p=>new Uint32Array(p.buffer,p.byteOffset,Math.floor(p.byteLength/4)),t.createView=p=>new DataView(p.buffer,p.byteOffset,p.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(p,g)=>g.toString(16).padStart(2,"0"));function r(p){(0,e.bytes)(p);let g="";for(let v=0;v<p.length;v++)g+=n[p[v]];return g}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(p){return p>=i._0&&p<=i._9?p-i._0:p>=i._A&&p<=i._F?p-(i._A-10):p>=i._a&&p<=i._f?p-(i._a-10):void 0}function o(p){if(typeof p!="string")throw new Error("hex string expected, got "+typeof p);const g=p.length,v=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const y=new Uint8Array(v);for(let w=0,C=0;w<v;w++,C+=2){const x=a(p.charCodeAt(C)),M=a(p.charCodeAt(C+1));if(x===void 0||M===void 0){const k=p[C]+p[C+1];throw new Error('hex string expected, got non-hex character "'+k+'" at index '+C)}y[w]=16*x+M}return y}function s(p){if(typeof p!="string")throw new Error("hex string expected, got "+typeof p);return BigInt(p===""?"0":`0x${p}`)}function u(p){if(typeof p!="string")throw new Error("string expected, got "+typeof p);return new Uint8Array(new TextEncoder().encode(p))}t.nextTick=async()=>{},t.Hash=class{};function l(p,g,v,y){if(typeof p.setBigUint64=="function")return p.setBigUint64(g,v,y);const w=BigInt(32),C=BigInt(4294967295),x=Number(v>>w&C),M=Number(v&C),k=y?4:0,z=y?0:4;p.setUint32(g+k,x,y),p.setUint32(g+z,M,y)}function h(p){return Uint8Array.from(p)}t.wrapCipher=(p,g)=>(Object.assign(g,p),g)}(ca);var b0={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.AEAD_TAG_LENGTH=Cr.XCHACHA20_NONCE_LENGTH=Cr.CURVE25519_PUBLIC_KEY_SIZE=Cr.ETH_PUBLIC_KEY_SIZE=Cr.UNCOMPRESSED_PUBLIC_KEY_SIZE=Cr.COMPRESSED_PUBLIC_KEY_SIZE=Cr.SECRET_KEY_LENGTH=void 0,Cr.SECRET_KEY_LENGTH=32,Cr.COMPRESSED_PUBLIC_KEY_SIZE=33,Cr.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Cr.ETH_PUBLIC_KEY_SIZE=64,Cr.CURVE25519_PUBLIC_KEY_SIZE=32,Cr.XCHACHA20_NONCE_LENGTH=24,Cr.AEAD_TAG_LENGTH=16,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=Cr,n=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};t.ECIES_CONFIG=new n,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var r={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in r)return r[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(b0);var W3={},Uv={},Xy={},gR={},IS={},mg={};Object.defineProperty(mg,"__esModule",{value:!0}),mg.crypto=void 0,mg.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=a,t.managedNonce=function(u){return(0,n.number)(u.nonceLength),(l,...h)=>({encrypt(p,...g){const{nonceLength:v}=u,y=i(v),w=u(l,y,...h).encrypt(p,...g),C=(0,r.concatBytes)(y,w);return w.fill(0),C},decrypt(p,...g){const{nonceLength:v}=u,y=p.subarray(0,v),w=p.subarray(v);return u(l,y,...h).decrypt(w,...g)}})};const e=mg,n=Xr,r=ca;function i(u=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(u));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(u);throw new Error("crypto.getRandomValues must be defined")}function a(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(u,l,h,p){const g=a(),v=await g.importKey("raw",u,l,!0,["encrypt"]),y=await g.encrypt(h,v,p);return new Uint8Array(y)},async decrypt(u,l,h,p){const g=a(),v=await g.importKey("raw",u,l,!0,["decrypt"]),y=await g.decrypt(h,v,p);return new Uint8Array(y)}};const o={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function s(u){return(l,h,p)=>{(0,n.bytes)(l),(0,n.bytes)(h);const g={name:u,length:8*l.length},v=function(y,w,C){if(y===o.CBC)return{name:o.CBC,iv:w};if(y===o.CTR)return{name:o.CTR,counter:w,length:64};if(y===o.GCM)return C?{name:o.GCM,iv:w,additionalData:C}:{name:o.GCM,iv:w};throw new Error("unknown aes block mode")}(u,h,p);return{encrypt:y=>((0,n.bytes)(y),t.utils.encrypt(l,g,v,y)),decrypt:y=>((0,n.bytes)(y),t.utils.decrypt(l,g,v,y))}}}t.cbc=s(o.CBC),t.ctr=s(o.CTR),t.gcm=s(o.GCM)}(IS);var vR={},Ar={},Lo={},ra={};function $v(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function yR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function bR(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function TS(t,...e){if(!bR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function wR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$v(t.outputLen),$v(t.blockLen)}function xR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ER(t,e){TS(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(ra,"__esModule",{value:!0}),ra.isBytes=bR,ra.number=$v,ra.bool=yR,ra.bytes=TS,ra.hash=wR,ra.exists=xR,ra.output=ER;const kJ={number:$v,bool:yR,bytes:TS,hash:wR,exists:xR,output:ER};ra.default=kJ;var tl={},gg={};Object.defineProperty(gg,"__esModule",{value:!0}),gg.crypto=void 0,gg.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"},t.byteSwap32=function(l){for(let h=0;h<l.length;h++)l[h]=(0,t.byteSwap)(l[h])},t.bytesToHex=function(l){(0,n.bytes)(l);let h="";for(let p=0;p<l.length;p++)h+=r[l[p]];return h},t.hexToBytes=function(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);const h=l.length,p=h/2;if(h%2)throw new Error("padded hex string expected, got unpadded hex of length "+h);const g=new Uint8Array(p);for(let v=0,y=0;v<p;v++,y+=2){const w=a(l.charCodeAt(y)),C=a(l.charCodeAt(y+1));if(w===void 0||C===void 0){const x=l[y]+l[y+1];throw new Error('hex string expected, got non-hex character "'+x+'" at index '+y)}g[v]=16*w+C}return g},t.asyncLoop=async function(l,h,p){let g=Date.now();for(let v=0;v<l;v++){p(v);const y=Date.now()-g;y>=0&&y<h||(await(0,t.nextTick)(),g+=y)}},t.utf8ToBytes=o,t.toBytes=s,t.concatBytes=function(...l){let h=0;for(let g=0;g<l.length;g++){const v=l[g];(0,n.bytes)(v),h+=v.length}const p=new Uint8Array(h);for(let g=0,v=0;g<l.length;g++){const y=l[g];p.set(y,v),v+=y.length}return p},t.checkOpts=function(l,h){if(h!==void 0&&u.call(h)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(l,h)},t.wrapConstructor=function(l){const h=g=>l().update(s(g)).digest(),p=l();return h.outputLen=p.outputLen,h.blockLen=p.blockLen,h.create=()=>l(),h},t.wrapConstructorWithOpts=function(l){const h=(g,v)=>l(v).update(s(g)).digest(),p=l({});return h.outputLen=p.outputLen,h.blockLen=p.blockLen,h.create=g=>l(g),h},t.wrapXOFConstructorWithOpts=function(l){const h=(g,v)=>l(v).update(s(g)).digest(),p=l({});return h.outputLen=p.outputLen,h.blockLen=p.blockLen,h.create=g=>l(g),h},t.randomBytes=function(l=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(l);throw new Error("crypto.getRandomValues must be defined")};const e=gg,n=ra;t.u8=l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength),t.u32=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)),t.createView=l=>new DataView(l.buffer,l.byteOffset,l.byteLength),t.rotr=(l,h)=>l<<32-h|l>>>h,t.rotl=(l,h)=>l<<h|l>>>32-h>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=l=>l<<24&4278190080|l<<8&16711680|l>>>8&65280|l>>>24&255,t.byteSwapIfBE=t.isLE?l=>l:l=>(0,t.byteSwap)(l);const r=Array.from({length:256},(l,h)=>h.toString(16).padStart(2,"0")),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(l){return l>=i._0&&l<=i._9?l-i._0:l>=i._A&&l<=i._F?l-(i._A-10):l>=i._a&&l<=i._f?l-(i._a-10):void 0}function o(l){if(typeof l!="string")throw new Error("utf8ToBytes expected string, got "+typeof l);return new Uint8Array(new TextEncoder().encode(l))}function s(l){return typeof l=="string"&&(l=o(l)),(0,n.bytes)(l),l}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};const u={}.toString}(tl),Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.HashMD=Lo.Maj=Lo.Chi=void 0;const V3=ra,Oh=tl;Lo.Chi=(t,e,n)=>t&e^~t&n;Lo.Maj=(t,e,n)=>t&e^t&n^e&n;Lo.HashMD=class extends Oh.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Oh.createView)(this.buffer)}update(t){(0,V3.exists)(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=(0,Oh.toBytes)(t)).length;for(let a=0;a<i;){const o=Math.min(r-this.pos,i-a);if(o!==r)n.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(e,0),this.pos=0);else{const s=(0,Oh.createView)(t);for(;r<=i-a;a+=r)this.process(s,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,V3.exists)(this),(0,V3.output)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let h=a;h<r;h++)e[h]=0;(function(h,p,g,v){if(typeof h.setBigUint64=="function")return h.setBigUint64(p,g,v);const y=BigInt(32),w=BigInt(4294967295),C=Number(g>>y&w),x=Number(g&w),M=v?4:0,k=v?0:4;h.setUint32(p+M,C,v),h.setUint32(p+k,x,v)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=(0,Oh.createView)(t),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=s/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,l[h],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return t.length=r,t.pos=o,t.finished=i,t.destroyed=a,r%e&&t.buffer.set(n),t}};var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.add5L=Ut.add5H=Ut.add4H=Ut.add4L=Ut.add3H=Ut.add3L=Ut.rotlBL=Ut.rotlBH=Ut.rotlSL=Ut.rotlSH=Ut.rotr32L=Ut.rotr32H=Ut.rotrBL=Ut.rotrBH=Ut.rotrSL=Ut.rotrSH=Ut.shrSL=Ut.shrSH=Ut.toBig=void 0,Ut.fromBig=RS,Ut.split=SR,Ut.add=DR;const vg=BigInt(2**32-1),DE=BigInt(32);function RS(t,e=!1){return e?{h:Number(t&vg),l:Number(t>>DE&vg)}:{h:0|Number(t>>DE&vg),l:0|Number(t&vg)}}function SR(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:o}=RS(t[i],e);[n[i],r[i]]=[a,o]}return[n,r]}const _R=(t,e)=>BigInt(t>>>0)<<DE|BigInt(e>>>0);Ut.toBig=_R;const CR=(t,e,n)=>t>>>n;Ut.shrSH=CR;const NR=(t,e,n)=>t<<32-n|e>>>n;Ut.shrSL=NR;const AR=(t,e,n)=>t>>>n|e<<32-n;Ut.rotrSH=AR;const jR=(t,e,n)=>t<<32-n|e>>>n;Ut.rotrSL=jR;const MR=(t,e,n)=>t<<64-n|e>>>n-32;Ut.rotrBH=MR;const OR=(t,e,n)=>t>>>n-32|e<<64-n;Ut.rotrBL=OR;const kR=(t,e)=>e;Ut.rotr32H=kR;const IR=(t,e)=>t;Ut.rotr32L=IR;const TR=(t,e,n)=>t<<n|e>>>32-n;Ut.rotlSH=TR;const RR=(t,e,n)=>e<<n|t>>>32-n;Ut.rotlSL=RR;const PR=(t,e,n)=>e<<n-32|t>>>64-n;Ut.rotlBH=PR;const LR=(t,e,n)=>t<<n-32|e>>>64-n;function DR(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}Ut.rotlBL=LR;const BR=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);Ut.add3L=BR;const UR=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;Ut.add3H=UR;const $R=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);Ut.add4L=$R;const FR=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;Ut.add4H=FR;const qR=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);Ut.add5L=qR;const zR=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0;Ut.add5H=zR;const IJ={fromBig:RS,split:SR,toBig:_R,shrSH:CR,shrSL:NR,rotrSH:AR,rotrSL:jR,rotrBH:MR,rotrBL:OR,rotr32H:kR,rotr32L:IR,rotlSH:TR,rotlSL:RR,rotlBH:PR,rotlBL:LR,add:DR,add3L:BR,add3H:UR,add4L:$R,add4H:FR,add5H:zR,add5L:qR};Ut.default=IJ,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.sha384=Ar.sha512_256=Ar.sha512_224=Ar.sha512=Ar.SHA384=Ar.SHA512_256=Ar.SHA512_224=Ar.SHA512=void 0;const TJ=Lo,Ht=Ut,yg=tl,[RJ,PJ]=Ht.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Rl=new Uint32Array(80),Pl=new Uint32Array(80);class vp extends TJ.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:o,Dh:s,Dl:u,Eh:l,El:h,Fh:p,Fl:g,Gh:v,Gl:y,Hh:w,Hl:C}=this;return[e,n,r,i,a,o,s,u,l,h,p,g,v,y,w,C]}set(e,n,r,i,a,o,s,u,l,h,p,g,v,y,w,C){this.Ah=0|e,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|a,this.Cl=0|o,this.Dh=0|s,this.Dl=0|u,this.Eh=0|l,this.El=0|h,this.Fh=0|p,this.Fl=0|g,this.Gh=0|v,this.Gl=0|y,this.Hh=0|w,this.Hl=0|C}process(e,n){for(let k=0;k<16;k++,n+=4)Rl[k]=e.getUint32(n),Pl[k]=e.getUint32(n+=4);for(let k=16;k<80;k++){const z=0|Rl[k-15],P=0|Pl[k-15],K=Ht.default.rotrSH(z,P,1)^Ht.default.rotrSH(z,P,8)^Ht.default.shrSH(z,P,7),W=Ht.default.rotrSL(z,P,1)^Ht.default.rotrSL(z,P,8)^Ht.default.shrSL(z,P,7),B=0|Rl[k-2],D=0|Pl[k-2],$=Ht.default.rotrSH(B,D,19)^Ht.default.rotrBH(B,D,61)^Ht.default.shrSH(B,D,6),T=Ht.default.rotrSL(B,D,19)^Ht.default.rotrBL(B,D,61)^Ht.default.shrSL(B,D,6),b=Ht.default.add4L(W,T,Pl[k-7],Pl[k-16]),_=Ht.default.add4H(b,K,$,Rl[k-7],Rl[k-16]);Rl[k]=0|_,Pl[k]=0|b}let{Ah:r,Al:i,Bh:a,Bl:o,Ch:s,Cl:u,Dh:l,Dl:h,Eh:p,El:g,Fh:v,Fl:y,Gh:w,Gl:C,Hh:x,Hl:M}=this;for(let k=0;k<80;k++){const z=Ht.default.rotrSH(p,g,14)^Ht.default.rotrSH(p,g,18)^Ht.default.rotrBH(p,g,41),P=Ht.default.rotrSL(p,g,14)^Ht.default.rotrSL(p,g,18)^Ht.default.rotrBL(p,g,41),K=p&v^~p&w,W=g&y^~g&C,B=Ht.default.add5L(M,P,W,PJ[k],Pl[k]),D=Ht.default.add5H(B,x,z,K,RJ[k],Rl[k]),$=0|B,T=Ht.default.rotrSH(r,i,28)^Ht.default.rotrBH(r,i,34)^Ht.default.rotrBH(r,i,39),b=Ht.default.rotrSL(r,i,28)^Ht.default.rotrBL(r,i,34)^Ht.default.rotrBL(r,i,39),_=r&a^r&s^a&s,A=i&o^i&u^o&u;x=0|w,M=0|C,w=0|v,C=0|y,v=0|p,y=0|g,{h:p,l:g}=Ht.default.add(0|l,0|h,0|D,0|$),l=0|s,h=0|u,s=0|a,u=0|o,a=0|r,o=0|i;const N=Ht.default.add3L($,b,A);r=Ht.default.add3H(N,D,T,_),i=0|N}({h:r,l:i}=Ht.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:a,l:o}=Ht.default.add(0|this.Bh,0|this.Bl,0|a,0|o),{h:s,l:u}=Ht.default.add(0|this.Ch,0|this.Cl,0|s,0|u),{h:l,l:h}=Ht.default.add(0|this.Dh,0|this.Dl,0|l,0|h),{h:p,l:g}=Ht.default.add(0|this.Eh,0|this.El,0|p,0|g),{h:v,l:y}=Ht.default.add(0|this.Fh,0|this.Fl,0|v,0|y),{h:w,l:C}=Ht.default.add(0|this.Gh,0|this.Gl,0|w,0|C),{h:x,l:M}=Ht.default.add(0|this.Hh,0|this.Hl,0|x,0|M),this.set(r,i,a,o,s,u,l,h,p,g,v,y,w,C,x,M)}roundClean(){Rl.fill(0),Pl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ar.SHA512=vp;class HR extends vp{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Ar.SHA512_224=HR;class KR extends vp{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Ar.SHA512_256=KR;class Qj extends vp{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Ar.SHA384=Qj,Ar.sha512=(0,yg.wrapConstructor)(()=>new vp),Ar.sha512_224=(0,yg.wrapConstructor)(()=>new HR),Ar.sha512_256=(0,yg.wrapConstructor)(()=>new KR),Ar.sha384=(0,yg.wrapConstructor)(()=>new Qj);var BE={},Ud={},En={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.notImplemented=Gt.bitMask=void 0,Gt.isBytes=Fv,Gt.abytes=qv,Gt.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},Gt.bytesToHex=G3,Gt.numberToHexUnpadded=Xj,Gt.hexToNumber=Y3,Gt.hexToBytes=ov,Gt.bytesToNumberBE=function(t){return Y3(G3(t))},Gt.bytesToNumberLE=function(t){return qv(t),Y3(G3(Uint8Array.from(t).reverse()))},Gt.numberToBytesBE=t9,Gt.numberToBytesLE=function(t,e){return t9(t,e).reverse()},Gt.numberToVarBytesBE=function(t){return ov(Xj(t))},Gt.ensureBytes=function(t,e,n){let r;if(typeof e=="string")try{r=ov(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else{if(!Fv(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r},Gt.concatBytes=n9,Gt.equalBytes=function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0},Gt.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},Gt.inRange=r9,Gt.aInRange=function(t,e,n,r){if(!r9(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)},Gt.bitLen=function(t){let e;for(e=0;t>UE;t>>=sv,e+=1);return e},Gt.bitGet=function(t,e){return t>>BigInt(e)&sv},Gt.bitSet=function(t,e,n){return t|(n?sv:UE)<<BigInt(e)},Gt.createHmacDrbg=function(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Z3(t),i=Z3(t),a=0;const o=()=>{r.fill(1),i.fill(0),a=0},s=(...h)=>n(i,r,...h),u=(h=Z3())=>{i=s(i9([0]),h),r=s(),h.length!==0&&(i=s(i9([1]),h),r=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){r=s();const g=r.slice();p.push(g),h+=r.length}return n9(...p)};return(h,p)=>{let g;for(o(),u(h);!(g=p(l()));)u();return o(),g}},Gt.validateObject=function(t,e,n={}){const r=(i,a,o)=>{const s=BJ[a];if(typeof s!="function")throw new Error(`Invalid validator "${a}", expected function`);const u=t[i];if(!(o&&u===void 0||s(u,t)))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${a}`)};for(const[i,a]of Object.entries(e))r(i,a,!1);for(const[i,a]of Object.entries(n))r(i,a,!0);return t},Gt.memoized=function(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...r);return e.set(n,a),a}};const UE=BigInt(0),sv=BigInt(1),LJ=BigInt(2);function Fv(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function qv(t){if(!Fv(t))throw new Error("Uint8Array expected")}const DJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G3(t){qv(t);let e="";for(let n=0;n<t.length;n++)e+=DJ[t[n]];return e}function Xj(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function Y3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const vo={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function e9(t){return t>=vo._0&&t<=vo._9?t-vo._0:t>=vo._A&&t<=vo._F?t-(vo._A-10):t>=vo._a&&t<=vo._f?t-(vo._a-10):void 0}function ov(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const o=e9(t.charCodeAt(a)),s=e9(t.charCodeAt(a+1));if(o===void 0||s===void 0){const u=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}r[i]=16*o+s}return r}function t9(t,e){return ov(t.toString(16).padStart(2*e,"0"))}function n9(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];qv(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}const J3=t=>typeof t=="bigint"&&UE<=t;function r9(t,e,n){return J3(t)&&J3(e)&&J3(n)&&e<=t&&t<n}Gt.bitMask=t=>(LJ<<BigInt(t-1))-sv;const Z3=t=>new Uint8Array(t),i9=t=>Uint8Array.from(t),BJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Fv(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};Gt.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(En,"__esModule",{value:!0}),En.isNegativeLE=void 0,En.mod=ta,En.pow=WR,En.pow2=function(t,e,n){let r=t;for(;e-- >jr;)r*=r,r%=n;return r},En.invert=bg,En.tonelliShanks=VR,En.FpSqrt=o9,En.validateField=function(t){const e=$J.reduce((n,r)=>(n[r]="function",n),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Xi.validateObject)(t,e)},En.FpPow=l9,En.FpInvertBatch=c9,En.FpDiv=function(t,e,n){return t.mul(e,typeof n=="bigint"?bg(n,t.ORDER):t.inv(n))},En.FpLegendre=u9,En.FpIsSquare=function(t){const e=u9(t.ORDER);return n=>{const r=e(t,n);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},En.nLength=Q3,En.Field=function(t,e,n=!1,r={}){if(t<=jr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=Q3(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=o9(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:(0,Xi.bitMask)(i),ZERO:jr,ONE:Bn,create:u=>ta(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof u);return jr<=u&&u<t},is0:u=>u===jr,isOdd:u=>(u&Bn)===Bn,neg:u=>ta(-u,t),eql:(u,l)=>u===l,sqr:u=>ta(u*u,t),add:(u,l)=>ta(u+l,t),sub:(u,l)=>ta(u-l,t),mul:(u,l)=>ta(u*l,t),pow:(u,l)=>l9(s,u,l),div:(u,l)=>ta(u*bg(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>bg(u,t),sqrt:r.sqrt||(u=>o(s,u)),invertBatch:u=>c9(s,u),cmov:(u,l,h)=>h?l:u,toBytes:u=>n?(0,Xi.numberToBytesLE)(u,a):(0,Xi.numberToBytesBE)(u,a),fromBytes:u=>{if(u.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${u.length}`);return n?(0,Xi.bytesToNumberLE)(u):(0,Xi.bytesToNumberBE)(u)}});return Object.freeze(s)},En.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)},En.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n},En.hashToPrivateScalar=function(t,e,n=!1){t=(0,Xi.ensureBytes)("privateHash",t);const r=t.length,i=Q3(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const a=n?(0,Xi.bytesToNumberLE)(t):(0,Xi.bytesToNumberBE)(t);return ta(a,e-Bn)+Bn},En.getFieldBytesLength=FE,En.getMinHashLength=d9,En.mapHashToField=function(t,e,n=!1){const r=t.length,i=FE(e),a=d9(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const o=ta(n?(0,Xi.bytesToNumberBE)(t):(0,Xi.bytesToNumberLE)(t),e-Bn)+Bn;return n?(0,Xi.numberToBytesLE)(o,i):(0,Xi.numberToBytesBE)(o,i)};const Xi=Gt,jr=BigInt(0),Bn=BigInt(1),ec=BigInt(2),UJ=BigInt(3),$E=BigInt(4),a9=BigInt(5),s9=BigInt(8);function ta(t,e){const n=t%e;return n>=jr?n:e+n}function WR(t,e,n){if(n<=jr||e<jr)throw new Error("Expected power/modulo > 0");if(n===Bn)return jr;let r=Bn;for(;e>jr;)e&Bn&&(r=r*t%n),t=t*t%n,e>>=Bn;return r}function bg(t,e){if(t===jr||e<=jr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ta(t,e),r=e,i=jr,a=Bn;for(;n!==jr;){const o=r%n,s=i-a*(r/n);r=n,n=o,i=a,a=s}if(r!==Bn)throw new Error("invert: does not exist");return ta(i,e)}function VR(t){const e=(t-Bn)/ec;let n,r,i;for(n=t-Bn,r=0;n%ec===jr;n/=ec,r++);for(i=ec;i<t&&WR(i,e,t)!==t-Bn;i++);if(r===1){const o=(t+Bn)/$E;return function(s,u){const l=s.pow(u,o);if(!s.eql(s.sqr(l),u))throw new Error("Cannot find square root");return l}}const a=(n+Bn)/ec;return function(o,s){if(o.pow(s,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=r,l=o.pow(o.mul(o.ONE,i),n),h=o.pow(s,a),p=o.pow(s,n);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let g=1;for(let y=o.sqr(p);g<u&&!o.eql(y,o.ONE);g++)y=o.sqr(y);const v=o.pow(l,Bn<<BigInt(u-g-1));l=o.sqr(v),h=o.mul(h,v),p=o.mul(p,l),u=g}return h}}function o9(t){if(t%$E===UJ){const e=(t+Bn)/$E;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%s9===a9){const e=(t-a9)/s9;return function(n,r){const i=n.mul(r,ec),a=n.pow(i,e),o=n.mul(r,a),s=n.mul(n.mul(o,ec),a),u=n.mul(o,n.sub(s,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return VR(t)}BigInt(9),BigInt(16);En.isNegativeLE=(t,e)=>(ta(t,e)&Bn)===Bn;const $J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function l9(t,e,n){if(n<jr)throw new Error("Expected power > 0");if(n===jr)return t.ONE;if(n===Bn)return e;let r=t.ONE,i=e;for(;n>jr;)n&Bn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Bn;return r}function c9(t,e){const n=new Array(e.length),r=e.reduce((a,o,s)=>t.is0(o)?a:(n[s]=a,t.mul(a,o)),t.ONE),i=t.inv(r);return e.reduceRight((a,o,s)=>t.is0(o)?a:(n[s]=t.mul(a,n[s]),t.mul(a,o)),i),n}function u9(t){const e=(t-Bn)/ec;return(n,r)=>n.pow(r,e)}function Q3(t,e){const n=e!==void 0?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function FE(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function d9(t){const e=FE(t);return e+Math.ceil(e/2)}Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.wNAF=function(t,e){const n=(a,o)=>{const s=o.negate();return a?s:o},r=a=>{if(!Number.isSafeInteger(a)||a<=0||a>e)throw new Error(`Wrong window size=${a}, should be [1..${e}]`)},i=a=>(r(a),{windows:Math.ceil(e/a)+1,windowSize:2**(a-1)});return{constTimeNegate:n,unsafeLadder(a,o){let s=t.ZERO,u=a;for(;o>FJ;)o&X3&&(s=s.add(u)),u=u.double(),o>>=X3;return s},precomputeWindow(a,o){const{windows:s,windowSize:u}=i(o),l=[];let h=a,p=h;for(let g=0;g<s;g++){p=h,l.push(p);for(let v=1;v<u;v++)p=p.add(h),l.push(p);h=p.double()}return l},wNAF(a,o,s){const{windows:u,windowSize:l}=i(a);let h=t.ZERO,p=t.BASE;const g=BigInt(2**a-1),v=2**a,y=BigInt(a);for(let w=0;w<u;w++){const C=w*l;let x=Number(s&g);s>>=y,x>l&&(x-=v,s+=X3);const M=C,k=C+Math.abs(x)-1,z=w%2!=0,P=x<0;x===0?p=p.add(n(z,o[M])):h=h.add(n(P,o[k]))}return{p:h,f:p}},wNAFCached(a,o,s){const u=p9.get(a)||1;let l=e2.get(a);return l||(l=this.precomputeWindow(a,u),u!==1&&e2.set(a,s(l))),this.wNAF(u,l,o)},setWindowSize(a,o){r(o),p9.set(a,o),e2.delete(a)}}},Ud.pippenger=function(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((h,p)=>{if(!e.isValid(h))throw new Error(`wrong scalar at index ${p}`)}),n.forEach((h,p)=>{if(!(h instanceof t))throw new Error(`wrong point at index ${p}`)});const i=(0,h9.bitLen)(BigInt(n.length)),a=i>12?i-3:i>4?i-2:i?2:1,o=(1<<a)-1,s=new Array(o+1).fill(t.ZERO),u=Math.floor((e.BITS-1)/a)*a;let l=t.ZERO;for(let h=u;h>=0;h-=a){s.fill(t.ZERO);for(let g=0;g<r.length;g++){const v=r[g],y=Number(v>>BigInt(h)&BigInt(o));s[y]=s[y].add(n[g])}let p=t.ZERO;for(let g=s.length-1,v=t.ZERO;g>0;g--)v=v.add(s[g]),p=p.add(v);if(l=l.add(p),h!==0)for(let g=0;g<a;g++)l=l.double()}return l},Ud.validateBasic=function(t){return(0,f9.validateField)(t.Fp),(0,h9.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,f9.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};const f9=En,h9=Gt,FJ=BigInt(0),X3=BigInt(1),e2=new WeakMap,p9=new WeakMap;Object.defineProperty(BE,"__esModule",{value:!0}),BE.twistedEdwards=function(t){const e=function(_){const A=(0,t2.validateBasic)(_);return Ni.validateObject(_,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...A})}(t),{Fp:n,n:r,prehash:i,hash:a,randomBytes:o,nByteLength:s,h:u}=e,l=wg<<BigInt(8*s)-Ai,h=n.create,p=(0,m9.Field)(e.n,e.nBitLength),g=e.uvRatio||((_,A)=>{try{return{isValid:!0,value:n.sqrt(_*n.inv(A))}}catch{return{isValid:!1,value:Qa}}}),v=e.adjustScalarBytes||(_=>_),y=e.domain||((_,A,N)=>{if((0,ea.abool)("phflag",N),A.length||N)throw new Error("Contexts/pre-hash are not supported");return _});function w(_,A){Ni.aInRange("coordinate "+_,A,Qa,l)}function C(_){if(!(_ instanceof k))throw new Error("ExtendedPoint expected")}const x=(0,ea.memoized)((_,A)=>{const{ex:N,ey:O,ez:U}=_,j=_.is0();A==null&&(A=j?qJ:n.inv(U));const I=h(N*A),E=h(O*A),L=h(U*A);if(j)return{x:Qa,y:Ai};if(L!==Ai)throw new Error("invZ was invalid");return{x:I,y:E}}),M=(0,ea.memoized)(_=>{const{a:A,d:N}=e;if(_.is0())throw new Error("bad point: ZERO");const{ex:O,ey:U,ez:j,et:I}=_,E=h(O*O),L=h(U*U),q=h(j*j),F=h(q*q),G=h(E*A);if(h(q*h(G+L))!==h(F+h(N*h(E*L))))throw new Error("bad point: equation left != right (1)");if(h(O*U)!==h(j*I))throw new Error("bad point: equation left != right (2)");return!0});class k{constructor(A,N,O,U){this.ex=A,this.ey=N,this.ez=O,this.et=U,w("x",A),w("y",N),w("z",O),w("t",U),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof k)throw new Error("extended point not allowed");const{x:N,y:O}=A||{};return w("x",N),w("y",O),new k(N,O,Ai,h(N*O))}static normalizeZ(A){const N=n.invertBatch(A.map(O=>O.ez));return A.map((O,U)=>O.toAffine(N[U])).map(k.fromAffine)}static msm(A,N){return(0,t2.pippenger)(k,p,A,N)}_setWindowSize(A){K.setWindowSize(this,A)}assertValidity(){M(this)}equals(A){C(A);const{ex:N,ey:O,ez:U}=this,{ex:j,ey:I,ez:E}=A,L=h(N*E),q=h(j*U),F=h(O*E),G=h(I*U);return L===q&&F===G}is0(){return this.equals(k.ZERO)}negate(){return new k(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:A}=e,{ex:N,ey:O,ez:U}=this,j=h(N*N),I=h(O*O),E=h(wg*h(U*U)),L=h(A*j),q=N+O,F=h(h(q*q)-j-I),G=L+I,Y=G-E,Q=L-I,ie=h(F*Y),Z=h(G*Q),X=h(F*Q),te=h(Y*G);return new k(ie,Z,te,X)}add(A){C(A);const{a:N,d:O}=e,{ex:U,ey:j,ez:I,et:E}=this,{ex:L,ey:q,ez:F,et:G}=A;if(N===BigInt(-1)){const Ee=h((j-U)*(q+L)),ye=h((j+U)*(q-L)),fe=h(ye-Ee);if(fe===Qa)return this.double();const Se=h(I*wg*G),Ae=h(E*wg*F),xe=Ae+Se,ze=ye+Ee,Xe=Ae-Se,nt=h(xe*fe),et=h(ze*Xe),re=h(xe*Xe),V=h(fe*ze);return new k(nt,et,V,re)}const Y=h(U*L),Q=h(j*q),ie=h(E*O*G),Z=h(I*F),X=h((U+j)*(L+q)-Y-Q),te=Z-ie,ae=Z+ie,oe=h(Q-N*Y),ee=h(X*te),le=h(ae*oe),he=h(X*oe),ge=h(te*ae);return new k(ee,le,ge,he)}subtract(A){return this.add(A.negate())}wNAF(A){return K.wNAFCached(this,A,k.normalizeZ)}multiply(A){const N=A;Ni.aInRange("scalar",N,Ai,r);const{p:O,f:U}=this.wNAF(N);return k.normalizeZ([O,U])[0]}multiplyUnsafe(A){const N=A;return Ni.aInRange("scalar",N,Qa,r),N===Qa?P:this.equals(P)||N===Ai?this:this.equals(z)?this.wNAF(N).p:K.unsafeLadder(this,N)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return K.unsafeLadder(this,r).is0()}toAffine(A){return x(this,A)}clearCofactor(){const{h:A}=e;return A===Ai?this:this.multiplyUnsafe(A)}static fromHex(A,N=!1){const{d:O,a:U}=e,j=n.BYTES;A=(0,ea.ensureBytes)("pointHex",A,j),(0,ea.abool)("zip215",N);const I=A.slice(),E=A[j-1];I[j-1]=-129&E;const L=Ni.bytesToNumberLE(I),q=N?l:n.ORDER;Ni.aInRange("pointHex.y",L,Qa,q);const F=h(L*L),G=h(F-Ai),Y=h(O*F-U);let{isValid:Q,value:ie}=g(G,Y);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const Z=(ie&Ai)===Ai,X=(128&E)!=0;if(!N&&ie===Qa&&X)throw new Error("Point.fromHex: x=0 and x_0=1");return X!==Z&&(ie=h(-ie)),k.fromAffine({x:ie,y:L})}static fromPrivateKey(A){return D(A).point}toRawBytes(){const{x:A,y:N}=this.toAffine(),O=Ni.numberToBytesLE(N,n.BYTES);return O[O.length-1]|=A&Ai?128:0,O}toHex(){return Ni.bytesToHex(this.toRawBytes())}}k.BASE=new k(e.Gx,e.Gy,Ai,h(e.Gx*e.Gy)),k.ZERO=new k(Qa,Ai,Ai,Qa);const{BASE:z,ZERO:P}=k,K=(0,t2.wNAF)(k,8*s);function W(_){return(0,m9.mod)(_,r)}function B(_){return W(Ni.bytesToNumberLE(_))}function D(_){const A=s;_=(0,ea.ensureBytes)("private key",_,A);const N=(0,ea.ensureBytes)("hashed private key",a(_),2*A),O=v(N.slice(0,A)),U=N.slice(A,2*A),j=B(O),I=z.multiply(j),E=I.toRawBytes();return{head:O,prefix:U,scalar:j,point:I,pointBytes:E}}function $(_=new Uint8Array,...A){const N=Ni.concatBytes(...A);return B(a(y(N,(0,ea.ensureBytes)("context",_),!!i)))}const T=zJ;return z._setWindowSize(8),{CURVE:e,getPublicKey:function(_){return D(_).pointBytes},sign:function(_,A,N={}){_=(0,ea.ensureBytes)("message",_),i&&(_=i(_));const{prefix:O,scalar:U,pointBytes:j}=D(A),I=$(N.context,O,_),E=z.multiply(I).toRawBytes(),L=W(I+$(N.context,E,j,_)*U);Ni.aInRange("signature.s",L,Qa,r);const q=Ni.concatBytes(E,Ni.numberToBytesLE(L,n.BYTES));return(0,ea.ensureBytes)("result",q,2*s)},verify:function(_,A,N,O=T){const{context:U,zip215:j}=O,I=n.BYTES;_=(0,ea.ensureBytes)("signature",_,2*I),A=(0,ea.ensureBytes)("message",A),j!==void 0&&(0,ea.abool)("zip215",j),i&&(A=i(A));const E=Ni.bytesToNumberLE(_.slice(I,2*I));let L,q,F;try{L=k.fromHex(N,j),q=k.fromHex(_.slice(0,I),j),F=z.multiplyUnsafe(E)}catch{return!1}if(!j&&L.isSmallOrder())return!1;const G=$(U,q.toRawBytes(),L.toRawBytes(),A);return q.add(L.multiplyUnsafe(G)).subtract(F).clearCofactor().equals(k.ZERO)},ExtendedPoint:k,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>o(n.BYTES),precompute:(_=8,A=k.BASE)=>(A._setWindowSize(_),A.multiply(BigInt(3)),A)}}};const t2=Ud,m9=En,Ni=Gt,ea=Gt,Qa=BigInt(0),Ai=BigInt(1),wg=BigInt(2),qJ=BigInt(8),zJ={zip215:!0};var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.expand_message_xmd=GR,Wl.expand_message_xof=YR,Wl.hash_to_field=n2,Wl.isogenyMap=function(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[a,o,s,u]=n.map(l=>l.reduce((h,p)=>t.add(t.mul(h,r),p)));return r=t.div(a,o),i=t.mul(i,t.div(s,u)),{x:r,y:i}}},Wl.createHasher=function(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const a=n2(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(a[0])),s=t.fromAffine(e(a[1])),u=o.add(s).clearCofactor();return u.assertValidity(),u},encodeToCurve(r,i){const a=n2(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(a[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const a of r)if(typeof a!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${a} in array`);const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}};const HJ=En,Qr=Gt,KJ=Qr.bytesToNumberBE;function Vl(t,e){if(w0(t),w0(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function WJ(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function w0(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function GR(t,e,n,r){(0,Qr.abytes)(t),(0,Qr.abytes)(e),w0(n),e.length>255&&(e=r((0,Qr.concatBytes)((0,Qr.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:a}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const s=(0,Qr.concatBytes)(e,Vl(e.length,1)),u=Vl(0,a),l=Vl(n,2),h=new Array(o),p=r((0,Qr.concatBytes)(u,t,l,Vl(0,1),s));h[0]=r((0,Qr.concatBytes)(p,Vl(1,1),s));for(let g=1;g<=o;g++){const v=[WJ(p,h[g-1]),Vl(g+1,1),s];h[g]=r((0,Qr.concatBytes)(...v))}return(0,Qr.concatBytes)(...h).slice(0,n)}function YR(t,e,n,r,i){if((0,Qr.abytes)(t),(0,Qr.abytes)(e),w0(n),e.length>255){const a=Math.ceil(2*r/8);e=i.create({dkLen:a}).update((0,Qr.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(Vl(n,2)).update(e).update(Vl(e.length,1)).digest()}function n2(t,e,n){(0,Qr.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:a,hash:o,expand:s,DST:u}=n;(0,Qr.abytes)(t),w0(e);const l=typeof u=="string"?(0,Qr.utf8ToBytes)(u):u,h=r.toString(2).length,p=Math.ceil((h+i)/8),g=e*a*p;let v;if(s==="xmd")v=GR(t,l,g,o);else if(s==="xof")v=YR(t,l,g,i,o);else{if(s!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');v=t}const y=new Array(e);for(let w=0;w<e;w++){const C=new Array(a);for(let x=0;x<a;x++){const M=p*(x+w*a),k=v.subarray(M,M+p);C[x]=(0,HJ.mod)(KJ(k),r)}y[w]=C}return y}var qE={};Object.defineProperty(qE,"__esModule",{value:!0}),qE.montgomery=function(t){const e=function(w){return(0,Ll.validateObject)(w,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...w})}(t),{P:n}=e,r=w=>(0,g9.mod)(w,n),i=e.montgomeryBits,a=Math.ceil(i/8),o=e.nByteLength,s=e.adjustScalarBytes||(w=>w),u=e.powPminus2||(w=>(0,g9.pow)(w,n-BigInt(2),n));function l(w,C,x){const M=r(w*(C-x));return[C=r(C-M),x=r(x+M)]}const h=(e.a-BigInt(2))/BigInt(4);function p(w){return(0,Ll.numberToBytesLE)(r(w),a)}function g(w,C){const x=function(z){const P=(0,Ll.ensureBytes)("u coordinate",z,a);return o===32&&(P[31]&=127),(0,Ll.bytesToNumberLE)(P)}(C),M=function(z){const P=(0,Ll.ensureBytes)("scalar",z),K=P.length;if(K!==a&&K!==o)throw new Error(`Expected ${a} or ${o} bytes, got ${K}`);return(0,Ll.bytesToNumberLE)(s(P))}(w),k=function(z,P){(0,Ll.aInRange)("u",z,Cd,n),(0,Ll.aInRange)("scalar",P,Cd,n);const K=P,W=z;let B,D=r2,$=Cd,T=z,b=r2,_=Cd;for(let N=BigInt(i-1);N>=Cd;N--){const O=K>>N&r2;_^=O,B=l(_,D,T),D=B[0],T=B[1],B=l(_,$,b),$=B[0],b=B[1],_=O;const U=D+$,j=r(U*U),I=D-$,E=r(I*I),L=j-E,q=T+b,F=r((T-b)*U),G=r(q*I),Y=F+G,Q=F-G;T=r(Y*Y),b=r(W*r(Q*Q)),D=r(j*E),$=r(L*(j+r(h*L)))}B=l(_,D,T),D=B[0],T=B[1],B=l(_,$,b),$=B[0],b=B[1];const A=u($);return r(D*A)}(x,M);if(k===Cd)throw new Error("Invalid private or public key received");return p(k)}const v=p(e.Gu);function y(w){return g(w,v)}return{scalarMult:g,scalarMultBase:y,getSharedSecret:(w,C)=>g(w,C),getPublicKey:w=>y(w),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:v}};const g9=En,Ll=Gt,Cd=BigInt(0),r2=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=K,t.edwardsToMontgomeryPriv=function(G){const Y=z.hash(G.subarray(0,32));return z.adjustScalarBytes(Y).subarray(0,32)};const e=Ar,n=tl,r=BE,i=Wl,a=En,o=qE,s=Gt,u=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),h=BigInt(0),p=BigInt(1),g=BigInt(2),v=BigInt(3),y=BigInt(5),w=BigInt(8);function C(G){const Y=BigInt(10),Q=BigInt(20),ie=BigInt(40),Z=BigInt(80),X=u,te=G*G%X*G%X,ae=(0,a.pow2)(te,g,X)*te%X,oe=(0,a.pow2)(ae,p,X)*G%X,ee=(0,a.pow2)(oe,y,X)*oe%X,le=(0,a.pow2)(ee,Y,X)*ee%X,he=(0,a.pow2)(le,Q,X)*le%X,ge=(0,a.pow2)(he,ie,X)*he%X,Ee=(0,a.pow2)(ge,Z,X)*ge%X,ye=(0,a.pow2)(Ee,Z,X)*ge%X,fe=(0,a.pow2)(ye,Y,X)*ee%X;return{pow_p_5_8:(0,a.pow2)(fe,g,X)*G%X,b2:te}}function x(G){return G[0]&=248,G[31]&=127,G[31]|=64,G}function M(G,Y){const Q=u,ie=(0,a.mod)(Y*Y*Y,Q),Z=C(G*(0,a.mod)(ie*ie*Y,Q)).pow_p_5_8;let X=(0,a.mod)(G*ie*Z,Q);const te=(0,a.mod)(Y*X*X,Q),ae=X,oe=(0,a.mod)(X*l,Q),ee=te===G,le=te===(0,a.mod)(-G,Q),he=te===(0,a.mod)(-G*l,Q);return ee&&(X=ae),(le||he)&&(X=oe),(0,a.isNegativeLE)(X,Q)&&(X=(0,a.mod)(-X,Q)),{isValid:ee||le,value:X}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const k=(0,a.Field)(u,void 0,!0),z={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:k,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:w,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:n.randomBytes,adjustScalarBytes:x,uvRatio:M};function P(G,Y,Q){if(Y.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Q?1:0,Y.length]),Y,G)}function K(G){const{y:Y}=t.ed25519.ExtendedPoint.fromHex(G),Q=BigInt(1);return k.toBytes(k.create((Q+Y)*k.inv(Q-Y)))}t.ed25519=(0,r.twistedEdwards)(z),t.ed25519ctx=(0,r.twistedEdwards)({...z,domain:P}),t.ed25519ph=(0,r.twistedEdwards)(Object.assign({},z,{domain:P,prehash:e.sha512})),t.x25519=(0,o.montgomery)({P:u,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:G=>{const Y=u,{pow_p_5_8:Q,b2:ie}=C(G);return(0,a.mod)((0,a.pow2)(Q,v,Y)*ie,Y)},adjustScalarBytes:x,randomBytes:n.randomBytes}),t.edwardsToMontgomery=K;const W=(k.ORDER+v)/w,B=k.pow(g,W),D=k.sqrt(k.neg(k.ONE)),$=(0,a.FpSqrtEven)(k,k.neg(BigInt(486664)));function T(G){const{xMn:Y,xMd:Q,yMn:ie,yMd:Z}=function(ge){const Ee=(k.ORDER-y)/w,ye=BigInt(486662);let fe=k.sqr(ge);fe=k.mul(fe,g);let Se=k.add(fe,k.ONE),Ae=k.neg(ye),xe=k.sqr(Se),ze=k.mul(xe,Se),Xe=k.mul(fe,ye);Xe=k.mul(Xe,Ae),Xe=k.add(Xe,xe),Xe=k.mul(Xe,Ae);let nt=k.sqr(ze);xe=k.sqr(nt),nt=k.mul(nt,ze),nt=k.mul(nt,Xe),xe=k.mul(xe,nt);let et=k.pow(xe,Ee);et=k.mul(et,nt);let re=k.mul(et,D);xe=k.sqr(et),xe=k.mul(xe,ze);let V=k.eql(xe,Xe),J=k.cmov(re,et,V),ue=k.mul(Ae,fe),ve=k.mul(et,ge);ve=k.mul(ve,B);let Me=k.mul(ve,D),Ie=k.mul(Xe,fe);xe=k.sqr(ve),xe=k.mul(xe,ze);let st=k.eql(xe,Ie),Pt=k.cmov(Me,ve,st);xe=k.sqr(J),xe=k.mul(xe,ze);let ut=k.eql(xe,Xe),bt=k.cmov(ue,Ae,ut),Tt=k.cmov(Pt,J,ut),Bt=k.isOdd(Tt);return Tt=k.cmov(Tt,k.neg(Tt),ut!==Bt),{xMn:bt,xMd:Se,yMn:Tt,yMd:p}}(G);let X=k.mul(Y,Z);X=k.mul(X,$);let te=k.mul(Q,ie),ae=k.sub(Y,Q),oe=k.add(Y,Q),ee=k.mul(te,oe),le=k.eql(ee,k.ZERO);X=k.cmov(X,k.ZERO,le),te=k.cmov(te,k.ONE,le),ae=k.cmov(ae,k.ONE,le),oe=k.cmov(oe,k.ONE,le);const he=k.invertBatch([te,oe]);return{x:k.mul(X,he[0]),y:k.mul(ae,he[1])}}const b=(0,i.createHasher)(t.ed25519.ExtendedPoint,G=>T(G[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:k.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function _(G){if(!(G instanceof F))throw new Error("RistrettoPoint expected")}t.hashToCurve=b.hashToCurve,t.encodeToCurve=b.encodeToCurve;const A=l,N=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),O=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),U=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),j=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),I=G=>M(p,G),E=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=G=>t.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(G)&E);function q(G){const{d:Y}=t.ed25519.CURVE,Q=t.ed25519.CURVE.Fp.ORDER,ie=t.ed25519.CURVE.Fp.create,Z=ie(A*G*G),X=ie((Z+p)*U);let te=BigInt(-1);const ae=ie((te-Y*Z)*ie(Z+Y));let{isValid:oe,value:ee}=M(X,ae),le=ie(ee*G);(0,a.isNegativeLE)(le,Q)||(le=ie(-le)),oe||(ee=le),oe||(te=Z);const he=ie(te*(Z-p)*j-ae),ge=ee*ee,Ee=ie((ee+ee)*ae),ye=ie(he*N),fe=ie(p-ge),Se=ie(p+ge);return new t.ed25519.ExtendedPoint(ie(Ee*Se),ie(fe*ye),ie(ye*Se),ie(Ee*fe))}class F{constructor(Y){this.ep=Y}static fromAffine(Y){return new F(t.ed25519.ExtendedPoint.fromAffine(Y))}static hashToCurve(Y){Y=(0,s.ensureBytes)("ristrettoHash",Y,64);const Q=q(L(Y.slice(0,32))),ie=q(L(Y.slice(32,64)));return new F(Q.add(ie))}static fromHex(Y){Y=(0,s.ensureBytes)("ristrettoHex",Y,32);const{a:Q,d:ie}=t.ed25519.CURVE,Z=t.ed25519.CURVE.Fp.ORDER,X=t.ed25519.CURVE.Fp.create,te="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ae=L(Y);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(ae,32),Y)||(0,a.isNegativeLE)(ae,Z))throw new Error(te);const oe=X(ae*ae),ee=X(p+Q*oe),le=X(p-Q*oe),he=X(ee*ee),ge=X(le*le),Ee=X(Q*ie*he-ge),{isValid:ye,value:fe}=I(X(Ee*ge)),Se=X(fe*le),Ae=X(fe*Se*Ee);let xe=X((ae+ae)*Se);(0,a.isNegativeLE)(xe,Z)&&(xe=X(-xe));const ze=X(ee*Ae),Xe=X(xe*ze);if(!ye||(0,a.isNegativeLE)(Xe,Z)||ze===h)throw new Error(te);return new F(new t.ed25519.ExtendedPoint(xe,ze,p,Xe))}toRawBytes(){let{ex:Y,ey:Q,ez:ie,et:Z}=this.ep;const X=t.ed25519.CURVE.Fp.ORDER,te=t.ed25519.CURVE.Fp.create,ae=te(te(ie+Q)*te(ie-Q)),oe=te(Y*Q),ee=te(oe*oe),{value:le}=I(te(ae*ee)),he=te(le*ae),ge=te(le*oe),Ee=te(he*ge*Z);let ye;if((0,a.isNegativeLE)(Z*Ee,X)){let Se=te(Q*A),Ae=te(Y*A);Y=Se,Q=Ae,ye=te(he*O)}else ye=ge;(0,a.isNegativeLE)(Y*Ee,X)&&(Q=te(-Q));let fe=te((ie-Q)*ye);return(0,a.isNegativeLE)(fe,X)&&(fe=te(-fe)),(0,s.numberToBytesLE)(fe,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Y){_(Y);const{ex:Q,ey:ie}=this.ep,{ex:Z,ey:X}=Y.ep,te=t.ed25519.CURVE.Fp.create,ae=te(Q*X)===te(ie*Z),oe=te(ie*X)===te(Q*Z);return ae||oe}add(Y){return _(Y),new F(this.ep.add(Y.ep))}subtract(Y){return _(Y),new F(this.ep.subtract(Y.ep))}multiply(Y){return new F(this.ep.multiply(Y))}multiplyUnsafe(Y){return new F(this.ep.multiplyUnsafe(Y))}double(){return new F(this.ep.double())}negate(){return new F(this.ep.negate())}}t.RistrettoPoint=(F.BASE||(F.BASE=new F(t.ed25519.ExtendedPoint.BASE)),F.ZERO||(F.ZERO=new F(t.ed25519.ExtendedPoint.ZERO)),F),t.hashToRistretto255=(G,Y)=>{const Q=Y.DST,ie=typeof Q=="string"?(0,n.utf8ToBytes)(Q):Q,Z=(0,i.expand_message_xmd)(G,ie,64,e.sha512);return F.hashToCurve(Z)},t.hash_to_ristretto255=t.hashToRistretto255})(vR);var JR={},Do={};Object.defineProperty(Do,"__esModule",{value:!0}),Do.sha224=Do.sha256=Do.SHA256=void 0;const i2=Lo,Oa=tl,VJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bl=new Uint32Array(64);class PS extends i2.HashMD{constructor(){super(64,32,8,!1),this.A=0|Dl[0],this.B=0|Dl[1],this.C=0|Dl[2],this.D=0|Dl[3],this.E=0|Dl[4],this.F=0|Dl[5],this.G=0|Dl[6],this.H=0|Dl[7]}get(){const{A:e,B:n,C:r,D:i,E:a,F:o,G:s,H:u}=this;return[e,n,r,i,a,o,s,u]}set(e,n,r,i,a,o,s,u){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|a,this.F=0|o,this.G=0|s,this.H=0|u}process(e,n){for(let p=0;p<16;p++,n+=4)Bl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const g=Bl[p-15],v=Bl[p-2],y=(0,Oa.rotr)(g,7)^(0,Oa.rotr)(g,18)^g>>>3,w=(0,Oa.rotr)(v,17)^(0,Oa.rotr)(v,19)^v>>>10;Bl[p]=w+Bl[p-7]+y+Bl[p-16]|0}let{A:r,B:i,C:a,D:o,E:s,F:u,G:l,H:h}=this;for(let p=0;p<64;p++){const g=h+((0,Oa.rotr)(s,6)^(0,Oa.rotr)(s,11)^(0,Oa.rotr)(s,25))+(0,i2.Chi)(s,u,l)+VJ[p]+Bl[p]|0,v=((0,Oa.rotr)(r,2)^(0,Oa.rotr)(r,13)^(0,Oa.rotr)(r,22))+(0,i2.Maj)(r,i,a)|0;h=l,l=u,u=s,s=o+g|0,o=a,a=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(r,i,a,o,s,u,l,h)}roundClean(){Bl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}Do.SHA256=PS;class GJ extends PS{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Do.sha256=(0,Oa.wrapConstructor)(()=>new PS),Do.sha224=(0,Oa.wrapConstructor)(()=>new GJ);var lv={},LS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=ra,n=tl;class r extends n.Hash{constructor(a,o){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(a);const s=(0,n.toBytes)(o);if(this.iHash=a.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(s.length>u?a.create().update(s).digest():s);for(let h=0;h<l.length;h++)l[h]^=54;this.iHash.update(l),this.oHash=a.create();for(let h=0;h<l.length;h++)l[h]^=106;this.oHash.update(l),l.fill(0)}update(a){return(0,e.exists)(this),this.iHash.update(a),this}digestInto(a){(0,e.exists)(this),(0,e.bytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){const a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:s,finished:u,destroyed:l,blockLen:h,outputLen:p}=this;return a.finished=u,a.destroyed=l,a.blockLen=h,a.outputLen=p,a.oHash=o._cloneInto(a.oHash),a.iHash=s._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r,t.hmac=(i,a,o)=>new r(i,a).update(o).digest(),t.hmac.create=(i,a)=>new r(i,a)})(LS);var DS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=v,t.weierstrass=function(w){const C=function(G){const Y=(0,e.validateBasic)(G);return r.validateObject(Y,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...Y})}(w),{Fp:x,n:M}=C,k=x.BYTES+1,z=2*x.BYTES+1;function P(G){return n.mod(G,M)}function K(G){return n.invert(G,M)}const{ProjectivePoint:W,normPrivateKeyToScalar:B,weierstrassEquation:D,isWithinCurveOrder:$}=v({...C,toBytes(G,Y,Q){const ie=Y.toAffine(),Z=x.toBytes(ie.x),X=r.concatBytes;return(0,i.abool)("isCompressed",Q),Q?X(Uint8Array.from([Y.hasEvenY()?2:3]),Z):X(Uint8Array.from([4]),Z,x.toBytes(ie.y))},fromBytes(G){const Y=G.length,Q=G[0],ie=G.subarray(1);if(Y!==k||Q!==2&&Q!==3){if(Y===z&&Q===4)return{x:x.fromBytes(ie.subarray(0,x.BYTES)),y:x.fromBytes(ie.subarray(x.BYTES,2*x.BYTES))};throw new Error(`Point of length ${Y} was invalid. Expected ${k} compressed bytes or ${z} uncompressed bytes`)}{const Z=r.bytesToNumberBE(ie);if(!r.inRange(Z,l,x.ORDER))throw new Error("Point is not on curve");const X=D(Z);let te;try{te=x.sqrt(X)}catch(ae){const oe=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+oe)}return(1&Q)==1!=((te&l)===l)&&(te=x.neg(te)),{x:Z,y:te}}}}),T=G=>r.bytesToHex(r.numberToBytesBE(G,C.nByteLength));function b(G){return G>M>>l}const _=(G,Y,Q)=>r.bytesToNumberBE(G.slice(Y,Q));class A{constructor(Y,Q,ie){this.r=Y,this.s=Q,this.recovery=ie,this.assertValidity()}static fromCompact(Y){const Q=C.nByteLength;return Y=(0,i.ensureBytes)("compactSignature",Y,2*Q),new A(_(Y,0,Q),_(Y,Q,2*Q))}static fromDER(Y){const{r:Q,s:ie}=t.DER.toSig((0,i.ensureBytes)("DER",Y));return new A(Q,ie)}assertValidity(){r.aInRange("r",this.r,l,M),r.aInRange("s",this.s,l,M)}addRecoveryBit(Y){return new A(this.r,this.s,Y)}recoverPublicKey(Y){const{r:Q,s:ie,recovery:Z}=this,X=j((0,i.ensureBytes)("msgHash",Y));if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");const te=Z===2||Z===3?Q+C.n:Q;if(te>=x.ORDER)throw new Error("recovery id 2 or 3 invalid");const ae=(1&Z)==0?"02":"03",oe=W.fromHex(ae+T(te)),ee=K(te),le=P(-X*ee),he=P(ie*ee),ge=W.BASE.multiplyAndAddUnsafe(oe,le,he);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,P(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}const N={isValidPrivateKey(G){try{return B(G),!0}catch{return!1}},normPrivateKeyToScalar:B,randomPrivateKey:()=>{const G=n.getMinHashLength(C.n);return n.mapHashToField(C.randomBytes(G),C.n)},precompute:(G=8,Y=W.BASE)=>(Y._setWindowSize(G),Y.multiply(BigInt(3)),Y)};function O(G){const Y=r.isBytes(G),Q=typeof G=="string",ie=(Y||Q)&&G.length;return Y?ie===k||ie===z:Q?ie===2*k||ie===2*z:G instanceof W}const U=C.bits2int||function(G){const Y=r.bytesToNumberBE(G),Q=8*G.length-C.nBitLength;return Q>0?Y>>BigInt(Q):Y},j=C.bits2int_modN||function(G){return P(U(G))},I=r.bitMask(C.nBitLength);function E(G){return r.aInRange(`num < 2^${C.nBitLength}`,G,u,I),r.numberToBytesBE(G,C.nByteLength)}function L(G,Y,Q=q){if(["recovered","canonical"].some(Ee=>Ee in Q))throw new Error("sign() legacy options not supported");const{hash:ie,randomBytes:Z}=C;let{lowS:X,prehash:te,extraEntropy:ae}=Q;X==null&&(X=!0),G=(0,i.ensureBytes)("msgHash",G),a(Q),te&&(G=(0,i.ensureBytes)("prehashed msgHash",ie(G)));const oe=j(G),ee=B(Y),le=[E(ee),E(oe)];if(ae!=null&&ae!==!1){const Ee=ae===!0?Z(x.BYTES):ae;le.push((0,i.ensureBytes)("extraEntropy",Ee))}const he=r.concatBytes(...le),ge=oe;return{seed:he,k2sig:function(Ee){const ye=U(Ee);if(!$(ye))return;const fe=K(ye),Se=W.BASE.multiply(ye).toAffine(),Ae=P(Se.x);if(Ae===u)return;const xe=P(fe*P(ge+Ae*ee));if(xe===u)return;let ze=(Se.x===Ae?0:2)|Number(Se.y&l),Xe=xe;return X&&b(xe)&&(Xe=function(nt){return b(nt)?P(-nt):nt}(xe),ze^=1),new A(Ae,Xe,ze)}}}const q={lowS:C.lowS,prehash:!1},F={lowS:C.lowS,prehash:!1};return W.BASE._setWindowSize(8),{CURVE:C,getPublicKey:function(G,Y=!0){return W.fromPrivateKey(G).toRawBytes(Y)},getSharedSecret:function(G,Y,Q=!0){if(O(G))throw new Error("first arg must be private key");if(!O(Y))throw new Error("second arg must be public key");return W.fromHex(Y).multiply(B(G)).toRawBytes(Q)},sign:function(G,Y,Q=q){const{seed:ie,k2sig:Z}=L(G,Y,Q),X=C;return r.createHmacDrbg(X.hash.outputLen,X.nByteLength,X.hmac)(ie,Z)},verify:function(G,Y,Q,ie=F){const Z=G;if(Y=(0,i.ensureBytes)("msgHash",Y),Q=(0,i.ensureBytes)("publicKey",Q),"strict"in ie)throw new Error("options.strict was renamed to lowS");a(ie);const{lowS:X,prehash:te}=ie;let ae,oe;try{if(typeof Z=="string"||r.isBytes(Z))try{ae=A.fromDER(Z)}catch(Ae){if(!(Ae instanceof t.DER.Err))throw Ae;ae=A.fromCompact(Z)}else{if(typeof Z!="object"||typeof Z.r!="bigint"||typeof Z.s!="bigint")throw new Error("PARSE");{const{r:Ae,s:xe}=Z;ae=new A(Ae,xe)}}oe=W.fromHex(Q)}catch(Ae){if(Ae.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&ae.hasHighS())return!1;te&&(Y=C.hash(Y));const{r:ee,s:le}=ae,he=j(Y),ge=K(le),Ee=P(he*ge),ye=P(ee*ge),fe=W.BASE.multiplyAndAddUnsafe(oe,Ee,ye)?.toAffine();return fe?P(fe.x)===ee:!1},ProjectivePoint:W,Signature:A,utils:N}},t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=function(w,C){if(n.validateField(w),!w.isValid(C.A)||!w.isValid(C.B)||!w.isValid(C.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const x=y(w,C.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return M=>{let k,z,P,K,W,B,D,$;k=w.sqr(M),k=w.mul(k,C.Z),z=w.sqr(k),z=w.add(z,k),P=w.add(z,w.ONE),P=w.mul(P,C.B),K=w.cmov(C.Z,w.neg(z),!w.eql(z,w.ZERO)),K=w.mul(K,C.A),z=w.sqr(P),B=w.sqr(K),W=w.mul(B,C.A),z=w.add(z,W),z=w.mul(z,P),B=w.mul(B,K),W=w.mul(B,C.B),z=w.add(z,W),D=w.mul(k,P);const{isValid:T,value:b}=x(z,B);$=w.mul(k,M),$=w.mul($,b),D=w.cmov(D,P,T),$=w.cmov($,b,T);const _=w.isOdd(M)===w.isOdd($);return $=w.cmov(w.neg($),$,_),D=w.div(D,K),{x:D,y:$}}};const e=Ud,n=En,r=Gt,i=Gt;function a(w){w.lowS!==void 0&&(0,i.abool)("lowS",w.lowS),w.prehash!==void 0&&(0,i.abool)("prehash",w.prehash)}const{bytesToNumberBE:o,hexToBytes:s}=r;t.DER={Err:class extends Error{constructor(w=""){super(w)}},_tlv:{encode:(w,C)=>{const{Err:x}=t.DER;if(w<0||w>256)throw new x("tlv.encode: wrong tag");if(1&C.length)throw new x("tlv.encode: unpadded data");const M=C.length/2,k=r.numberToHexUnpadded(M);if(k.length/2&128)throw new x("tlv.encode: long form length too big");const z=M>127?r.numberToHexUnpadded(k.length/2|128):"";return`${r.numberToHexUnpadded(w)}${z}${k}${C}`},decode(w,C){const{Err:x}=t.DER;let M=0;if(w<0||w>256)throw new x("tlv.encode: wrong tag");if(C.length<2||C[M++]!==w)throw new x("tlv.decode: wrong tlv");const k=C[M++];let z=0;if(128&k){const K=127&k;if(!K)throw new x("tlv.decode(long): indefinite length not supported");if(K>4)throw new x("tlv.decode(long): byte length is too big");const W=C.subarray(M,M+K);if(W.length!==K)throw new x("tlv.decode: length bytes not complete");if(W[0]===0)throw new x("tlv.decode(long): zero leftmost byte");for(const B of W)z=z<<8|B;if(M+=K,z<128)throw new x("tlv.decode(long): not minimal encoding")}else z=k;const P=C.subarray(M,M+z);if(P.length!==z)throw new x("tlv.decode: wrong value length");return{v:P,l:C.subarray(M+z)}}},_int:{encode(w){const{Err:C}=t.DER;if(w<u)throw new C("integer: negative integers are not allowed");let x=r.numberToHexUnpadded(w);if(8&Number.parseInt(x[0],16)&&(x="00"+x),1&x.length)throw new C("unexpected assertion");return x},decode(w){const{Err:C}=t.DER;if(128&w[0])throw new C("Invalid signature integer: negative");if(w[0]===0&&!(128&w[1]))throw new C("Invalid signature integer: unnecessary leading zero");return o(w)}},toSig(w){const{Err:C,_int:x,_tlv:M}=t.DER,k=typeof w=="string"?s(w):w;r.abytes(k);const{v:z,l:P}=M.decode(48,k);if(P.length)throw new C("Invalid signature: left bytes after parsing");const{v:K,l:W}=M.decode(2,z),{v:B,l:D}=M.decode(2,W);if(D.length)throw new C("Invalid signature: left bytes after parsing");return{r:x.decode(K),s:x.decode(B)}},hexFromSig(w){const{_tlv:C,_int:x}=t.DER,M=`${C.encode(2,x.encode(w.r))}${C.encode(2,x.encode(w.s))}`;return C.encode(48,M)}};const u=BigInt(0),l=BigInt(1),h=BigInt(2),p=BigInt(3),g=BigInt(4);function v(w){const C=function(_){const A=(0,e.validateBasic)(_);r.validateObject(A,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:N,Fp:O,a:U}=A;if(N){if(!O.eql(U,O.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof N!="object"||typeof N.beta!="bigint"||typeof N.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...A})}(w),{Fp:x}=C,M=n.Field(C.n,C.nBitLength),k=C.toBytes||((_,A,N)=>{const O=A.toAffine();return r.concatBytes(Uint8Array.from([4]),x.toBytes(O.x),x.toBytes(O.y))}),z=C.fromBytes||(_=>{const A=_.subarray(1);return{x:x.fromBytes(A.subarray(0,x.BYTES)),y:x.fromBytes(A.subarray(x.BYTES,2*x.BYTES))}});function P(_){const{a:A,b:N}=C,O=x.sqr(_),U=x.mul(O,_);return x.add(x.add(U,x.mul(_,A)),N)}if(!x.eql(x.sqr(C.Gy),P(C.Gx)))throw new Error("bad generator point: equation left != right");function K(_){const{allowedPrivateKeyLengths:A,nByteLength:N,wrapPrivateKey:O,n:U}=C;if(A&&typeof _!="bigint"){if(r.isBytes(_)&&(_=r.bytesToHex(_)),typeof _!="string"||!A.includes(_.length))throw new Error("Invalid key");_=_.padStart(2*N,"0")}let j;try{j=typeof _=="bigint"?_:r.bytesToNumberBE((0,i.ensureBytes)("private key",_,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof _}`)}return O&&(j=n.mod(j,U)),r.aInRange("private key",j,l,U),j}function W(_){if(!(_ instanceof $))throw new Error("ProjectivePoint expected")}const B=(0,i.memoized)((_,A)=>{const{px:N,py:O,pz:U}=_;if(x.eql(U,x.ONE))return{x:N,y:O};const j=_.is0();A==null&&(A=j?x.ONE:x.inv(U));const I=x.mul(N,A),E=x.mul(O,A),L=x.mul(U,A);if(j)return{x:x.ZERO,y:x.ZERO};if(!x.eql(L,x.ONE))throw new Error("invZ was invalid");return{x:I,y:E}}),D=(0,i.memoized)(_=>{if(_.is0()){if(C.allowInfinityPoint&&!x.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:A,y:N}=_.toAffine();if(!x.isValid(A)||!x.isValid(N))throw new Error("bad point: x or y not FE");const O=x.sqr(N),U=P(A);if(!x.eql(O,U))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class ${constructor(A,N,O){if(this.px=A,this.py=N,this.pz=O,A==null||!x.isValid(A))throw new Error("x required");if(N==null||!x.isValid(N))throw new Error("y required");if(O==null||!x.isValid(O))throw new Error("z required");Object.freeze(this)}static fromAffine(A){const{x:N,y:O}=A||{};if(!A||!x.isValid(N)||!x.isValid(O))throw new Error("invalid affine point");if(A instanceof $)throw new Error("projective point not allowed");const U=j=>x.eql(j,x.ZERO);return U(N)&&U(O)?$.ZERO:new $(N,O,x.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const N=x.invertBatch(A.map(O=>O.pz));return A.map((O,U)=>O.toAffine(N[U])).map($.fromAffine)}static fromHex(A){const N=$.fromAffine(z((0,i.ensureBytes)("pointHex",A)));return N.assertValidity(),N}static fromPrivateKey(A){return $.BASE.multiply(K(A))}static msm(A,N){return(0,e.pippenger)($,M,A,N)}_setWindowSize(A){b.setWindowSize(this,A)}assertValidity(){D(this)}hasEvenY(){const{y:A}=this.toAffine();if(x.isOdd)return!x.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){W(A);const{px:N,py:O,pz:U}=this,{px:j,py:I,pz:E}=A,L=x.eql(x.mul(N,E),x.mul(j,U)),q=x.eql(x.mul(O,E),x.mul(I,U));return L&&q}negate(){return new $(this.px,x.neg(this.py),this.pz)}double(){const{a:A,b:N}=C,O=x.mul(N,p),{px:U,py:j,pz:I}=this;let E=x.ZERO,L=x.ZERO,q=x.ZERO,F=x.mul(U,U),G=x.mul(j,j),Y=x.mul(I,I),Q=x.mul(U,j);return Q=x.add(Q,Q),q=x.mul(U,I),q=x.add(q,q),E=x.mul(A,q),L=x.mul(O,Y),L=x.add(E,L),E=x.sub(G,L),L=x.add(G,L),L=x.mul(E,L),E=x.mul(Q,E),q=x.mul(O,q),Y=x.mul(A,Y),Q=x.sub(F,Y),Q=x.mul(A,Q),Q=x.add(Q,q),q=x.add(F,F),F=x.add(q,F),F=x.add(F,Y),F=x.mul(F,Q),L=x.add(L,F),Y=x.mul(j,I),Y=x.add(Y,Y),F=x.mul(Y,Q),E=x.sub(E,F),q=x.mul(Y,G),q=x.add(q,q),q=x.add(q,q),new $(E,L,q)}add(A){W(A);const{px:N,py:O,pz:U}=this,{px:j,py:I,pz:E}=A;let L=x.ZERO,q=x.ZERO,F=x.ZERO;const G=C.a,Y=x.mul(C.b,p);let Q=x.mul(N,j),ie=x.mul(O,I),Z=x.mul(U,E),X=x.add(N,O),te=x.add(j,I);X=x.mul(X,te),te=x.add(Q,ie),X=x.sub(X,te),te=x.add(N,U);let ae=x.add(j,E);return te=x.mul(te,ae),ae=x.add(Q,Z),te=x.sub(te,ae),ae=x.add(O,U),L=x.add(I,E),ae=x.mul(ae,L),L=x.add(ie,Z),ae=x.sub(ae,L),F=x.mul(G,te),L=x.mul(Y,Z),F=x.add(L,F),L=x.sub(ie,F),F=x.add(ie,F),q=x.mul(L,F),ie=x.add(Q,Q),ie=x.add(ie,Q),Z=x.mul(G,Z),te=x.mul(Y,te),ie=x.add(ie,Z),Z=x.sub(Q,Z),Z=x.mul(G,Z),te=x.add(te,Z),Q=x.mul(ie,te),q=x.add(q,Q),Q=x.mul(ae,te),L=x.mul(X,L),L=x.sub(L,Q),Q=x.mul(X,ie),F=x.mul(ae,F),F=x.add(F,Q),new $(L,q,F)}subtract(A){return this.add(A.negate())}is0(){return this.equals($.ZERO)}wNAF(A){return b.wNAFCached(this,A,$.normalizeZ)}multiplyUnsafe(A){r.aInRange("scalar",A,u,C.n);const N=$.ZERO;if(A===u)return N;if(A===l)return this;const{endo:O}=C;if(!O)return b.unsafeLadder(this,A);let{k1neg:U,k1:j,k2neg:I,k2:E}=O.splitScalar(A),L=N,q=N,F=this;for(;j>u||E>u;)j&l&&(L=L.add(F)),E&l&&(q=q.add(F)),F=F.double(),j>>=l,E>>=l;return U&&(L=L.negate()),I&&(q=q.negate()),q=new $(x.mul(q.px,O.beta),q.py,q.pz),L.add(q)}multiply(A){const{endo:N,n:O}=C;let U,j;if(r.aInRange("scalar",A,l,O),N){const{k1neg:I,k1:E,k2neg:L,k2:q}=N.splitScalar(A);let{p:F,f:G}=this.wNAF(E),{p:Y,f:Q}=this.wNAF(q);F=b.constTimeNegate(I,F),Y=b.constTimeNegate(L,Y),Y=new $(x.mul(Y.px,N.beta),Y.py,Y.pz),U=F.add(Y),j=G.add(Q)}else{const{p:I,f:E}=this.wNAF(A);U=I,j=E}return $.normalizeZ([U,j])[0]}multiplyAndAddUnsafe(A,N,O){const U=$.BASE,j=(E,L)=>L!==u&&L!==l&&E.equals(U)?E.multiply(L):E.multiplyUnsafe(L),I=j(this,N).add(j(A,O));return I.is0()?void 0:I}toAffine(A){return B(this,A)}isTorsionFree(){const{h:A,isTorsionFree:N}=C;if(A===l)return!0;if(N)return N($,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:N}=C;return A===l?this:N?N($,this):this.multiplyUnsafe(C.h)}toRawBytes(A=!0){return(0,i.abool)("isCompressed",A),this.assertValidity(),k($,this,A)}toHex(A=!0){return(0,i.abool)("isCompressed",A),r.bytesToHex(this.toRawBytes(A))}}$.BASE=new $(C.Gx,C.Gy,x.ONE),$.ZERO=new $(x.ZERO,x.ONE,x.ZERO);const T=C.nBitLength,b=(0,e.wNAF)($,C.endo?Math.ceil(T/2):T);return{CURVE:C,ProjectivePoint:$,normPrivateKeyToScalar:K,weierstrassEquation:P,isWithinCurveOrder:function(_){return r.inRange(_,l,C.n)}}}function y(w,C){const x=w.ORDER;let M=u;for(let _=x-l;_%h===u;_/=h)M+=l;const k=M,z=h<<k-l-l,P=z*h,K=(x-l)/P,W=(K-l)/h,B=P-l,D=z,$=w.pow(C,K),T=w.pow(C,(K+l)/h);let b=(_,A)=>{let N=$,O=w.pow(A,B),U=w.sqr(O);U=w.mul(U,A);let j=w.mul(_,U);j=w.pow(j,W),j=w.mul(j,O),O=w.mul(j,A),U=w.mul(j,_);let I=w.mul(U,O);j=w.pow(I,D);let E=w.eql(j,w.ONE);O=w.mul(U,T),j=w.mul(I,N),U=w.cmov(O,U,E),I=w.cmov(j,I,E);for(let L=k;L>l;L--){let q=L-h;q=h<<q-l;let F=w.pow(I,q);const G=w.eql(F,w.ONE);O=w.mul(U,N),N=w.mul(N,N),F=w.mul(I,N),U=w.cmov(O,U,G),I=w.cmov(F,I,G)}return{isValid:E,value:U}};if(w.ORDER%g===p){const _=(w.ORDER-p)/g,A=w.sqrt(w.neg(C));b=(N,O)=>{let U=w.sqr(O);const j=w.mul(N,O);U=w.mul(U,j);let I=w.pow(U,_);I=w.mul(I,j);const E=w.mul(I,A),L=w.mul(w.sqr(I),O),q=w.eql(L,N);return{isValid:q,value:w.cmov(E,I,q)}}}return b}})(DS),Object.defineProperty(lv,"__esModule",{value:!0}),lv.getHash=y9,lv.createCurve=function(t,e){const n=r=>(0,JJ.weierstrass)({...t,...y9(r)});return Object.freeze({...n(e),create:n})};const YJ=LS,v9=tl,JJ=DS;function y9(t){return{hash:t,hmac:(e,...n)=>(0,YJ.hmac)(t,e,(0,v9.concatBytes)(...n)),randomBytes:v9.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=Do,n=tl,r=lv,i=Wl,a=En,o=Gt,s=DS,u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),p=BigInt(2),g=(j,I)=>(j+I/p)/I;function v(j){const I=u,E=BigInt(3),L=BigInt(6),q=BigInt(11),F=BigInt(22),G=BigInt(23),Y=BigInt(44),Q=BigInt(88),ie=j*j*j%I,Z=ie*ie*j%I,X=(0,a.pow2)(Z,E,I)*Z%I,te=(0,a.pow2)(X,E,I)*Z%I,ae=(0,a.pow2)(te,p,I)*ie%I,oe=(0,a.pow2)(ae,q,I)*ae%I,ee=(0,a.pow2)(oe,F,I)*oe%I,le=(0,a.pow2)(ee,Y,I)*ee%I,he=(0,a.pow2)(le,Q,I)*le%I,ge=(0,a.pow2)(he,Y,I)*ee%I,Ee=(0,a.pow2)(ge,E,I)*Z%I,ye=(0,a.pow2)(Ee,G,I)*oe%I,fe=(0,a.pow2)(ye,L,I)*ie%I,Se=(0,a.pow2)(fe,p,I);if(!y.eql(y.sqr(Se),j))throw new Error("Cannot find square root");return Se}const y=(0,a.Field)(u,void 0,void 0,{sqrt:v});t.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:y,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:j=>{const I=l,E=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),L=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),q=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),F=E,G=BigInt("0x100000000000000000000000000000000"),Y=g(F*j,I),Q=g(-L*j,I);let ie=(0,a.mod)(j-Y*E-Q*q,I),Z=(0,a.mod)(-Y*L-Q*F,I);const X=ie>G,te=Z>G;if(X&&(ie=I-ie),te&&(Z=I-Z),ie>G||Z>G)throw new Error("splitScalar: Endomorphism failed, k="+j);return{k1neg:X,k1:ie,k2neg:te,k2:Z}}}},e.sha256);const w=BigInt(0),C={};function x(j,...I){let E=C[j];if(E===void 0){const L=(0,e.sha256)(Uint8Array.from(j,q=>q.charCodeAt(0)));E=(0,o.concatBytes)(L,L),C[j]=E}return(0,e.sha256)((0,o.concatBytes)(E,...I))}const M=j=>j.toRawBytes(!0).slice(1),k=j=>(0,o.numberToBytesBE)(j,32),z=j=>(0,a.mod)(j,u),P=j=>(0,a.mod)(j,l),K=t.secp256k1.ProjectivePoint,W=(j,I,E)=>K.BASE.multiplyAndAddUnsafe(j,I,E);function B(j){let I=t.secp256k1.utils.normPrivateKeyToScalar(j),E=K.fromPrivateKey(I);return{scalar:E.hasEvenY()?I:P(-I),bytes:M(E)}}function D(j){(0,o.aInRange)("x",j,h,u);const I=z(j*j);let E=v(z(I*j+BigInt(7)));E%p!==w&&(E=z(-E));const L=new K(j,E,h);return L.assertValidity(),L}const $=o.bytesToNumberBE;function T(...j){return P($(x("BIP0340/challenge",...j)))}function b(j){return B(j).bytes}function _(j,I,E=(0,n.randomBytes)(32)){const L=(0,o.ensureBytes)("message",j),{bytes:q,scalar:F}=B(I),G=(0,o.ensureBytes)("auxRand",E,32),Y=k(F^$(x("BIP0340/aux",G))),Q=x("BIP0340/nonce",Y,q,L),ie=P($(Q));if(ie===w)throw new Error("sign failed: k is zero");const{bytes:Z,scalar:X}=B(ie),te=T(Z,q,L),ae=new Uint8Array(64);if(ae.set(Z,0),ae.set(k(P(X+te*F)),32),!A(ae,L,q))throw new Error("sign: Invalid signature produced");return ae}function A(j,I,E){const L=(0,o.ensureBytes)("signature",j,64),q=(0,o.ensureBytes)("message",I),F=(0,o.ensureBytes)("publicKey",E,32);try{const G=D($(F)),Y=$(L.subarray(0,32));if(!(0,o.inRange)(Y,h,u))return!1;const Q=$(L.subarray(32,64));if(!(0,o.inRange)(Q,h,l))return!1;const ie=T(k(Y),M(G),q),Z=W(G,Q,P(-ie));return!(!Z||!Z.hasEvenY()||Z.toAffine().x!==Y)}catch{return!1}}t.schnorr={getPublicKey:b,sign:_,verify:A,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:D,pointToBytes:M,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:x,mod:a.mod}};const N=(0,i.isogenyMap)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(j=>j.map(I=>BigInt(I)))),O=(0,s.mapToCurveSimpleSWU)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))}),U=(0,i.createHasher)(t.secp256k1.ProjectivePoint,j=>{const{x:I,y:E}=O(y.create(j[0]));return N(I,E)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=U.hashToCurve,t.encodeToCurve=U.encodeToCurve})(JR);var zE={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=ca;t.remove0x=function(n){return n.startsWith("0x")||n.startsWith("0X")?n.slice(2):n},t.decodeHex=function(n){return(0,e.hexToBytes)((0,t.remove0x)(n))}})(zE),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=IS,n=vR,r=JR,i=b0,a=Cr,o=zE;t.getValidSecret=function(){var h;do h=(0,e.randomBytes)(a.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(h));return h},t.isValidPrivateKey=function(h){return s((0,i.ellipticCurve)(),function(p){return p.utils.isValidPrivateKey(h)},function(){return!0},function(){return!0})},t.getPublicKey=function(h){return s((0,i.ellipticCurve)(),function(p){return p.getPublicKey(h)},function(p){return p.getPublicKey(h)},function(p){return p.getPublicKey(h)})},t.getSharedPoint=function(h,p,g){return s((0,i.ellipticCurve)(),function(v){return v.getSharedSecret(h,p,g)},function(v){return v.getSharedSecret(h,p)},function(v){return l(v,h,p)})},t.convertPublicKeyFormat=function(h,p){return s((0,i.ellipticCurve)(),function(g){return g.getSharedSecret(BigInt(1),h,p)},function(){return h},function(){return h})};function s(h,p,g,v){if(h==="secp256k1")return p(r.secp256k1);if(h==="x25519")return g(n.x25519);if(h==="ed25519")return v(n.ed25519);throw new Error("Not implemented")}t.hexToPublicKey=function(h){var p=(0,o.decodeHex)(h);return s((0,i.ellipticCurve)(),function(){return u(p)},function(){return p},function(){return p})};var u=function(h){if(h.length===a.ETH_PUBLIC_KEY_SIZE){var p=new Uint8Array(1+h.length);return p.set([4]),p.set(h,1),p}return h},l=function(h,p,g){var v=h.utils.getExtendedPublicKey(p).scalar;return h.ExtendedPoint.fromHex(g).multiply(v).toRawBytes()}}(gR);var ZR={},$d={};Object.defineProperty($d,"__esModule",{value:!0}),$d.hkdf=void 0,$d.extract=XR,$d.expand=eP;const HE=ra,b9=tl,QR=LS;function XR(t,e,n){return(0,HE.hash)(t),n===void 0&&(n=new Uint8Array(t.outputLen)),(0,QR.hmac)(t,(0,b9.toBytes)(n),(0,b9.toBytes)(e))}const a2=new Uint8Array([0]),w9=new Uint8Array;function eP(t,e,n,r=32){if((0,HE.hash)(t),(0,HE.number)(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=w9);const a=new Uint8Array(i*t.outputLen),o=QR.hmac.create(t,e),s=o._cloneInto(),u=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)a2[0]=l+1,s.update(l===0?w9:u).update(n).update(a2).digestInto(u),a.set(u,t.outputLen*l),o._cloneInto(s);return o.destroy(),s.destroy(),u.fill(0),a2.fill(0),a.slice(0,r)}$d.hkdf=(t,e,n,r,i)=>eP(t,XR(t,e,n),r,i),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=ca,n=$d,r=Do;t.deriveKey=function(i,a,o){return(0,n.hkdf)(r.sha256,i,a,o,32)},t.getSharedKey=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}}(ZR);var x9={},Jd={},er={},hu={};Object.defineProperty(hu,"__esModule",{value:!0}),hu.polyval=hu.ghash=void 0,hu._toGHASHKey=tP;const pu=Xr,ui=ca,Ao=16,BS=new Uint8Array(16),Is=(0,ui.u32)(BS),Ra=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function tP(t){t.reverse();const e=1&t[15];let n=0;for(let r=0;r<t.length;r++){const i=t[r];t[r]=i>>>1|n,n=(1&i)<<7}return t[0]^=225&-e,t}class nP{constructor(e,n){this.blockLen=Ao,this.outputLen=Ao,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,ui.toBytes)(e),(0,pu.bytes)(e,16);const r=(0,ui.createView)(e);let i=r.getUint32(0,!1),a=r.getUint32(4,!1),o=r.getUint32(8,!1),s=r.getUint32(12,!1);const u=[];for(let x=0;x<128;x++)u.push({s0:Ra(i),s1:Ra(a),s2:Ra(o),s3:Ra(s)}),{s0:i,s1:a,s2:o,s3:s}={s3:(p=o)<<31|(g=s)>>>1,s2:(h=a)<<31|p>>>1,s1:(l=i)<<31|h>>>1,s0:l>>>1^225<<24&-(1&g)};var l,h,p,g;const v=(x=>x>65536?8:x>1024?4:2)(n||1024);if(![1,2,4,8].includes(v))throw new Error(`ghash: wrong window size=${v}, should be 2, 4 or 8`);this.W=v;const y=128/v,w=this.windowSize=2**v,C=[];for(let x=0;x<y;x++)for(let M=0;M<w;M++){let k=0,z=0,P=0,K=0;for(let W=0;W<v;W++){if(!(M>>>v-W-1&1))continue;const{s0:B,s1:D,s2:$,s3:T}=u[v*x+W];k^=B,z^=D,P^=$,K^=T}C.push({s0:k,s1:z,s2:P,s3:K})}this.t=C}_updateBlock(e,n,r,i){e^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:a,t:o,windowSize:s}=this;let u=0,l=0,h=0,p=0;const g=(1<<a)-1;let v=0;for(const y of[e,n,r,i])for(let w=0;w<4;w++){const C=y>>>8*w&255;for(let x=8/a-1;x>=0;x--){const M=C>>>a*x&g,{s0:k,s1:z,s2:P,s3:K}=o[v*s+M];u^=k,l^=z,h^=P,p^=K,v+=1}}this.s0=u,this.s1=l,this.s2=h,this.s3=p}update(e){e=(0,ui.toBytes)(e),(0,pu.exists)(this);const n=(0,ui.u32)(e),r=Math.floor(e.length/Ao),i=e.length%Ao;for(let a=0;a<r;a++)this._updateBlock(n[4*a+0],n[4*a+1],n[4*a+2],n[4*a+3]);return i&&(BS.set(e.subarray(r*Ao)),this._updateBlock(Is[0],Is[1],Is[2],Is[3]),(0,ui.clean)(Is)),this}destroy(){const{t:e}=this;for(const n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){(0,pu.exists)(this),(0,pu.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:a}=this,o=(0,ui.u32)(e);return o[0]=n,o[1]=r,o[2]=i,o[3]=a,e}digest(){const e=new Uint8Array(Ao);return this.digestInto(e),this.destroy(),e}}class ZJ extends nP{constructor(e,n){e=(0,ui.toBytes)(e);const r=tP((0,ui.copyBytes)(e));super(r,n),(0,ui.clean)(r)}update(e){e=(0,ui.toBytes)(e),(0,pu.exists)(this);const n=(0,ui.u32)(e),r=e.length%Ao,i=Math.floor(e.length/Ao);for(let a=0;a<i;a++)this._updateBlock(Ra(n[4*a+3]),Ra(n[4*a+2]),Ra(n[4*a+1]),Ra(n[4*a+0]));return r&&(BS.set(e.subarray(i*Ao)),this._updateBlock(Ra(Is[3]),Ra(Is[2]),Ra(Is[1]),Ra(Is[0])),(0,ui.clean)(Is)),this}digestInto(e){(0,pu.exists)(this),(0,pu.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:a}=this,o=(0,ui.u32)(e);return o[0]=n,o[1]=r,o[2]=i,o[3]=a,e.reverse()}}function E9(t){const e=(r,i)=>t(i,r.length).update((0,ui.toBytes)(r)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(r,i)=>t(r,i),e}hu.ghash=E9((t,e)=>new nP(t,e)),hu.polyval=E9((t,e)=>new ZJ(t,e)),Object.defineProperty(er,"__esModule",{value:!0}),er.unsafe=er.aeskwp=er.aeskw=er.siv=er.gcm=er.cfb=er.cbc=er.ecb=er.ctr=void 0,er.expandKeyLE=as,er.expandKeyDecLE=x0;const ln=Xr,KE=hu,Qe=ca,Di=16,xg=new Uint8Array(Di),QJ=283;function US(t){return t<<1^QJ&-(t>>7)}function Fd(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=US(t);return n}const WE=(()=>{const t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=US(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,Qe.clean)(t),e})(),XJ=WE.map((t,e)=>WE.indexOf(e)),eZ=t=>t<<24|t>>>8,s2=t=>t<<8|t>>>24,zv=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function rP(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((l,h)=>e(t[h])),r=n.map(s2),i=r.map(s2),a=i.map(s2),o=new Uint32Array(65536),s=new Uint32Array(65536),u=new Uint16Array(65536);for(let l=0;l<256;l++)for(let h=0;h<256;h++){const p=256*l+h;o[p]=n[l]^r[h],s[p]=i[l]^a[h],u[p]=t[l]<<8|t[h]}return{sbox:t,sbox2:u,T0:n,T1:r,T2:i,T3:a,T01:o,T23:s}}const $S=rP(WE,t=>Fd(t,3)<<24|t<<16|t<<8|Fd(t,2)),iP=rP(XJ,t=>Fd(t,11)<<24|Fd(t,13)<<16|Fd(t,9)<<8|Fd(t,14)),tZ=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=US(n))t[e]=n;return t})();function as(t){(0,ln.bytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=$S,r=[];(0,Qe.isAligned32)(t)||r.push(t=(0,Qe.copyBytes)(t));const i=(0,Qe.u32)(t),a=i.length,o=u=>Rs(n,u,u,u,u),s=new Uint32Array(e+28);s.set(i);for(let u=a;u<s.length;u++){let l=s[u-1];u%a==0?l=o(eZ(l))^tZ[u/a-1]:a>6&&u%a==4&&(l=o(l)),s[u]=s[u-a]^l}return(0,Qe.clean)(...r),s}function x0(t){const e=as(t),n=e.slice(),r=e.length,{sbox2:i}=$S,{T0:a,T1:o,T2:s,T3:u}=iP;for(let l=0;l<r;l+=4)for(let h=0;h<4;h++)n[l+h]=e[r-l-4+h];(0,Qe.clean)(e);for(let l=4;l<r-4;l++){const h=n[l],p=Rs(i,h,h,h,h);n[l]=a[255&p]^o[p>>>8&255]^s[p>>>16&255]^u[p>>>24]}return n}function ac(t,e,n,r,i,a){return t[n<<8&65280|r>>>8&255]^e[i>>>8&65280|a>>>24&255]}function Rs(t,e,n,r,i){return t[255&e|65280&n]|t[r>>>16&255|i>>>16&65280]<<16}function di(t,e,n,r,i){const{sbox2:a,T01:o,T23:s}=$S;let u=0;e^=t[u++],n^=t[u++],r^=t[u++],i^=t[u++];const l=t.length/4-2;for(let h=0;h<l;h++){const p=t[u++]^ac(o,s,e,n,r,i),g=t[u++]^ac(o,s,n,r,i,e),v=t[u++]^ac(o,s,r,i,e,n),y=t[u++]^ac(o,s,i,e,n,r);e=p,n=g,r=v,i=y}return{s0:t[u++]^Rs(a,e,n,r,i),s1:t[u++]^Rs(a,n,r,i,e),s2:t[u++]^Rs(a,r,i,e,n),s3:t[u++]^Rs(a,i,e,n,r)}}function E0(t,e,n,r,i){const{sbox2:a,T01:o,T23:s}=iP;let u=0;e^=t[u++],n^=t[u++],r^=t[u++],i^=t[u++];const l=t.length/4-2;for(let h=0;h<l;h++){const p=t[u++]^ac(o,s,e,i,r,n),g=t[u++]^ac(o,s,n,e,i,r),v=t[u++]^ac(o,s,r,n,e,i),y=t[u++]^ac(o,s,i,r,n,e);e=p,n=g,r=v,i=y}return{s0:t[u++]^Rs(a,e,i,r,n),s1:t[u++]^Rs(a,n,e,i,r),s2:t[u++]^Rs(a,r,n,e,i),s3:t[u++]^Rs(a,i,r,n,e)}}function Zd(t,e){if(e===void 0)return new Uint8Array(t);if((0,ln.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,Qe.isAligned32)(e))throw new Error("unaligned dst");return e}function aP(t,e,n,r){(0,ln.bytes)(e,Di),(0,ln.bytes)(n);const i=n.length;r=Zd(i,r);const a=e,o=(0,Qe.u32)(a);let{s0:s,s1:u,s2:l,s3:h}=di(t,o[0],o[1],o[2],o[3]);const p=(0,Qe.u32)(n),g=(0,Qe.u32)(r);for(let y=0;y+4<=p.length;y+=4){g[y+0]=p[y+0]^s,g[y+1]=p[y+1]^u,g[y+2]=p[y+2]^l,g[y+3]=p[y+3]^h;let w=1;for(let C=a.length-1;C>=0;C--)w=w+(255&a[C])|0,a[C]=255&w,w>>>=8;({s0:s,s1:u,s2:l,s3:h}=di(t,o[0],o[1],o[2],o[3]))}const v=Di*Math.floor(p.length/4);if(v<i){const y=new Uint32Array([s,u,l,h]),w=(0,Qe.u8)(y);for(let C=v,x=0;C<i;C++,x++)r[C]=n[C]^w[x];(0,Qe.clean)(y)}return r}function qd(t,e,n,r,i){(0,ln.bytes)(n,Di),(0,ln.bytes)(r),i=Zd(r.length,i);const a=n,o=(0,Qe.u32)(a),s=(0,Qe.createView)(a),u=(0,Qe.u32)(r),l=(0,Qe.u32)(i),h=e?0:12,p=r.length;let g=s.getUint32(h,e),{s0:v,s1:y,s2:w,s3:C}=di(t,o[0],o[1],o[2],o[3]);for(let M=0;M+4<=u.length;M+=4)l[M+0]=u[M+0]^v,l[M+1]=u[M+1]^y,l[M+2]=u[M+2]^w,l[M+3]=u[M+3]^C,g=g+1>>>0,s.setUint32(h,g,e),{s0:v,s1:y,s2:w,s3:C}=di(t,o[0],o[1],o[2],o[3]);const x=Di*Math.floor(u.length/4);if(x<p){const M=new Uint32Array([v,y,w,C]),k=(0,Qe.u8)(M);for(let z=x,P=0;z<p;z++,P++)i[z]=r[z]^k[P];(0,Qe.clean)(M)}return i}function S9(t){if((0,ln.bytes)(t),t.length%Di!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function _9(t,e,n){(0,ln.bytes)(t);let r=t.length;const i=r%Di;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Qe.isAligned32)(t)||(t=(0,Qe.copyBytes)(t));const a=(0,Qe.u32)(t);if(e){let s=Di-i;s||(s=Di),r+=s}const o=Zd(r,n);return{b:a,o:(0,Qe.u32)(o),out:o}}function C9(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=t.subarray(0,-r);for(let a=0;a<r;a++)if(t[n-a-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function N9(t){const e=new Uint8Array(16),n=(0,Qe.u32)(e);e.set(t);const r=Di-t.length;for(let i=Di-r;i<Di;i++)e[i]=r;return n}function sP(t,e,n,r,i){const a=i==null?0:i.length,o=t.create(n,r.length+a);i&&o.update(i),o.update(r);const s=new Uint8Array(16),u=(0,Qe.createView)(s);i&&(0,Qe.setBigUint64)(u,0,BigInt(8*a),e),(0,Qe.setBigUint64)(u,8,BigInt(8*r.length),e),o.update(s);const l=o.digest();return(0,Qe.clean)(s),l}er.ctr=(0,Qe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i){if((0,ln.bytes)(r),i!==void 0&&((0,ln.bytes)(i),!(0,Qe.isAligned32)(i)))throw new Error("unaligned destination");const a=as(t),o=(0,Qe.copyBytes)(e),s=[a,o];(0,Qe.isAligned32)(r)||s.push(r=(0,Qe.copyBytes)(r));const u=aP(a,o,r,i);return(0,Qe.clean)(...s),u}return(0,ln.bytes)(t),(0,ln.bytes)(e,Di),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}}),er.ecb=(0,Qe.wrapCipher)({blockSize:16},function(t,e={}){(0,ln.bytes)(t);const n=!e.disablePadding;return{encrypt(r,i){const{b:a,o,out:s}=_9(r,n,i),u=as(t);let l=0;for(;l+4<=a.length;){const{s0:h,s1:p,s2:g,s3:v}=di(u,a[l+0],a[l+1],a[l+2],a[l+3]);o[l++]=h,o[l++]=p,o[l++]=g,o[l++]=v}if(n){const h=N9(r.subarray(4*l)),{s0:p,s1:g,s2:v,s3:y}=di(u,h[0],h[1],h[2],h[3]);o[l++]=p,o[l++]=g,o[l++]=v,o[l++]=y}return(0,Qe.clean)(u),s},decrypt(r,i){S9(r);const a=x0(t),o=Zd(r.length,i),s=[a];(0,Qe.isAligned32)(r)||s.push(r=(0,Qe.copyBytes)(r));const u=(0,Qe.u32)(r),l=(0,Qe.u32)(o);for(let h=0;h+4<=u.length;){const{s0:p,s1:g,s2:v,s3:y}=E0(a,u[h+0],u[h+1],u[h+2],u[h+3]);l[h++]=p,l[h++]=g,l[h++]=v,l[h++]=y}return(0,Qe.clean)(...s),C9(o,n)}}}),er.cbc=(0,Qe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e,n={}){(0,ln.bytes)(t),(0,ln.bytes)(e,16);const r=!n.disablePadding;return{encrypt(i,a){const o=as(t),{b:s,o:u,out:l}=_9(i,r,a);let h=e;const p=[o];(0,Qe.isAligned32)(h)||p.push(h=(0,Qe.copyBytes)(h));const g=(0,Qe.u32)(h);let v=g[0],y=g[1],w=g[2],C=g[3],x=0;for(;x+4<=s.length;)v^=s[x+0],y^=s[x+1],w^=s[x+2],C^=s[x+3],{s0:v,s1:y,s2:w,s3:C}=di(o,v,y,w,C),u[x++]=v,u[x++]=y,u[x++]=w,u[x++]=C;if(r){const M=N9(i.subarray(4*x));v^=M[0],y^=M[1],w^=M[2],C^=M[3],{s0:v,s1:y,s2:w,s3:C}=di(o,v,y,w,C),u[x++]=v,u[x++]=y,u[x++]=w,u[x++]=C}return(0,Qe.clean)(...p),l},decrypt(i,a){S9(i);const o=x0(t);let s=e;const u=[o];(0,Qe.isAligned32)(s)||u.push(s=(0,Qe.copyBytes)(s));const l=(0,Qe.u32)(s),h=Zd(i.length,a);(0,Qe.isAligned32)(i)||u.push(i=(0,Qe.copyBytes)(i));const p=(0,Qe.u32)(i),g=(0,Qe.u32)(h);let v=l[0],y=l[1],w=l[2],C=l[3];for(let x=0;x+4<=p.length;){const M=v,k=y,z=w,P=C;v=p[x+0],y=p[x+1],w=p[x+2],C=p[x+3];const{s0:K,s1:W,s2:B,s3:D}=E0(o,v,y,w,C);g[x++]=K^M,g[x++]=W^k,g[x++]=B^z,g[x++]=D^P}return(0,Qe.clean)(...u),C9(h,r)}}}),er.cfb=(0,Qe.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i,a){(0,ln.bytes)(r);const o=r.length;a=Zd(o,a);const s=as(t);let u=e;const l=[s];(0,Qe.isAligned32)(u)||l.push(u=(0,Qe.copyBytes)(u)),(0,Qe.isAligned32)(r)||l.push(r=(0,Qe.copyBytes)(r));const h=(0,Qe.u32)(r),p=(0,Qe.u32)(a),g=i?p:h,v=(0,Qe.u32)(u);let y=v[0],w=v[1],C=v[2],x=v[3];for(let k=0;k+4<=h.length;){const{s0:z,s1:P,s2:K,s3:W}=di(s,y,w,C,x);p[k+0]=h[k+0]^z,p[k+1]=h[k+1]^P,p[k+2]=h[k+2]^K,p[k+3]=h[k+3]^W,y=g[k++],w=g[k++],C=g[k++],x=g[k++]}const M=Di*Math.floor(h.length/4);if(M<o){({s0:y,s1:w,s2:C,s3:x}=di(s,y,w,C,x));const k=(0,Qe.u8)(new Uint32Array([y,w,C,x]));for(let z=M,P=0;z<o;z++,P++)a[z]=r[z]^k[P];(0,Qe.clean)(k)}return(0,Qe.clean)(...l),a}return(0,ln.bytes)(t),(0,ln.bytes)(e,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}}),er.gcm=(0,Qe.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){if((0,ln.bytes)(t),(0,ln.bytes)(e),n!==void 0&&(0,ln.bytes)(n),e.length<8)throw new Error("aes/gcm: invalid nonce length");const r=16;function i(o,s,u){const l=sP(KE.ghash,!1,o,u,n);for(let h=0;h<s.length;h++)l[h]^=s[h];return l}function a(){const o=as(t),s=xg.slice(),u=xg.slice();if(qd(o,!1,u,u,s),e.length===12)u.set(e);else{const l=xg.slice(),h=(0,Qe.createView)(l);(0,Qe.setBigUint64)(h,8,BigInt(8*e.length),!1);const p=KE.ghash.create(s).update(e).update(l);p.digestInto(u),p.destroy()}return{xk:o,authKey:s,counter:u,tagMask:qd(o,!1,u,xg)}}return{encrypt(o){(0,ln.bytes)(o);const{xk:s,authKey:u,counter:l,tagMask:h}=a(),p=new Uint8Array(o.length+r),g=[s,u,l,h];(0,Qe.isAligned32)(o)||g.push(o=(0,Qe.copyBytes)(o)),qd(s,!1,l,o,p);const v=i(u,h,p.subarray(0,p.length-r));return g.push(v),p.set(v,o.length),(0,Qe.clean)(...g),p},decrypt(o){if((0,ln.bytes)(o),o.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:s,authKey:u,counter:l,tagMask:h}=a(),p=[s,u,h,l];(0,Qe.isAligned32)(o)||p.push(o=(0,Qe.copyBytes)(o));const g=o.subarray(0,-16),v=o.subarray(-16),y=i(u,h,g);if(p.push(y),!(0,Qe.equalBytes)(y,v))throw new Error("aes/gcm: invalid ghash tag");const w=qd(s,!1,l,g);return(0,Qe.clean)(...p),w}}});const Eg=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};function oP(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function lP(t,e){if((0,ln.bytes)(e,16),!oP(t))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,Qe.u32)(e);let{s0:r,s1:i,s2:a,s3:o}=di(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=a,n[3]=o,e}function cP(t,e){if((0,ln.bytes)(e,16),!oP(t))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,Qe.u32)(e);let{s0:r,s1:i,s2:a,s3:o}=E0(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=a,n[3]=o,e}er.siv=(0,Qe.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){const r=Eg("AAD",0,68719476736),i=Eg("plaintext",0,2**36),a=Eg("nonce",12,12),o=Eg("ciphertext",16,2**36+16);function s(){const h=as(t),p=new Uint8Array(t.length),g=new Uint8Array(16),v=[h,p];let y=e;(0,Qe.isAligned32)(y)||v.push(y=(0,Qe.copyBytes)(y));const w=(0,Qe.u32)(y);let C=0,x=w[0],M=w[1],k=w[2],z=0;for(const K of[g,p].map(Qe.u32)){const W=(0,Qe.u32)(K);for(let B=0;B<W.length;B+=2){const{s0:D,s1:$}=di(h,C,x,M,k);W[B+0]=D,W[B+1]=$,C=++z}}const P={authKey:g,encKey:as(p)};return(0,Qe.clean)(...v),P}function u(h,p,g){const v=sP(KE.polyval,!0,p,g,n);for(let k=0;k<12;k++)v[k]^=e[k];v[15]&=127;const y=(0,Qe.u32)(v);let w=y[0],C=y[1],x=y[2],M=y[3];return{s0:w,s1:C,s2:x,s3:M}=di(h,w,C,x,M),y[0]=w,y[1]=C,y[2]=x,y[3]=M,v}function l(h,p,g){let v=(0,Qe.copyBytes)(p);v[15]|=128;const y=qd(h,!0,v,g);return(0,Qe.clean)(v),y}return(0,ln.bytes)(t,16,24,32),(0,ln.bytes)(e),a(e.length),n!==void 0&&((0,ln.bytes)(n),r(n.length)),{encrypt(h){(0,ln.bytes)(h),i(h.length);const{encKey:p,authKey:g}=s(),v=u(p,g,h),y=[p,g,v];(0,Qe.isAligned32)(h)||y.push(h=(0,Qe.copyBytes)(h));const w=new Uint8Array(h.length+16);return w.set(v,h.length),w.set(l(p,v,h)),(0,Qe.clean)(...y),w},decrypt(h){(0,ln.bytes)(h),o(h.length);const p=h.subarray(-16),{encKey:g,authKey:v}=s(),y=[g,v];(0,Qe.isAligned32)(h)||y.push(h=(0,Qe.copyBytes)(h));const w=l(g,p,h.subarray(0,-16)),C=u(g,v,w);if(y.push(C),!(0,Qe.equalBytes)(p,C))throw(0,Qe.clean)(...y),new Error("invalid polyval tag");return(0,Qe.clean)(...y),w}}});const Hv={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=as(t);if(e.length===16)lP(n,e);else{const r=(0,Qe.u32)(e);let i=r[0],a=r[1];for(let o=0,s=1;o<6;o++)for(let u=2;u<r.length;u+=2,s++){const{s0:l,s1:h,s2:p,s3:g}=di(n,i,a,r[u],r[u+1]);i=l,a=h^zv(s),r[u]=p,r[u+1]=g}r[0]=i,r[1]=a}n.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=x0(t),r=e.length/8-1;if(r===1)cP(n,e);else{const i=(0,Qe.u32)(e);let a=i[0],o=i[1];for(let s=0,u=6*r;s<6;s++)for(let l=2*r;l>=1;l-=2,u--){o^=zv(u);const{s0:h,s1:p,s2:g,s3:v}=E0(n,a,o,i[l],i[l+1]);a=h,o=p,i[l]=g,i[l+1]=v}i[0]=a,i[1]=o}n.fill(0)}},A9=new Uint8Array(8).fill(166);er.aeskw=(0,Qe.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,ln.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,Qe.concatBytes)(A9,e);return Hv.encrypt(t,n),n},decrypt(e){if((0,ln.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");const n=(0,Qe.copyBytes)(e);if(Hv.decrypt(t,n),!(0,Qe.equalBytes)(n.subarray(0,8),A9))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const j9=2790873510;er.aeskwp=(0,Qe.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,ln.bytes)(e),!e.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(e.length/8),r=new Uint8Array(8+n);r.set(e,8);const i=(0,Qe.u32)(r);return i[0]=j9,i[1]=zv(e.length),Hv.encrypt(t,r),r},decrypt(e){if((0,ln.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");const n=(0,Qe.copyBytes)(e),r=(0,Qe.u32)(n);Hv.decrypt(t,n);const i=zv(r[1])>>>0,a=8*Math.ceil(i/8);if(r[0]!==j9||n.length-8!==a)throw new Error("integrity check failed");for(let o=i;o<a;o++)if(n[8+o]!==0)throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}})),er.unsafe={expandKeyLE:as,expandKeyDecLE:x0,encrypt:di,decrypt:E0,encryptBlock:lP,decryptBlock:cP,ctrCounter:aP,ctr32:qd},Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.aes256cbc=Jd.aes256gcm=void 0;var uP=er;Jd.aes256gcm=function(t,e,n){return(0,uP.gcm)(t,e,n)};Jd.aes256cbc=function(t,e,n){return(0,uP.cbc)(t,e)};var Kv={},dP={},zd={};Object.defineProperty(zd,"__esModule",{value:!0}),zd.sigma=void 0,zd.rotl=function(t,e){return t<<e|t>>>32-e},zd.createCipher=function(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:o}=(0,ka.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,yo.number)(i),(0,yo.number)(o),(0,yo.bool)(a),(0,yo.bool)(n),(s,u,l,h,p=0)=>{(0,yo.bytes)(s),(0,yo.bytes)(u),(0,yo.bytes)(l);const g=l.length;if(h===void 0&&(h=new Uint8Array(g)),(0,yo.bytes)(h),(0,yo.number)(p),p<0||p>=M9)throw new Error("arx: counter overflow");if(h.length<g)throw new Error(`arx: output (${h.length}) is shorter than data (${g})`);const v=[];let y,w,C=s.length;if(C===32)v.push(y=(0,ka.copyBytes)(s)),w=hP;else{if(C!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${C}`);y=new Uint8Array(32),y.set(s),y.set(s,16),w=iZ,v.push(y)}o2(u)||v.push(u=(0,ka.copyBytes)(u));const x=(0,ka.u32)(y);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,x,(0,ka.u32)(u.subarray(0,16)),x),u=u.subarray(16)}const M=16-i;if(M!==u.length)throw new Error(`arx: nonce must be ${M} or 16 bytes`);if(M!==12){const z=new Uint8Array(12);z.set(u,a?0:12-u.length),u=z,v.push(u)}const k=(0,ka.u32)(u);return function(z,P,K,W,B,D,$,T){const b=B.length,_=new Uint8Array(Sg),A=(0,ka.u32)(_),N=o2(B)&&o2(D),O=N?(0,ka.u32)(B):O9,U=N?(0,ka.u32)(D):O9;for(let j=0;j<b;$++){if(z(P,K,W,A,$,T),$>=M9)throw new Error("arx: counter overflow");const I=Math.min(Sg,b-j);if(N&&I===Sg){const E=j/4;if(j%4!=0)throw new Error("arx: invalid block position");for(let L,q=0;q<aZ;q++)L=E+q,U[L]=O[L]^A[q];j+=Sg}else{for(let E,L=0;L<I;L++)E=j+L,D[E]=B[E]^_[L];j+=I}}}(t,w,x,k,l,h,p,o),(0,ka.clean)(...v),h}};const yo=Xr,ka=ca,fP=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),nZ=fP("expand 16-byte k"),rZ=fP("expand 32-byte k"),iZ=(0,ka.u32)(nZ),hP=(0,ka.u32)(rZ);function o2(t){return t.byteOffset%4==0}zd.sigma=hP.slice();const Sg=64,aZ=16,M9=2**32-1,O9=new Uint32Array;var e0={};Object.defineProperty(e0,"__esModule",{value:!0}),e0.poly1305=void 0,e0.wrapConstructorWithKey=pP;const _g=Xr,zh=ca,Rr=(t,e)=>255&t[e++]|(255&t[e++])<<8;class sZ{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,zh.toBytes)(e),(0,_g.bytes)(e,32);const n=Rr(e,0),r=Rr(e,2),i=Rr(e,4),a=Rr(e,6),o=Rr(e,8),s=Rr(e,10),u=Rr(e,12),l=Rr(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|a<<9),this.r[4]=255&(a>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|s<<2),this.r[7]=8065&(s>>>11|u<<5),this.r[8]=8191&(u>>>8|l<<8),this.r[9]=l>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Rr(e,16+2*h)}process(e,n,r=!1){const i=r?0:2048,{h:a,r:o}=this,s=o[0],u=o[1],l=o[2],h=o[3],p=o[4],g=o[5],v=o[6],y=o[7],w=o[8],C=o[9],x=Rr(e,n+0),M=Rr(e,n+2),k=Rr(e,n+4),z=Rr(e,n+6),P=Rr(e,n+8),K=Rr(e,n+10),W=Rr(e,n+12),B=Rr(e,n+14);let D=a[0]+(8191&x),$=a[1]+(8191&(x>>>13|M<<3)),T=a[2]+(8191&(M>>>10|k<<6)),b=a[3]+(8191&(k>>>7|z<<9)),_=a[4]+(8191&(z>>>4|P<<12)),A=a[5]+(P>>>1&8191),N=a[6]+(8191&(P>>>14|K<<2)),O=a[7]+(8191&(K>>>11|W<<5)),U=a[8]+(8191&(W>>>8|B<<8)),j=a[9]+(B>>>5|i),I=0,E=I+D*s+$*(5*C)+T*(5*w)+b*(5*y)+_*(5*v);I=E>>>13,E&=8191,E+=A*(5*g)+N*(5*p)+O*(5*h)+U*(5*l)+j*(5*u),I+=E>>>13,E&=8191;let L=I+D*u+$*s+T*(5*C)+b*(5*w)+_*(5*y);I=L>>>13,L&=8191,L+=A*(5*v)+N*(5*g)+O*(5*p)+U*(5*h)+j*(5*l),I+=L>>>13,L&=8191;let q=I+D*l+$*u+T*s+b*(5*C)+_*(5*w);I=q>>>13,q&=8191,q+=A*(5*y)+N*(5*v)+O*(5*g)+U*(5*p)+j*(5*h),I+=q>>>13,q&=8191;let F=I+D*h+$*l+T*u+b*s+_*(5*C);I=F>>>13,F&=8191,F+=A*(5*w)+N*(5*y)+O*(5*v)+U*(5*g)+j*(5*p),I+=F>>>13,F&=8191;let G=I+D*p+$*h+T*l+b*u+_*s;I=G>>>13,G&=8191,G+=A*(5*C)+N*(5*w)+O*(5*y)+U*(5*v)+j*(5*g),I+=G>>>13,G&=8191;let Y=I+D*g+$*p+T*h+b*l+_*u;I=Y>>>13,Y&=8191,Y+=A*s+N*(5*C)+O*(5*w)+U*(5*y)+j*(5*v),I+=Y>>>13,Y&=8191;let Q=I+D*v+$*g+T*p+b*h+_*l;I=Q>>>13,Q&=8191,Q+=A*u+N*s+O*(5*C)+U*(5*w)+j*(5*y),I+=Q>>>13,Q&=8191;let ie=I+D*y+$*v+T*g+b*p+_*h;I=ie>>>13,ie&=8191,ie+=A*l+N*u+O*s+U*(5*C)+j*(5*w),I+=ie>>>13,ie&=8191;let Z=I+D*w+$*y+T*v+b*g+_*p;I=Z>>>13,Z&=8191,Z+=A*h+N*l+O*u+U*s+j*(5*C),I+=Z>>>13,Z&=8191;let X=I+D*C+$*w+T*y+b*v+_*g;I=X>>>13,X&=8191,X+=A*p+N*h+O*l+U*u+j*s,I+=X>>>13,X&=8191,I=(I<<2)+I|0,I=I+E|0,E=8191&I,I>>>=13,L+=I,a[0]=E,a[1]=L,a[2]=q,a[3]=F,a[4]=G,a[5]=Y,a[6]=Q,a[7]=ie,a[8]=Z,a[9]=X}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=i,i=e[s]>>>13,e[s]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let s=1;s<10;s++)r[s]=e[s]+i,i=r[s]>>>13,r[s]&=8191;r[9]-=8192;let a=(1^i)-1;for(let s=0;s<10;s++)r[s]&=a;a=~a;for(let s=0;s<10;s++)e[s]=e[s]&a|r[s];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+n[0];e[0]=65535&o;for(let s=1;s<8;s++)o=(e[s]+n[s]|0)+(o>>>16)|0,e[s]=65535&o;(0,zh.clean)(r)}update(e){(0,_g.exists)(this);const{buffer:n,blockLen:r}=this,i=(e=(0,zh.toBytes)(e)).length;for(let a=0;a<i;){const o=Math.min(r-this.pos,i-a);if(o!==r)n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-a;a+=r)this.process(e,a)}return this}destroy(){(0,zh.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,_g.exists)(this),(0,_g.output)(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let o=0;o<8;o++)e[a++]=r[o]>>>0,e[a++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function pP(t){const e=(r,i)=>t(i).update((0,zh.toBytes)(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}e0.poly1305=pP(t=>new sZ(t)),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=o;const e=zd,n=Xr,r=e0,i=ca;function a(p,g,v,y,w,C=20){let x=p[0],M=p[1],k=p[2],z=p[3],P=g[0],K=g[1],W=g[2],B=g[3],D=g[4],$=g[5],T=g[6],b=g[7],_=w,A=v[0],N=v[1],O=v[2],U=x,j=M,I=k,E=z,L=P,q=K,F=W,G=B,Y=D,Q=$,ie=T,Z=b,X=_,te=A,ae=N,oe=O;for(let le=0;le<C;le+=2)U=U+L|0,X=(0,e.rotl)(X^U,16),Y=Y+X|0,L=(0,e.rotl)(L^Y,12),U=U+L|0,X=(0,e.rotl)(X^U,8),Y=Y+X|0,L=(0,e.rotl)(L^Y,7),j=j+q|0,te=(0,e.rotl)(te^j,16),Q=Q+te|0,q=(0,e.rotl)(q^Q,12),j=j+q|0,te=(0,e.rotl)(te^j,8),Q=Q+te|0,q=(0,e.rotl)(q^Q,7),I=I+F|0,ae=(0,e.rotl)(ae^I,16),ie=ie+ae|0,F=(0,e.rotl)(F^ie,12),I=I+F|0,ae=(0,e.rotl)(ae^I,8),ie=ie+ae|0,F=(0,e.rotl)(F^ie,7),E=E+G|0,oe=(0,e.rotl)(oe^E,16),Z=Z+oe|0,G=(0,e.rotl)(G^Z,12),E=E+G|0,oe=(0,e.rotl)(oe^E,8),Z=Z+oe|0,G=(0,e.rotl)(G^Z,7),U=U+q|0,oe=(0,e.rotl)(oe^U,16),ie=ie+oe|0,q=(0,e.rotl)(q^ie,12),U=U+q|0,oe=(0,e.rotl)(oe^U,8),ie=ie+oe|0,q=(0,e.rotl)(q^ie,7),j=j+F|0,X=(0,e.rotl)(X^j,16),Z=Z+X|0,F=(0,e.rotl)(F^Z,12),j=j+F|0,X=(0,e.rotl)(X^j,8),Z=Z+X|0,F=(0,e.rotl)(F^Z,7),I=I+G|0,te=(0,e.rotl)(te^I,16),Y=Y+te|0,G=(0,e.rotl)(G^Y,12),I=I+G|0,te=(0,e.rotl)(te^I,8),Y=Y+te|0,G=(0,e.rotl)(G^Y,7),E=E+L|0,ae=(0,e.rotl)(ae^E,16),Q=Q+ae|0,L=(0,e.rotl)(L^Q,12),E=E+L|0,ae=(0,e.rotl)(ae^E,8),Q=Q+ae|0,L=(0,e.rotl)(L^Q,7);let ee=0;y[ee++]=x+U|0,y[ee++]=M+j|0,y[ee++]=k+I|0,y[ee++]=z+E|0,y[ee++]=P+L|0,y[ee++]=K+q|0,y[ee++]=W+F|0,y[ee++]=B+G|0,y[ee++]=D+Y|0,y[ee++]=$+Q|0,y[ee++]=T+ie|0,y[ee++]=b+Z|0,y[ee++]=_+X|0,y[ee++]=A+te|0,y[ee++]=N+ae|0,y[ee++]=O+oe|0}function o(p,g,v,y){let w=p[0],C=p[1],x=p[2],M=p[3],k=g[0],z=g[1],P=g[2],K=g[3],W=g[4],B=g[5],D=g[6],$=g[7],T=v[0],b=v[1],_=v[2],A=v[3];for(let O=0;O<20;O+=2)w=w+k|0,T=(0,e.rotl)(T^w,16),W=W+T|0,k=(0,e.rotl)(k^W,12),w=w+k|0,T=(0,e.rotl)(T^w,8),W=W+T|0,k=(0,e.rotl)(k^W,7),C=C+z|0,b=(0,e.rotl)(b^C,16),B=B+b|0,z=(0,e.rotl)(z^B,12),C=C+z|0,b=(0,e.rotl)(b^C,8),B=B+b|0,z=(0,e.rotl)(z^B,7),x=x+P|0,_=(0,e.rotl)(_^x,16),D=D+_|0,P=(0,e.rotl)(P^D,12),x=x+P|0,_=(0,e.rotl)(_^x,8),D=D+_|0,P=(0,e.rotl)(P^D,7),M=M+K|0,A=(0,e.rotl)(A^M,16),$=$+A|0,K=(0,e.rotl)(K^$,12),M=M+K|0,A=(0,e.rotl)(A^M,8),$=$+A|0,K=(0,e.rotl)(K^$,7),w=w+z|0,A=(0,e.rotl)(A^w,16),D=D+A|0,z=(0,e.rotl)(z^D,12),w=w+z|0,A=(0,e.rotl)(A^w,8),D=D+A|0,z=(0,e.rotl)(z^D,7),C=C+P|0,T=(0,e.rotl)(T^C,16),$=$+T|0,P=(0,e.rotl)(P^$,12),C=C+P|0,T=(0,e.rotl)(T^C,8),$=$+T|0,P=(0,e.rotl)(P^$,7),x=x+K|0,b=(0,e.rotl)(b^x,16),W=W+b|0,K=(0,e.rotl)(K^W,12),x=x+K|0,b=(0,e.rotl)(b^x,8),W=W+b|0,K=(0,e.rotl)(K^W,7),M=M+k|0,_=(0,e.rotl)(_^M,16),B=B+_|0,k=(0,e.rotl)(k^B,12),M=M+k|0,_=(0,e.rotl)(_^M,8),B=B+_|0,k=(0,e.rotl)(k^B,7);let N=0;y[N++]=w,y[N++]=C,y[N++]=x,y[N++]=M,y[N++]=T,y[N++]=b,y[N++]=_,y[N++]=A}t.chacha20orig=(0,e.createCipher)(a,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(a,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(a,{counterRight:!1,counterLength:8,extendNonceFn:o,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(a,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(a,{counterRight:!1,counterLength:4,rounds:12});const s=new Uint8Array(16),u=(p,g)=>{p.update(g);const v=g.length%16;v&&p.update(s.subarray(v))},l=new Uint8Array(32);function h(p,g,v,y,w){const C=p(g,v,l),x=r.poly1305.create(C);w&&u(x,w),u(x,y);const M=new Uint8Array(16),k=(0,i.createView)(M);(0,i.setBigUint64)(k,0,BigInt(w?w.length:0),!0),(0,i.setBigUint64)(k,8,BigInt(y.length),!0),x.update(M);const z=x.digest();return(0,i.clean)(C,M),z}t._poly1305_aead=p=>(g,v,y)=>((0,n.bytes)(g,32),(0,n.bytes)(v),{encrypt(C,x){const M=C.length,k=M+16;x?(0,n.bytes)(x,k):x=new Uint8Array(k),p(g,v,C,x,1);const z=h(p,g,v,x.subarray(0,-16),y);return x.set(z,M),(0,i.clean)(z),x},decrypt(C,x){const M=C.length,k=M-16;if(M<16)throw new Error("encrypted data must be at least 16 bytes");x?(0,n.bytes)(x,k):x=new Uint8Array(k);const z=C.subarray(0,-16),P=C.subarray(-16),K=h(p,g,v,z,y);if(!(0,i.equalBytes)(P,K))throw new Error("invalid tag");return p(g,v,z,x,1),(0,i.clean)(K),x}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))}(dP),Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.xchacha20=void 0;var Nd,k9,kh,oZ=dP;Kv.xchacha20=function(t,e,n){return(0,oZ.xchacha20poly1305)(t,e,n)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=ca,n=IS,r=Jd,i=Kv,a=b0,o=Cr;t.symEncrypt=function(h,p,g){return s(u,h,p,g)};function s(h,p,g,v){var y=(0,a.symmetricAlgorithm)();if(y==="aes-256-gcm")return h(r.aes256gcm,p,g,(0,a.symmetricNonceLength)(),o.AEAD_TAG_LENGTH,v);if(y==="xchacha20")return h(i.xchacha20,p,g,o.XCHACHA20_NONCE_LENGTH,o.AEAD_TAG_LENGTH,v);if(y==="aes-256-cbc")return h(r.aes256cbc,p,g,16,0);throw new Error("Not implemented")}function u(h,p,g,v,y,w){var C=(0,n.randomBytes)(v),x=h(p,C,w).encrypt(g);if(y===0)return(0,e.concatBytes)(C,x);var M=x.length-y,k=x.subarray(0,M),z=x.subarray(M);return(0,e.concatBytes)(C,z,k)}function l(h,p,g,v,y,w){var C=g.subarray(0,v),x=h(p,Uint8Array.from(C),w),M=g.subarray(v);if(y===0)return x.decrypt(M);var k=M.subarray(0,y),z=M.subarray(y);return x.decrypt((0,e.concatBytes)(z,k))}t.symDecrypt=function(h,p,g){return s(l,h,p,g)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt}(x9),Nd=Xy,k9=Ua&&Ua.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),kh=Ua&&Ua.__exportStar||function(t,e){for(var n in t)n==="default"||Object.prototype.hasOwnProperty.call(e,n)||k9(e,t,n)},Object.defineProperty(Nd,"__esModule",{value:!0}),kh(gR,Nd),kh(ZR,Nd),kh(zE,Nd),kh(x9,Nd);var S0={};Object.defineProperty(S0,"__esModule",{value:!0}),S0.PublicKey=void 0;var I9=ca,Cg=Xy,lZ=function(){function t(e){this.data=(0,Cg.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,Cg.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return $e.from((0,Cg.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return $e.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,I9.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=e.multiply(this,n);return(0,Cg.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,I9.equalBytes)(this.data,e.data)},t}();S0.PublicKey=lZ,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.PrivateKey=void 0;var T9=ca,Ad=Xy,cZ=S0,uZ=function(){function t(e){if(e===void 0)this.data=(0,Ad.getValidSecret)();else{if(!(0,Ad.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new cZ.PublicKey((0,Ad.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,Ad.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return $e.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,T9.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,n);return(0,Ad.getSharedKey)(r,i)},t.prototype.multiply=function(e,n){return n===void 0&&(n=!1),(0,Ad.getSharedPoint)(this.data,e.compressed,n)},t.prototype.equals=function(e){return(0,T9.equalBytes)(this.data,e.data)},t}();Uv.PrivateKey=uZ,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=Uv;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var n=S0;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})}(W3),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(s,u){var l=new r.PrivateKey,h=s instanceof Uint8Array?new r.PublicKey(s):r.PublicKey.fromHex(s),p=l.encapsulate(h,(0,n.isHkdfKeyCompressed)()),g=(0,n.isEphemeralKeyCompressed)()?l.publicKey.compressed:l.publicKey.uncompressed,v=(0,i.symEncrypt)(p,u);return $e.from((0,e.concatBytes)(g,v))},t.decrypt=function(s,u){var l=s instanceof Uint8Array?new r.PrivateKey(s):r.PrivateKey.fromHex(s),h=(0,n.ephemeralKeySize)(),p=new r.PublicKey(u.subarray(0,h)),g=u.subarray(h),v=p.decapsulate(l,(0,n.isHkdfKeyCompressed)());return $e.from((0,i.symDecrypt)(v,g))};var e=ca,n=b0,r=W3,i=Xy,a=b0;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return a.ECIES_CONFIG}});var o=W3;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return o.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(Pd);const mP=hi("KeyExchange:Layer"),gP=hi("SocketService:Layer"),vP=hi("Ecies:Layer"),yP=hi("RemoteCommunication:Layer");mP.color="##95c44e",gP.color="#f638d7",vP.color="#465b9c",yP.color="#47a2be";const Pe={KeyExchange:mP,SocketService:gP,Ecies:vP,RemoteCommunication:yP};let Ih,Ng=[],l2=[];const Wo=(t,e)=>Be(void 0,void 0,void 0,function*(){Ih=e,l2.push(t),function(n){return Be(this,void 0,void 0,function*(){if(!Ih||!n)return;(function(){const o=l2;l2=Ng,Ng=o})();const r=Ih.endsWith("/")?`${Ih}evt`:`${Ih}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(const[o,s]of Object.entries(n.params))i[o]=s;const a=JSON.stringify(i);Pe.RemoteCommunication(`[sendBufferedEvents] Sending ${Ng.length} analytics events to ${r}`);try{const o=yield XT(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}),s=yield o.text();Pe.RemoteCommunication(`[sendBufferedEvents] Response: ${s}`),Ng.length=0}catch{}})}(t).catch(()=>{})});class c2{constructor(e){this.enabled=!0,e?.debug&&hi.enable("Ecies:Layer"),this.ecies=e?.privateKey?Pd.PrivateKey.fromHex(e.privateKey):new Pd.PrivateKey,Pe.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),Pe.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),Pe.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new Pd.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,n){let r=e;if(this.enabled)try{Pe.Ecies("[ECIES: encrypt()] using otherPublicKey",n);const i=$e.from(e),a=Pd.encrypt(n,i);r=$e.from(a).toString("base64")}catch(i){throw Pe.Ecies("[ECIES: encrypt()] error encrypt:",i),Pe.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),Pe.Ecies("[ECIES: encrypt()] data: ",e),Pe.Ecies("[ECIES: encrypt()] otherkey: ",n),i}return r}decrypt(e){let n=e;if(this.enabled)try{Pe.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const r=$e.from(e.toString(),"base64");n=Pd.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw Pe.Ecies("[ECIES: decrypt()] error decrypt",r),Pe.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),Pe.Ecies("[ECIES: decrypt()] encryptedData: ",e),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){Pe.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var gc={version:"0.33.0"};const of="https://metamask-sdk.api.cx.metamask.io/",dZ=["websocket"],lf=6048e5,fZ=3e3,Jr={METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_WATCHASSET:"wallet_watchAsset",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},hZ=[Jr.METAMASK_CONNECTSIGN,Jr.METAMASK_CONNECTWITH,Jr.METAMASK_OPEN,Jr.METAMASK_BATCH,Jr.PERSONAL_SIGN,Jr.WALLET_REQUESTPERMISSIONS,Jr.WALLET_REVOKEPERMISSIONS,Jr.WALLET_WATCHASSET,Jr.ETH_SENDTRANSACTION,Jr.ETH_SIGNTYPEDDATA,Jr.ETH_SIGNTYPEDDATA_V3,Jr.ETH_SIGNTYPEDDATA_V4,Jr.ETH_SIGNTRANSACTION,Jr.ETH_SIGN,Jr.PERSONAL_EC_RECOVER];function yp(t){return hZ.includes(t)}function bP(t){const{context:e}=t;Pe.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var $r,tt,Wv,xn,Gn,or,jd;(jd=$r||($r={})).DISCONNECTED="disconnected",jd.WAITING="waiting",jd.TIMEOUT="timeout",jd.LINKED="linked",jd.PAUSED="paused",jd.TERMINATED="terminated",function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"}(tt||(tt={})),(Wv||(Wv={})).KEY_EXCHANGE="key_exchange",function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"}(xn||(xn={}));class pZ extends Jy.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:n,context:r,ecies:i,logging:a}){super(),this.keysExchanged=!1,this.step=xn.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=e,i?.privateKey&&n&&(Pe.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new c2(Object.assign(Object.assign({},i),{debug:a?.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=a?.keyExchangeLayer===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(Wv.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:n}=this.communicationLayer.remote.state;if(Pe.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,e),n)return void Pe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:r}=e;this.keysExchanged&&Pe.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(tt.KEY_INFO,r.type),r.type===xn.KEY_HANDSHAKE_SYN?(this.checkStep([xn.KEY_HANDSHAKE_NONE,xn.KEY_HANDSHAKE_ACK]),Pe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:xn.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(i=>{Pe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)}),this.setStep(xn.KEY_HANDSHAKE_ACK)):r.type===xn.KEY_HANDSHAKE_SYNACK?(this.checkStep([xn.KEY_HANDSHAKE_SYNACK,xn.KEY_HANDSHAKE_ACK,xn.KEY_HANDSHAKE_NONE]),Pe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:xn.KEY_HANDSHAKE_ACK}).catch(i=>{Pe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)}),this.keysExchanged=!0,this.setStep(xn.KEY_HANDSHAKE_ACK),this.emit(tt.KEYS_EXCHANGED)):r.type===xn.KEY_HANDSHAKE_ACK&&(Pe.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([xn.KEY_HANDSHAKE_ACK,xn.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(xn.KEY_HANDSHAKE_ACK),this.emit(tt.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new c2(e)}clean(){Pe.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(xn.KEY_HANDSHAKE_NONE),this.emit(tt.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:n}){const{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,a=i>=2;r?Pe.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(Pe.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==xn.KEY_HANDSHAKE_NONE&&this.step!==xn.KEY_HANDSHAKE_SYNACK)||n?(Pe.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(xn.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:xn.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(o=>{Pe.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",o)})):Pe.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?Pe.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):a?this.communicationLayer.sendMessage({type:xn.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(o=>{Pe.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",o)}):(this.communicationLayer.sendMessage({type:xn.KEY_HANDSHAKE_START}).catch(o=>{Pe.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",o)}),this.clean()))}setStep(e){this.step=e,this.emit(tt.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:n}){this.otherPublicKey=n,this.myECIES=new c2({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){Pe.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(Gn||(Gn={})),function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(or||(or={}));const cv=(t,e,n)=>Be(void 0,void 0,void 0,function*(){var r,i,a,o,s,u;const{remote:l,state:h}=t,{channelId:p,isOriginator:g}=h;if(e==="error_terminated")return Pe.SocketService(`handleJoinChannelResults: Channel ${p} terminated`),void t.emit(tt.TERMINATE);if(!n)return void Pe.SocketService(`handleJoinChannelResults: No result for channel ${p}`);const{persistence:v,walletKey:y,rejected:w}=n;if(Pe.SocketService(`handleJoinChannelResults: Channel ${p} persistence=${v} walletKey=${y} rejected=${w}`),w)return Pe.SocketService(`handleJoinChannelResults: Channel ${p} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(tt.REJECTED,{channelId:p}),void t.remote.emitServiceStatusEvent();if(y&&!(!((r=l.state.channelConfig)===null||r===void 0)&&r.otherKey)){t.getKeyExchange().setOtherPublicKey(y),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(tt.AUTHORIZED);const{communicationLayer:C,storageManager:x}=l.state,M=Object.assign(Object.assign({},l.state.channelConfig),{channelId:(a=l.state.channelId)!==null&&a!==void 0?a:"",validUntil:Date.now()+lf,localKey:C?.getKeyInfo().ecies.private,otherKey:y});t.sendMessage({type:xn.KEY_HANDSHAKE_ACK}).catch(k=>{}),(o=t.state.socket)===null||o===void 0||o.emit(Gn.PING,{id:p,clientType:g?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield x?.persistChannelConfig(M),l.emitServiceStatusEvent(),l.setConnectionStatus($r.LINKED)}v&&(t.emit(tt.CHANNEL_PERSISTENCE),(s=t.state.keyExchange)===null||s===void 0||s.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(tt.AUTHORIZED),Wo(Object.assign(Object.assign({id:p??"",event:g?or.CONNECTED:or.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:gc.version,walletVersion:(u=t.remote.state.walletInfo)===null||u===void 0?void 0:u.version}),h.communicationServerUrl).catch(C=>{}))}),Qd=t=>new Promise(e=>{setTimeout(e,t)}),R9=(t,e,...n)=>Be(void 0,[t,e,...n],void 0,function*(r,i,a=200){let o;const s=Date.now();let u=!1;for(;!u;){if(u=Date.now()-s>3e5,o=i[r],o.elapsedTime!==void 0)return o;yield Qd(a)}throw new Error(`RPC ${r} timed out`)}),VE=t=>Be(void 0,void 0,void 0,function*(){const{state:e}=t,{socket:n,channelId:r,context:i,isOriginator:a,isReconnecting:o}=e;if(o)return Pe.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!n)return Pe.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!r)return!1;const{connected:s}=n;e.isReconnecting=!0,e.reconnectionAttempts=0,Pe.SocketService(`[SocketService: reconnectSocket()] connected=${s} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(Pe.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield Qd(200),n.connected)return Pe.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(Gn.PING,{id:r,clientType:a?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,n.connect(),t.emit(tt.SOCKET_RECONNECT);try{if(yield new Promise((u,l)=>{n.emit(tt.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:a?"dapp":"wallet"},(h,p)=>Be(void 0,void 0,void 0,function*(){try{yield cv(t,h,p),u()}catch(g){l(g)}}))}),yield Qd(100),n.connected)return Pe.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(u){Pe.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,u)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield Qd(200))}return Pe.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}});function wP(t,e){return Be(this,void 0,void 0,function*(){var n;const r=(n=t.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:r,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return Pe.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===Gn.TERMINATE&&(t.state.manualDisconnect=!0),new Promise((a,o)=>{var s;(s=t.state.socket)===null||s===void 0||s.emit(tt.MESSAGE,i,(u,l)=>{var h;u&&(Pe.SocketService(`[SocketService: encryptAndSendMessage()] error=${u}`),o(u)),Pe.SocketService("[encryptAndSendMessage] response",l),a((h=l?.success)!==null&&h!==void 0&&h)})})})}var Hd;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(Hd||(Hd={}));const xP=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(t=>t.toLowerCase()),mZ=[{event:tt.CLIENTS_CONNECTED,handler:function(t,e){return n=>Be(this,void 0,void 0,function*(){var r,i,a,o,s,u,l,h,p,g,v;const y=(i=(r=t.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(Pe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${y} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(tt.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(Pe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged()} -- backward compatibility`),(u=t.state.keyExchange)===null||u===void 0||u.start({isOriginator:(l=t.state.isOriginator)!==null&&l!==void 0&&l})),t.state.resumed=!1;else if(t.state.clientsPaused)Pe.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){const w=!y;Pe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(h=t.state.keyExchange)===null||h===void 0?void 0:h.areKeysExchanged()} -- force=${w} -- backward compatibility`),Pe.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(p=t.state.keyExchange)===null||p===void 0?void 0:p.areKeysExchanged()} -- force=${w} -- backward compatibility`),(g=t.state.keyExchange)===null||g===void 0||g.start({isOriginator:(v=t.state.isOriginator)!==null&&v!==void 0&&v,force:w})}t.state.clientsConnected=!0,t.state.clientsPaused=!1})}},{event:tt.CHANNEL_CREATED,handler:function(t,e){return n=>{Pe.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,n),t.emit(tt.CHANNEL_CREATED,n)}}},{event:tt.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var n;t.state.clientsConnected=!1,Pe.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?Pe.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((n=t.state.keyExchange)===null||n===void 0||n.clean()),t.emit(tt.CLIENTS_DISCONNECTED,e))}}},{event:tt.CONFIG,handler:function(t,e){return n=>Be(this,void 0,void 0,function*(){var r,i,a;Pe.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,n);const{persistence:o,walletKey:s}=n;t.state.isOriginator&&t.remote.state.channelConfig?(n.walletKey&&!t.remote.state.channelConfig.otherKey&&(Pe.SocketService(`Setting wallet key ${s}`),t.remote.state.channelConfig.otherKey=s,t.getKeyExchange().setOtherPublicKey(n.walletKey),(r=t.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield t.remote.sendMessage({type:xn.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:Gn.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),o!==!0||t.remote.state.channelConfig.relayPersistence||(Pe.SocketService(`Setting relay persistence ${o}`),t.remote.state.channelConfig.relayPersistence=o,t.remote.state.relayPersistence=!0,t.remote.emit(tt.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(tt.AUTHORIZED),yield(a=t.remote.state.storageManager)===null||a===void 0?void 0:a.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||n.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(tt.CHANNEL_PERSISTENCE))})}},{event:tt.MESSAGE,handler:function(t,e){return n=>{var r,i,a,o,s,u,l,h,p,g,v,y,w,C,x,M,k,z;const{ackId:P,message:K,error:W}=n,B=(r=t.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(Pe.SocketService(`[SocketService handleMessage()]  relayPersistence=${B}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),W)throw Pe.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${W}`),new Error(W);const D=typeof K=="string";if(!D&&K?.type===xn.KEY_HANDSHAKE_START)return B?void 0:(Pe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,K),void((a=t.state.keyExchange)===null||a===void 0||a.start({isOriginator:(o=t.state.isOriginator)!==null&&o!==void 0&&o,force:!0})));if(!D&&(!((s=K?.type)===null||s===void 0)&&s.startsWith("key_handshake")))return B?void 0:(Pe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,K),void t.emit(Wv.KEY_EXCHANGE,{message:K,context:t.state.context}));if(D&&!(!((u=t.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())){let b=!1;try{Pe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(l=t.state.keyExchange)===null||l===void 0||l.decryptMessage(K),b=!0}catch(_){Pe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,_)}if(!b)return t.state.isOriginator?(p=t.state.keyExchange)===null||p===void 0||p.start({isOriginator:(g=t.state.isOriginator)!==null&&g!==void 0&&g}):t.sendMessage({type:xn.KEY_HANDSHAKE_START}).catch(_=>{}),void Pe.SocketService(`Message ignored because invalid key exchange status. step=${(v=t.state.keyExchange)===null||v===void 0?void 0:v.getKeyInfo().step}`,(y=t.state.keyExchange)===null||y===void 0?void 0:y.getKeyInfo(),K);Pe.SocketService("Invalid key exchange status detected --- updating it."),(h=t.state.keyExchange)===null||h===void 0||h.setKeysExchanged(!0)}else if(!D&&K?.type)return void t.emit(tt.MESSAGE,K);if(!D)return void t.emit(tt.MESSAGE,K);const $=(w=t.state.keyExchange)===null||w===void 0?void 0:w.decryptMessage(K),T=JSON.parse($??"{}");if(P&&P?.length>0&&(Pe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${P} channelId=${e}`),(C=t.state.socket)===null||C===void 0||C.emit(tt.MESSAGE_ACK,{ackId:P,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=T?.type===Gn.PAUSE,t.state.isOriginator&&T.data){const b=T.data,_=t.state.rpcMethodTracker[b.id];if(_){const A=Date.now()-_.timestamp;Pe.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${b.id} method=${_.method} responseTime=${A}`,T),t.remote.state.analytics&&xP.includes(_.method.toLowerCase())&&Wo(Object.assign(Object.assign({id:(x=t.remote.state.channelId)!==null&&x!==void 0?x:"",event:or.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:gc.version},t.remote.state.originatorInfo),{walletVersion:(M=t.remote.state.walletInfo)===null||M===void 0?void 0:M.version,params:{method:_.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch(O=>{}),yp(_.method)&&ar.analytics.track(b.error?b.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:_.method});const N=Object.assign(Object.assign({},_),{result:b.result,error:b.error?{code:(k=b.error)===null||k===void 0?void 0:k.code,message:(z=b.error)===null||z===void 0?void 0:z.message}:void 0,elapsedTime:A});t.state.rpcMethodTracker[b.id]=N,t.emit(tt.RPC_UPDATE,N)}}t.emit(tt.MESSAGE,{message:T})}}},{event:tt.REJECTED,handler:function(t,e){return n=>Be(this,void 0,void 0,function*(){var r;t.state.isOriginator&&!t.remote.state.ready?(Pe.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),Wo(Object.assign(Object.assign({id:e,event:or.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:gc.version,walletVersion:(r=t.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),t.remote.state.communicationServerUrl).catch(i=>{}),ar.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(tt.REJECTED,{channelId:e}),t.remote.setConnectionStatus($r.DISCONNECTED)):Pe.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(t,e){return n=>{Pe.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,n),t.emit(tt.CLIENTS_WAITING,n)}}}],gZ=[{event:tt.KEY_INFO,handler:function(t){return e=>{Pe.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(tt.KEY_INFO,e)}}},{event:tt.KEYS_EXCHANGED,handler:function(t){return()=>{var e,n,r;Pe.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);const{channelConfig:i}=t.remote.state;if(i){const o=t.getKeyExchange().getKeyInfo().ecies;i.localKey=o.private,i.otherKey=o.otherPubKey,t.remote.state.channelConfig=i,(n=t.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch(s=>{})}t.emit(tt.KEYS_EXCHANGED,{keysExchanged:(r=t.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:t.state.isOriginator});const a={keyInfo:t.getKeyInfo()};t.emit(tt.SERVICE_STATUS,a)}}}];function P9(t,e){Pe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);const{socket:n}=t.state,{keyExchange:r}=t.state;n&&t.state.isOriginator&&(t.state.debug&&(n?.io.on("error",i=>{Pe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)}),n?.io.on("reconnect",i=>{Pe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),VE(t).catch(a=>{})}),n?.io.on("reconnect_error",i=>{Pe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)}),n?.io.on("reconnect_failed",()=>{Pe.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)})),n?.on("disconnect",i=>(Pe.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),function(a){return o=>{Pe.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${a.state.manualDisconnect}`,o),a.state.manualDisconnect||(a.emit(tt.SOCKET_DISCONNECTED),VE(a).catch(s=>{}))}}(t)(i)))),mZ.forEach(({event:i,handler:a})=>{n?.on(`${i}-${e}`,a(t,e))}),gZ.forEach(({event:i,handler:a})=>{r?.on(i,a(t))}),t.state.setupChannelListeners=!0}class vZ extends Jy.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:a,remote:o,logging:s}=e;this.state.resumed=n,this.state.context=a,this.state.isOriginator=o.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=s?.serviceLayer===!0,this.remote=o,s?.serviceLayer===!0&&hi.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==of&&s?.plaintext===!0,Pe.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:n,ecies:r,logging:i}=this.options,a={autoConnect:!1,transports:dZ,withCredentials:!0},o=this.state.communicationServerUrl;Pe.SocketService(`[SocketService: initSocket()] Socket IO url: ${o}`),this.state.socket=Zh(o,a),function(u){if(typeof window<"u"&&typeof document<"u"&&(Pe.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,u),!u.state.focusListenerAdded)){const l=()=>{Pe.SocketService("Document has focus --- reconnecting socket"),VE(u).catch(h=>{})};window.addEventListener("focus",l),u.state.focusListenerAdded=!0,u.state.removeFocusListener=()=>{window.removeEventListener("focus",l),u.state.focusListenerAdded=!1}}}(this);const s={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:r,logging:i};this.state.keyExchange=new pZ(s)}resetKeys(){return Pe.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n,r,i;if(Pe.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(n=e.state.socket)===null||n===void 0?void 0:n.connected)throw new Error("socket already connected");(r=e.state.socket)===null||r===void 0||r.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const a=Xl();e.state.channelId=a,P9(e,a),yield new Promise((s,u)=>{var l;(l=e.state.socket)===null||l===void 0||l.emit(tt.JOIN_CHANNEL,{channelId:a,context:`${e.state.context}createChannel`,clientType:"dapp"},(h,p)=>Be(this,void 0,void 0,function*(){try{yield cv(e,h,p),s()}catch(g){u(g)}}))});const o=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:a,pubKey:o?.ecies.public||"",privKey:o?.ecies.private||""}})}(this)})}connectToChannel({channelId:e,withKeyExchange:n=!1,authorized:r}){return function(i){return Be(this,arguments,void 0,function*({options:a,instance:o}){const{channelId:s,authorized:u,withKeyExchange:l}=a,{state:h,remote:p}=o,{isOriginator:g=!1,socket:v,keyExchange:y}=h,{channelConfig:w}=p.state;if(v?.connected)throw new Error("socket already connected");if(g&&w?.relayPersistence){const{localKey:C,otherKey:x}=w;C&&x&&y?.setRelayPersistence({localKey:C,otherKey:x})}return Object.assign(h,{manualDisconnect:!1,withKeyExchange:l,isOriginator:g,channelId:s}),v?.connect(),P9(o,s),!g&&u&&(y?.setKeysExchanged(!0),Object.assign(p.state,{ready:!0,authorized:!0})),new Promise(C=>{var x;const M=(x=y?.getKeyInfo())===null||x===void 0?void 0:x.ecies.public;v?.emit(tt.JOIN_CHANNEL,{channelId:s,context:`${h.context}_connectToChannel`,clientType:g?"dapp":"wallet",publicKey:u&&!g?M:void 0},(k,z)=>Be(this,void 0,void 0,function*(){yield cv(o,k,z),C()}))})})}({options:{channelId:e,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,n;(n=(e=this).state.socket)===null||n===void 0||n.emit(tt.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:xn.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return Be(this,void 0,void 0,function*(){return function(n,r){return Be(this,void 0,void 0,function*(){var i,a,o;if(!n.state.channelId)throw Pe.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(Pe.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(a=r?.type)===null||a===void 0?void 0:a.startsWith("key_handshake"))return function(u,l){var h;Pe.SocketService(`[SocketService: handleKeyHandshake()] context=${u.state.context}`,l),(h=u.state.socket)===null||h===void 0||h.emit(tt.MESSAGE,{id:u.state.channelId,context:u.state.context,clientType:u.state.isOriginator?"dapp":"wallet",message:l})}(n,r),!0;(function(u,l){var h;if(!(!((h=u.state.keyExchange)===null||h===void 0)&&h.areKeysExchanged())&&!u.remote.state.relayPersistence)throw Pe.SocketService(`[SocketService: validateKeyExchange()] context=${u.state.context} ERROR keys not exchanged`,l),new Error("Keys not exchanged BBB")})(n,r),function(u,l){var h;const p=(h=l?.method)!==null&&h!==void 0?h:"",g=l?.id;u.state.isOriginator&&g&&(u.state.rpcMethodTracker[g]={id:g,timestamp:Date.now(),method:p},u.emit(tt.RPC_UPDATE,u.state.rpcMethodTracker[g]))}(n,r);const s=yield wP(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&xP.includes(r.method.toLowerCase())&&Wo({id:(o=n.remote.state.channelId)!==null&&o!==void 0?o:"",event:or.SDK_RPC_REQUEST,params:{method:r.method,from:"mobile"}},n.remote.state.communicationServerUrl).catch(u=>{}),n.remote.state.isOriginator&&r.method&&yp(r.method)&&ar.analytics.track("sdk_action_requested",{action:r.method}),function(u,l){return Be(this,void 0,void 0,function*(){var h;const p=l?.id,g=(h=l?.method)!==null&&h!==void 0?h:"";if(u.state.isOriginator&&p)try{const v=R9(p,u.state.rpcMethodTracker,200).then(C=>({type:Hd.RPC_CHECK,result:C})),y=Be(this,void 0,void 0,function*(){const C=yield(M=>Be(void 0,[M],void 0,function*({rpcId:k,instance:z}){for(;z.state.lastRpcId===k||z.state.lastRpcId===void 0;)yield Qd(200);return z.state.lastRpcId}))({instance:u,rpcId:p}),x=yield R9(C,u.state.rpcMethodTracker,200);return{type:Hd.SKIPPED_RPC,result:x}}),w=yield Promise.race([v,y]);if(w.type===Hd.RPC_CHECK){const C=w.result;Pe.SocketService(`[SocketService:handleRpcReplies()] id=${l.id} ${g} ( ${C.elapsedTime} ms)`,C.result)}else{if(w.type!==Hd.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${p}`);{const C=Object.assign(Object.assign({},u.state.rpcMethodTracker[p]),{error:new Error("SDK_CONNECTION_ISSUE")});u.emit(tt.RPC_UPDATE,C);const x={data:Object.assign(Object.assign({},C),{jsonrpc:"2.0"}),name:"metamask-provider"};u.emit(tt.MESSAGE,{message:x})}}}catch(v){throw v}})}(n,r).catch(u=>{}),s})}(this,e)})}ping(){return function(e){return Be(this,void 0,void 0,function*(){var n,r;Pe.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(n=e.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=e.state.socket)===null||r===void 0||r.emit(Gn.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(e){return Be(this,void 0,void 0,function*(){var n,r;Pe.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((n=e.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield e.sendMessage({type:Gn.PAUSE})),(r=e.state.socket)===null||r===void 0||r.disconnect()})}(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return function(e){return Be(this,void 0,void 0,function*(){const{state:n,remote:r}=e,{socket:i,channelId:a,context:o,keyExchange:s,isOriginator:u}=n,{isOriginator:l}=r.state;if(Pe.SocketService(`[SocketService: resume()] channelId=${a} context=${o} connected=${i?.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${s?.areKeysExchanged()}`),!a)throw Pe.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i?.connected?(Pe.SocketService("[SocketService: resume()] already connected."),i.emit(Gn.PING,{id:a,clientType:l?"dapp":"wallet",context:"on_channel_config",message:""}),r.hasRelayPersistence()||s?.areKeysExchanged()||(u?yield e.sendMessage({type:Gn.READY}):s?.start({isOriginator:!1}))):(i?.connect(),Pe.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i?.connected}`),i?.emit(tt.JOIN_CHANNEL,{channelId:a,context:`${o}_resume`,clientType:l?"dapp":"wallet"},(h,p)=>Be(this,void 0,void 0,function*(){try{yield cv(e,h,p)}catch{}}))),n.manualDisconnect=!1,n.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(n,r){var i,a,o,s,u;Pe.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r?.terminate&&((a=(i=n.state).removeFocusListener)===null||a===void 0||a.call(i),n.state.channelId=r.channelId,(o=n.state.socket)===null||o===void 0||o.removeAllListeners(),(s=n.state.keyExchange)===null||s===void 0||s.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(u=n.state.socket)===null||u===void 0||u.disconnect()}(this,e)}}var Nu,ei,L9;function yZ(t){return()=>Be(this,void 0,void 0,function*(){var e,n,r;const{state:i}=t;if(i.authorized)return;yield Be(this,void 0,void 0,function*(){for(;!i.walletInfo;)yield Qd(500)});const a="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(Pe.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${a}`),a!==1)return;const o=i.platformType===ei.MobileWeb||i.platformType===ei.ReactNative||i.platformType===ei.MetaMaskMobileWebview;Pe.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${o} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),o&&(i.authorized=!0,t.emit(tt.AUTHORIZED))})}function bZ(t){return e=>{const{state:n}=t;Pe.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${e}`),t.emit(tt.CHANNEL_CREATED,e)}}function wZ(t,e){return()=>{var n,r,i,a;const{state:o}=t;Pe.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${o.channelId} keysExchanged=${(r=(n=o.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),o.analytics&&Wo(Object.assign(Object.assign({id:(i=o.channelId)!==null&&i!==void 0?i:"",event:o.reconnection?or.RECONNECT:o.isOriginator?or.REQUEST:or.REQUEST_MOBILE},o.originatorInfo),{commLayer:e,sdkVersion:o.sdkVersion,walletVersion:(a=o.walletInfo)===null||a===void 0?void 0:a.version,commLayerVersion:gc.version}),o.communicationServerUrl).catch(s=>{}),o.isOriginator&&!o.reconnection&&ar.analytics.track("sdk_connection_established",{transport_type:"websocket"}),o.clientsConnected=!0,o.originatorInfoSent=!1,t.emit(tt.CLIENTS_CONNECTED)}}function xZ(t){return e=>{const{state:n}=t;Pe.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${e}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),t.emit(tt.CLIENTS_DISCONNECTED,n.channelId),t.setConnectionStatus($r.DISCONNECTED)}}function EZ(t){return e=>{var n;const{state:r}=t;if(Pe.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${e} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),t.setConnectionStatus($r.WAITING),t.emit(tt.CLIENTS_WAITING,e),r.originatorConnectStarted){Pe.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,a=setTimeout(()=>{Pe.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||t.setConnectionStatus($r.TIMEOUT),clearTimeout(a)},i)}}}function SZ(t,e){return n=>{var r,i,a,o,s,u,l,h;const{state:p}=t;if(Pe.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${p.context} on commLayer.'keys_exchanged' channel=${p.channelId}`,n),(i=(r=p.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const g=Object.assign(Object.assign({},p.channelConfig),{channelId:(a=p.channelId)!==null&&a!==void 0?a:"",validUntil:((o=p.channelConfig)===null||o===void 0?void 0:o.validUntil)||lf,localKey:p.communicationLayer.getKeyInfo().ecies.private,otherKey:p.communicationLayer.getKeyInfo().ecies.otherPubKey});(s=p.storageManager)===null||s===void 0||s.persistChannelConfig(g).catch(v=>{}),t.setConnectionStatus($r.LINKED)}(function(g,v){var y,w,C,x,M,k,z,P;const{state:K}=g;Pe.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${K.channelId}`,v);const W=Object.assign(Object.assign({},K.channelConfig),{channelId:(y=K.channelId)!==null&&y!==void 0?y:"",validUntil:(C=(w=K.channelConfig)===null||w===void 0?void 0:w.validUntil)!==null&&C!==void 0?C:0,relayPersistence:K.relayPersistence,localKey:(M=(x=K.communicationLayer)===null||x===void 0?void 0:x.state.keyExchange)===null||M===void 0?void 0:M.getKeyInfo().ecies.private,otherKey:(z=(k=K.communicationLayer)===null||k===void 0?void 0:k.state.keyExchange)===null||z===void 0?void 0:z.getKeyInfo().ecies.otherPubKey,lastActive:v.getTime()});(P=K.storageManager)===null||P===void 0||P.persistChannelConfig(W)})(t,new Date),p.analytics&&p.channelId&&Wo(Object.assign(Object.assign({id:p.channelId,event:n.isOriginator?or.CONNECTED:or.CONNECTED_MOBILE},p.originatorInfo),{sdkVersion:p.sdkVersion,commLayer:e,commLayerVersion:gc.version,walletVersion:(u=p.walletInfo)===null||u===void 0?void 0:u.version}),p.communicationServerUrl).catch(g=>{}),p.isOriginator=n.isOriginator,n.isOriginator||((l=p.communicationLayer)===null||l===void 0||l.sendMessage({type:Gn.READY}),p.ready=!0,p.paused=!1),n.isOriginator&&!p.originatorInfoSent&&((h=p.communicationLayer)===null||h===void 0||h.sendMessage({type:Gn.ORIGINATOR_INFO,originatorInfo:p.originatorInfo,originator:p.originatorInfo}),p.originatorInfoSent=!0)}}function _Z(t){return e=>{let n=e;e.message&&(n=n.message),function(r,i){const{state:a}=i;if(Pe.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${a.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,a.isOriginator||r.type!==Gn.ORIGINATOR_INFO)if(a.isOriginator&&r.type===Gn.WALLET_INFO)(function(o,s){const{state:u}=o;u.walletInfo=s.walletInfo,u.paused=!1})(i,r);else{if(a.isOriginator&&r.type===Gn.WALLET_INIT)(function(o,s){return Be(this,void 0,void 0,function*(){var u,l,h;const{state:p}=o;if(p.isOriginator){const g=s.data||{};if(typeof g=="object"&&"accounts"in g&&"chainId"in g&&"walletKey"in g)try{const{channelConfig:v}=o.state;if(Pe.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(v,null,2)),v){const y=g.accounts,w=g.chainId,C=g.walletKey;let x,M=!1;"deeplinkProtocol"in g&&(M=!!g.deeplinkProtocol,o.state.deeplinkProtocolAvailable=M),"walletVersion"in g&&(x=g.walletVersion),yield(u=o.state.storageManager)===null||u===void 0?void 0:u.persistChannelConfig(Object.assign(Object.assign({},v),{otherKey:C,walletVersion:x,deeplinkProtocolAvailable:M,relayPersistence:!0})),yield(l=o.state.storageManager)===null||l===void 0?void 0:l.persistAccounts(y),yield(h=o.state.storageManager)===null||h===void 0?void 0:h.persistChainId(w)}o.emit(tt.WALLET_INIT,{accounts:g.accounts,chainId:g.chainId})}catch{}}})})(i,r).catch(o=>{Pe.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o}`)});else if(r.type===Gn.TERMINATE)(function(o){return Be(this,void 0,void 0,function*(){const{state:s}=o;s.isOriginator&&(yield EP({options:{terminate:!0,sendMessage:!1},instance:o}),o.emit(tt.TERMINATE))})})(i).catch(o=>{Pe.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o}`)});else if(r.type===Gn.PAUSE)(function(o){const{state:s}=o;s.paused=!0,o.setConnectionStatus($r.PAUSED)})(i);else if(r.type===Gn.READY&&a.isOriginator)(function(o){const{state:s}=o;o.setConnectionStatus($r.LINKED);const u=s.paused;s.paused=!1,o.emit(tt.CLIENTS_READY,{isOriginator:s.isOriginator,walletInfo:s.walletInfo}),u&&(s.authorized=!0,o.emit(tt.AUTHORIZED))})(i);else{if(r.type===Gn.OTP&&a.isOriginator)return void function(o,s){var u;const{state:l}=o;o.emit(tt.OTP,s.otpAnswer),"6.6".localeCompare(((u=l.walletInfo)===null||u===void 0?void 0:u.version)||"")===1&&o.emit(tt.SDK_RPC_CALL,{method:Jr.ETH_REQUESTACCOUNTS,params:[]})}(i,r);r.type===Gn.AUTHORIZED&&a.isOriginator&&function(o){const{state:s}=o;s.authorized=!0,o.emit(tt.AUTHORIZED)}(i)}i.emit(tt.MESSAGE,r)}else(function(o,s){var u;const{state:l}=o;(u=l.communicationLayer)===null||u===void 0||u.sendMessage({type:Gn.WALLET_INFO,walletInfo:l.walletInfo}),l.originatorInfo=s.originatorInfo||s.originator,o.emit(tt.CLIENTS_READY,{isOriginator:l.isOriginator,originatorInfo:l.originatorInfo}),l.paused=!1})(i,r)}(n,t)}}function CZ(t){return()=>{const{state:e}=t;Pe.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,bP(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function NZ(t){return()=>{const{state:e}=t;Pe.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function AZ(t){return()=>Be(this,void 0,void 0,function*(){var e,n,r,i,a,o,s;const{state:u}=t;Pe.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${u.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(tt.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(tt.AUTHORIZED),t.emit(tt.CLIENTS_READY),t.emit(tt.CHANNEL_PERSISTENCE);try{u.channelConfig=Object.assign(Object.assign({},u.channelConfig),{localKey:(n=u.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=u.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=u.channelId)!==null&&i!==void 0?i:"",validUntil:(o=(a=u.channelConfig)===null||a===void 0?void 0:a.validUntil)!==null&&o!==void 0?o:lf,relayPersistence:!0}),yield(s=u.storageManager)===null||s===void 0?void 0:s.persistChannelConfig(u.channelConfig)}catch{}})}function D9({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,ecies:r,communicationServerUrl:i=of,instance:a}){var o,s,u,l,h,p,g,v,y,w,C;const{state:x}=a;if(Pe.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(x,null,2)),t!==Nu.SOCKET)throw new Error("Invalid communication protocol");x.communicationLayer=new vZ({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,transports:x.transports,communicationServerUrl:i,context:x.context,ecies:r,logging:x.logging,remote:a});let M=typeof document<"u"&&document.URL||"",k=typeof document<"u"&&document.title||"";!((o=x.dappMetadata)===null||o===void 0)&&o.url&&(M=x.dappMetadata.url),!((s=x.dappMetadata)===null||s===void 0)&&s.name&&(k=x.dappMetadata.name);const z=(p=(l=(u=x.dappMetadata)===null||u===void 0?void 0:u.name)!==null&&l!==void 0?l:(h=x.dappMetadata)===null||h===void 0?void 0:h.url)!==null&&p!==void 0?p:"N/A",P=typeof window<"u"&&window.location!==void 0&&(g=window.location.hostname)!==null&&g!==void 0?g:z,K={url:M,title:k,source:(v=x.dappMetadata)===null||v===void 0?void 0:v.source,dappId:P,anonId:x.anonId,icon:((y=x.dappMetadata)===null||y===void 0?void 0:y.iconUrl)||((w=x.dappMetadata)===null||w===void 0?void 0:w.base64Icon),platform:x.platformType,apiVersion:gc.version,connector:(C=x.dappMetadata)===null||C===void 0?void 0:C.connector};x.originatorInfo=K;const W={[tt.AUTHORIZED]:yZ(a),[tt.MESSAGE]:_Z(a),[tt.CHANNEL_PERSISTENCE]:AZ(a),[tt.CLIENTS_CONNECTED]:wZ(a,t),[tt.KEYS_EXCHANGED]:SZ(a,t),[tt.SOCKET_DISCONNECTED]:NZ(a),[tt.SOCKET_RECONNECT]:CZ(a),[tt.CLIENTS_DISCONNECTED]:xZ(a),[tt.KEY_INFO]:()=>{},[tt.CHANNEL_CREATED]:bZ(a),[tt.CLIENTS_WAITING]:EZ(a),[tt.RPC_UPDATE]:B=>{a.emit(tt.RPC_UPDATE,B)}};for(const[B,D]of Object.entries(W))try{x.communicationLayer.on(B,D)}catch{}}function EP(t){return Be(this,arguments,void 0,function*({options:e,instance:n}){const{state:r}=n;return Pe.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,e),new Promise((i,a)=>{var o,s,u,l,h,p;e?.terminate?(n.state.ready&&Wo({id:(o=n.state.channelId)!==null&&o!==void 0?o:"",event:or.TERMINATED},n.state.communicationServerUrl).catch(g=>{}),r.ready=!1,r.paused=!1,(s=r.storageManager)===null||s===void 0||s.terminate((u=r.channelId)!==null&&u!==void 0?u:""),n.state.terminated=!0,e.sendMessage?!((l=r.communicationLayer)===null||l===void 0)&&l.getKeyInfo().keysExchanged&&n.state.communicationLayer&&wP(n.state.communicationLayer,{type:Gn.TERMINATE}).then(()=>{i(!0)}).catch(g=>{a(g)}):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=Xl(),e.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(h=r.communicationLayer)===null||h===void 0||h.disconnect(e),n.setConnectionStatus($r.TERMINATED)):((p=r.communicationLayer)===null||p===void 0||p.disconnect(e),n.setConnectionStatus($r.DISCONNECTED),i(!0))})})}(Nu||(Nu={})).SOCKET="socket",function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"}(ei||(ei={}));class jZ extends Jy.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:of,context:"",persist:!1,clientsConnected:!1,sessionDuration:lf,originatorConnectStarted:!1,debug:!1,_connectionStatus:$r.DISCONNECTED},this._options=e;const{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:a,reconnect:o,walletInfo:s,dappMetadata:u,protocolVersion:l,transports:h,context:p,relayPersistence:g,ecies:v,analytics:y=!1,storage:w,sdkVersion:C,communicationServerUrl:x=of,logging:M,autoConnect:k={timeout:fZ}}=e;this.state.anonId=n,this.state.otherPublicKey=a,this.state.dappMetadata=u,this.state.walletInfo=s,this.state.transports=h,this.state.platformType=r,this.state.analytics=y,this.state.protocolVersion=l??1,this.state.isOriginator=!a,this.state.relayPersistence=g,this.state.communicationServerUrl=x,this.state.context=p,this.state.terminated=!1,this.state.sdkVersion=C,this.setMaxListeners(50),this.setConnectionStatus($r.DISCONNECTED),w?.duration&&(this.state.sessionDuration=lf),this.state.storageOptions=w,this.state.autoConnectOptions=k,this.state.debug=M?.remoteLayer===!0,M?.remoteLayer===!0&&hi.enable("RemoteCommunication:Layer"),M?.serviceLayer===!0&&hi.enable("SocketService:Layer"),M?.eciesLayer===!0&&hi.enable("ECIES:Layer"),M?.keyExchangeLayer===!0&&hi.enable("KeyExchange:Layer"),this.state.logging=M,w?.storageManager&&(this.state.storageManager=w.storageManager),Pe.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${l} relayPersistence=${g} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${a} reconnect=${o}`),this.state.isOriginator||D9({communicationLayerPreference:i,otherPublicKey:a,reconnect:o,ecies:v,communicationServerUrl:x,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return Be(this,void 0,void 0,function*(){var e;if(this.state.storageManager){const n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(e=n.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus($r.LINKED),yield this.connectToChannel({channelId:n.channelId})))}D9({communicationLayerPreference:Nu.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return Be(this,void 0,void 0,function*(){return yield function(e){return Be(this,void 0,void 0,function*(){var n;const{state:r}=e;if(!r.storageManager)return void Pe.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const i=yield r.storageManager.getPersistedChannelConfig({});if(Pe.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return Pe.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i?.channelId,r.reconnection=!0,i;Pe.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}r.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n,r,i,a,o,s;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((n=e.communicationLayer)===null||n===void 0)&&n.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(r=e.storageManager)===null||r===void 0||r.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(a=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||a===void 0?void 0:a.ecies.private,pubKey:(s=(o=e.communicationLayer)===null||o===void 0?void 0:o.getKeyInfo())===null||s===void 0?void 0:s.ecies.public};Pe.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const u=yield e.communicationLayer.createChannel();Pe.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",u);const l=Object.assign(Object.assign({},e.channelConfig),{channelId:u.channelId,localKey:u.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=u.channelId,e.channelConfig=l,{channelId:e.channelId,pubKey:u.pubKey,privKey:u.privKey}})}(this.state)})}clean(){return bP(this.state)}connectToChannel({channelId:e,withKeyExchange:n,authorized:r}){return function(i){return Be(this,arguments,void 0,function*({channelId:a,withKeyExchange:o,authorized:s,state:u}){var l,h,p;if(!PE(a))throw Pe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${u.context} invalid channel channelId=${a}`),new Error(`Invalid channel ${a}`);if(Pe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${u.context} channelId=${a} withKeyExchange=${o}`),(l=u.communicationLayer)===null||l===void 0?void 0:l.isConnected())return void Pe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${u.context} already connected - interrupt connection.`);u.channelId=a,yield(h=u.communicationLayer)===null||h===void 0?void 0:h.connectToChannel({channelId:a,authorized:s,withKeyExchange:o});const g=Object.assign(Object.assign({},u.channelConfig),{channelId:a,validUntil:Date.now()+u.sessionDuration});u.channelConfig=g,(p=u.storageManager)===null||p===void 0||p.persistChannelConfig(g)})}({channelId:e,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(e){return Be(this,void 0,void 0,function*(){const n=this.state.isOriginator&&e.method&&yp(e.method);n&&ar.analytics.track("sdk_action_requested",{action:e.method});try{return yield function(r,i){return Be(this,void 0,void 0,function*(){var a,o;const{state:s}=r;Pe.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context} paused=${s.paused} ready=${s.ready} relayPersistence=${s.relayPersistence} authorized=${s.authorized} socket=${(a=s.communicationLayer)===null||a===void 0?void 0:a.isConnected()} clientsConnected=${s.clientsConnected} status=${s._connectionStatus}`,i),s.relayPersistence||s.ready&&(!((o=s.communicationLayer)===null||o===void 0)&&o.isConnected())&&s.clientsConnected||(Pe.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(u=>{r.once(tt.CLIENTS_READY,u)}),Pe.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(l,h){return Be(this,void 0,void 0,function*(){return new Promise(p=>{var g;const{state:v}=l;Pe.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${v.context} ready=${v.ready} authorized=${v.authorized} method=${h.method}`),!v.isOriginator||v.authorized||v.relayPersistence?(g=v.communicationLayer)===null||g===void 0||g.sendMessage(h).then(y=>{p(y)}).catch(y=>{p(!1)}):l.once(tt.AUTHORIZED,()=>{var y;Pe.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${v.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(y=v.communicationLayer)===null||y===void 0||y.sendMessage(h).then(w=>{p(w)}).catch(w=>{p(!1)})})})})}(r,i)}catch(u){throw u}})}(this,e)}catch(r){throw n&&ar.analytics.track("sdk_action_failed",{action:e.method}),r}})}testStorage(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n;const r=yield(n=e.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();Pe.RemoteCommunication("[RemoteCommunication: testStorage()] res",r)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return Be(this,void 0,void 0,function*(){var e;Pe.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()})}testLogger(){Pe.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),Pe.SocketService(`testLogger() channel=${this.state.channelId}`),Pe.Ecies(`testLogger() channel=${this.state.channelId}`),Pe.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;Pe.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(tt.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(tt.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var n;const r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error("KeyExchange is not initialized.");r.getOtherPublicKey()!==e&&r.setOtherPublicKey(e)}pause(){return Be(this,void 0,void 0,function*(){var e;Pe.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus($r.PAUSED)})}getVersion(){return gc.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){var n;const{state:r}=e;Pe.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),e.setConnectionStatus($r.LINKED)})}(this)})}encrypt(e){var n,r,i;const a=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),o=a?.getOtherPublicKey();if(!o)throw new Error("KeyExchange not completed");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,o)}decrypt(e){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(n){return Be(this,arguments,void 0,function*({channelId:r,state:i}){var a,o,s;if(!PE(r))throw Pe.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void Pe.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);const{socket:u}=(o=(a=i.communicationLayer)===null||a===void 0?void 0:a.state)!==null&&o!==void 0?o:{};u?.connected||(Pe.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),u?.connect()),Wo(Object.assign(Object.assign({id:r,event:or.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:gc.version,walletVersion:(s=i.walletInfo)===null||s===void 0?void 0:s.version}),i.communicationServerUrl).catch(l=>{}),yield new Promise((l,h)=>{u?.emit(tt.REJECTED,{channelId:r},(p,g)=>{Pe.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${u?.id}`,{error:p,response:g}),p?h(p):l(g)})})})}({channelId:e,state:this.state})}disconnect(e){return Be(this,void 0,void 0,function*(){return EP({options:e,instance:this})})}}(function(t){t.RENEW="renew",t.LINK="link"})(L9||(L9={}));var MZ="ERC721",OZ="ERC1155",tr={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function kZ(t){const e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{e.ethDecryptDeprecation||n.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||n.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&n.method==="wallet_watchAsset"&&[MZ,OZ].includes(n.params?.type||"")&&(t.warn(tr.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(tr.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(tr.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var SP=4294967295,B9=Math.floor(Math.random()*SP);function IZ(){return(t,e,n,r)=>{const i=t.id,a=B9=(B9+1)%SP;t.id=a,e.id=a,n(o=>{t.id=i,e.id=i,o()})}}var FS=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},tc=(t,e,n)=>(FS(t,e,"read from private field"),n?n.call(t):e.get(t)),ns=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ag=(t,e,n,r)=>(FS(t,e,"write to private field"),e.set(t,n),n),li=(t,e,n)=>(FS(t,e,"access private method"),n),Gl={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},U9={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function $9(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var Vv=(t,e)=>Object.hasOwnProperty.call(t,e);class TZ extends TypeError{constructor(e,n){let r;const{message:i,explanation:a,...o}=e,{path:s}=e,u=s.length===0?i:`At path: ${s.join(".")} -- ${i}`;super(a??u),a!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function qo(t){return typeof t=="object"&&t!=null}function zs(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function RZ(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:a}=e,{type:o}=n,{refinement:s,message:u=`Expected a value of type \`${o}\`${s?` with refinement \`${s}\``:""}, but received: \`${zs(r)}\``}=t;return{value:r,type:o,refinement:s,key:i[i.length-1],path:i,branch:a,...t,message:u}}function*F9(t,e,n,r){(function(i){return qo(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(const i of t){const a=RZ(i,e,n,r);a&&(yield a)}}function*qS(t,e,n={}){const{path:r=[],branch:i=[t],coerce:a=!1,mask:o=!1}=n,s={path:r,branch:i};if(a&&(t=e.coercer(t,s),o&&e.type!=="type"&&qo(e.schema)&&qo(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let u="valid";for(const l of e.validator(t,s))l.explanation=n.message,u="not_valid",yield[l,void 0];for(let[l,h,p]of e.entries(t,s)){const g=qS(h,p,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,h],coerce:a,mask:o,message:n.message});for(const v of g)v[0]?(u=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):a&&(h=v[1],l===void 0?t=h:t instanceof Map?t.set(l,h):t instanceof Set?t.add(h):qo(t)&&(h!==void 0||l in t)&&(t[l]=h))}if(u!=="not_valid")for(const l of e.refiner(t,s))l.explanation=n.message,u="not_refined",yield[l,void 0];u==="valid"&&(yield[void 0,t])}class fs{constructor(e){const{type:n,schema:r,validator:i,refiner:a,coercer:o=u=>u,entries:s=function*(){}}=e;this.type=n,this.schema=r,this.entries=s,this.coercer=o,this.validator=i?(u,l)=>F9(i(u,l),l,this,u):()=>[],this.refiner=a?(u,l)=>F9(a(u,l),l,this,u):()=>[]}assert(e,n){return _P(e,this,n)}create(e,n){return CP(e,this,n)}is(e){return wf(e,this)}mask(e,n){return function(r,i,a){const o=_0(r,i,{coerce:!0,mask:!0,message:a});if(o[0])throw o[0];return o[1]}(e,this,n)}validate(e,n={}){return _0(e,this,n)}}function _P(t,e,n){const r=_0(t,e,{message:n});if(r[0])throw r[0]}function CP(t,e,n){const r=_0(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function wf(t,e){return!_0(t,e)[0]}function _0(t,e,n={}){const r=qS(t,e,n),i=function(a){const{done:o,value:s}=a.next();return o?void 0:s}(r);return i[0]?[new TZ(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function vc(t,e){return new fs({type:t,schema:null,validator:e})}function q9(t){let e;return new fs({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function NP(t){return new fs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${zs(e)}`})}function AP(t){const e=zs(t),n=typeof t;return new fs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${zs(r)}`})}function jP(){return vc("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${zs(t)}`)}function MP(t){const e=t?Object.keys(t):[],n=vc("never",()=>!1);return new fs({type:"object",schema:t||null,*entries(r){if(t&&qo(r)){const i=new Set(Object.keys(r));for(const a of e)i.delete(a),yield[a,r[a],t[a]];for(const a of i)yield[a,r[a],n]}},validator:r=>qo(r)||`Expected an object, but received: ${zs(r)}`,coercer:r=>qo(r)?{...r}:r})}function z9(t){return new fs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function OP(t,e){return new fs({type:"record",schema:null,*entries(n){if(qo(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:n=>qo(n)||`Expected an object, but received: ${zs(n)}`})}function yc(){return vc("string",t=>typeof t=="string"||`Expected a string, but received: ${zs(t)}`)}function eb(t){const e=t.map(n=>n.type).join(" | ");return new fs({type:"union",schema:null,coercer(n){for(const r of t){const[i,a]=r.validate(n,{coerce:!0});if(!i)return a}return n},validator(n,r){const i=[];for(const a of t){const[...o]=qS(n,a,r),[s]=o;if(!s[0])return[];for(const[u]of o)u&&i.push(u)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${zs(n)}`,...i]}})}function PZ(t){return function(e){return function(n){return typeof n=="object"&&n!==null&&"message"in n}(e)&&typeof e.message=="string"?e.message:e==null?"":String(e)}(t).replace(/\.$/u,"")}function LZ(t,e){return n=t,typeof n?.prototype?.constructor?.name=="string"?new t({message:e}):t({message:e});var n}var DZ=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function kP(){throw new Error("setTimeout has not been defined")}function IP(){throw new Error("clearTimeout has not been defined")}var ql=kP,zl=IP;function TP(t){if(ql===setTimeout)return setTimeout(t,0);if((ql===kP||!ql)&&setTimeout)return ql=setTimeout,setTimeout(t,0);try{return ql(t,0)}catch{try{return ql.call(null,t,0)}catch{return ql.call(this,t,0)}}}typeof pi.setTimeout=="function"&&(ql=setTimeout),typeof pi.clearTimeout=="function"&&(zl=clearTimeout);var mu,Bo=[],Xd=!1,uv=-1;function BZ(){Xd&&mu&&(Xd=!1,mu.length?Bo=mu.concat(Bo):uv=-1,Bo.length&&RP())}function RP(){if(!Xd){var t=TP(BZ);Xd=!0;for(var e=Bo.length;e;){for(mu=Bo,Bo=[];++uv<e;)mu&&mu[uv].run();uv=-1,e=Bo.length}mu=null,Xd=!1,function(n){if(zl===clearTimeout)return clearTimeout(n);if((zl===IP||!zl)&&clearTimeout)return zl=clearTimeout,clearTimeout(n);try{return zl(n)}catch{try{return zl.call(null,n)}catch{return zl.call(this,n)}}}(t)}}function PP(t,e){this.fun=t,this.array=e}PP.prototype.run=function(){this.fun.apply(null,this.array)};function Tu(){}var UZ=Tu,$Z=Tu,FZ=Tu,qZ=Tu,zZ=Tu,HZ=Tu,KZ=Tu,Ld=pi.performance||{},WZ=Ld.now||Ld.mozNow||Ld.msNow||Ld.oNow||Ld.webkitNow||function(){return new Date().getTime()},VZ=new Date,fn={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Bo.push(new PP(t,e)),Bo.length!==1||Xd||TP(RP)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:UZ,addListener:$Z,once:FZ,off:qZ,removeListener:zZ,removeAllListeners:HZ,emit:KZ,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*WZ.call(Ld),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-VZ)/1e3}},C0=t=>MP(t);function H9({path:t,branch:e}){const n=t[t.length-1];return Vv(e[e.length-2],n)}function Gv(t){return new fs({...t,type:`optional ${t.type}`,validator:(e,n)=>!H9(n)||t.validator(e,n),refiner:(e,n)=>!H9(n)||t.refiner(e,n)})}var jg,K9,W9,Yv=eb([AP(null),vc("boolean",t=>typeof t=="boolean"),vc("finite number",t=>wf(t,jP())&&Number.isFinite(t)),yc(),NP(q9(()=>Yv)),OP(yc(),q9(()=>Yv))]),N0=(jg=Yv,K9=vc("any",()=>!0),W9=t=>(function(e,n,r="Assertion failed",i=DZ){try{_P(e,n)}catch(a){throw LZ(i,`${r}: ${PZ(a)}.`)}}(t,Yv),JSON.parse(JSON.stringify(t,(e,n)=>{if(e!=="__proto__"&&e!=="constructor")return n}))),new fs({...jg,coercer:(t,e)=>wf(t,K9)?jg.coercer(W9(t,e),e):jg.coercer(t,e)}));function GE(t){try{return function(e){CP(e,N0)}(t),!0}catch{return!1}}var t0=AP("2.0"),dv=function(t){return new fs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}(eb([jP(),yc()])),YE=C0({code:vc("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${zs(t)}`),message:yc(),data:Gv(N0),stack:Gv(yc())}),LP=eb([OP(yc(),N0),NP(N0)]),GZ=C0({id:dv,jsonrpc:t0,method:yc(),params:Gv(LP)}),YZ=C0({jsonrpc:t0,method:yc(),params:Gv(LP)});function V9(t){return wf(t,GZ)}function G9(t){return wf(t,YE)}MP({id:dv,jsonrpc:t0,result:z9(vc("unknown",()=>!0)),error:z9(YE)}),eb([C0({id:dv,jsonrpc:t0,result:N0}),C0({id:dv,jsonrpc:t0,error:YE})]);var Y9=Gl.internal,JZ="Unspecified error message. This is a bug, please report it.",ZZ={code:Y9,message:DP(Y9)},QZ="Unspecified server error.";function DP(t,e=JZ){if(function(n){return Number.isInteger(n)}(t)){const n=t.toString();if(Vv(U9,n))return U9[n].message;if(function(r){return r>=-32099&&r<=-32e3}(t))return QZ}return e}function J9(t,{fallbackError:e=ZZ,shouldIncludeStack:n=!0}={}){if(!G9(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(i,a){if(i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function")return i.serialize();if(G9(i))return i;const o=BP(i);return{...a,data:{cause:o}}}(t,e);return n||delete r.stack,r}function BP(t){return Array.isArray(t)?t.map(e=>GE(e)?e:$9(e)?Z9(e):null):$9(t)?Z9(t):GE(t)?t:null}function Z9(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return GE(r)&&(e[n]=r),e},{})}var UP=Hh;Hh.default=Hh,Hh.stable=Q9,Hh.stableStringify=Q9;var Jv="[...]",$P="[Circular]",Au=[],gu=[];function FP(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Hh(t,e,n,r){var i;r===void 0&&(r=FP()),JE(t,"",0,[],void 0,0,r);try{i=gu.length===0?JSON.stringify(t,e,n):JSON.stringify(t,qP(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Au.length!==0;){var a=Au.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function ef(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Au.push([r,n,e,i])):gu.push([e,n,t]):(r[n]=t,Au.push([r,n,e]))}function JE(t,e,n,r,i,a,o){var s;if(a+=1,typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t)return void ef($P,t,e,i);if(o.depthLimit!==void 0&&a>o.depthLimit||o.edgesLimit!==void 0&&n+1>o.edgesLimit)return void ef(Jv,t,e,i);if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)JE(t[s],s,s,r,t,a,o);else{var u=Object.keys(t);for(s=0;s<u.length;s++){var l=u[s];JE(t[l],l,s,r,t,a,o)}}r.pop()}}function XZ(t,e){return t<e?-1:t>e?1:0}function Q9(t,e,n,r){r===void 0&&(r=FP());var i,a=ZE(t,"",0,[],void 0,0,r)||t;try{i=gu.length===0?JSON.stringify(a,e,n):JSON.stringify(a,qP(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Au.length!==0;){var o=Au.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function ZE(t,e,n,r,i,a,o){var s;if(a+=1,typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t)return void ef($P,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(o.depthLimit!==void 0&&a>o.depthLimit||o.edgesLimit!==void 0&&n+1>o.edgesLimit)return void ef(Jv,t,e,i);if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)ZE(t[s],s,s,r,t,a,o);else{var u={},l=Object.keys(t).sort(XZ);for(s=0;s<l.length;s++){var h=l[s];ZE(t[h],h,s,r,t,a,o),u[h]=t[h]}if(i===void 0)return u;Au.push([i,e,t]),i[e]=u}r.pop()}}function qP(t){return t=t!==void 0?t:function(e,n){return n},function(e,n){if(gu.length>0)for(var r=0;r<gu.length;r++){var i=gu[r];if(i[1]===e&&i[0]===n){n=i[2],gu.splice(r,1);break}}return t.call(this,e,n)}}var eQ=Qy(UP),jo=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,function(e){if(typeof e!="object"||e===null)return!1;try{let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}catch{return!1}}(this.data)&&(t.data.cause=BP(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return eQ(this.serialize(),tQ,2)}};function tQ(t,e){if(e!=="[Circular]")return e}var n0=t=>nQ(Gl.invalidRequest,t);function nQ(t,e){const[n,r]=function(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){const{message:a,data:o}=i;if(a&&typeof a!="string")throw new Error("Must specify string message.");return[a??void 0,o]}}return[]}(e);return new jo(t,n??DP(t),r)}var zP={};function Hl(){}function wn(){wn.init.call(this)}function HP(t){return t._maxListeners===void 0?wn.defaultMaxListeners:t._maxListeners}function X9(t,e,n,r){var i,a,o;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((a=t._events)?(a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]):(a=t._events=new Hl,t._eventsCount=0),o){if(typeof o=="function"?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=HP(t))&&i>0&&o.length>i){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=o.length,function(u){typeof console.warn=="function"?console.warn(u):console.log(u)}(s)}}else o=a[e]=n,++t._eventsCount;return t}function eM(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function tM(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}function Th(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}Hl.prototype=Object.create(null),wn.EventEmitter=wn,wn.usingDomains=!1,wn.prototype.domain=void 0,wn.prototype._events=void 0,wn.prototype._maxListeners=void 0,wn.defaultMaxListeners=10,wn.init=function(){this.domain=null,wn.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Hl,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},wn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},wn.prototype.getMaxListeners=function(){return HP(this)},wn.prototype.emit=function(t){var e,n,r,i,a,o,s,u=t==="error";if(o=this._events)u=u&&o.error==null;else if(!u)return!1;if(s=this.domain,u){if(e=arguments[1],!s){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=s,e.domainThrown=!1,s.emit("error",e),!1}if(!(n=o[t]))return!1;var h=typeof n=="function";switch(r=arguments.length){case 1:(function(p,g,v){if(g)p.call(v);else for(var y=p.length,w=Th(p,y),C=0;C<y;++C)w[C].call(v)})(n,h,this);break;case 2:(function(p,g,v,y){if(g)p.call(v,y);else for(var w=p.length,C=Th(p,w),x=0;x<w;++x)C[x].call(v,y)})(n,h,this,arguments[1]);break;case 3:(function(p,g,v,y,w){if(g)p.call(v,y,w);else for(var C=p.length,x=Th(p,C),M=0;M<C;++M)x[M].call(v,y,w)})(n,h,this,arguments[1],arguments[2]);break;case 4:(function(p,g,v,y,w,C){if(g)p.call(v,y,w,C);else for(var x=p.length,M=Th(p,x),k=0;k<x;++k)M[k].call(v,y,w,C)})(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];(function(p,g,v,y){if(g)p.apply(v,y);else for(var w=p.length,C=Th(p,w),x=0;x<w;++x)C[x].apply(v,y)})(n,h,this,i)}return!0},wn.prototype.addListener=function(t,e){return X9(this,t,e,!1)},wn.prototype.on=wn.prototype.addListener,wn.prototype.prependListener=function(t,e){return X9(this,t,e,!0)},wn.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,eM(this,t,e)),this},wn.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,eM(this,t,e)),this},wn.prototype.removeListener=function(t,e){var n,r,i,a,o;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new Hl:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,a=n.length;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=n[a].listener,i=a;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new Hl,this;delete r[t]}else(function(s,u){for(var l=u,h=l+1,p=s.length;h<p;l+=1,h+=1)s[l]=s[h];s.pop()})(n,i);r.removeListener&&this.emit("removeListener",t,o||e)}return this},wn.prototype.off=function(t,e){return this.removeListener(t,e)},wn.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new Hl,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new Hl:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),a=0;a<i.length;++a)(r=i[a])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Hl,this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},wn.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?typeof e=="function"?[e.listener||e]:function(i){for(var a=new Array(i.length),o=0;o<a.length;++o)a[o]=i[o].listener||i[o];return a}(e):[],n},wn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):tM.call(t,e)},wn.prototype.listenerCount=tM,wn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var zS=gp(Object.freeze({__proto__:null,EventEmitter:wn,default:wn}));Object.defineProperty(zP,"__esModule",{value:!0});const rQ=zS;function nM(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}let iQ=class extends rQ.EventEmitter{emit(t,...e){let n=t==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let a;if(e.length>0&&([a]=e),a instanceof Error)throw a;const o=new Error("Unhandled error."+(a?` (${a.message})`:""));throw o.context=a,o}const i=r[t];if(i===void 0)return!1;if(typeof i=="function")nM(i,this,e);else{const a=i.length,o=function(s){const u=s.length,l=new Array(u);for(let h=0;h<u;h+=1)l[h]=s[h];return l}(i);for(let s=0;s<a;s+=1)nM(o[s],this,e)}return!0}};var Zv,Yl,Kd,Kh,fv,hv,QE,pv,XE,u2,rM,mv,e4,d2,iM,r0,Qv,f2,aM,KP=zP.default=iQ,Xa=class gv extends KP{constructor({notificationHandler:e}={}){super(),ns(this,Kh),ns(this,hv),ns(this,pv),ns(this,Zv,!1),ns(this,Yl,void 0),ns(this,Kd,void 0),Ag(this,Yl,[]),Ag(this,Kd,e)}destroy(){tc(this,Yl).forEach(e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}),Ag(this,Yl,[]),Ag(this,Zv,!0)}push(e){li(this,Kh,fv).call(this),tc(this,Yl).push(e)}handle(e,n){if(li(this,Kh,fv).call(this),n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?li(this,hv,QE).call(this,e,n):li(this,hv,QE).call(this,e):n?li(this,pv,XE).call(this,e,n):this._promiseHandle(e)}asMiddleware(){return li(this,Kh,fv).call(this),async(e,n,r,i)=>{var a,o;try{const[s,u,l]=await li(a=gv,mv,e4).call(a,e,n,tc(this,Yl));return u?(await li(o=gv,r0,Qv).call(o,l),i(s)):r(async h=>{var p;try{await li(p=gv,r0,Qv).call(p,l)}catch(g){return h(g)}return h()})}catch(s){return i(s)}}}async _promiseHandle(e){return new Promise((n,r)=>{li(this,pv,XE).call(this,e,(i,a)=>{i&&a===void 0?r(i):n(a)}).catch(r)})}};Zv=new WeakMap,Yl=new WeakMap,Kd=new WeakMap,Kh=new WeakSet,fv=function(){if(tc(this,Zv))throw new Error("This engine is destroyed and can no longer be used.")},hv=new WeakSet,QE=async function(t,e){try{if(t.length===0){const r=[{id:null,jsonrpc:"2.0",error:new jo(Gl.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,r):r}const n=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter(r=>r!==void 0);return e?e(null,n):n}catch(n){if(e)return e(n);throw n}},pv=new WeakSet,XE=async function(t,e){var n;if(!t||Array.isArray(t)||typeof t!="object"){const o=new jo(Gl.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(o,{id:null,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){const o=new jo(Gl.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return tc(this,Kd)&&!V9(t)?e(null):e(o,{id:t.id??null,jsonrpc:"2.0",error:o})}if(tc(this,Kd)&&wf(t,YZ)&&!V9(t)){try{await tc(this,Kd).call(this,t)}catch(o){return e(o)}return e(null)}let r=null;const i={...t},a={id:i.id,jsonrpc:i.jsonrpc};try{await li(n=Xa,u2,rM).call(n,i,a,tc(this,Yl))}catch(o){r=o}return r&&(delete a.result,a.error||(a.error=J9(r))),e(r,a)},u2=new WeakSet,rM=async function(t,e,n){var r,i,a;const[o,s,u]=await li(r=Xa,mv,e4).call(r,t,e,n);if(li(i=Xa,f2,aM).call(i,t,e,s),await li(a=Xa,r0,Qv).call(a,u),o)throw o},mv=new WeakSet,e4=async function(t,e,n){var r;const i=[];let a=null,o=!1;for(const s of n)if([a,o]=await li(r=Xa,d2,iM).call(r,t,e,s,i),o)break;return[a,o,i.reverse()]},d2=new WeakSet,iM=async function(t,e,n,r){return new Promise(i=>{const a=s=>{const u=s||e.error;u&&(e.error=J9(u)),i([u,!0])},o=s=>{e.error?a(e.error):(s&&(typeof s!="function"&&a(new jo(Gl.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof s}" for request:
${h2(t)}`,{request:t})),r.push(s)),i([null,!1]))};try{n(t,e,o,a)}catch(s){a(s)}})},r0=new WeakSet,Qv=async function(t){for(const e of t)await new Promise((n,r)=>{e(i=>i?r(i):n())})},f2=new WeakSet,aM=function(t,e,n){if(!Vv(e,"result")&&!Vv(e,"error"))throw new jo(Gl.internal,`JsonRpcEngine: Response has no error or result for request:
${h2(t)}`,{request:t});if(!n)throw new jo(Gl.internal,`JsonRpcEngine: Nothing ended request:
${h2(t)}`,{request:t})},ns(Xa,u2),ns(Xa,mv),ns(Xa,d2),ns(Xa,r0),ns(Xa,f2);var aQ=Xa;function h2(t){return JSON.stringify(t,null,2)}var WP=Object.freeze(["eth_subscription"]),sQ=(t=console)=>[IZ(),oQ(t),kZ(t)];function oQ(t){return(e,n,r)=>{typeof e.method=="string"&&e.method||(n.error=n0({message:"The request 'method' must be a non-empty string.",data:e})),r(i=>{const{error:a}=n;return a&&t.error(`MetaMask - RPC Error: ${a.message}`,a),i()})}}var vv=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)},VP=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),GP=()=>{};async function sM(t,e){try{const n=await async function(){return{name:lQ(window),icon:await cQ(window)}}();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n},GP)}catch(n){e.error({message:tr.errors.sendSiteMetadata(),originalError:n})}}function lQ(t){const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function cQ(t){const{document:e}=t,n=e.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await uQ(r.href))return r.href;return null}async function uQ(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}var YP=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ts=(t,e,n)=>(YP(t,e,"read from private field"),n?n.call(t):e.get(t)),t4=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Mo=(t,e,n,r)=>(YP(t,e,"write to private field"),e.set(t,n),n);function oM(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}class dQ extends wn{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const s=new Error("Unhandled error."+(o?` (${o.message})`:""));throw s.context=o,s}const a=i[e];if(a===void 0)return!1;if(typeof a=="function")oM(a,this,n);else{const o=a.length,s=function(u){const l=u.length,h=new Array(l);for(let p=0;p<l;p+=1)h[p]=u[p];return h}(a);for(let u=0;u<o;u+=1)oM(s[u],this,n)}return!0}}var Kl,iu,fQ=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(a=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!=0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!=e&&n!=n},hQ=Qy(fQ),JP=class ZP extends dQ{constructor({logger:e=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),t4(this,Kl,void 0),t4(this,iu,void 0),this._log=e,this.setMaxListeners(n),this._state={...ZP._defaultState},Mo(this,iu,null),Mo(this,Kl,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new aQ;r.forEach(a=>i.push(a)),this._rpcEngine=i}get chainId(){return Ts(this,Kl)}get selectedAddress(){return Ts(this,iu)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw n0({message:tr.errors.invalidRequestArgs(),data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw n0({message:tr.errors.invalidRequestMethod(),data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw n0({message:tr.errors.invalidRequestParams(),data:e});const i=r==null?{method:n}:{method:n,params:r};return new Promise((a,o)=>{this._rpcRequest(i,vv(a,o))})}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:n,chainId:r,isUnlocked:i,networkVersion:a}=e;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:a}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,n){let r=n;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(r=(i,a)=>{this._handleAccountsChanged(a.result??[],e.method==="eth_accounts"),n(i,a)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(tr.info.connected(e)))}_handleDisconnect(e,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new jo(1013,n??tr.errors.disconnected()),this._log.debug(r)):(r=new jo(1011,n??tr.errors.permanentlyDisconnected()),this._log.error(r),Mo(this,Kl,null),this._state.accounts=null,Mo(this,iu,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleChainChanged({chainId:e}={}){VP(e)?(this._handleConnect(e),e!==Ts(this,Kl)&&(Mo(this,Kl,e),this._state.initialized&&this.emit("chainChanged",Ts(this,Kl)))):this._log.error(tr.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,n=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}if(!hQ(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,Ts(this,iu)!==r[0]&&Mo(this,iu,r[0]||null),this._state.initialized)){const i=[...r];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){typeof n=="boolean"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};Kl=new WeakMap,iu=new WeakMap,JP._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var lM,cM,pQ=JP,n4={exports:{}};function QP(){return cM?lM:(cM=1,lM=zS.EventEmitter)}var HS,KS=gp(MJ);HS=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var XP=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},mQ=/%[sdj%]/g;function tb(t){if(!A0(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(Us(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(mQ,function(s){if(s==="%%")return"%";if(n>=i)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return s}}),o=r[n];n<i;o=r[++n])bp(o)||!Ru(o)?a+=" "+o:a+=" "+Us(o);return a}function WS(t,e){if(Ps(pi.process))return function(){return WS(t,e).apply(this,arguments)};if(fn.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if(fn.throwDeprecation)throw new Error(e);fn.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var p2,Mg={};function eL(t){return Ps(p2)&&(p2=fn.env.NODE_DEBUG||""),t=t.toUpperCase(),!Mg[t]&&(new RegExp("\\b"+t+"\\b","i").test(p2)?Mg[t]=function(){var e=tb.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Mg[t]=function(){}),Mg[t]}function Us(t,e){var n={seen:[],stylize:vQ};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),nb(e)?n.showHidden=e:e&&JS(n,e),Ps(n.showHidden)&&(n.showHidden=!1),Ps(n.depth)&&(n.depth=2),Ps(n.colors)&&(n.colors=!1),Ps(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=gQ),Xv(n,t,n.depth)}function gQ(t,e){var n=Us.styles[e];return n?"\x1B["+Us.colors[n][0]+"m"+t+"\x1B["+Us.colors[n][1]+"m":t}function vQ(t,e){return t}function Xv(t,e,n){if(t.customInspect&&e&&s0(e.inspect)&&e.inspect!==Us&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return A0(r)||(r=Xv(t,r,n)),r}var i=function(g,v){if(Ps(v))return g.stylize("undefined","undefined");if(A0(v)){var y="'"+JSON.stringify(v).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g.stylize(y,"string")}if(GS(v))return g.stylize(""+v,"number");if(nb(v))return g.stylize(""+v,"boolean");if(bp(v))return g.stylize("null","null")}(t,e);if(i)return i;var a=Object.keys(e),o=function(g){var v={};return g.forEach(function(y,w){v[y]=!0}),v}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),a0(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return m2(e);if(a.length===0){if(s0(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(i0(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(ey(e))return t.stylize(Date.prototype.toString.call(e),"date");if(a0(e))return m2(e)}var u,l="",h=!1,p=["{","}"];return VS(e)&&(h=!0,p=["[","]"]),s0(e)&&(l=" [Function"+(e.name?": "+e.name:"")+"]"),i0(e)&&(l=" "+RegExp.prototype.toString.call(e)),ey(e)&&(l=" "+Date.prototype.toUTCString.call(e)),a0(e)&&(l=" "+m2(e)),a.length!==0||h&&e.length!=0?n<0?i0(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=h?function(g,v,y,w,C){for(var x=[],M=0,k=v.length;M<k;++M)sL(v,String(M))?x.push(g2(g,v,y,w,String(M),!0)):x.push("");return C.forEach(function(z){z.match(/^\d+$/)||x.push(g2(g,v,y,w,z,!0))}),x}(t,e,n,o,a):a.map(function(g){return g2(t,e,n,o,g,h)}),t.seen.pop(),function(g,v,y){var w=g.reduce(function(C,x){return x.indexOf(`
`),C+x.replace(/\u001b\[\d\d?m/g,"").length+1},0);return w>60?y[0]+(v===""?"":v+`
 `)+" "+g.join(`,
  `)+" "+y[1]:y[0]+v+" "+g.join(", ")+" "+y[1]}(u,l,p)):p[0]+l+p[1]}function m2(t){return"["+Error.prototype.toString.call(t)+"]"}function g2(t,e,n,r,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),sL(r,i)||(o="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=bp(n)?Xv(t,u.value,null):Xv(t,u.value,n-1)).indexOf(`
`)>-1&&(s=a?s.split(`
`).map(function(l){return"  "+l}).join(`
`).substr(2):`
`+s.split(`
`).map(function(l){return"   "+l}).join(`
`)):s=t.stylize("[Circular]","special")),Ps(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function VS(t){return Array.isArray(t)}function nb(t){return typeof t=="boolean"}function bp(t){return t===null}function tL(t){return t==null}function GS(t){return typeof t=="number"}function A0(t){return typeof t=="string"}function nL(t){return typeof t=="symbol"}function Ps(t){return t===void 0}function i0(t){return Ru(t)&&YS(t)==="[object RegExp]"}function Ru(t){return typeof t=="object"&&t!==null}function ey(t){return Ru(t)&&YS(t)==="[object Date]"}function a0(t){return Ru(t)&&(YS(t)==="[object Error]"||t instanceof Error)}function s0(t){return typeof t=="function"}function rL(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function iL(t){return $e.isBuffer(t)}function YS(t){return Object.prototype.toString.call(t)}function v2(t){return t<10?"0"+t.toString(10):t.toString(10)}Us.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Us.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var yQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function aL(){var t,e;console.log("%s - %s",(t=new Date,e=[v2(t.getHours()),v2(t.getMinutes()),v2(t.getSeconds())].join(":"),[t.getDate(),yQ[t.getMonth()],e].join(" ")),tb.apply(null,arguments))}function JS(t,e){if(!e||!Ru(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function sL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var au=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function ZS(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(au&&t[au]){var e;if(typeof(e=t[au])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,au,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,i=new Promise(function(s,u){n=s,r=u}),a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);a.push(function(s,u){s?r(s):n(u)});try{t.apply(this,a)}catch(s){r(s)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),au&&Object.defineProperty(e,au,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,XP(t))}function bQ(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function oL(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then(function(s){fn.nextTick(o.bind(null,null,s))},function(s){fn.nextTick(bQ.bind(null,s,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,XP(t)),e}ZS.custom=au;var y2,uM,b2,dM,wQ={inherits:HS,_extend:JS,log:aL,isBuffer:iL,isPrimitive:rL,isFunction:s0,isError:a0,isDate:ey,isObject:Ru,isRegExp:i0,isUndefined:Ps,isSymbol:nL,isString:A0,isNumber:GS,isNullOrUndefined:tL,isNull:bp,isBoolean:nb,isArray:VS,inspect:Us,deprecate:WS,format:tb,debuglog:eL,promisify:ZS,callbackify:oL},lL=gp(Object.freeze({__proto__:null,_extend:JS,callbackify:oL,debuglog:eL,default:wQ,deprecate:WS,format:tb,inherits:HS,inspect:Us,isArray:VS,isBoolean:nb,isBuffer:iL,isDate:ey,isError:a0,isFunction:s0,isNull:bp,isNullOrUndefined:tL,isNumber:GS,isObject:Ru,isPrimitive:rL,isRegExp:i0,isString:A0,isSymbol:nL,isUndefined:Ps,log:aL,promisify:ZS}));function xQ(){if(uM)return y2;function t(u,l){var h=Object.keys(u);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(u);l&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(u,g).enumerable})),h.push.apply(h,p)}return h}function e(u){for(var l=1;l<arguments.length;l++){var h=arguments[l]!=null?arguments[l]:{};l%2?t(Object(h),!0).forEach(function(p){n(u,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(h)):t(Object(h)).forEach(function(p){Object.defineProperty(u,p,Object.getOwnPropertyDescriptor(h,p))})}return u}function n(u,l,h){return(l=i(l))in u?Object.defineProperty(u,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[l]=h,u}function r(u,l,h){return l&&function(p,g){for(var v=0;v<g.length;v++){var y=g[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,i(y.key),y)}}(u.prototype,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function i(u){var l=function(h,p){if(typeof h!="object"||h===null)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var v=g.call(h,p);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(u,"string");return typeof l=="symbol"?l:String(l)}uM=1;var a=KS.Buffer,o=lL.inspect,s=o&&o.custom||"inspect";return y2=function(){function u(){(function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return r(u,[{key:"push",value:function(l){var h={data:l,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(l){var h={data:l,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var h=this.head,p=""+h.data;h=h.next;)p+=l+h.data;return p}},{key:"concat",value:function(l){if(this.length===0)return a.alloc(0);for(var h,p,g,v=a.allocUnsafe(l>>>0),y=this.head,w=0;y;)h=y.data,p=v,g=w,a.prototype.copy.call(h,p,g),w+=y.data.length,y=y.next;return v}},{key:"consume",value:function(l,h){var p;return l<this.head.data.length?(p=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):p=l===this.head.data.length?this.shift():h?this._getString(l):this._getBuffer(l),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var h=this.head,p=1,g=h.data;for(l-=g.length;h=h.next;){var v=h.data,y=l>v.length?v.length:l;if(y===v.length?g+=v:g+=v.slice(0,l),(l-=y)===0){y===v.length?(++p,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=v.slice(y));break}++p}return this.length-=p,g}},{key:"_getBuffer",value:function(l){var h=a.allocUnsafe(l),p=this.head,g=1;for(p.data.copy(h),l-=p.data.length;p=p.next;){var v=p.data,y=l>v.length?v.length:l;if(v.copy(h,h.length-l,0,y),(l-=y)===0){y===v.length?(++g,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=v.slice(y));break}++g}return this.length-=g,h}},{key:s,value:function(l,h){return o(this,e(e({},h),{},{depth:0,customInspect:!1}))}}]),u}(),y2}function cL(){if(dM)return b2;function t(r,i){n(r,i),e(r)}function e(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function n(r,i){r.emit("error",i)}return dM=1,b2={destroy:function(r,i){var a=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,fn.nextTick(n,this,r)):fn.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!i&&u?a._writableState?a._writableState.errorEmitted?fn.nextTick(e,a):(a._writableState.errorEmitted=!0,fn.nextTick(t,a,u)):fn.nextTick(t,a,u):i?(fn.nextTick(e,a),i(u)):fn.nextTick(e,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,i){var a=r._readableState,o=r._writableState;a&&a.autoDestroy||o&&o.autoDestroy?r.destroy(i):r.emit("error",i)}},b2}var Pu={},fM,hM,uL={};function _a(t,e,n){n||(n=Error);var r=function(i){var a,o;function s(u,l,h){return i.call(this,function(p,g,v){return typeof e=="string"?e:e(p,g,v)}(u,l,h))||this}return o=i,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s}(n);r.prototype.name=n.name,r.prototype.code=t,uL[t]=r}function pM(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function dL(){if(hM)return fM;hM=1;var t=Pu.codes.ERR_INVALID_OPT_VALUE;return fM={getHighWaterMark:function(e,n,r,i){var a=function(o,s,u){return o.highWaterMark!=null?o.highWaterMark:s?o[u]:null}(n,i,r);if(a!=null){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new t(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}}_a("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),_a("ERR_INVALID_ARG_TYPE",function(t,e,n){var r,i,a;if(typeof e=="string"&&(i="not ",e.substr(0,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(s,u,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-u.length,l)===u}(t," argument"))a="The ".concat(t," ").concat(r," ").concat(pM(e,"type"));else{var o=function(s,u,l){return typeof l!="number"&&(l=0),!(l+u.length>s.length)&&s.indexOf(u,l)!==-1}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(r," ").concat(pM(e,"type"))}return a+=". Received type ".concat(typeof n)},TypeError),_a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),_a("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),_a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),_a("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),_a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),_a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),_a("ERR_STREAM_WRITE_AFTER_END","write after end"),_a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_a("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),_a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Pu.codes=uL;var w2,mM,x2,gM,E2,vM,EQ=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},wp=gp(Object.freeze({__proto__:null,default:EQ}));function SQ(){if(mM)return w2;function t(e){try{if(!Ua.localStorage)return!1}catch{return!1}var n=Ua.localStorage[e];return n!=null&&String(n).toLowerCase()==="true"}return mM=1,w2=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}},w2}function fL(){if(gM)return x2;function t(b){var _=this;this.next=null,this.entry=null,this.finish=function(){(function(A,N,O){var U=A.entry;for(A.entry=null;U;){var j=U.callback;N.pendingcb--,j(O),U=U.next}N.corkedRequestsFree.next=A})(_,b)}}var e;gM=1,x2=P,P.WritableState=z;var n={deprecate:SQ()},r=QP(),i=KS.Buffer,a=(Ua!==void 0?Ua:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,s=cL(),u=dL().getHighWaterMark,l=Pu.codes,h=l.ERR_INVALID_ARG_TYPE,p=l.ERR_METHOD_NOT_IMPLEMENTED,g=l.ERR_MULTIPLE_CALLBACK,v=l.ERR_STREAM_CANNOT_PIPE,y=l.ERR_STREAM_DESTROYED,w=l.ERR_STREAM_NULL_VALUES,C=l.ERR_STREAM_WRITE_AFTER_END,x=l.ERR_UNKNOWN_ENCODING,M=s.errorOrDestroy;function k(){}function z(b,_,A){e=e||cf(),b=b||{},typeof A!="boolean"&&(A=_ instanceof e),this.objectMode=!!b.objectMode,A&&(this.objectMode=this.objectMode||!!b.writableObjectMode),this.highWaterMark=u(this,b,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=b.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(O){(function(U,j){var I=U._writableState,E=I.sync,L=I.writecb;if(typeof L!="function")throw new g;if(function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}(I),j)(function(F,G,Y,Q,ie){--G.pendingcb,Y?(fn.nextTick(ie,Q),fn.nextTick(T,F,G),F._writableState.errorEmitted=!0,M(F,Q)):(ie(Q),F._writableState.errorEmitted=!0,M(F,Q),T(F,G))})(U,I,E,j,L);else{var q=D(I)||U.destroyed;q||I.corked||I.bufferProcessing||!I.bufferedRequest||B(U,I),E?fn.nextTick(W,U,I,q,L):W(U,I,q,L)}})(_,O)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=b.emitClose!==!1,this.autoDestroy=!!b.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function P(b){var _=this instanceof(e=e||cf());if(!_&&!o.call(P,this))return new P(b);this._writableState=new z(b,this,_),this.writable=!0,b&&(typeof b.write=="function"&&(this._write=b.write),typeof b.writev=="function"&&(this._writev=b.writev),typeof b.destroy=="function"&&(this._destroy=b.destroy),typeof b.final=="function"&&(this._final=b.final)),r.call(this)}function K(b,_,A,N,O,U,j){_.writelen=N,_.writecb=j,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new y("write")):A?b._writev(O,_.onwrite):b._write(O,U,_.onwrite),_.sync=!1}function W(b,_,A,N){A||function(O,U){U.length===0&&U.needDrain&&(U.needDrain=!1,O.emit("drain"))}(b,_),_.pendingcb--,N(),T(b,_)}function B(b,_){_.bufferProcessing=!0;var A=_.bufferedRequest;if(b._writev&&A&&A.next){var N=_.bufferedRequestCount,O=new Array(N),U=_.corkedRequestsFree;U.entry=A;for(var j=0,I=!0;A;)O[j]=A,A.isBuf||(I=!1),A=A.next,j+=1;O.allBuffers=I,K(b,_,!0,_.length,O,"",U.finish),_.pendingcb++,_.lastBufferedRequest=null,U.next?(_.corkedRequestsFree=U.next,U.next=null):_.corkedRequestsFree=new t(_),_.bufferedRequestCount=0}else{for(;A;){var E=A.chunk,L=A.encoding,q=A.callback;if(K(b,_,!1,_.objectMode?1:E.length,E,L,q),A=A.next,_.bufferedRequestCount--,_.writing)break}A===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=A,_.bufferProcessing=!1}function D(b){return b.ending&&b.length===0&&b.bufferedRequest===null&&!b.finished&&!b.writing}function $(b,_){b._final(function(A){_.pendingcb--,A&&M(b,A),_.prefinished=!0,b.emit("prefinish"),T(b,_)})}function T(b,_){var A=D(_);if(A&&(function(O,U){U.prefinished||U.finalCalled||(typeof O._final!="function"||U.destroyed?(U.prefinished=!0,O.emit("prefinish")):(U.pendingcb++,U.finalCalled=!0,fn.nextTick($,O,U)))}(b,_),_.pendingcb===0&&(_.finished=!0,b.emit("finish"),_.autoDestroy))){var N=b._readableState;(!N||N.autoDestroy&&N.endEmitted)&&b.destroy()}return A}return wp(P,r),z.prototype.getBuffer=function(){for(var b=this.bufferedRequest,_=[];b;)_.push(b),b=b.next;return _},function(){try{Object.defineProperty(z.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(b){return!!o.call(this,b)||this===P&&b&&b._writableState instanceof z}})):o=function(b){return b instanceof this},P.prototype.pipe=function(){M(this,new v)},P.prototype.write=function(b,_,A){var N,O=this._writableState,U=!1,j=!O.objectMode&&(N=b,i.isBuffer(N)||N instanceof a);return j&&!i.isBuffer(b)&&(b=function(I){return i.from(I)}(b)),typeof _=="function"&&(A=_,_=null),j?_="buffer":_||(_=O.defaultEncoding),typeof A!="function"&&(A=k),O.ending?function(I,E){var L=new C;M(I,L),fn.nextTick(E,L)}(this,A):(j||function(I,E,L,q){var F;return L===null?F=new w:typeof L=="string"||E.objectMode||(F=new h("chunk",["string","Buffer"],L)),!F||(M(I,F),fn.nextTick(q,F),!1)}(this,O,b,A))&&(O.pendingcb++,U=function(I,E,L,q,F,G){if(!L){var Y=function(X,te,ae){return X.objectMode||X.decodeStrings===!1||typeof te!="string"||(te=i.from(te,ae)),te}(E,q,F);q!==Y&&(L=!0,F="buffer",q=Y)}var Q=E.objectMode?1:q.length;E.length+=Q;var ie=E.length<E.highWaterMark;if(ie||(E.needDrain=!0),E.writing||E.corked){var Z=E.lastBufferedRequest;E.lastBufferedRequest={chunk:q,encoding:F,isBuf:L,callback:G,next:null},Z?Z.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else K(I,E,!1,Q,q,F,G);return ie}(this,O,j,b,_,A)),U},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.bufferProcessing||!b.bufferedRequest||B(this,b))},P.prototype.setDefaultEncoding=function(b){if(typeof b=="string"&&(b=b.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((b+"").toLowerCase())>-1))throw new x(b);return this._writableState.defaultEncoding=b,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(b,_,A){A(new p("_write()"))},P.prototype._writev=null,P.prototype.end=function(b,_,A){var N=this._writableState;return typeof b=="function"?(A=b,b=null,_=null):typeof _=="function"&&(A=_,_=null),b!=null&&this.write(b,_),N.corked&&(N.corked=1,this.uncork()),N.ending||function(O,U,j){U.ending=!0,T(O,U),j&&(U.finished?fn.nextTick(j):O.once("finish",j)),U.ended=!0,O.writable=!1}(this,N,A),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}}),P.prototype.destroy=s.destroy,P.prototype._undestroy=s.undestroy,P.prototype._destroy=function(b,_){_(b)},x2}function cf(){if(vM)return E2;vM=1;var t=Object.keys||function(l){var h=[];for(var p in l)h.push(p);return h};E2=o;var e=hL(),n=fL();wp(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var a=r[i];o.prototype[a]||(o.prototype[a]=n.prototype[a])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||fn.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),E2}var _Q=$e.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function yv(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!_Q(e))throw new Error("Unknown encoding: "+e)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=NQ;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=AQ;break;default:return void(this.write=CQ)}this.charBuffer=new $e(6),this.charReceived=0,this.charLength=0}function CQ(t){return t.toString(this.encoding)}function NQ(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function AQ(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}yv.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;if(r=(e+=t.toString(this.encoding,0,r)).length-1,(i=e.charCodeAt(r))>=55296&&i<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),t.copy(this.charBuffer,0,0,a),e.substring(0,r)}return e},yv.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},yv.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var yM=gp(Object.freeze({__proto__:null,StringDecoder:yv})),bM=Pu.codes.ERR_STREAM_PREMATURE_CLOSE;function jQ(){}var S2,wM,xM,EM,_2,SM,QS=function t(e,n,r){if(typeof n=="function")return t(e,null,n);n||(n={}),r=function(y){var w=!1;return function(){if(!w){w=!0;for(var C=arguments.length,x=new Array(C),M=0;M<C;M++)x[M]=arguments[M];y.apply(this,x)}}}(r||jQ);var i=n.readable||n.readable!==!1&&e.readable,a=n.writable||n.writable!==!1&&e.writable,o=function(){e.writable||u()},s=e._writableState&&e._writableState.finished,u=function(){a=!1,s=!0,i||r.call(e)},l=e._readableState&&e._readableState.endEmitted,h=function(){i=!1,l=!0,a||r.call(e)},p=function(y){r.call(e,y)},g=function(){var y;return i&&!l?(e._readableState&&e._readableState.ended||(y=new bM),r.call(e,y)):a&&!s?(e._writableState&&e._writableState.ended||(y=new bM),r.call(e,y)):void 0},v=function(){e.req.on("finish",u)};return function(y){return y.setHeader&&typeof y.abort=="function"}(e)?(e.on("complete",u),e.on("abort",g),e.req?v():e.on("request",v)):a&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",h),e.on("finish",u),n.error!==!1&&e.on("error",p),e.on("close",g),function(){e.removeListener("complete",u),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",u),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",u),e.removeListener("end",h),e.removeListener("error",p),e.removeListener("close",g)}};function MQ(){if(wM)return S2;var t;function e(w,C,x){return(C=function(M){var k=function(z,P){if(typeof z!="object"||z===null)return z;var K=z[Symbol.toPrimitive];if(K!==void 0){var W=K.call(z,P);if(typeof W!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(z)}(M,"string");return typeof k=="symbol"?k:String(k)}(C))in w?Object.defineProperty(w,C,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[C]=x,w}wM=1;var n=QS,r=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),o=Symbol("ended"),s=Symbol("lastPromise"),u=Symbol("handlePromise"),l=Symbol("stream");function h(w,C){return{value:w,done:C}}function p(w){var C=w[r];if(C!==null){var x=w[l].read();x!==null&&(w[s]=null,w[r]=null,w[i]=null,C(h(x,!1)))}}function g(w){fn.nextTick(p,w)}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e(t={get stream(){return this[l]},next:function(){var w=this,C=this[a];if(C!==null)return Promise.reject(C);if(this[o])return Promise.resolve(h(void 0,!0));if(this[l].destroyed)return new Promise(function(z,P){fn.nextTick(function(){w[a]?P(w[a]):z(h(void 0,!0))})});var x,M=this[s];if(M)x=new Promise(function(z,P){return function(K,W){z.then(function(){P[o]?K(h(void 0,!0)):P[u](K,W)},W)}}(M,this));else{var k=this[l].read();if(k!==null)return Promise.resolve(h(k,!1));x=new Promise(this[u])}return this[s]=x,x}},Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(C,x){w[l].destroy(null,function(M){M?x(M):C(h(void 0,!0))})})}),t),v);return S2=function(w){var C,x=Object.create(y,(e(C={},l,{value:w,writable:!0}),e(C,r,{value:null,writable:!0}),e(C,i,{value:null,writable:!0}),e(C,a,{value:null,writable:!0}),e(C,o,{value:w._readableState.endEmitted,writable:!0}),e(C,u,{value:function(M,k){var z=x[l].read();z?(x[s]=null,x[r]=null,x[i]=null,M(h(z,!1))):(x[r]=M,x[i]=k)},writable:!0}),C));return x[s]=null,n(w,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=x[i];return k!==null&&(x[s]=null,x[r]=null,x[i]=null,k(M)),void(x[a]=M)}var z=x[r];z!==null&&(x[s]=null,x[r]=null,x[i]=null,z(h(void 0,!0))),x[o]=!0}),w.on("readable",g.bind(null,x)),x},S2}function hL(){if(SM)return _2;var t;SM=1,_2=P,P.ReadableState=z,zS.EventEmitter;var e=function(q,F){return q.listeners(F).length},n=QP(),r=KS.Buffer,i=(Ua!==void 0?Ua:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a,o=lL;a=o&&o.debuglog?o.debuglog("stream"):function(){};var s,u,l,h=xQ(),p=cL(),g=dL().getHighWaterMark,v=Pu.codes,y=v.ERR_INVALID_ARG_TYPE,w=v.ERR_STREAM_PUSH_AFTER_EOF,C=v.ERR_METHOD_NOT_IMPLEMENTED,x=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;wp(P,n);var M=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function z(q,F,G){t=t||cf(),q=q||{},typeof G!="boolean"&&(G=F instanceof t),this.objectMode=!!q.objectMode,G&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=g(this,q,"readableHighWaterMark",G),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(s||(s=yM.StringDecoder),this.decoder=new s(q.encoding),this.encoding=q.encoding)}function P(q){if(t=t||cf(),!(this instanceof P))return new P(q);var F=this instanceof t;this._readableState=new z(q,this,F),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),n.call(this)}function K(q,F,G,Y,Q){a("readableAddChunk",F);var ie,Z=q._readableState;if(F===null)Z.reading=!1,function(X,te){if(a("onEofChunk"),!te.ended){if(te.decoder){var ae=te.decoder.end();ae&&ae.length&&(te.buffer.push(ae),te.length+=te.objectMode?1:ae.length)}te.ended=!0,te.sync?$(X):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,T(X)))}}(q,Z);else if(Q||(ie=function(X,te){var ae;oe=te,r.isBuffer(oe)||oe instanceof i||typeof te=="string"||te===void 0||X.objectMode||(ae=new y("chunk",["string","Buffer","Uint8Array"],te));var oe;return ae}(Z,F)),ie)M(q,ie);else if(Z.objectMode||F&&F.length>0)if(typeof F=="string"||Z.objectMode||Object.getPrototypeOf(F)===r.prototype||(F=function(X){return r.from(X)}(F)),Y)Z.endEmitted?M(q,new x):W(q,Z,F,!0);else if(Z.ended)M(q,new w);else{if(Z.destroyed)return!1;Z.reading=!1,Z.decoder&&!G?(F=Z.decoder.write(F),Z.objectMode||F.length!==0?W(q,Z,F,!1):b(q,Z)):W(q,Z,F,!1)}else Y||(Z.reading=!1,b(q,Z));return!Z.ended&&(Z.length<Z.highWaterMark||Z.length===0)}function W(q,F,G,Y){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,q.emit("data",G)):(F.length+=F.objectMode?1:G.length,Y?F.buffer.unshift(G):F.buffer.push(G),F.needReadable&&$(q)),b(q,F)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),P.prototype.destroy=p.destroy,P.prototype._undestroy=p.undestroy,P.prototype._destroy=function(q,F){F(q)},P.prototype.push=function(q,F){var G,Y=this._readableState;return Y.objectMode?G=!0:typeof q=="string"&&((F=F||Y.defaultEncoding)!==Y.encoding&&(q=r.from(q,F),F=""),G=!0),K(this,q,F,!1,G)},P.prototype.unshift=function(q){return K(this,q,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(q){s||(s=yM.StringDecoder);var F=new s(q);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,Y="";G!==null;)Y+=F.write(G.data),G=G.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};var B=1073741824;function D(q,F){return q<=0||F.length===0&&F.ended?0:F.objectMode?1:q!=q?F.flowing&&F.length?F.buffer.head.data.length:F.length:(q>F.highWaterMark&&(F.highWaterMark=function(G){return G>=B?G=B:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(q)),q<=F.length?q:F.ended?F.length:(F.needReadable=!0,0))}function $(q){var F=q._readableState;a("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(a("emitReadable",F.flowing),F.emittedReadable=!0,fn.nextTick(T,q))}function T(q){var F=q._readableState;a("emitReadable_",F.destroyed,F.length,F.ended),F.destroyed||!F.length&&!F.ended||(q.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,U(q)}function b(q,F){F.readingMore||(F.readingMore=!0,fn.nextTick(_,q,F))}function _(q,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var G=F.length;if(a("maybeReadMore read 0"),q.read(0),G===F.length)break}F.readingMore=!1}function A(q){var F=q._readableState;F.readableListening=q.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:q.listenerCount("data")>0&&q.resume()}function N(q){a("readable nexttick read 0"),q.read(0)}function O(q,F){a("resume",F.reading),F.reading||q.read(0),F.resumeScheduled=!1,q.emit("resume"),U(q),F.flowing&&!F.reading&&q.read(0)}function U(q){var F=q._readableState;for(a("flow",F.flowing);F.flowing&&q.read()!==null;);}function j(q,F){return F.length===0?null:(F.objectMode?G=F.buffer.shift():!q||q>=F.length?(G=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.first():F.buffer.concat(F.length),F.buffer.clear()):G=F.buffer.consume(q,F.decoder),G);var G}function I(q){var F=q._readableState;a("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,fn.nextTick(E,F,q))}function E(q,F){if(a("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,F.readable=!1,F.emit("end"),q.autoDestroy)){var G=F._writableState;(!G||G.autoDestroy&&G.finished)&&F.destroy()}}function L(q,F){for(var G=0,Y=q.length;G<Y;G++)if(q[G]===F)return G;return-1}return P.prototype.read=function(q){a("read",q),q=parseInt(q,10);var F=this._readableState,G=q;if(q!==0&&(F.emittedReadable=!1),q===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return a("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?I(this):$(this),null;if((q=D(q,F))===0&&F.ended)return F.length===0&&I(this),null;var Y,Q=F.needReadable;return a("need readable",Q),(F.length===0||F.length-q<F.highWaterMark)&&a("length less than watermark",Q=!0),F.ended||F.reading?a("reading or ended",Q=!1):Q&&(a("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(q=D(G,F))),(Y=q>0?j(q,F):null)===null?(F.needReadable=F.length<=F.highWaterMark,q=0):(F.length-=q,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),G!==q&&F.ended&&I(this)),Y!==null&&this.emit("data",Y),Y},P.prototype._read=function(q){M(this,new C("_read()"))},P.prototype.pipe=function(q,F){var G=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=q;break;case 1:Y.pipes=[Y.pipes,q];break;default:Y.pipes.push(q)}Y.pipesCount+=1,a("pipe count=%d opts=%j",Y.pipesCount,F);var Q=(!F||F.end!==!1)&&q!==fn.stdout&&q!==fn.stderr?Z:he;function ie(ge,Ee){a("onunpipe"),ge===G&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,a("cleanup"),q.removeListener("close",ee),q.removeListener("finish",le),q.removeListener("drain",X),q.removeListener("error",oe),q.removeListener("unpipe",ie),G.removeListener("end",Z),G.removeListener("end",he),G.removeListener("data",ae),te=!0,!Y.awaitDrain||q._writableState&&!q._writableState.needDrain||X())}function Z(){a("onend"),q.end()}Y.endEmitted?fn.nextTick(Q):G.once("end",Q),q.on("unpipe",ie);var X=function(ge){return function(){var Ee=ge._readableState;a("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(ge,"data")&&(Ee.flowing=!0,U(ge))}}(G);q.on("drain",X);var te=!1;function ae(ge){a("ondata");var Ee=q.write(ge);a("dest.write",Ee),Ee===!1&&((Y.pipesCount===1&&Y.pipes===q||Y.pipesCount>1&&L(Y.pipes,q)!==-1)&&!te&&(a("false write response, pause",Y.awaitDrain),Y.awaitDrain++),G.pause())}function oe(ge){a("onerror",ge),he(),q.removeListener("error",oe),e(q,"error")===0&&M(q,ge)}function ee(){q.removeListener("finish",le),he()}function le(){a("onfinish"),q.removeListener("close",ee),he()}function he(){a("unpipe"),G.unpipe(q)}return G.on("data",ae),function(ge,Ee,ye){if(typeof ge.prependListener=="function")return ge.prependListener(Ee,ye);ge._events&&ge._events[Ee]?Array.isArray(ge._events[Ee])?ge._events[Ee].unshift(ye):ge._events[Ee]=[ye,ge._events[Ee]]:ge.on(Ee,ye)}(q,"error",oe),q.once("close",ee),q.once("finish",le),q.emit("pipe",G),Y.flowing||(a("pipe resume"),G.resume()),q},P.prototype.unpipe=function(q){var F=this._readableState,G={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return q&&q!==F.pipes||(q||(q=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,q&&q.emit("unpipe",this,G)),this;if(!q){var Y=F.pipes,Q=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var ie=0;ie<Q;ie++)Y[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=L(F.pipes,q);return Z===-1||(F.pipes.splice(Z,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),q.emit("unpipe",this,G)),this},P.prototype.on=function(q,F){var G=n.prototype.on.call(this,q,F),Y=this._readableState;return q==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):q==="readable"&&(Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,a("on readable",Y.length,Y.reading),Y.length?$(this):Y.reading||fn.nextTick(N,this))),G},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(q,F){var G=n.prototype.removeListener.call(this,q,F);return q==="readable"&&fn.nextTick(A,this),G},P.prototype.removeAllListeners=function(q){var F=n.prototype.removeAllListeners.apply(this,arguments);return q!=="readable"&&q!==void 0||fn.nextTick(A,this),F},P.prototype.resume=function(){var q=this._readableState;return q.flowing||(a("resume"),q.flowing=!q.readableListening,function(F,G){G.resumeScheduled||(G.resumeScheduled=!0,fn.nextTick(O,F,G))}(this,q)),q.paused=!1,this},P.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(q){var F=this,G=this._readableState,Y=!1;for(var Q in q.on("end",function(){if(a("wrapped end"),G.decoder&&!G.ended){var Z=G.decoder.end();Z&&Z.length&&F.push(Z)}F.push(null)}),q.on("data",function(Z){a("wrapped data"),G.decoder&&(Z=G.decoder.write(Z)),G.objectMode&&Z==null||(G.objectMode||Z&&Z.length)&&(F.push(Z)||(Y=!0,q.pause()))}),q)this[Q]===void 0&&typeof q[Q]=="function"&&(this[Q]=function(Z){return function(){return q[Z].apply(q,arguments)}}(Q));for(var ie=0;ie<k.length;ie++)q.on(k[ie],this.emit.bind(this,k[ie]));return this._read=function(Z){a("wrapped _read",Z),Y&&(Y=!1,q.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return u===void 0&&(u=MQ()),u(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),P._fromList=j,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(q,F){return l===void 0&&(l=EM?xM:(EM=1,xM=function(){throw new Error("Readable.from is not available in the browser")})),l(P,q,F)}),_2}var pL=Oo,rb=Pu.codes,OQ=rb.ERR_METHOD_NOT_IMPLEMENTED,kQ=rb.ERR_MULTIPLE_CALLBACK,IQ=rb.ERR_TRANSFORM_ALREADY_TRANSFORMING,TQ=rb.ERR_TRANSFORM_WITH_LENGTH_0,bv=cf();function RQ(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new kQ);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Oo(t){if(!(this instanceof Oo))return new Oo(t);bv.call(this,t),this._transformState={afterTransform:RQ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",PQ)}function PQ(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?_M(this,null,null):this._flush(function(e,n){_M(t,e,n)})}function _M(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new TQ;if(t._transformState.transforming)throw new IQ;return t.push(null)}wp(Oo,bv),Oo.prototype.push=function(t,e){return this._transformState.needTransform=!1,bv.prototype.push.call(this,t,e)},Oo.prototype._transform=function(t,e,n){n(new OQ("_transform()"))},Oo.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Oo.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Oo.prototype._destroy=function(t,e){bv.prototype._destroy.call(this,t,function(n){e(n)})};var C2,LQ=j0,mL=pL;function j0(t){if(!(this instanceof j0))return new j0(t);mL.call(this,t)}wp(j0,mL),j0.prototype._transform=function(t,e,n){n(null,t)};var gL=Pu.codes,DQ=gL.ERR_MISSING_ARGS,BQ=gL.ERR_STREAM_DESTROYED;function CM(t){if(t)throw t}function NM(t){t()}function UQ(t,e){return t.pipe(e)}var $Q=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=function(o){return o.length?typeof o[o.length-1]!="function"?CM:o.pop():CM}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new DQ("streams");var a=e.map(function(o,s){var u=s<e.length-1;return function(l,h,p,g){g=function(w){var C=!1;return function(){C||(C=!0,w.apply(void 0,arguments))}}(g);var v=!1;l.on("close",function(){v=!0}),C2===void 0&&(C2=QS),C2(l,{readable:h,writable:p},function(w){if(w)return g(w);v=!0,g()});var y=!1;return function(w){if(!v&&!y)return y=!0,function(C){return C.setHeader&&typeof C.abort=="function"}(l)?l.abort():typeof l.destroy=="function"?l.destroy():void g(w||new BQ("pipe"))}}(o,u,s>0,function(l){r||(r=l),l&&a.forEach(NM),u||(a.forEach(NM),i(r))})});return e.reduce(UQ)};(function(t,e){(e=n4.exports=hL()).Stream=e,e.Readable=e,e.Writable=fL(),e.Duplex=cf(),e.Transform=pL,e.PassThrough=LQ,e.finished=QS,e.pipeline=$Q})(0,n4.exports);var uf=n4.exports;function FQ(t={}){const e={},n=new uf.Duplex({objectMode:!0,read:()=>{},write:function(a,o,s){let u=null;try{a.id?function(l){const{id:h}=l;if(h===null)return;const p=e[h];if(!p)return void console.warn(`StreamMiddleware - Unknown response id "${h}"`);delete e[h],Object.assign(p.res,l),setTimeout(p.end)}(a):function(l){t?.retryOnMessage&&l.method===t.retryOnMessage&&Object.values(e).forEach(({req:h,retryCount:p=0})=>{if(!h.id)return;if(p>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${h.id}"`);const g=e[h.id];g&&(g.retryCount=p+1),i(h)}),r.emit("notification",l)}(a)}catch(l){u=l}s(u)}}),r=new KP;return{events:r,middleware:(a,o,s,u)=>{e[a.id]={req:a,res:o,next:s,end:u},i(a)},stream:n};function i(a){n.push(a)}}var ty={},r4={exports:{}},qQ=function t(e,n){if(e&&n)return t(e)(n);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];var o=e.apply(this,i),s=i[i.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(u){o[u]=s[u]}),o}},AM=qQ;function Og(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function jM(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}r4.exports=AM(Og),r4.exports.strict=AM(jM),Og.proto=Og(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Og(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return jM(this)},configurable:!0})});var zQ=r4.exports,ny={};Object.defineProperty(ny,"__esModule",{value:!0}),ny.Substream=void 0;const HQ=uf;class KQ extends HQ.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}ny.Substream=KQ;var WQ=Ua&&Ua.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ty,"__esModule",{value:!0}),ty.ObjectMultiplex=void 0;const N2=uf,VQ=WQ(zQ),GQ=ny,MM=Symbol("IGNORE_SUBSTREAM");let YQ=class extends N2.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const e=new GQ.Substream({parent:this,name:t});return this._substreams[t]=e,function(n,r){const i=(0,VQ.default)(r);(0,N2.finished)(n,{readable:!1},i),(0,N2.finished)(n,{writable:!1},i)}(this,n=>e.destroy(n||void 0)),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=MM}_read(){}_write(t,e,n){const{name:r,data:i}=t;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();const a=this._substreams[r];return a?(a!==MM&&a.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};ty.ObjectMultiplex=YQ;var JQ=Qy(ty.ObjectMultiplex);const Ns=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Ns.writable=t=>Ns(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",Ns.readable=t=>Ns(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",Ns.duplex=t=>Ns.writable(t)&&Ns.readable(t),Ns.transform=t=>Ns.duplex(t)&&typeof t._transform=="function";var As,ZQ=Ns,QQ=class extends pQ{constructor(t,{jsonRpcStreamName:e,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!ZQ.duplex(t))throw new Error(tr.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const a=new JQ;uf.pipeline(t,a,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=FQ({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),uf.pipeline(this._jsonRpcConnection.stream,a.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",o=>{const{method:s,params:u}=o;s==="metamask_accountsChanged"?this._handleAccountsChanged(u):s==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(u):s==="metamask_chainChanged"?this._handleChainChanged(u):WP.includes(s)?this.emit("message",{type:s,data:u}):s==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(tr.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let n=`MetaMask: Lost connection to "${t}".`;e?.stack&&(n+=`
${e.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){VP(t)&&(n=>!!n&&typeof n=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(tr.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},XQ=class extends QQ{constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:n,maxEventListeners:r,rpcMiddleware:sQ(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},t4(this,As,void 0),this._initializeStateAsync(),Mo(this,As,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",a=>{const{method:o}=a;WP.includes(o)&&(this.emit("data",a),this.emit("notification",a.params.result))}),i)if(document.readyState==="complete")sM(this._rpcEngine,this._log);else{const a=()=>{sM(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",a)};window.addEventListener("DOMContentLoaded",a)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(tr.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(tr.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),Ts(this,As)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(tr.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),Ts(this,As)&&!t&&Mo(this,As,null)}_warnOfDeprecation(t){this._sentWarnings?.events[t]===!1&&(this._log.warn(tr.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(tr.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},vv(t,e))}catch(n){e(n)}})}send(t,e){return this._sentWarnings.send||(this._log.warn(tr.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise((n,r)=>{try{this._rpcRequest({method:t,params:e},vv(n,r,!1))}catch(i){r(i)}})}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,GP),e=!0;break;case"net_version":e=Ts(this,As)??null;break;default:throw new Error(tr.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(t=>{this.on("_initialized",()=>t())}),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw n0({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise((e,n)=>{this._rpcRequest(t,vv(e,n))})}},{get:(t,e,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(tr.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...n))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==Ts(this,As)&&(Mo(this,As,e),this._state.initialized&&this.emit("networkChanged",Ts(this,As)))}};As=new WeakMap;const Le=hi("MM_SDK");let OM;Le.color="#FFAC1C";var vL={},cc={};Object.defineProperty(cc,"__esModule",{value:!0}),cc.EthereumProviderError=cc.EthereumRpcError=void 0;const eX=UP;class yL extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return eX.default(this.serialize(),tX,2)}}cc.EthereumRpcError=yL;function tX(t,e){if(e!=="[Circular]")return e}cc.EthereumProviderError=class extends yL{constructor(t,e,n){if(!function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};var XS={},Jl={};Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.errorValues=Jl.errorCodes=void 0,Jl.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Jl.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Jl,n=cc,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",a={code:r,message:o(r)};function o(p,g=i){if(Number.isInteger(p)){const v=p.toString();if(h(e.errorValues,v))return e.errorValues[v].message;if(u(p))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return g}function s(p){if(!Number.isInteger(p))return!1;const g=p.toString();return!!e.errorValues[g]||!!u(p)}function u(p){return p>=-32099&&p<=-32e3}function l(p){return p&&typeof p=="object"&&!Array.isArray(p)?Object.assign({},p):p}function h(p,g){return Object.prototype.hasOwnProperty.call(p,g)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=o,t.isValidCode=s,t.serializeError=function(p,{fallbackError:g=a,shouldIncludeStack:v=!1}={}){var y,w;if(!g||!Number.isInteger(g.code)||typeof g.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(p instanceof n.EthereumRpcError)return p.serialize();const C={};if(p&&typeof p=="object"&&!Array.isArray(p)&&h(p,"code")&&s(p.code)){const M=p;C.code=M.code,M.message&&typeof M.message=="string"?(C.message=M.message,h(M,"data")&&(C.data=M.data)):(C.message=o(C.code),C.data={originalError:l(p)})}else{C.code=g.code;const M=(y=p)===null||y===void 0?void 0:y.message;C.message=M&&typeof M=="string"?M:g.message,C.data={originalError:l(p)}}const x=(w=p)===null||w===void 0?void 0:w.stack;return v&&p&&x&&typeof x=="string"&&(C.stack=x),C}}(XS);var ry={};Object.defineProperty(ry,"__esModule",{value:!0}),ry.ethErrors=void 0;const e5=cc,bL=XS,Vr=Jl;function Ca(t,e){const[n,r]=wL(e);return new e5.EthereumRpcError(t,n||bL.getMessageFromCode(t),r)}function Rh(t,e){const[n,r]=wL(e);return new e5.EthereumProviderError(t,n||bL.getMessageFromCode(t),r)}function wL(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}ry.ethErrors={rpc:{parse:t=>Ca(Vr.errorCodes.rpc.parse,t),invalidRequest:t=>Ca(Vr.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ca(Vr.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ca(Vr.errorCodes.rpc.methodNotFound,t),internal:t=>Ca(Vr.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ca(e,t)},invalidInput:t=>Ca(Vr.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ca(Vr.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ca(Vr.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ca(Vr.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ca(Vr.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ca(Vr.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Rh(Vr.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Rh(Vr.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Rh(Vr.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Rh(Vr.errorCodes.provider.disconnected,t),chainDisconnected:t=>Rh(Vr.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new e5.EthereumProviderError(e,n,r)}}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=cc;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=XS;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=ry;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=Jl;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(vL);var xL={exports:{}};xL.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(a,o,(function(s){return r[s]}).bind(null,o));return a},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function a(){}return a.getFirstMatch=function(o,s){var u=s.match(o);return u&&u.length>0&&u[1]||""},a.getSecondMatch=function(o,s){var u=s.match(o);return u&&u.length>1&&u[2]||""},a.matchAndReturnConst=function(o,s,u){if(o.test(s))return u},a.getWindowsVersionName=function(o){switch(o){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},a.getMacOSVersionName=function(o){var s=o.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},a.getAndroidVersionName=function(o){var s=o.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},a.getVersionPrecision=function(o){return o.split(".").length},a.compareVersions=function(o,s,u){u===void 0&&(u=!1);var l=a.getVersionPrecision(o),h=a.getVersionPrecision(s),p=Math.max(l,h),g=0,v=a.map([o,s],function(y){var w=p-a.getVersionPrecision(y),C=y+new Array(w+1).join(".0");return a.map(C.split("."),function(x){return new Array(20-x.length).join("0")+x}).reverse()});for(u&&(g=p-Math.min(l,h)),p-=1;p>=g;){if(v[0][p]>v[1][p])return 1;if(v[0][p]===v[1][p]){if(p===g)return 0;p-=1}else if(v[0][p]<v[1][p])return-1}},a.map=function(o,s){var u,l=[];if(Array.prototype.map)return Array.prototype.map.call(o,s);for(u=0;u<o.length;u+=1)l.push(s(o[u]));return l},a.find=function(o,s){var u,l;if(Array.prototype.find)return Array.prototype.find.call(o,s);for(u=0,l=o.length;u<l;u+=1){var h=o[u];if(s(h,u))return h}},a.assign=function(o){for(var s,u,l=o,h=arguments.length,p=new Array(h>1?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];if(Object.assign)return Object.assign.apply(Object,[o].concat(p));var v=function(){var y=p[s];typeof y=="object"&&y!==null&&Object.keys(y).forEach(function(w){l[w]=y[w]})};for(s=0,u=p.length;s<u;s+=1)v();return o},a.getBrowserAlias=function(o){return r.BROWSER_ALIASES_MAP[o]},a.getBrowserTypeByAlias=function(o){return r.BROWSER_MAP[o]||""},a}();e.default=i,t.exports=e.default},18:function(t,e,n){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(u,l){for(var h=0;h<l.length;h++){var p=l[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var s=function(){function u(){}var l,h,p;return u.getParser=function(g,v){if(v===void 0&&(v=!1),typeof g!="string")throw new Error("UserAgent should be a string");return new i.default(g,v)},u.parse=function(g){return new i.default(g).getResult()},l=u,p=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],(h=null)&&o(l.prototype,h),p&&o(l,p),u}();e.default=s,t.exports=e.default},91:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=u(n(92)),i=u(n(93)),a=u(n(94)),o=u(n(95)),s=u(n(17));function u(h){return h&&h.__esModule?h:{default:h}}var l=function(){function h(g,v){if(v===void 0&&(v=!1),g==null||g==="")throw new Error("UserAgent parameter can't be empty");this._ua=g,this.parsedResult={},v!==!0&&this.parse()}var p=h.prototype;return p.getUA=function(){return this._ua},p.test=function(g){return g.test(this._ua)},p.parseBrowser=function(){var g=this;this.parsedResult.browser={};var v=s.default.find(r.default,function(y){if(typeof y.test=="function")return y.test(g);if(y.test instanceof Array)return y.test.some(function(w){return g.test(w)});throw new Error("Browser's test function is not valid")});return v&&(this.parsedResult.browser=v.describe(this.getUA())),this.parsedResult.browser},p.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},p.getBrowserName=function(g){return g?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},p.getBrowserVersion=function(){return this.getBrowser().version},p.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},p.parseOS=function(){var g=this;this.parsedResult.os={};var v=s.default.find(i.default,function(y){if(typeof y.test=="function")return y.test(g);if(y.test instanceof Array)return y.test.some(function(w){return g.test(w)});throw new Error("Browser's test function is not valid")});return v&&(this.parsedResult.os=v.describe(this.getUA())),this.parsedResult.os},p.getOSName=function(g){var v=this.getOS().name;return g?String(v).toLowerCase()||"":v||""},p.getOSVersion=function(){return this.getOS().version},p.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},p.getPlatformType=function(g){g===void 0&&(g=!1);var v=this.getPlatform().type;return g?String(v).toLowerCase()||"":v||""},p.parsePlatform=function(){var g=this;this.parsedResult.platform={};var v=s.default.find(a.default,function(y){if(typeof y.test=="function")return y.test(g);if(y.test instanceof Array)return y.test.some(function(w){return g.test(w)});throw new Error("Browser's test function is not valid")});return v&&(this.parsedResult.platform=v.describe(this.getUA())),this.parsedResult.platform},p.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},p.getEngineName=function(g){return g?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},p.parseEngine=function(){var g=this;this.parsedResult.engine={};var v=s.default.find(o.default,function(y){if(typeof y.test=="function")return y.test(g);if(y.test instanceof Array)return y.test.some(function(w){return g.test(w)});throw new Error("Browser's test function is not valid")});return v&&(this.parsedResult.engine=v.describe(this.getUA())),this.parsedResult.engine},p.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},p.getResult=function(){return s.default.assign({},this.parsedResult)},p.satisfies=function(g){var v=this,y={},w=0,C={},x=0;if(Object.keys(g).forEach(function(D){var $=g[D];typeof $=="string"?(C[D]=$,x+=1):typeof $=="object"&&(y[D]=$,w+=1)}),w>0){var M=Object.keys(y),k=s.default.find(M,function(D){return v.isOS(D)});if(k){var z=this.satisfies(y[k]);if(z!==void 0)return z}var P=s.default.find(M,function(D){return v.isPlatform(D)});if(P){var K=this.satisfies(y[P]);if(K!==void 0)return K}}if(x>0){var W=Object.keys(C),B=s.default.find(W,function(D){return v.isBrowser(D,!0)});if(B!==void 0)return this.compareVersion(C[B])}},p.isBrowser=function(g,v){v===void 0&&(v=!1);var y=this.getBrowserName().toLowerCase(),w=g.toLowerCase(),C=s.default.getBrowserTypeByAlias(w);return v&&C&&(w=C.toLowerCase()),w===y},p.compareVersion=function(g){var v=[0],y=g,w=!1,C=this.getBrowserVersion();if(typeof C=="string")return g[0]===">"||g[0]==="<"?(y=g.substr(1),g[1]==="="?(w=!0,y=g.substr(2)):v=[],g[0]===">"?v.push(1):v.push(-1)):g[0]==="="?y=g.substr(1):g[0]==="~"&&(w=!0,y=g.substr(1)),v.indexOf(s.default.compareVersions(C,y,w))>-1},p.isOS=function(g){return this.getOSName(!0)===String(g).toLowerCase()},p.isPlatform=function(g){return this.getPlatformType(!0)===String(g).toLowerCase()},p.isEngine=function(g){return this.getEngineName(!0)===String(g).toLowerCase()},p.is=function(g,v){return v===void 0&&(v=!1),this.isBrowser(g,v)||this.isOS(g)||this.isPlatform(g)},p.some=function(g){var v=this;return g===void 0&&(g=[]),g.some(function(y){return v.is(y)})},h}();e.default=l,t.exports=e.default},92:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(s){var u={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/opera/i],describe:function(s){var u={name:"Opera"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/opr\/|opios/i],describe:function(s){var u={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/SamsungBrowser/i],describe:function(s){var u={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/Whale/i],describe:function(s){var u={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/MZBrowser/i],describe:function(s){var u={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/focus/i],describe:function(s){var u={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/swing/i],describe:function(s){var u={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/coast/i],describe:function(s){var u={name:"Opera Coast"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var u={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/yabrowser/i],describe:function(s){var u={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/ucbrowser/i],describe:function(s){var u={name:"UC Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/Maxthon|mxios/i],describe:function(s){var u={name:"Maxthon"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/epiphany/i],describe:function(s){var u={name:"Epiphany"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/puffin/i],describe:function(s){var u={name:"Puffin"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/sleipnir/i],describe:function(s){var u={name:"Sleipnir"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/k-meleon/i],describe:function(s){var u={name:"K-Meleon"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/micromessenger/i],describe:function(s){var u={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/qqbrowser/i],describe:function(s){var u={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/msie|trident/i],describe:function(s){var u={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/\sedg\//i],describe:function(s){var u={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/edg([ea]|ios)/i],describe:function(s){var u={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/vivaldi/i],describe:function(s){var u={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/seamonkey/i],describe:function(s){var u={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/sailfish/i],describe:function(s){var u={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return l&&(u.version=l),u}},{test:[/silk/i],describe:function(s){var u={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/phantom/i],describe:function(s){var u={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/slimerjs/i],describe:function(s){var u={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var u={name:"BlackBerry"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var u={name:"WebOS Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/bada/i],describe:function(s){var u={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/tizen/i],describe:function(s){var u={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/qupzilla/i],describe:function(s){var u={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var u={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/electron/i],describe:function(s){var u={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/MiuiBrowser/i],describe:function(s){var u={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/chromium/i],describe:function(s){var u={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/chrome|crios|crmo/i],describe:function(s){var u={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/GSA/i],describe:function(s){var u={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){var u=!s.test(/like android/i),l=s.test(/android/i);return u&&l},describe:function(s){var u={name:"Android Browser"},l=i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/playstation 4/i],describe:function(s){var u={name:"PlayStation 4"},l=i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/safari|applewebkit/i],describe:function(s){var u={name:"Safari"},l=i.default.getFirstMatch(a,s);return l&&(u.version=l),u}},{test:[/.*/i],describe:function(s){var u=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(u,s),version:i.default.getSecondMatch(u,s)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(s){var u=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:a.OS_MAP.Roku,version:u}}},{test:[/windows phone/i],describe:function(s){var u=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.WindowsPhone,version:u}}},{test:[/windows /i],describe:function(s){var u=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),l=i.default.getWindowsVersionName(u);return{name:a.OS_MAP.Windows,version:u,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var u={name:a.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return l&&(u.version=l),u}},{test:[/macintosh/i],describe:function(s){var u=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(u),h={name:a.OS_MAP.MacOS,version:u};return l&&(h.versionName=l),h}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var u=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:u}}},{test:function(s){var u=!s.test(/like android/i),l=s.test(/android/i);return u&&l},describe:function(s){var u=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),l=i.default.getAndroidVersionName(u),h={name:a.OS_MAP.Android,version:u};return l&&(h.versionName=l),h}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var u=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),l={name:a.OS_MAP.WebOS};return u&&u.length&&(l.version=u),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var u=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||i.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:a.OS_MAP.BlackBerry,version:u}}},{test:[/bada/i],describe:function(s){var u=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.Bada,version:u}}},{test:[/tizen/i],describe:function(s){var u=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.Tizen,version:u}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var u=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.PlayStation4,version:u}}}];e.default=o,t.exports=e.default},94:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var u=i.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",l={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return u&&(l.model=u),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(s){var u=s.test(/ipod|iphone/i),l=s.test(/like (ipod|iphone)/i);return u&&!l},describe:function(s){var u=i.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:u}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var u=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&u>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:a.ENGINE_MAP.Blink};var u=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:a.ENGINE_MAP.EdgeHTML,version:u}}},{test:[/trident/i],describe:function(s){var u={name:a.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){return s.test(/presto/i)},describe:function(s){var u={name:a.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:function(s){var u=s.test(/gecko/i),l=s.test(/like gecko/i);return u&&!l},describe:function(s){var u={name:a.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var u={name:a.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return l&&(u.version=l),u}}];e.default=o,t.exports=e.default}});var EL=Qy(xL.exports);const Pi={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class ls{constructor({shouldSetOnWindow:e,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:a}){const o=new nX({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),s=new Proxy(o,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=a,e&&typeof window<"u")try{u=o,window.ethereum=u,window.dispatchEvent(new Event("ethereum#initialized"))}catch(l){Le("[Ethereum] Unable to set global provider - window.ethereum may be read-only",l)}var u;if(i&&typeof window<"u")try{(function(l,h=console){let p=!1,g=!1;if(!window.web3){const v="__isMetaMaskShim__";let y={currentProvider:l};Object.defineProperty(y,v,{value:!0,enumerable:!0,configurable:!1,writable:!1}),y=new Proxy(y,{get:(w,C,...x)=>(C!=="currentProvider"||p?C==="currentProvider"||C===v||g||(g=!0,h.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),l.request({method:"metamask_logWeb3ShimUsage"}).catch(M=>{h.debug("MetaMask: Failed to log web3 shim usage.",M)})):(p=!0,h.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(w,C,...x)),set:(...w)=>(h.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...w))}),Object.defineProperty(window,"web3",{value:y,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(l){Le("[Ethereum] Unable to shim web3 - window.web3 may be read-only",l)}this.provider.on("display_uri",l=>{this.sdkInstance.emit(Pi.DisplayURI,l)}),this.provider.on("_initialized",()=>{const l={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(Pi.Initialized,l),Le("[Ethereum: constructor()] provider initialized",l)})}static init(e){var n;return Le("[Ethereum: init()] Initializing Ethereum service"),this.instance=new ls(e),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class M0{constructor({useDeepLink:e,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(e,n,r){return function(i,a,o,s){const{state:u}=i;Le(`[PlatfformManager: openDeeplink()] universalLink --> ${a}`),Le(`[PlatfformManager: openDeeplink()] deepLink --> ${o}`);try{if(u.preferredOpenLink)return void u.preferredOpenLink(u.useDeeplink?o:a,s);if(Le(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${u.useDeeplink} link=${u.useDeeplink?o:a}`),u.useDeeplink)typeof window<"u"&&(window.location.href=o);else if(typeof document<"u"){const l=document.createElement("a");l.href=a,l.target="_self",l.rel="noreferrer noopener",l.click()}}catch(l){console.log("[PlatfformManager: openDeeplink()] can't open link",l)}}(this,e,n,r)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&window?.navigator&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const e=ls.getProvider()||window?.ethereum;return Le(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e?.isMetaMask} isConnected=${e?.isConnected()}`),e?.isMetaMask&&e?.isConnected()}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,n;const r=EL.parse(window.navigator.userAgent);return((e=r?.platform)===null||e===void 0?void 0:e.type)==="mobile"||((n=r?.platform)===null||n===void 0?void 0:n.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===ei.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!window?.navigator||pi!==void 0&&((e=pi?.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||navigator?.product==="ReactNative"}isNotBrowser(){return M0.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return M0.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:n}=e;return n.platformType?n.platformType:e.isReactNative()?ei.ReactNative:e.isNotBrowser()?ei.NonBrowser:e.isMetaMaskMobileWebView()?ei.MetaMaskMobileWebview:e.isMobile()?ei.MobileWeb:ei.DesktopWeb}(this)}}const SL=t=>Be(void 0,void 0,void 0,function*(){if(M0.isBrowser()){const{StorageManagerWeb:n}=yield Promise.resolve().then(function(){return kX});return new n(t)}const e={persistChannelConfig:()=>Be(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>Be(void 0,void 0,void 0,function*(){}),persistAccounts:()=>Be(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>Be(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>Be(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>Be(void 0,void 0,void 0,function*(){}),terminate:()=>Be(void 0,void 0,void 0,function*(){})};return Promise.resolve(e)});class nX extends XQ{constructor({connectionStream:e,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},Le(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return Be(this,void 0,void 0,function*(){return Le(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){Le("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:n}=this._state;return n&&n.length!==0?((e=n[0])===null||e===void 0?void 0:e.toLowerCase())||"":(Le("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,n){return this._handleAccountsChanged(e,n)}handleDisconnect({terminate:e=!1}){(function({terminate:n=!1,instance:r}){const{state:i}=r;Le(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit("disconnect",vL.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return Be(this,void 0,void 0,function*(){return function(e){var n,r;return Be(this,void 0,void 0,function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:i}=e;let a;if(i.providerStateRequested)Le("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let o;i.providerStateRequested=!0;let s=null,u=!1,l=!1;const h=yield SL({enabled:!0});if(h){const p=yield h.getPersistedChannelConfig({});u=(n=p?.relayPersistence)!==null&&n!==void 0&&n,o=yield h.getCachedChainId();const g=yield h.getCachedAccounts();g.length>0&&(s=g[0])}if(Le(`[SDKProvider: initializeStateAsync()] relayPersistence=${u}`,{relayPersistence:u,cachedChainId:o,cachedSelectedAddress:s}),u)if(o&&s)a={accounts:[s],chainId:o,isUnlocked:!1},l=!0;else try{a=yield e.request({method:"metamask_getProviderState"})}catch(p){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",p),void(i.providerStateRequested=!1)}if(((r=a?.accounts)===null||r===void 0?void 0:r.length)===0)if(e.getSelectedAddress())a.accounts=[e.getSelectedAddress()];else{Le("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const p=yield e.request({method:"eth_requestAccounts",params:[]});a.accounts=p}e._initializeState(a),i.providerStateRequested=!1,l&&(e._state.isConnected=!0,e.emit("connect",{chainId:a?.chainId}))}})}(this)})}_initializeState(e){return Le("[SDKProvider: _initializeState()]",e),function(n,r,i){return Le("[SDKProvider: initializeState()] set state._initialized to false"),n._state.initialized=!1,r(i)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:n}={}){this.state.chainId=e,this.state.networkVersion=n,function({instance:r,chainId:i,networkVersion:a,superHandleChainChanged:o}){Le(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${a}`);let s=a;a||(Le("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),s="1"),i!==OM&&(ar.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),OM=i),r._state.isConnected=!0,r.emit("connect",{chainId:i}),o({chainId:i,networkVersion:s})}({instance:this,chainId:e,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var O0,Lu={name:"@metamask/sdk",version:"0.33.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(O0||(O0={}));const kM="direct",k0="https://metamask.app.link/connect",I0="metamask://connect",IM={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},rX=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,jt={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},T0={[jt.ETH_REQUESTACCOUNTS]:!0,[jt.ETH_SENDTRANSACTION]:!0,[jt.ETH_SIGNTRANSACTION]:!0,[jt.ETH_SIGN]:!0,[jt.PERSONAL_SIGN]:!0,[jt.ETH_ACCOUNTS]:!1,[jt.ETH_CHAINID]:!1,[jt.PERSONAL_SIGN]:!0,[jt.ETH_SIGNTYPEDDATA]:!0,[jt.ETH_SIGNTYPEDDATA_V3]:!0,[jt.ETH_SIGNTYPEDDATA_V4]:!0,[jt.WALLET_REQUESTPERMISSIONS]:!0,[jt.WALLET_GETPERMISSIONS]:!0,[jt.WALLET_WATCHASSET]:!0,[jt.WALLET_ADDETHEREUMCHAIN]:!0,[jt.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[jt.METAMASK_CONNECTSIGN]:!0,[jt.METAMASK_CONNECTWITH]:!0,[jt.PERSONAL_EC_RECOVER]:!0,[jt.METAMASK_BATCH]:!0,[jt.METAMASK_OPEN]:!0},iX=Object.keys(T0).filter(t=>T0[t]===!0).map(t=>t.toLowerCase()),_L=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(t=>t.toLowerCase()),A2=".sdk-comm",iy="providerType",i4=".MMSDK_cached_address",a4=".MMSDK_cached_chainId",_s={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},aX=1e6;var $s;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})($s||($s={}));const sX=typeof window<"u"&&window.localStorage;function oX({instance:t,msg:e}){return Be(this,void 0,void 0,function*(){if(t._initialized||(Le("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield t.init()),Le(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:function(r){let i;if($e!==void 0)i=$e.from(r,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const a=new TextEncoder().encode(r);i=Array.from(a).map(o=>o.toString(16).padStart(2,"0")).join("")}else{if(typeof pi!="object"||!("Buffer"in pi))throw new Error("Unable to convert string to hex: No available method.");i=pi.Buffer.from(r,"utf8").toString("hex")}return`0x${i}`}(e);return t.activeProvider.request({method:jt.METAMASK_CONNECTWITH,params:[{method:jt.PERSONAL_SIGN,params:[n]}]})})}function TM(t){var e,n;return Be(this,void 0,void 0,function*(){Le("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{const r=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});Le(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",r)}localStorage.setItem(iy,"extension"),t.extensionActive=!0,t.emit(Pi.ProviderUpdate,$s.EXTENSION),t.options.enableAnalytics&&((n=t.analytics)===null||n===void 0||n.send({event:or.SDK_USE_EXTENSION}))})}function ay(t){let e;if($e!==void 0)e=$e.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,(n,r)=>String.fromCharCode(parseInt(r,16))));else{if(typeof pi!="object"||!("Buffer"in pi))throw new Error("Unable to base64 encode: No available method.");e=pi.Buffer.from(t,"utf8").toString("base64")}return e}function lX(t,e,n,r){var i,a,o,s,u,l,h,p,g,v,y,w,C,x,M,k,z,P,K,W;return Be(this,void 0,void 0,function*(){const B=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),D=(a=t.state.remote)===null||a===void 0?void 0:a.isConnected(),$=(o=t.state.remote)===null||o===void 0?void 0:o.isPaused(),T=ls.getProvider(),b=(s=t.state.remote)===null||s===void 0?void 0:s.getChannelId(),_=(u=t.state.remote)===null||u===void 0?void 0:u.isAuthorized(),{deeplinkProtocol:A}=t.state,{method:N,data:O,triggeredInstaller:U}=(L=>{var q,F,G,Y;let Q;$e.isBuffer(L)?(Q=L.toJSON(),Q._isBuffer=!0):Q=L;const ie=(q=Q?.data)===null||q===void 0?void 0:q.method;let Z=!1;return typeof((F=Q?.data)===null||F===void 0?void 0:F.params)=="object"&&((Y=(G=Q?.data)===null||G===void 0?void 0:G.params)===null||Y===void 0?void 0:Y.__triggeredInstaller)===!0&&(Z=!0,Q.data.params=Q.data.params.wrappedParams),{method:ie,data:Q,triggeredInstaller:Z}})(e);if(Le(`[RCPMS: write()] method='${N}' isRemoteReady=${B} channelId=${b} isSocketConnected=${D} isRemotePaused=${$} providerConnected=${T.isConnected()}`,e),!b)return N!==jt.METAMASK_GETPROVIDERSTATE&&Le(`[RCPMS: write()] ${N} --> channelId is undefined`),r(new Error("disconnected"));Le(`[RCPMS: write()] remote.isPaused()=${(l=t.state.remote)===null||l===void 0?void 0:l.isPaused()} authorized=${_} ready=${B} socketConnected=${D}`,e);const j=(h=t.state.platformManager)===null||h===void 0?void 0:h.isSecure(),I=(g=(p=t.state.platformManager)===null||p===void 0?void 0:p.isMobileWeb())!==null&&g!==void 0&&g,E=(y=(v=t.state.remote)===null||v===void 0?void 0:v.hasDeeplinkProtocol())!==null&&y!==void 0&&y&&I&&_;try{if(!U){const F=JSON.stringify(O?.data);if(F.length>aX)return r(new Error(`Message size ${F.length} exceeds maximum allowed size of 1000000 bytes`));(w=t.state.remote)===null||w===void 0||w.sendMessage(O?.data).then(()=>{Le(`[RCPMS: _write()] ${N} sent successfully`)}).catch(G=>{Le("[RCPMS: _write()] error sending message",G)})}if(!j)return Le(`[RCPMS: _write()] unsecure platform for method ${N} -- return callback`),r();if(U)return Le("[RCPMS: _write()] prevent deeplink -- installation completed separately."),r();const L=(M=(x=(C=t.state.remote)===null||C===void 0?void 0:C.getKeyInfo())===null||x===void 0?void 0:x.ecies.public)!==null&&M!==void 0?M:"";let q=encodeURI(`channelId=${b}&pubkey=${L}&comm=socket&t=d&v=2`);if(E){const F=JSON.stringify(O?.data),G=(k=t.state.remote)===null||k===void 0?void 0:k.encrypt(F);if(!G)return Le("[RCPMS: _write()] error encrypting message"),r(new Error("RemoteCommunicationPostMessageStream - disconnected"));q+=`&scheme=${A}&rpc=${ay(G)}`}if(!(!((z=t.state.platformManager)===null||z===void 0)&&z.isMetaMaskInstalled()))return Le("[RCPMS: _write()] prevent deeplink until installation is completed."),r();T0[N]?(Le(`[RCPMS: _write()] redirect link for '${N}' socketConnected=${D} connect?${q}`),(P=t.state.platformManager)===null||P===void 0||P.openDeeplink(`${k0}?${q}`,`${I0}?${q}`,"_self")):!((K=t.state.remote)===null||K===void 0)&&K.isPaused()?(Le(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${N}`),(W=t.state.platformManager)===null||W===void 0||W.openDeeplink(`${k0}?redirect=true&${q}`,`${I0}?redirect=true&${q}`,"_self")):Le(`[RCPMS: _write()] method ${N} doesn't need redirect.`)}catch(L){return Le("[RCPMS: _write()] error sending message",L),r(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return r()})}class cX extends uf.Duplex{constructor({name:e,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(tt.MESSAGE,this._onMessage)}_write(e,n,r){return Be(this,void 0,void 0,function*(){return lX(this,e,0,r)})}_read(){}_onMessage(e){return function(n,r){try{if(Le("[RCPMS: onMessage()] message",r),!r||typeof r!="object"||typeof r?.data!="object")return;if(!r?.name)return void Le("[RCPMS: onMessage()] ignore message without name",r);if(r?.name!==O0.PROVIDER)return void Le(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if($e.isBuffer(r)){const i=$e.from(r);n.push(i)}else n.push(r)}catch(i){Le(`[RCPMS: onMessage()] ignore message error err=${i}`)}}(this,e)}start(){}}let RM=1;const CL=t=>new Promise(e=>{setTimeout(()=>{e(!0)},t)}),uX=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:a,sdk:o,remoteConnection:s,debug:u})=>Be(void 0,void 0,void 0,function*(){var l,h;const p=(({name:$,remoteConnection:T})=>{if(!T||!T?.getConnector())throw new Error("Missing remote connection parameter");return new cX({name:$,remote:T?.getConnector(),deeplinkProtocol:T?.state.deeplinkProtocol,platformManager:T?.getPlatformManager()})})({name:O0.INPAGE,target:O0.CONTENT_SCRIPT,remoteConnection:s}),g=i.getPlatformType(),v=o.options.dappMetadata,y=`Sdk/Javascript SdkVersion/${Lu.version} Platform/${g} dApp/${(l=v.url)!==null&&l!==void 0?l:v.name} dAppTitle/${v.name}`;let w=null,C=null;const x=(h=o.options.storage)===null||h===void 0?void 0:h.storageManager;if(x){try{const $=yield x.getCachedAccounts();$.length>0&&(w=$[0])}catch($){console.error(`[initializeMobileProvider] failed to get cached addresses: ${$}`)}try{const $=yield x.getCachedChainId();$&&(C=$)}catch($){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${$}`)}}Le(`[initializeMobileProvider] cachedAccountAddress: ${w}, cachedChainId: ${C}`);const M=!(!n||g===ei.NonBrowser||g===ei.ReactNative),k=ls.init({shouldSetOnWindow:M,connectionStream:p,shouldShimWeb3:r,sdkInstance:o});let z=!1;const P=$=>{z=$},K=()=>z,W=($,T,b,_)=>Be(void 0,void 0,void 0,function*(){var A,N,O,U,j,I,E,L,q;const F=ls.getProvider();if(z){F.emit("display_uri",s?.state.qrcodeLink||""),s?.showActiveModal();let oe=K();for(;oe;){const ee=K(),le=s?.isAuthorized();oe=ee&&!le,Le(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${ee} authorized: ${le}`),yield CL(1e3)}return Le("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),b(...T)}const G=i.isMetaMaskInstalled(),Y=s?.isConnected();let Q=null,ie=null,Z=null;if(Q=(A=F.getSelectedAddress())!==null&&A!==void 0?A:w,Z=F.getChainId()||C,Q&&x&&Q!==w&&x.persistAccounts([Q]).catch(oe=>{console.error(`[initializeMobileProvider] failed to persist account: ${oe}`)}),Z&&(C=Z,x&&x.persistChainId(Z).catch(oe=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${oe}`)})),Le("[initializeMobileProvider: sendRequest()]",{selectedAddress:Q,chainId:Z}),_&&Le(`[initializeMobileProvider: sendRequest()] method=${$} ongoing=${z} selectedAddress=${Q} isInstalled=${G} checkInstallationOnAllCalls=${t} socketConnected=${Y}`),Q&&$.toLowerCase()===jt.ETH_ACCOUNTS.toLowerCase())return[Q];if(Z&&$.toLowerCase()===jt.ETH_CHAINID.toLowerCase())return Z;const X=[jt.ETH_REQUESTACCOUNTS,jt.WALLET_REQUESTPERMISSIONS,jt.METAMASK_CONNECTSIGN,jt.METAMASK_CONNECTWITH],te=!T0[$],ae=(N=o.options.readonlyRPCMap)===null||N===void 0?void 0:N[Z];if(ae&&te)try{const oe=(O=T?.[0])===null||O===void 0?void 0:O.params,ee=yield(({rpcEndpoint:le,method:he,sdkInfo:ge,params:Ee})=>Be(void 0,void 0,void 0,function*(){const ye=JSON.stringify({jsonrpc:"2.0",method:he,params:Ee,id:(RM+=1,RM)}),fe={Accept:"application/json","Content-Type":"application/json"};let Se;le.includes("infura")&&(fe["Metamask-Sdk-Info"]=ge);try{Se=yield XT(le,{method:"POST",headers:fe,body:ye})}catch(Ae){throw Ae instanceof Error?new Error(`Failed to fetch from RPC: ${Ae.message}`):new Error(`Failed to fetch from RPC: ${Ae}`)}if(!Se.ok)throw new Error(`Server responded with a status of ${Se.status}`);return(yield Se.json()).result}))({rpcEndpoint:ae,sdkInfo:y,method:$,params:oe||[]});return _&&Le(`initializeProvider::ReadOnlyRPCResponse ${ee}`),ee}catch(oe){console.warn(`[initializeMobileProvider: sendRequest()] method=${$} readOnlyRPCRequest failed:`,oe)}if((!G||G&&!Y)&&$!==jt.METAMASK_GETPROVIDERSTATE){const oe=((U=T?.[0])===null||U===void 0?void 0:U.params)||[];if(X.indexOf($)!==-1||t){P(!0);const ee=$===jt.METAMASK_CONNECTWITH,le=`${Date.now()}`;try{yield a.start({wait:!1,connectWith:ee?{method:$,id:le,params:oe}:void 0}),yield new Promise((he,ge)=>{s?.isAuthorized()&&(Le("[initializeMobileProvider: sendRequest()] already authorized"),he(!0)),s?.getConnector().once(tt.AUTHORIZED,()=>{he(!0)}),o.once(tt.PROVIDER_UPDATE,Ee=>{Le(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${Ee}`),Ee===$s.EXTENSION?ge(tt.PROVIDER_UPDATE):ge(new Error("Connection Terminated"))})})}catch(he){if($s.EXTENSION===he){if(Le(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${$} on the active provider`),$.toLowerCase()===jt.METAMASK_CONNECTSIGN.toLowerCase()){const ge=yield(j=o.getProvider())===null||j===void 0?void 0:j.request({method:jt.ETH_REQUESTACCOUNTS,params:[]});if(!ge.length)throw new Error("SDK state invalid -- undefined accounts");const Ee=yield(I=o.getProvider())===null||I===void 0?void 0:I.request({method:jt.PERSONAL_SIGN,params:[oe[0],ge[0]]});return o.emit(Pi.ConnectWithResponse,Ee),Ee}if($.toLowerCase()===jt.METAMASK_CONNECTWITH.toLowerCase()){const[ge]=oe,Ee=yield(({method:ye,sdk:fe,params:Se})=>Be(void 0,void 0,void 0,function*(){var Ae,xe,ze,Xe;if(!fe.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");Le("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",ye,Se);const nt=yield(Ae=fe.getProvider())===null||Ae===void 0?void 0:Ae.request({method:jt.ETH_REQUESTACCOUNTS,params:[]});if(!nt.length)throw new Error("SDK state invalid -- undefined accounts");if(ye?.toLowerCase()===jt.PERSONAL_SIGN.toLowerCase()){const et={method:ye,params:[Se[0],nt[0]]};return yield(xe=fe.getProvider())===null||xe===void 0?void 0:xe.request(et)}if(ye?.toLowerCase()===jt.ETH_SENDTRANSACTION.toLowerCase()){const et={method:ye,params:[Object.assign(Object.assign({},Se[0]),{from:nt[0]})]};return yield(ze=fe.getProvider())===null||ze===void 0?void 0:ze.request(et)}return _L.includes(ye.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${ye} -- not handled by the extension -- call separately`),nt):yield(Xe=fe.getProvider())===null||Xe===void 0?void 0:Xe.request({method:ye,params:Se})}))({method:ge.method,sdk:o,params:ge.params});return o.emit(Pi.ConnectWithResponse,Ee),Ee}return Le(`[initializeMobileProvider: sendRequest()] sending '${$}' on active provider`,oe),yield(E=o.getProvider())===null||E===void 0?void 0:E.request({method:$,params:oe})}throw he===tt.REJECTED?(s?.closeModal(),(L=o.getProvider())===null||L===void 0||L.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(Le(`[initializeMobileProvider: sendRequest()] failed to start installer: ${he}`),he)}finally{P(!1)}if($===jt.ETH_REQUESTACCOUNTS)return ie=yield new Promise(he=>{const ge=setInterval(()=>{const{accounts:Ee}=F.getState();Ee&&(clearInterval(ge),he(Ee))},100)}),Le(`[initializeMobileProvider: sendRequest()] selectedAddress: ${Q} --- SKIP rpc call`),ie;if($===jt.METAMASK_CONNECTWITH)try{let he=0;const ge=5,Ee=({resolve:Ae,reject:xe})=>{he+=1;const ze=s?.getConnector().getRPCMethodTracker(),Xe=ze?.[le];return Le(`TRACKER: update method ${le}`,Xe),Xe?.result?(Le("[initializeMobileProvider: sendRequest()] found result",Xe.result),o.emit(Pi.ConnectWithResponse,Xe.result),void Ae(Xe.result)):Xe?.error?(Le("[initializeMobileProvider: sendRequest()] found error",Xe.error),void xe(Xe.error)):he>=ge?(Le("[initializeMobileProvider: sendRequest()] max message count reached without result"),void xe(new Error("Max message count reached without result"))):void Le("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let ye,fe;const Se=yield new Promise((Ae,xe)=>{const ze=s?.getConnector().getRPCMethodTracker();Le(`TRACKER: method ${le}`,ze),ze?.[le].result?(Le("[initializeMobileProvider: sendRequest()] found result",ze?.[le].result),Ae(ze?.[le].result)):ze?.[le].error&&(Le("[initializeMobileProvider: sendRequest()] found error",ze?.[le].error),xe(ze?.[le].error)),fe=()=>Ee({resolve:Ae,reject:xe}),ye=s?.getConnector().on(tt.RPC_UPDATE,fe)});return fe&&ye?.off(tt.RPC_UPDATE,fe),Le("TRACKER: result",Se),Se}catch(he){throw Le("[initializeMobileProvider: sendRequest()] error:",he),he}return T[0]&&typeof T[0]=="object"&&(T[0].params={__triggeredInstaller:!0,wrappedParams:T[0].params}),b(...T)}if(i.isSecure()&&T0[$])return b(...T);if(o.isExtensionActive())return Le(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${$}' to it`,T,oe),yield(q=o.getProvider())===null||q===void 0?void 0:q.request({method:$,params:oe});throw Le(`[initializeMobileProvider: sendRequest()] method=${$} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const oe=yield b(...T);if(Le(`[initializeMobileProvider: sendRequest()] method=${$} rpcResponse`,oe),$===jt.WALLET_REQUESTPERMISSIONS){const ee=oe.reduce((le,he)=>{var ge;if(he.parentCapability==="eth_accounts"){const Ee=(ge=he.caveats.find(ye=>ye.type==="restrictReturnedAccounts"))===null||ge===void 0?void 0:ge.value;Ee&&le.push(...Ee)}return le},[]);Le("[initializeMobileProvider: sendRequest()] accountsToPersist:",ee),ee.length>0&&(F.handleAccountsChanged(ee,!1),x?.persistAccounts(ee))}return oe}catch(oe){throw console.error("[initializeMobileProvider: sendRequest()] error:",oe),oe}}),{request:B}=k;k.request=(...$)=>Be(void 0,void 0,void 0,function*(){return W($?.[0].method,$,B,u)});const{send:D}=k;return k.send=(...$)=>Be(void 0,void 0,void 0,function*(){return W($?.[0],$,D,u)}),Le("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),p.start(),k});function dX(t){var e,n,r,i;return Be(this,void 0,void 0,function*(){const{options:a}=t,o={communicationLayerPreference:(e=a.communicationLayerPreference)!==null&&e!==void 0?e:Nu.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:a.checkInstallationOnAllCalls,injectProvider:(n=a.injectProvider)===null||n===void 0||n,shouldShimWeb3:(r=a.shouldShimWeb3)===null||r===void 0||r,extensionOnly:(i=a.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},s=yield uX(o);t.activeProvider=s,function(u){var l,h,p,g;(h=(l=u.remoteConnection)===null||l===void 0?void 0:l.getConnector())===null||h===void 0||h.on(Pi.ConnectionStatus,v=>{u.emit(Pi.ConnectionStatus,v)}),(g=(p=u.remoteConnection)===null||p===void 0?void 0:p.getConnector())===null||g===void 0||g.on(Pi.ServiceStatus,v=>{u.emit(Pi.ServiceStatus,v)})}(t)})}const fX="sdk";class hX{constructor({serverUrl:e,enabled:n,originatorInfo:r}){this.serverURL=of,this.serverURL=e,this.originatorInfo=r,this.enabled=n==null||n}send({event:e,params:n}){if(!this.enabled)return;const r=Object.assign(Object.assign({id:fX,event:e,sdkVersion:Lu.version},this.originatorInfo),{params:n});Le(`[Analytics: send()] event: ${e}`,r),Wo(r,this.serverURL).catch(i=>{Le(`[Analytics: send()] error: ${i}`)})}}const pX=()=>{if(typeof document>"u")return;let t;const e=document.getElementsByTagName("link");for(let n=0;n<e.length;n++)e[n].getAttribute("rel")!=="icon"&&e[n].getAttribute("rel")!=="shortcut icon"||(t=e[n].getAttribute("href"));return t},mX=163400;function PM(t){var e,n,r;const{dappMetadata:i}=t,a=function({url:h,name:p}){var g;const v=h+p,y=ay(v);if(!localStorage)return"";let w=(g=localStorage.getItem(y))!==null&&g!==void 0?g:"";if(!w){w=Xl();try{localStorage.setItem(y,w)}catch{return""}}return w}({url:(e=i?.url)!==null&&e!==void 0?e:"no_url",name:(n=i?.name)!==null&&n!==void 0?n:"no_name"}),o=(r=t.platformManager)===null||r===void 0?void 0:r.getPlatformType(),s=o===ei.DesktopWeb,u=o===ei.MetaMaskMobileWebview;let l="N/A";return s?l="extension":u&&(l="mobile"),{id:a,from:l}}const kg=(t,e,n)=>{if(yp(t))if(n||e&&typeof e=="object"&&e!==null&&"error"in e){const r=n||e?.error;r&&r.code===4001?ar.analytics.track("sdk_action_rejected",{action:t}):ar.analytics.track("sdk_action_failed",{action:t})}else ar.analytics.track("sdk_action_succeeded",{action:t})},NL=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(n,r)=>r==="request"?function(i){var a,o;return Be(this,void 0,void 0,function*(){Le("[wrapExtensionProvider()] Overwriting request method",i);const{method:s,params:u}=i,l=iX.includes(s.toLowerCase()),{id:h,from:p}=PM(e);if(l&&((a=e.analytics)===null||a===void 0||a.send({event:or.SDK_RPC_REQUEST,params:{method:s,from:p,id:h}})),yp(s)&&ar.analytics.track("sdk_action_requested",{action:s}),s===jt.METAMASK_BATCH&&Array.isArray(u))return(({target:y,args:w,trackEvent:C,sdkInstance:x})=>Be(void 0,void 0,void 0,function*(){var M,k;if(w.method!=="metamask_batch")throw new Error("Invalid usage");const z=[],P=(M=w?.params)!==null&&M!==void 0?M:[];for(const B of P){const D=yield y?.request({method:B.method,params:B.params});z.push(D)}const{id:K,from:W}=PM(x);C&&((k=x.analytics)===null||k===void 0||k.send({event:or.SDK_RPC_REQUEST_DONE,params:{method:w.method,from:W,id:K}}));for(const B of z)kg(w.method,B,null);return z}))({target:n,args:i,trackEvent:l,sdkInstance:e});if(s.toLowerCase()===jt.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(u))return(({target:y,params:w})=>Be(void 0,void 0,void 0,function*(){let C,x=null;try{const M=yield y.request({method:jt.ETH_REQUESTACCOUNTS,params:[]});if(!M.length)throw new Error("SDK state invalid -- undefined accounts");return C=yield y.request({method:jt.PERSONAL_SIGN,params:[w[0],M[0]]}),C}catch(M){throw x=M,M}finally{kg(jt.PERSONAL_SIGN,C,x)}}))({target:n,params:u});if(s.toLowerCase()===jt.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(u))return(({target:y,params:w})=>Be(void 0,void 0,void 0,function*(){const[C]=w,x=C.method,M=C.params;let k,z=null;try{const P=yield y.request({method:jt.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(P)||!P.length)throw new Error("SDK state invalid -- undefined accounts");return x?.toLowerCase()===jt.PERSONAL_SIGN.toLowerCase()?(k=yield y.request({method:x,params:[M[0],P[0]]}),k):x?.toLowerCase()===jt.ETH_SENDTRANSACTION.toLowerCase()?(k=yield y.request({method:x,params:[Object.assign(Object.assign({},M[0]),{from:P[0]})]}),k):_L.includes(x.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${x} -- not handled by the extension -- call separately`),k=P,k):(k=yield y.request({method:x,params:M}),k)}catch(P){throw z=P,P}finally{kg(x,k,z)}}))({target:n,params:u});let g,v=null;try{return g=yield n.request(i),g}catch(y){throw v=y,y}finally{l&&((o=e.analytics)===null||o===void 0||o.send({event:or.SDK_RPC_REQUEST_DONE,params:{method:s,from:p,id:h}})),kg(s,g,v)}})}:r==="getChainId"?function(){return t.chainId}:r==="getNetworkVersion"?function(){return t.networkVersion}:r==="getSelectedAddress"?function(){return t.selectedAddress}:r==="isConnected"?function(){return t._state.isConnected}:n[r]})};var sy;function gX({mustBeMetaMask:t,sdkInstance:e}){return Be(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const n=yield new Promise((r,i)=>{const a=setTimeout(()=>{i(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(sy.Announce,o=>{const s=o,{detail:{info:u,provider:l}={}}=s,{name:h,rdns:p,uuid:g}=u??{};rX.test(g)&&h.startsWith(IM.NAME)&&IM.RDNS.includes(p)&&(clearTimeout(a),r(l))}),window.dispatchEvent(new Event(sy.Request))});return NL({provider:n,sdkInstance:e})}catch{throw new Error("Provider not found")}})}(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(sy||(sy={}));const vX=t=>Be(void 0,void 0,void 0,function*(){const{options:e}=t,{infuraAPIKey:n}=e;if(!n)return;const r={"0x1":`https://mainnet.infura.io/v3/${n}`,"0x5":`https://goerli.infura.io/v3/${n}`,"0xaa36a7":`https://sepolia.infura.io/v3/${n}`,"0xe708":`https://linea-mainnet.infura.io/v3/${n}`,"0xe704":`https://linea-goerli.infura.io/v3/${n}`,"0x89":`https://polygon-mainnet.infura.io/v3/${n}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${n}`,"0x45":`https://optimism-mainnet.infura.io/v3/${n}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${n}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${n}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${n}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${n}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${n}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${n}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${n}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${n}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${n}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${n}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${n}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${n}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${n}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${n}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),r):t.options.readonlyRPCMap=r}),yX=t=>Be(void 0,void 0,void 0,function*(){const{options:e}=t,{readonlyRPCMap:n}=e;if(n)try{Le("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",n),t.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}});function bX(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(l){try{u(r.next(l))}catch(h){a(h)}}function s(l){try{u(r.throw(l))}catch(h){a(h)}}function u(l){var h;l.done?i(l.value):(h=l.value,h instanceof n?h:new n(function(p){p(h)})).then(o,s)}u((r=r.apply(t,[])).next())})}function wX(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return function(h){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&h[0]?r.return:h[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,h[1])).done)return i;switch(r=0,i&&(h=[2&h[0],i.value]),h[0]){case 0:case 1:i=h;break;case 4:return o.label++,{value:h[1],done:!1};case 5:o.label++,r=h[1],h=[0];continue;case 7:h=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||h[0]!==6&&h[0]!==2)){o=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){o.label=h[1];break}if(h[0]===6&&o.label<i[1]){o.label=i[1],i=h;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(h);break}i[2]&&o.ops.pop(),o.trys.pop();continue}h=e.call(t,o)}catch(p){h=[6,p],r=0}finally{n=i=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([u,l])}}}var LM="INSTALLED",DM="NOT_INSTALLED",BM="REGISTERED",UM="REGISTERING",$M="RELOADING",FM={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},Ig="REGISTRATION_IN_PROGRESS",qM="FORWARDER_ID",xX=function(){function t(e){var n=e===void 0?{}:e,r=n.forwarderOrigin,i=r===void 0?"https://fwd.metamask.io":r,a=n.forwarderMode,o=a===void 0?t.FORWARDER_MODE.INJECT:a;this.forwarderOrigin=i,this.forwarderMode=o,this.state=t.isMetaMaskInstalled()?LM:DM;var s=t._detectBrowser();this.downloadUrl=s?FM[s]:FM.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),o===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(Ig)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return bX(this,0,void 0,function(){return wX(this,function(n){switch(n.label){case 0:switch(this.state){case $M:return[3,1];case DM:return[3,2];case LM:return[3,3];case UM:return[3,5];case BM:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=$M,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=UM,[4,t._register()];case 4:return n.sent(),this.state=BM,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}})})},t.prototype.startOnboarding=function(){sessionStorage.setItem(Ig,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(Ig)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(Ig,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var n=document.body,r=document.createElement("iframe");r.setAttribute("height","0"),r.setAttribute("width","0"),r.setAttribute("style","display: none;"),r.setAttribute("src",e),r.setAttribute("id",qM),n.insertBefore(r,n.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(qM))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=EL.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t}();function EX(t,{wait:e=!1}){return Be(this,void 0,void 0,function*(){return Le(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield CL(1e3)),yield t.checkInstallation()})}class SX{constructor({remote:e,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return function(){return Be(this,void 0,void 0,function*(){Le("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new xX().startOnboarding()})}()}redirectToProperInstall(){return Be(this,void 0,void 0,function*(){return function(e){var n,r;return Be(this,void 0,void 0,function*(){const{state:i}=e,a=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(Le(`[MetamaskInstaller: redirectToProperInstall()] platform=${a}`),a===ei.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(o){throw i.isInstalling=!1,o}return!0})}(this)})}checkInstallation(){return Be(this,void 0,void 0,function*(){return function(e){var n;return Be(this,void 0,void 0,function*(){const{state:r}=e,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return Le(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())})}(this)})}start({wait:e=!1,connectWith:n}){return Be(this,void 0,void 0,function*(){this.state.connectWith=n,Le(`[MetaMaskInstaller: start()] wait=${e}`,n),yield EX(this,{wait:e})})}}class AL{constructor({debug:e,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=n}loadComponent(e){return Be(this,void 0,void 0,function*(){if(!this.defined[e]){this.defined[e]=!0;try{const n=yield Promise.resolve().then(function(){return ree});console.log("loader",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${e} modal:`,n)}}})}renderInstallModal(e){var n;return Be(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");const r=document.createElement("mm-install-modal");r.link=e.link,r.preferDesktop=e.preferDesktop,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),r.addEventListener("trackAnalytics",i=>{var a;return(a=e.onAnalyticsEvent)===null||a===void 0?void 0:a.call(e,i.detail)}),e.parentElement.appendChild(r)})}renderSelectModal(e){var n;return Be(this,void 0,void 0,function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");const r=document.createElement("mm-select-modal");r.link=e.link,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=e.preferDesktop,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(r),setTimeout(()=>this.updateQRCode(e.link),100)})}renderPendingModal(e){var n;return Be(this,void 0,void 0,function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");const r=document.createElement("mm-pending-modal");r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=e.displayOTP,r.addEventListener("close",e.onClose),r.addEventListener("updateOTPValue",({detail:{otpValue:i}})=>e.updateOTPValue(i)),e.onDisconnect&&r.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(r)})}updateOTPValue(e){const n=()=>{var r;const i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout(()=>{n()},800)}updateQRCode(e){var n,r;const i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector("mm-install-modal");if(i)i.link=e;else{const a=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector("mm-select-modal");a&&(a.link=e)}}unmount(){Object.entries(this.containers).forEach(([e,n])=>{var r;(r=n?.parentNode)===null||r===void 0||r.removeChild(n),this.containers[e]=void 0})}}const _X=({link:t,debug:e,installer:n,terminate:r,connectWithExtension:i,preferDesktop:a,onAnalyticsEvent:o})=>{let s=null,u=null;Le("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),Le(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),Le(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),Le(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),Le(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);const l=h=>{var p;Le("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",h,u),u?.parentNode&&((p=u.parentNode)===null||p===void 0||p.removeChild(u)),u=null,s=null,h===!0&&r?.()};return{mount:h=>{if(Le("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",u),u)return u.style.display="block",void(s==null||s.updateQRCode(h));s=new AL({debug:e,sdkVersion:Lu.version}),u=document.createElement("div"),document.body.appendChild(u),window.extension?s.renderSelectModal({parentElement:u,connectWithExtension:()=>{l(),i?.()},onClose:l,link:t,preferDesktop:a!=null&&a}).catch(p=>{console.error(p)}):s.renderInstallModal({parentElement:u,preferDesktop:a!=null&&a,link:t,metaMaskInstaller:n,onClose:l,onAnalyticsEvent:o}).catch(p=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",p)})},unmount:l}},CX=({onDisconnect:t,debug:e})=>{let n=null,r=null;const i=()=>{Le("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),n?.parentNode&&n.parentNode.removeChild(n),n=null,r=null},a=s=>{Le("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",s),r&&r.updateOTPValue(s)},o=({displayOTP:s}={displayOTP:!0})=>{Le("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new AL({debug:e,sdkVersion:Lu.version}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:t,updateOTPValue:a,displayOTP:s}).catch(u=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",u)}))};return o(),{mount:o,unmount:i,updateOTPValue:a}};function jL(t,e){var n,r,i,a;t.connector||(Le("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new jZ({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:Lu.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(Le("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(r=(n=e.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(a=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||a===void 0||a.call(i,()=>!1,1e4)))}function s4(t){t.listeners.forEach(({event:e,handler:n})=>{var r;(r=t.connector)===null||r===void 0||r.off(e,n)}),t.listeners=[]}function NX(t,e,n){return Be(this,void 0,void 0,function*(){const r=setTimeout(()=>{ar.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return new Promise((i,a)=>{if(!t.connector)return void a(new Error("No connector available"));Le("[RemoteConnection: connectWithModalInstaller()]",{state:t,options:e,linkParams:n});const o=`${t.useDeeplink?I0:k0}?${n}`;(function(s,u,l){var h,p,g,v;s.installModal=(p=(h=u.modals).install)===null||p===void 0?void 0:p.call(h,{link:l,preferDesktop:s.preferDesktop,installer:u.getMetaMaskInstaller(),terminate:()=>{Le("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),u.sdk.terminate().catch(y=>{console.warn("[MMSDK] failed to terminate connection",y)})},debug:s.developerMode,connectWithExtension:()=>{var y;return(y=u.connectWithExtensionProvider)===null||y===void 0||y.call(u),!1},onAnalyticsEvent:({event:y,params:w})=>{var C,x,M;const k=Object.assign(Object.assign({},w),{sdkVersion:u.sdk.getVersion(),dappId:(C=u.dappMetadata)===null||C===void 0?void 0:C.name,source:u._source,url:(x=u.dappMetadata)===null||x===void 0?void 0:x.url});(M=s.analytics)===null||M===void 0||M.send({event:y,params:k})}}),(v=(g=s.installModal)===null||g===void 0?void 0:g.mount)===null||v===void 0||v.call(g,l)})(t,e,o),e.sdk.once(tt.PROVIDER_UPDATE,s=>Be(this,void 0,void 0,function*(){if(Le("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),s===$s.TERMINATE){const u={code:4001,message:"User rejected the request."};return clearTimeout(r),void a(u)}a(s)})),t.connector.once(tt.AUTHORIZED,()=>{clearTimeout(r),i()}),t.connector.once(tt.REJECTED,()=>{clearTimeout(r),a(tt.REJECTED)}),t.connector.once(tt.CLIENTS_READY,()=>Be(this,void 0,void 0,function*(){Le("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(r),i()}))})})}function ML(t,e){function n(r,i){var a;(a=t.connector)===null||a===void 0||a.on(r,i),t.listeners.push({event:r,handler:i})}t.connector&&(s4(t),n(tt.WALLET_INIT,({accounts:r,chainId:i})=>Be(this,void 0,void 0,function*(){Le(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);const a=ls.getProvider();a._setConnected();const o={accounts:r,chainId:i,isUnlocked:!1};a._initializeState(o),a.emit("chainChanged",i),a.emit("accountsChanged",r)})),n(tt.AUTHORIZED,()=>Be(this,void 0,void 0,function*(){var r,i,a,o;try{Le("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);const s=ls.getProvider();s._setConnected(),(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(o=(a=t.installModal)===null||a===void 0?void 0:a.unmount)===null||o===void 0||o.call(a,!1),t.otpAnswer=void 0,t.authorized=!0,Le("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",s.getState()),yield s.forceInitializeState()}catch{}})),n(tt.TERMINATE,()=>{var r,i,a,o,s;(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(o=(a=t.installModal)===null||a===void 0?void 0:a.unmount)===null||o===void 0||o.call(a,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(s=t.connector)===null||s===void 0||s.disconnect({terminate:!0}),t.authorized=!1,ls.getProvider().handleDisconnect({terminate:!0}),s4(t),Le("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function AX(t,e,{initialCheck:n,connectWith:r}={}){var i,a,o,s,u,l,h,p,g,v,y,w,C,x,M,k,z,P,K;return Be(this,void 0,void 0,function*(){try{if(jL(t,e),!t.connector)throw new Error("no connector defined");ML(t);const W=ls.getProvider();t.authorized=!1,W.emit("connecting");const B=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();Le(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,B);let D=(a=B?.channelId)!==null&&a!==void 0?a:"",$=(s=(o=t.connector.getKeyInfo())===null||o===void 0?void 0:o.ecies.public)!==null&&s!==void 0?s:"",T=(l=(u=t.connector.getKeyInfo())===null||u===void 0?void 0:u.ecies.private)!==null&&l!==void 0?l:"";if(n&&!B)return Promise.resolve();if(!B&&!n){const Y=yield t.connector.generateChannelIdConnect();D=(h=Y.channelId)!==null&&h!==void 0?h:"",$=(p=Y.pubKey)!==null&&p!==void 0?p:"",T=(g=Y.privKey)!==null&&g!==void 0?g:"";const Q=Date.now();(v=t.connector.state.storageManager)===null||v===void 0||v.persistChannelConfig({channelId:D,localKey:T,lastActive:Q,validUntil:Q+lf})}if(n&&B?.channelId)return!((y=t.connector)===null||y===void 0)&&y.isConnected()||(Le(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,B),yield(w=t.connector)===null||w===void 0?void 0:w.connectToChannel({channelId:D})),Promise.resolve();B&&!(!((C=t.connector)===null||C===void 0)&&C.isConnected())&&(Le("[RemoteConnection: startConnection()] reconnecting to channel",B),yield(x=t.connector)===null||x===void 0?void 0:x.connectToChannel({channelId:D}));const b=!((M=t.platformManager)===null||M===void 0)&&M.isSecure()?"":"&t=q",_=Lu.version,{iconUrl:A,name:N,url:O,scheme:U}=e.dappMetadata||{},j=(k=t.platformManager)===null||k===void 0?void 0:k.getPlatformType();let I="N/A";typeof window<"u"&&window.location&&window.location.hostname?I=window.location.hostname:N!==void 0?I=N:O!==void 0&&(I=O);const E={url:O??"",title:N??"",icon:A,scheme:U??"",apiVersion:_,dappId:I||O||"N/A",anonId:e.anonId,platform:j??"",source:(z=e._source)!==null&&z!==void 0?z:""},L=ay(JSON.stringify(E));let q=`channelId=${D}&v=2&comm=${(P=t.communicationLayerPreference)!==null&&P!==void 0?P:""}&pubkey=${$}${b}&originatorInfo=${L}`;if(r){q+=`&rpc=${ay(JSON.stringify(r))}`;const Y=t.connector.getRPCMethodTracker();Y&&(Y[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const F=encodeURI(q),G=`${t.useDeeplink?I0:k0}?${q}`;if(t.qrcodeLink=G,t.developerMode&&Le(`[RemoteConnection: startConnection()] qrcodeLink=${F}`),W.emit("display_uri",G),ar.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),(K=t.platformManager)===null||K===void 0?void 0:K.isSecure()){const Y=setTimeout(()=>{ar.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return yield function(Q,ie){var Z,X;return Be(this,void 0,void 0,function*(){const te=`${k0}?${ie}`,ae=`${I0}?${ie}`;(X=(Z=Q.platformManager)===null||Z===void 0?void 0:Z.openDeeplink)===null||X===void 0||X.call(Z,te,ae,"_self")})}(t,F),new Promise((Q,ie)=>{var Z,X,te;if(!((Z=t.connector)===null||Z===void 0)&&Z.isAuthorized())return clearTimeout(Y),void Q();(X=t.connector)===null||X===void 0||X.once(tt.AUTHORIZED,()=>{clearTimeout(Y),Q()}),(te=t.connector)===null||te===void 0||te.once(tt.REJECTED,()=>{clearTimeout(Y),ie(tt.REJECTED)})})}return NX(t,e,F)}catch(W){throw console.error("[startConnection] error",W),W}})}class jX{constructor(e){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const a=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=e.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=a,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=_X),e.modals.otp||(e.modals.otp=CX)}startConnection(e){return Be(this,void 0,void 0,function*(){return AX(this.state,this.options,e)})}initRemoteCommunication({sdkInstance:e}){var n,r,i;return Be(this,void 0,void 0,function*(){const a=yield(r=(n=e.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){const o={privateKey:a?.localKey};this.options.ecies=o}jL(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),ML(this.state,this.options)})}showActiveModal(){return function(e){var n,r,i,a;e.authorized?Le("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(r=(n=e.pendingModal).mount)===null||r===void 0||r.call(n):e.installModal&&((a=(i=e.installModal).mount)===null||a===void 0||a.call(i,e.qrcodeLink||""))}(this.state)}closeModal(){var e,n,r,i;(n=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var n,r,i;Le("[RemoteConnection: disconnect()]",e),e?.terminate&&(ls.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),function(a){Le("[RemoteConnection: cleanupConnector()] cleaning up connector"),a.connector&&(s4(a),a.connector.disconnect({terminate:!0}).catch(o=>{Le("[RemoteConnection: cleanupConnector()] error disconnecting connector",o)}))}(this.state)}}function MX(t){var e,n,r,i,a,o,s,u,l,h,p;return Be(this,void 0,void 0,function*(){const{options:g}=t;if(g.logging=(e=g.logging)!==null&&e!==void 0?e:{},g.communicationLayerPreference=(n=g.communicationLayerPreference)!==null&&n!==void 0?n:Nu.SOCKET,g.enableDebug!==void 0&&(hi.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),g.enableAnalytics=(r=g.enableAnalytics)===null||r===void 0||r,g.injectProvider=(i=g.injectProvider)===null||i===void 0||i,g.shouldShimWeb3=(a=g.shouldShimWeb3)===null||a===void 0||a,g.extensionOnly=(o=g.extensionOnly)===null||o===void 0||o,g.useDeeplink=(s=g.useDeeplink)===null||s===void 0||s,g.storage=(u=g.storage)!==null&&u!==void 0?u:{enabled:!0},g.headless){hi("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const M=()=>{},k={install:()=>({mount:M,unmount:M})},z={installer:M};g.modals=k,g.ui=z}const v=((l=g.logging)===null||l===void 0?void 0:l.developerMode)===!0;t.debug=((h=g.logging)===null||h===void 0?void 0:h.sdk)||v,Le("[MetaMaskSDK: performSDKInitialization()] options",t.options);const y=Object.assign({},g.logging);v&&(y.sdk=!0,y.eciesLayer=!0,y.keyExchangeLayer=!0,y.remoteLayer=!0,y.serviceLayer=!0,y.plaintext=!0),yield function(M){var k;return Be(this,void 0,void 0,function*(){const{options:z}=M;M.platformManager=new M0({useDeepLink:(k=z.useDeeplink)!==null&&k!==void 0&&k,preferredOpenLink:z.openDeeplink,debug:M.debug})})}(t),yield function(M){var k,z,P,K,W;return Be(this,void 0,void 0,function*(){const{options:B}=M,D=(k=M.platformManager)===null||k===void 0?void 0:k.getPlatformType();M.analytics=new hX({serverUrl:(z=B.communicationServerUrl)!==null&&z!==void 0?z:of,enabled:B.enableAnalytics,originatorInfo:{url:(P=B.dappMetadata.url)!==null&&P!==void 0?P:"",title:(K=B.dappMetadata.name)!==null&&K!==void 0?K:"",dappId:M.getDappId(),platform:D??"",source:(W=B._source)!==null&&W!==void 0?W:"",anonId:""}})})}(t),yield function(M){var k,z,P;return Be(this,void 0,void 0,function*(){if(!M.options.enableAnalytics||!(!((k=M.platformManager)===null||k===void 0)&&k.isBrowser())&&!(!((z=M.platformManager)===null||z===void 0)&&z.isReactNative()))return;const K=M.getVersion(),W=M.getDappId(),B=yield M.getAnonId(),D=(P=M.platformManager)===null||P===void 0?void 0:P.getPlatformType(),$=M.options._source;ar.analytics.setGlobalProperty("sdk_version",K),ar.analytics.setGlobalProperty("dapp_id",W),ar.analytics.setGlobalProperty("anon_id",B),ar.analytics.setGlobalProperty("platform",D),ar.analytics.setGlobalProperty("integration_type",$),ar.analytics.enable(),ar.analytics.track("sdk_initialized",{})})}(t),yield function(M){var k;return Be(this,void 0,void 0,function*(){const{options:z}=M;((k=z.storage)===null||k===void 0?void 0:k.enabled)!==!0||z.storage.storageManager||(z.storage.storageManager=yield SL(z.storage))})}(t),yield function(M){return Be(this,void 0,void 0,function*(){const{options:k}=M,z=/^(http|https):\/\/[^\s]*$/;if(k.dappMetadata){k.dappMetadata.iconUrl&&!z.test(k.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),k.dappMetadata.iconUrl=void 0),k.dappMetadata.base64Icon&&k.dappMetadata.base64Icon.length>mX&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),k.dappMetadata.base64Icon=void 0),k.dappMetadata.url&&!z.test(k.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const P=pX();if(P&&!k.dappMetadata.iconUrl&&!k.dappMetadata.base64Icon){const K=`${window.location.protocol}//${window.location.host}${P}`;k.dappMetadata.iconUrl=K}}M.dappMetadata=k.dappMetadata})}(t),yield vX(t),yield yX(t);const{metamaskBrowserExtension:w,preferExtension:C,shouldReturn:x}=yield function(M){var k,z,P,K;return Be(this,void 0,void 0,function*(){const{options:W}=M;let B,D=!1,$=!1;if(typeof window<"u"&&window.ethereum&&!(!((k=M.platformManager)===null||k===void 0)&&k.isMetaMaskMobileWebView())){D=localStorage.getItem(iy)==="extension";try{B=yield gX({mustBeMetaMask:!0,sdkInstance:M}),window.extension=B,B.on(_s.CHAIN_CHANGED,T=>{Le(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${T}`),M.sdkProvider&&M.getMobileProvider().emit(_s.CHAIN_CHANGED,T)}),B.on(_s.ACCOUNTS_CHANGED,T=>Be(this,void 0,void 0,function*(){var b;Le(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${T}`);const _=!!M.sdkProvider,A=!!M.extensionActive;if(_&&M.getMobileProvider().emit(_s.ACCOUNTS_CHANGED,T),A&&T?.length===0&&(yield(b=M.getProvider())===null||b===void 0?void 0:b.request({method:jt.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield M.terminate()}catch(N){Le("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",N)}})),B.on(_s.DISCONNECT,T=>{Le(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${T}`),M.sdkProvider&&M.getMobileProvider().emit(_s.DISCONNECT,T)}),B.on(_s.CONNECT,T=>{Le(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${T}`),M.sdkProvider&&M.getMobileProvider().emit(_s.CONNECT,T)}),B.on(_s.CONNECTED,T=>{Le("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",T),M.sdkProvider&&M.getMobileProvider().emit(_s.CONNECTED,T)})}catch{window.extension=void 0}}else!((z=M.platformManager)===null||z===void 0)&&z.isMetaMaskMobileWebView()&&((P=M.analytics)===null||P===void 0||P.send({event:or.SDK_USE_INAPP_BROWSER}),M.activeProvider=NL({provider:window.ethereum,sdkInstance:M}),M._initialized=!0,$=!0);return B&&W.extensionOnly&&(Le("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(K=M.analytics)===null||K===void 0||K.send({event:or.SDK_USE_EXTENSION}),M.activeProvider=B,M.extensionActive=!0,M.extension=B,M._initialized=!0,$=!0),{preferExtension:D,shouldReturn:$,metamaskBrowserExtension:B}})}(t);if(x)Le("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(M,k){var z,P,K,W,B;return Be(this,void 0,void 0,function*(){const{options:D}=M,$=Object.assign({},D.logging);M.remoteConnection=new jX({anonId:yield M.getAnonId(),preferDesktop:(z=D.preferDesktop)!==null&&z!==void 0&&z,communicationLayerPreference:(P=D.communicationLayerPreference)!==null&&P!==void 0?P:Nu.SOCKET,analytics:M.analytics,dappMetadata:D.dappMetadata,_source:D._source,enableAnalytics:(K=D.enableAnalytics)===null||K===void 0||K,timer:D.timer,sdk:M,platformManager:M.platformManager,transports:D.transports,communicationServerUrl:D.communicationServerUrl,storage:(W=D.storage)!==null&&W!==void 0?W:{enabled:!0},getMetaMaskInstaller:()=>{if(!M.installer)throw new Error("Invalid SDK status -- installer not initialized");return M.installer},logging:$,connectWithExtensionProvider:k===void 0?void 0:()=>TM(M),modals:Object.assign(Object.assign({},D.modals),{onPendingModalDisconnect:M.terminate.bind(M)})}),yield M.remoteConnection.initRemoteCommunication({sdkInstance:M}),M.installer=new SX({remote:M.remoteConnection,preferDesktop:(B=D.preferDesktop)!==null&&B!==void 0&&B,platformManager:M.platformManager,debug:M.debug})})}(t,w),yield dX(t),yield function(M,k){var z,P;return Be(this,void 0,void 0,function*(){const{options:K}=M;k?(Le("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(z=M.analytics)===null||z===void 0||z.send({event:or.SDK_EXTENSION_UTILIZED}),TM(M).catch(W=>{console.warn("Can't connect with MetaMask extension...",W),localStorage.removeItem(iy)})):K.checkInstallationImmediately&&(!((P=M.platformManager)===null||P===void 0)&&P.isDesktopWeb()?(Le("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),M.connect().catch(W=>{Le(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${W}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),M._initialized=!0})}(t,C);try{yield(p=t.remoteConnection)===null||p===void 0?void 0:p.startConnection({initialCheck:!0})}catch(M){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",M)}t.emit(Pi.ProviderUpdate,$s.INITIALIZED)}})}class OX extends oJ{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:kM,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",hi.disable();const a=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=e.logging)===null||r===void 0)&&r.sdk||a)&&hi.enable("MM_SDK"),Le("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=kM),this.init().then(()=>{Le("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(o=>{console.error("[MetaMaskSDK: constructor()] error during initialization",o)})}init(){return Be(this,void 0,void 0,function*(){return function(e){var n;return Be(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return Le("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return Le("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return Le("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=MX(e),yield e.sdkInitPromise}catch(r){throw console.error(r),r}return e.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return Be(this,void 0,void 0,function*(){return function(e){return Be(this,void 0,void 0,function*(){if(e._initialized||(Le("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),Le(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=e.activeProvider.getSelectedAddress();return n?[n]:e.activeProvider.request({method:jt.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:e}){return Be(this,void 0,void 0,function*(){return oX({instance:this,msg:e})})}connectWith(e){return Be(this,void 0,void 0,function*(){return function({instance:n,rpc:r}){return Be(this,void 0,void 0,function*(){if(n._initialized||(Le("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield n.init()),Le(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");return n.activeProvider.request({method:jt.METAMASK_CONNECTWITH,params:[r]})})}({instance:this,rpc:e})})}resume(){return function(e){var n,r,i;return Be(this,void 0,void 0,function*(){if(!(!((r=(n=e.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return Le("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());Le("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return function(e){var n,r,i;return Be(this,void 0,void 0,function*(){if(!(!((n=e.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if(sX&&(window.localStorage.removeItem(iy),window.localStorage.removeItem(a4),window.localStorage.removeItem(i4)),e.extensionActive){try{yield(r=e.activeProvider)===null||r===void 0?void 0:r.request({method:jt.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(a){Le("[MetaMaskSDK: terminate()] error revoking permissions",a)}return e.options.extensionOnly?(e.emit(Pi.ProviderUpdate,$s.TERMINATE),void Le("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(Pi.ProviderUpdate,$s.TERMINATE))}e.emit(Pi.ProviderUpdate,$s.TERMINATE),Le(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;const n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!n)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return n}getChannelId(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return Lu.version}getDappId(){var e,n,r,i;return typeof window>"u"||window.location===void 0?(i=(n=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:(r=this.options.dappMetadata)===null||r===void 0?void 0:r.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var e,n;return Be(this,void 0,void 0,function*(){if(this._anonId)return this._anonId;let r;return r=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((n=this.platformManager)===null||n===void 0)&&n.isReactNative()?yield this.getReactNativeAnonId():Xl(),this._anonId=r,r})}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const n=localStorage.getItem(e);if(n)return n;const r=Xl();return localStorage.setItem(e,r),r}catch(n){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",n),Xl()}}getReactNativeAnonId(){return Be(this,void 0,void 0,function*(){const e=this.ANON_ID_STORAGE_KEY;try{const n=require("@react-native-async-storage/async-storage").default,r=yield n.getItem(e);if(r)return r;const i=Xl();return yield n.setItem(e,i),i}catch(n){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",n),Xl()}})}getWalletStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,n){return super.emit(e,n)}on(e,n){return super.on(e,n)}}var kX=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return Be(this,void 0,void 0,function*(){const e=JSON.stringify(t);Le(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(A2,e)})}getPersistedChannelConfig(){return Be(this,void 0,void 0,function*(){let t;try{if(Le(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(A2),Le("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;const e=JSON.parse(t);return Le("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}})}persistAccounts(t){return Be(this,void 0,void 0,function*(){Le(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);const e=JSON.stringify(t);localStorage.setItem(i4,e)})}getCachedAccounts(){return Be(this,void 0,void 0,function*(){try{const t=localStorage.getItem(i4);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}})}persistChainId(t){return Be(this,void 0,void 0,function*(){Le(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(a4,t)})}getCachedChainId(){return Be(this,void 0,void 0,function*(){try{const t=localStorage.getItem(a4);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}})}terminate(){return Be(this,void 0,void 0,function*(){Le(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(A2)})}}});const IX="hydrated",TX=!1,RX=!0;var PX=Object.defineProperty,t5=new WeakMap,sc=t=>t5.get(t),n5=(t,e)=>t5.set(e.$lazyInstance$=t,e),zM=(t,e)=>e in t,wu=(t,e)=>(0,console.error)(t,e),j2=new Map,wv=new Map,OL="slot-fb{display:contents}slot-fb[hidden]{display:none}",ib=typeof window<"u"?window:{},Ls=ib.document||{head:{}},Dr={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},kL=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),o4=!1,HM=[],IL=[],LX=(t,e)=>n=>{t.push(n),o4||(o4=!0,4&Dr.$flags$?r5(l4):Dr.raf(l4))},KM=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){wu(n)}t.length=0},l4=()=>{KM(HM),KM(IL),(o4=HM.length>0)&&Dr.raf(l4)},r5=t=>(e=>Promise.resolve(e))().then(t),DX=LX(IL),WM={},i5=t=>(t=typeof t)=="object"||t==="function";function TL(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}((t,e)=>{for(var n in e)PX(t,n,{get:e[n],enumerable:!0})})({},{err:()=>RL,map:()=>BX,ok:()=>c4,unwrap:()=>UX,unwrapErr:()=>$X});var c4=t=>({isOk:!0,isErr:!1,value:t}),RL=t=>({isOk:!1,isErr:!0,value:t});function BX(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>c4(r)):c4(n)}if(t.isErr){const n=t.value;return RL(n)}throw"should never get here"}var a5,UX=t=>{if(t.isOk)return t.value;throw t.value},$X=t=>{if(t.isErr)return t.value;throw t.value},De=(t,e,...n)=>{let r=null,i=!1,a=!1;const o=[],s=l=>{for(let h=0;h<l.length;h++)r=l[h],Array.isArray(r)?s(r):r!=null&&typeof r!="boolean"&&((i=typeof t!="function"&&!i5(r))&&(r=String(r)),i&&a?o[o.length-1].$text$+=r:o.push(i?oy(null,r):r),a=i)};if(s(n),e){const l=e.className||e.class;l&&(e.class=typeof l!="object"?l:Object.keys(l).filter(h=>l[h]).join(" "))}if(typeof t=="function")return t(e===null?{}:e,o,qX);const u=oy(t,null);return u.$attrs$=e,o.length>0&&(u.$children$=o),u},oy=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),FX={},qX={forEach:(t,e)=>t.map(VM).forEach(e),map:(t,e)=>t.map(VM).map(e).map(zX)},VM=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),zX=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),De(t.vtag,n,...t.vchildren||[])}const e=oy(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},ab=t=>sc(t).$hostElement$,uc=(t,e,n)=>{const r=ab(t);return{emit:i=>PL(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},PL=(t,e,n)=>{const r=Dr.ce(e,n);return t.dispatchEvent(r),r},GM=new WeakMap,HX=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$;e.$tagName$;const i=((a,o,s)=>{var u;const l=LL(o),h=wv.get(l);if(a=a.nodeType===11?a:Ls,h)if(typeof h=="string"){a=a.head||a;let p,g=GM.get(a);if(g||GM.set(a,g=new Set),!g.has(l)){{p=Ls.createElement("style"),p.innerHTML=h;const v=(u=Dr.$nonce$)!=null?u:TL(Ls);if(v!=null&&p.setAttribute("nonce",v),!(1&o.$flags$))if(a.nodeName==="HEAD"){const y=a.querySelectorAll("link[rel=preconnect]"),w=y.length>0?y[y.length-1].nextSibling:a.querySelector("style");a.insertBefore(p,w)}else if("host"in a)if(kL){const y=new CSSStyleSheet;y.replaceSync(h),a.adoptedStyleSheets=[y,...a.adoptedStyleSheets]}else{const y=a.querySelector("style");y?y.innerHTML=h+y.innerHTML:a.prepend(p)}else a.append(p);1&o.$flags$&&a.nodeName!=="HEAD"&&a.insertBefore(p,null)}4&o.$flags$&&(p.innerHTML+=OL),g&&g.add(l)}}else a.adoptedStyleSheets.includes(h)||(a.adoptedStyleSheets=[...a.adoptedStyleSheets,h]);return l})(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&2&r&&(n["s-sc"]=i,n.classList.add(i+"-h"))},LL=(t,e)=>"sc-"+t.$tagName$,YM=(t,e,n,r,i,a)=>{if(n!==r){let o=zM(t,e),s=e.toLowerCase();if(e==="class"){const u=t.classList,l=JM(n),h=JM(r);u.remove(...l.filter(p=>p&&!h.includes(p))),u.add(...h.filter(p=>p&&!l.includes(p)))}else if(e==="style"){for(const u in n)r&&r[u]!=null||(u.includes("-")?t.style.removeProperty(u):t.style[u]="");for(const u in r)n&&r[u]===n[u]||(u.includes("-")?t.style.setProperty(u,r[u]):t.style[u]=r[u])}else if(o||e[0]!=="o"||e[1]!=="n"){const u=i5(r);if((o||u&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const l=r??"";e==="list"?o=!1:n!=null&&t[e]==l||(typeof t.__lookupSetter__(e)=="function"?t[e]=l:t.setAttribute(e,l))}}catch{}r==null||r===!1?r===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!o||4&a||i)&&!u&&(r=r===!0?"":r,t.setAttribute(e,r))}else if(e=e[2]==="-"?e.slice(3):zM(ib,s)?s.slice(2):s[2]+e.slice(3),n||r){const u=e.endsWith(DL);e=e.replace(WX,""),n&&Dr.rel(t,e,n,u),r&&Dr.ael(t,e,r,u)}}},KX=/\s/,JM=t=>t?t.split(KX):[],DL="Capture",WX=new RegExp(DL+"$"),BL=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||WM,a=e.$attrs$||WM;for(const o of ZM(Object.keys(i)))o in a||YM(r,o,i[o],void 0,n,e.$flags$);for(const o of ZM(Object.keys(a)))YM(r,o,i[o],a[o],n,e.$flags$)};function ZM(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Pa=!1,s5=(t,e,n,r)=>{const i=e.$children$[n];let a,o,s=0;if(i.$text$!==null)a=i.$elm$=Ls.createTextNode(i.$text$);else{if(Pa||(Pa=i.$tag$==="svg"),a=i.$elm$=Ls.createElementNS(Pa?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),Pa&&i.$tag$==="foreignObject"&&(Pa=!1),BL(null,i,Pa),a.getRootNode().querySelector("body"),i.$children$)for(s=0;s<i.$children$.length;++s)o=s5(t,i,s),o&&a.appendChild(o);i.$tag$==="svg"?Pa=!1:a.tagName==="foreignObject"&&(Pa=!0)}return a["s-hn"]=a5,a},QM=(t,e,n,r,i,a)=>{let o,s=t;for(s.shadowRoot&&s.tagName===a5&&(s=s.shadowRoot);i<=a;++i)r[i]&&(o=s5(null,n,i),o&&(r[i].$elm$=o,xv(s,o,e)))},XM=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const a=i.$elm$;a&&a.remove()}}},Tg=(t,e,n=!1)=>t.$tag$===e.$tag$,Wh=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,a=e.$children$,o=e.$tag$,s=e.$text$;s===null?(BL(t,e,Pa=o==="svg"||o!=="foreignObject"&&Pa),i!==null&&a!==null?((u,l,h,p,g=!1)=>{let v,y=0,w=0,C=l.length-1,x=l[0],M=l[C],k=p.length-1,z=p[0],P=p[k];for(;y<=C&&w<=k;)x==null?x=l[++y]:M==null?M=l[--C]:z==null?z=p[++w]:P==null?P=p[--k]:Tg(x,z,g)?(Wh(x,z,g),x=l[++y],z=p[++w]):Tg(M,P,g)?(Wh(M,P,g),M=l[--C],P=p[--k]):Tg(x,P,g)?(Wh(x,P,g),xv(u,x.$elm$,M.$elm$.nextSibling),x=l[++y],P=p[--k]):Tg(M,z,g)?(Wh(M,z,g),xv(u,M.$elm$,x.$elm$),M=l[--C],z=p[++w]):(v=s5(l&&l[w],h,w),z=p[++w],v&&xv(x.$elm$.parentNode,v,x.$elm$));y>C?QM(u,p[k+1]==null?null:p[k+1].$elm$,h,p,w,k):w>k&&XM(l,y,C)})(r,i,e,a,n):a!==null?(t.$text$!==null&&(r.textContent=""),QM(r,null,e,a,0,a.length-1)):!n&&RX&&i!==null&&XM(i,0,i.length-1),Pa&&o==="svg"&&(Pa=!1)):t.$text$!==s&&(r.data=s)},xv=(t,e,n)=>t?.insertBefore(e,n),VX=(t,e,n=!1)=>{const r=t.$hostElement$,i=t.$cmpMeta$,a=t.$vnode$||oy(null,null),o=(s=e)&&s.$tag$===FX?e:De(null,null,e);var s;if(a5=r.tagName,n&&o.$attrs$)for(const u of Object.keys(o.$attrs$))r.hasAttribute(u)&&!["key","ref","style","class"].includes(u)&&(o.$attrs$[u]=r[u]);o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=a.$elm$=r.shadowRoot||r,r["s-sc"],1&i.$flags$,Wh(a,o,n)},UL=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(n=>t.$onRenderResolve$=n))},o5=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(UL(t,t.$ancestorComponent$),DX(()=>GX(t,e)))),GX=(t,e)=>{const n=t.$hostElement$;t.$cmpMeta$.$tagName$;const r=t.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return YX(void 0,()=>ZX(t,r,e))},YX=(t,e)=>JX(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),JX=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",ZX=async(t,e,n)=>{var r;const i=t.$hostElement$;t.$cmpMeta$.$tagName$;const a=i["s-rc"];n&&HX(t),t.$cmpMeta$.$tagName$,QX(t,e,i,n),a&&(a.map(o=>o()),i["s-rc"]=void 0);{const o=(r=i["s-p"])!=null?r:[],s=()=>XX(t);o.length===0?s():(Promise.all(o).then(s),t.$flags$|=4,o.length=0)}},QX=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,VX(t,e,r)}catch(i){wu(i,t.$hostElement$)}return null},XX=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,n=()=>{},r=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?n():(t.$flags$|=64,FL(e),l5(r,"componentDidLoad"),t.$onReadyResolve$(e),i||$L()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&r5(()=>o5(t,!1)),t.$flags$&=-517},$L=t=>{FL(Ls.documentElement),r5(()=>PL(ib,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},l5=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){wu(r)}},FL=t=>{var e;return t.classList.add((e=IX)!=null?e:"hydrated")},eee=(t,e,n,r)=>{const i=sc(t);if(!i)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const a=i.$hostElement$,o=i.$instanceValues$.get(e),s=i.$flags$,u=i.$lazyInstance$;var l,h;l=n,h=r.$members$[e][0],n=l==null||i5(l)?l:4&h?l!=="false"&&(l===""||!!l):1&h?String(l):l;const p=Number.isNaN(o)&&Number.isNaN(n);if((!(8&s)||o===void 0)&&n!==o&&!p&&(i.$instanceValues$.set(e,n),u)){if(r.$watchers$&&128&s){const g=r.$watchers$[e];g&&g.map(v=>{try{u[v](n,o,e)}catch(y){wu(y,a)}})}(18&s)==2&&o5(i,!1)}},qL=(t,e,n)=>{var r,i;const a=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((r=e.$members$)!=null?r:{});if(o.map(([s,[u]])=>{(31&u||2&n&&32&u)&&Object.defineProperty(a,s,{get(){return l=s,sc(this).$instanceValues$.get(l);var l},set(l){eee(this,s,l,e)},configurable:!0,enumerable:!0})}),1&n){const s=new Map;a.attributeChangedCallback=function(u,l,h){Dr.jmp(()=>{var p;const g=s.get(u);if(this.hasOwnProperty(g))h=this[g],delete this[g];else{if(a.hasOwnProperty(g)&&typeof this[g]=="number"&&this[g]==h)return;if(g==null){const v=sc(this),y=v?.$flags$;if(y&&!(8&y)&&128&y&&h!==l){const w=v.$lazyInstance$,C=(p=e.$watchers$)==null?void 0:p[u];C?.forEach(x=>{w[x]!=null&&w[x].call(w,h,l,u)})}return}}this[g]=(h!==null||typeof this[g]!="boolean")&&h})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter(([u,l])=>15&l[0]).map(([u,l])=>{const h=l[1]||u;return s.set(h,u),h})]))}}return t},tee=async(t,e,n,r)=>{let i;if((32&e.$flags$)==0){if(e.$flags$|=32,n.$lazyBundleId$){const s=((u,l,h)=>{const p=u.$tagName$.replace(/-/g,"_"),g=u.$lazyBundleId$;if(!g)return;const v=j2.get(g);if(v)return v[p];{const y=w=>(j2.set(g,w),w[p]);if(g==="mm-install-modal_3")return Promise.resolve().then(function(){return gee}).then(y,wu)}return yn(()=>import(`./${g}.entry.js`),[]).then(y=>(j2.set(g,y),y[p]),wu)})(n);if(s&&"then"in s?i=await s:i=s,!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(n.$watchers$=i.watchers,qL(i,n,2),i.isProxied=!0),n.$tagName$,e.$flags$|=8;try{new i(e)}catch(u){wu(u)}e.$flags$&=-9,e.$flags$|=128,u4(e.$lazyInstance$)}else{i=t.constructor;const s=t.localName;customElements.whenDefined(s).then(()=>e.$flags$|=128)}if(i&&i.style){let s;typeof i.style=="string"&&(s=i.style);const u=LL(n);wv.has(u)||(n.$tagName$,((l,h,p)=>{let g=wv.get(l);kL&&p?(g=g||new CSSStyleSheet,typeof g=="string"?g=h:g.replaceSync(h)):g=h,wv.set(l,g)})(u,s,!!(1&n.$flags$)))}}const a=e.$ancestorComponent$,o=()=>o5(e,!0);a&&a["s-rc"]?a["s-rc"].push(o):o()},u4=t=>{l5(t,"connectedCallback")},eO=t=>{l5(t,"disconnectedCallback")},nee=(t,e={})=>{var n;const r=[],i=e.exclude||[],a=ib.customElements,o=Ls.head,s=o.querySelector("meta[charset]"),u=Ls.createElement("style"),l=[];let h,p=!0;Object.assign(Dr,e),Dr.$resourcesUrl$=new URL(e.resourcesUrl||"./",Ls.baseURI).href;let g=!1;if(t.map(v=>{v[1].map(y=>{var w;const C={$flags$:y[0],$tagName$:y[1],$members$:y[2],$listeners$:y[3]};4&C.$flags$&&(g=!0),C.$members$=y[2],C.$watchers$=(w=y[4])!=null?w:{};const x=C.$tagName$,M=class extends HTMLElement{constructor(k){if(super(k),this.hasRegisteredEventListeners=!1,((z,P)=>{const K={$flags$:0,$hostElement$:z,$cmpMeta$:P,$instanceValues$:new Map};K.$onReadyPromise$=new Promise(W=>K.$onReadyResolve$=W),z["s-p"]=[],z["s-rc"]=[],t5.set(z,K)})(k=this,C),1&C.$flags$)if(k.shadowRoot){if(k.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${C.$tagName$}! Mode is set to ${k.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else k.attachShadow({mode:"open"})}connectedCallback(){sc(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),h&&(clearTimeout(h),h=null),p?l.push(this):Dr.jmp(()=>(k=>{if((1&Dr.$flags$)==0){const z=sc(k),P=z.$cmpMeta$;if(P.$tagName$,1&z.$flags$)z?.$lazyInstance$?u4(z.$lazyInstance$):z?.$onReadyPromise$&&z.$onReadyPromise$.then(()=>u4(z.$lazyInstance$));else{z.$flags$|=1;{let K=k;for(;K=K.parentNode||K.host;)if(K["s-p"]){UL(z,z.$ancestorComponent$=K);break}}P.$members$&&Object.entries(P.$members$).map(([K,[W]])=>{if(31&W&&k.hasOwnProperty(K)){const B=k[K];delete k[K],k[K]=B}}),tee(k,z,P)}}})(this))}disconnectedCallback(){Dr.jmp(()=>(async k=>{if((1&Dr.$flags$)==0){const z=sc(k);z?.$lazyInstance$?eO(z.$lazyInstance$):z?.$onReadyPromise$&&z.$onReadyPromise$.then(()=>eO(z.$lazyInstance$))}})(this))}componentOnReady(){return sc(this).$onReadyPromise$}};C.$lazyBundleId$=v[0],i.includes(x)||a.get(x)||(r.push(x),a.define(x,qL(M,C,1)))})}),r.length>0&&(g&&(u.textContent+=OL),u.textContent+=r.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",u.innerHTML.length)){u.setAttribute("data-styles","");const v=(n=Dr.$nonce$)!=null?n:TL(Ls);v!=null&&u.setAttribute("nonce",v),o.insertBefore(u,s?s.nextSibling:o.firstChild)}p=!1,l.length?l.map(v=>v.connectedCallback()):Dr.jmp(()=>h=setTimeout($L,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var ree=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,nee([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>Dr.$nonce$=t});const iee={fontFamily:"Roboto, sans-serif"},c5=({className:t},e)=>De("div",{style:iee,class:t},e),M2=({Icon:t,text:e})=>De("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},De("div",{class:"flexItem1"},De(t,null)),De("div",{class:"flexItem11"},De("span",{style:{lineHeight:"2",color:"black"}},e))),aee=()=>De("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),De("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),see=()=>De("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),oee=()=>De("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),lee=()=>De("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),De("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),De("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function u5({version:t}){return De("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}const d5=()=>De("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("rect",{width:"16",height:"16",fill:"white"}),De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),f5=()=>De("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},De("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function nu(t,e){return t.toString(2).padStart(e,"0")}function tO(t,e){const n=t%e;return n>=0?n:e+n}function sa(t,e){return new Array(t).fill(e)}function nO(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function rO(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function iO(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class na{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){const n=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),r=n.length,i=new Array(r);let a;for(const o of n){const s=o.split("").map(u=>{if(u==="X")return!0;if(u===" ")return!1;if(u!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${u}`)});if(a&&s.length!==a)throw new Error(`Bitmap.fromString different row sizes: width=${a} cur=${s.length}`);a=s.length,i.push(s)}return a||(a=0),new na({height:r,width:a},i)}constructor(e,n){const{height:r,width:i}=na.size(e);this.data=n||Array.from({length:r},()=>sa(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=tO(e.x,this.width),e.y=tO(e.y,this.height),e}rect(e,n,r){const{x:i,y:a}=this.xy(e),{height:o,width:s}=na.size(n,this.size({x:i,y:a}));for(let u=0;u<o;u++)for(let l=0;l<s;l++)this.data[a+u][i+l]=typeof r=="function"?r({x:l,y:u},this.data[a+u][i+l]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,a)=>(r(i,a),a))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,a=sa(e,n),o=Array.from({length:e},()=>sa(i,n));return new na({height:r,width:i},[...o,...this.data.map(s=>[...a,...s,...a]),...o])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new na(na.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:a},o)=>r.data[a][i]=o),r}inverse(){const{height:e,width:n}=this;return new na({height:n,width:e}).rect({x:0,y:0},1/0,({x:r,y:i})=>this.data[r][i])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:n,width:r}=this;return new na({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:i,y:a})=>this.data[Math.floor(a/e)][Math.floor(i/e)])}clone(){return new na(this.size()).rect({x:0,y:0},this.size(),({x:e,y:n})=>this.data[n][e])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error("Invalid color type="+typeof n)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(`
`)}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let a=0;a<e;a+=2){for(let o=0;o<n;o++){const s=r[a][o],u=a+1>=e||r[a+1][o];s||u?!s&&u?i+="":s&&!u?i+="":s&&u&&(i+=" "):i+=""}i+=`
`}return i}toTerm(){const e="\x1B[0m",n=`\x1B[1;47m  ${e}`,r=`\x1B[40m  ${e}`;return this.data.map(i=>i.map(a=>a?r:n).join("")).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:n,y:r},i)=>{i&&(e+=`<rect x="${n}" y="${r}" width="1" height="1" />`)}),e+="</svg>",e}toGIF(){const e=s=>[255&s,s>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(s,u)=>r.push(+(u===!0)));const i=126,a=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...sa(381,0),44,0,0,0,0,...n,0,7],o=Math.floor(r.length/i);for(let s=0;s<o;s++)a.push(127,128,...r.slice(i*s,i*(s+1)).map(u=>+u));return a.push(r.length%i+1,128,...r.slice(o*i).map(s=>+s)),a.push(1,129,0,59),new Uint8Array(a)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let a=0;for(let o=0;o<n;o++)for(let s=0;s<r;s++){const u=this.data[o][s]?0:255;i[a++]=u,i[a++]=u,i[a++]=u,e||(i[a++]=255)}return{height:n,width:r,data:i}}}const aO=["low","medium","quartile","high"],sO=["numeric","alphanumeric","byte","kanji","eci"],cee=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],uee={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},dee={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},ti={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=ti.size.encode(t)-6-1,n=e-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const a=[6];for(let o=1;o<r;o++)a.push(e-(r-o)*i);return a.push(e),a},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=ti.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^ti.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:iO("0123456789"),alphanumerc:iO("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][ti.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=cee[t-1],r=uee[e][t-1],i=dee[e][t-1],a=Math.floor(n/i)-r,o=i-n%i;return{words:r,numBlocks:i,shortBlocks:o,blockLen:a,capacity:8*(n-r*i),total:(r+a)*i+i-o}}},d4=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],ft={tables:(t=>{const e=sa(256,0),n=sa(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:e,log:n}})(),exp:t=>ft.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return ft.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:ft.tables.exp[(ft.tables.log[t]+ft.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>ft.tables.exp[ft.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return ft.tables.exp[255-ft.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let n=sa(t+1,0);return n[0]=e,ft.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[ft.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=sa(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=ft.add(n[r+i],ft.mul(t[r],e[i]));return ft.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=sa(t.length,0);for(let r=0;r<t.length;r++)n[r]=ft.mul(t[r],e);return ft.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(n==0)return[0];const r=sa(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=ft.mul(t[i],n);return ft.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=sa(r.length,0),a=r.length-n.length,o=r.slice(0,a);for(let s=0;s<o.length;s++)i[s]=o[s];for(let s=a;s<r.length;s++)i[s]=ft.add(n[s-a],r[s]);return ft.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let a=1;a<e.length;a++)e[a]!==0&&(n[r+a]=ft.add(n[r+a],ft.mul(e[a],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=ft.mulPoly(e,[1,ft.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return ft.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=ft.add(ft.mul(e,n),t[r]);return n},euclidian(t,e,n){ft.degree(t)<ft.degree(e)&&([t,e]=[e,t]);let r=t,i=e,a=[0],o=[1];for(;2*ft.degree(i)>=n;){let l=r,h=a;if(r=i,a=o,r[0]===0)throw new Error("rLast[0] === 0");i=l;let p=[0];const g=ft.inv(r[0]);for(;ft.degree(i)>=ft.degree(r)&&i[0]!==0;){const v=ft.degree(i)-ft.degree(r),y=ft.mul(i[0],g);p=ft.addPoly(p,ft.monomial(v,y)),i=ft.addPoly(i,ft.mulPolyMonomial(r,v,y))}if(p=ft.mulPoly(p,a),o=ft.addPoly(p,h),ft.degree(i)>=ft.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const s=ft.coefficient(o,0);if(s==0)throw new Error("sigmaTilde(0) was zero");const u=ft.inv(s);return[ft.mulPolyScalar(o,u),ft.mulPolyScalar(i,u)]}};function fee(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:a,total:o}=ti.capacity(t,e),s=(u=n,{encode(l){const h=ft.divisorPoly(u),p=Array.from(l);return p.push(...h.slice(0,-1).fill(0)),Uint8Array.from(ft.remainderPoly(p,h))},decode(l){const h=l.slice(),p=ft.polynomial(Array.from(l));let g=sa(u,0),v=!1;for(let k=0;k<u;k++){const z=ft.evalPoly(p,ft.exp(k));g[g.length-1-k]=z,z!==0&&(v=!0)}if(!v)return h;g=ft.polynomial(g);const y=ft.monomial(u,1),[w,C]=ft.euclidian(y,g,u),x=sa(ft.degree(w),0);let M=0;for(let k=1;k<256&&M<x.length;k++)ft.evalPoly(w,k)===0&&(x[M++]=ft.inv(k));if(M!==x.length)throw new Error("RS.decode: wrong errors number");for(let k=0;k<x.length;k++){const z=h.length-1-ft.log(x[k]);if(z<0)throw new Error("RS.decode: wrong error location");const P=ft.inv(x[k]);let K=1;for(let W=0;W<x.length;W++)k!==W&&(K=ft.mul(K,ft.add(1,ft.mul(x[W],P))));h[z]=ft.add(h[z],ft.mul(ft.evalPoly(C,P),ft.inv(K)))}return h}});var u;return{encode(l){const h=[],p=[];for(let w=0;w<i;w++){const C=a+(w<r?0:1);h.push(l.subarray(0,C)),p.push(s.encode(l.subarray(0,C))),l=l.subarray(C)}const g=nO(...h),v=nO(...p),y=new Uint8Array(g.length+v.length);return y.set(g),y.set(v,g.length),y},decode(l){if(l.length!==o)throw new Error(`interleave.decode: len(data)=${l.length}, total=${o}`);const h=[];for(let v=0;v<i;v++){const y=v<r;h.push(new Uint8Array(n+a+(y?0:1)))}let p=0;for(let v=0;v<a;v++)for(let y=0;y<i;y++)h[y][v]=l[p++];for(let v=r;v<i;v++)h[v][a]=l[p++];for(let v=a;v<a+n;v++)for(let y=0;y<i;y++){const w=y<r;h[y][v+(w?0:1)]=l[p++]}const g=[];for(const v of h)g.push(...Array.from(s.decode(v)).slice(0,-n));return Uint8Array.from(g)}}}function oO(t,e,n,r){let i="",a=n.length;if(r==="numeric"){const p=ti.alphabet.numeric.decode(n.split("")),g=p.length;for(let v=0;v<g-2;v+=3)i+=nu(100*p[v]+10*p[v+1]+p[v+2],10);g%3==1?i+=nu(p[g-1],4):g%3==2&&(i+=nu(10*p[g-2]+p[g-1],7))}else if(r==="alphanumeric"){const p=ti.alphabet.alphanumerc.decode(n.split("")),g=p.length;for(let v=0;v<g-1;v+=2)i+=nu(45*p[v]+p[v+1],11);g%2==1&&(i+=nu(p[g-1],6))}else{if(r!=="byte")throw new Error("encode: unsupported type");{const p=function(g){if(typeof g!="string")throw new Error("utf8ToBytes expected string, got "+typeof g);return new Uint8Array(new TextEncoder().encode(g))}(n);a=p.length,i=Array.from(p).map(g=>nu(g,8)).join("")}}const{capacity:o}=ti.capacity(t,e),s=nu(a,ti.lengthBits(t,r));let u=ti.modeBits[r]+s+i;if(u.length>o)throw new Error("Capacity overflow");u+="0".repeat(Math.min(4,Math.max(0,o-u.length))),u.length%8&&(u+="0".repeat(8-u.length%8));const l="1110110000010001";for(let p=0;u.length!==o;p++)u+=l[p%16];const h=Uint8Array.from(u.match(/(.{8})/g).map(p=>+`0b${p}`));return fee(t,e).encode(h)}function lO(t,e,n,r,i=!1){const a=function(u,l,h,p=!1){const g=ti.size.encode(u);let v=new na(g+2);const y=new na(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);v=v.embed(0,y).embed({x:-y.width,y:0},y).embed({x:0,y:-y.height},y),v=v.rectSlice(1,g);const w=new na(1).rect(0,1,!0).border(1,!1).border(1,!0),C=ti.alignmentPatterns(u);for(const x of C)for(const M of C)v.data[x][M]===void 0&&v.embed({x:M-2,y:x-2},w);v=v.hLine({x:0,y:6},1/0,({x},M)=>M===void 0?x%2==0:M).vLine({x:6,y:0},1/0,({y:x},M)=>M===void 0?x%2==0:M);{const x=ti.formatBits(l,h),M=k=>!p&&(x>>k&1)==1;for(let k=0;k<6;k++)v.data[k][8]=M(k);for(let k=6;k<8;k++)v.data[k+1][8]=M(k);for(let k=8;k<15;k++)v.data[g-15+k][8]=M(k);for(let k=0;k<8;k++)v.data[8][g-k-1]=M(k);for(let k=8;k<9;k++)v.data[8][15-k-1+1]=M(k);for(let k=9;k<15;k++)v.data[8][15-k-1]=M(k);v.data[g-8][8]=!p}if(u>=7){const x=ti.versionBits(u);for(let M=0;M<18;M+=1){const k=!p&&(x>>M&1)==1,z=Math.floor(M/3),P=M%3+g-8-3;v.data[z][P]=k,v.data[P][z]=k}}return v}(t,e,r,i);let o=0;const s=8*n.length;if(function(u,l,h){const p=u.height,g=d4[l];let v=-1,y=p-1;for(let w=p-1;w>0;w-=2){for(w==6&&(w=5);;y+=v){for(let C=0;C<2;C+=1){const x=w-C;u.data[y][x]===void 0&&h(x,y,g(x,y))}if(y+v<0||y+v>=p)break}v=-v}}(a,r,(u,l,h)=>{let p=!1;o<s&&(p=(n[o>>>3]>>(7-o&7)&1)!=0,o++),a.data[l][u]=p!==h}),o!==s)throw new Error("QR: bytes left after draw");return a}function hee(t){const e=t.inverse(),n=v=>{let y=0;for(let w,C=0,x=1;C<v.length;C++)w===v[C]&&(x++,C!==v.length-1)||(x>=5&&(y+=x-5+3),w=v[C],x=1);return y};let r=0;t.data.forEach(v=>r+=n(v)),e.data.forEach(v=>r+=n(v));let i=0,a=t.data;const o=t.width-1,s=t.height-1;for(let v=0;v<o;v++)for(let y=0;y<s;y++){const w=v+1,C=y+1;a[v][y]===a[w][y]&&a[w][y]===a[v][C]&&a[w][y]===a[w][C]&&(i+=3)}const u=v=>{const y=[!0,!1,!0,!0,!0,!1,!0],w=[!1,!1,!1,!1],C=[...y,...w],x=[...w,...y];let M=0;for(let k=0;k<v.length;k++)rO(v,C,k)&&(M+=40),rO(v,x,k)&&(M+=40);return M};let l=0;for(const v of t.data)l+=u(v);for(const v of e.data)l+=u(v);let h=0;t.rectRead(0,1/0,(v,y)=>h+=y?1:0);const p=h/(t.height*t.width)*100,g=10*Math.floor(Math.abs(p-50)/5);return r+i+l+g}function zL(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";(function(h){if(!aO.includes(h))throw new Error(`Invalid error correction mode=${h}. Expected: ${aO}`)})(r);const i=n.encoding!==void 0?n.encoding:function(h){let p="numeric";for(let g of h)if(!ti.alphabet.numeric.has(g)&&(p="alphanumeric",!ti.alphabet.alphanumerc.has(g)))return"byte";return p}(t);(function(h){if(!sO.includes(h))throw new Error(`Encoding: invalid mode=${h}. Expected: ${sO}`);if(h==="kanji"||h==="eci")throw new Error(`Encoding: ${h} is not supported (yet?).`)})(i),n.mask!==void 0&&function(h){if(![0,1,2,3,4,5,6,7].includes(h)||!d4[h])throw new Error(`Invalid mask=${h}. Expected number [0..7]`)}(n.mask);let a,o=n.version,s=new Error("Unknown error");if(o!==void 0)(function(h){if(!Number.isSafeInteger(h)||h<1||h>40)throw new Error(`Invalid version=${h}. Expected number [1..40]`)})(o),a=oO(o,r,t,i);else for(let h=1;h<=40;h++)try{a=oO(h,r,t,i),o=h;break}catch(p){s=p}if(!o||!a)throw s;let u=function(h,p,g,v){if(v===void 0){const y=function(){let w,C=1/0;return{add(x,M){x>=C||(w=M,C=x)},get:()=>w,score:()=>C}}();for(let w=0;w<d4.length;w++)y.add(hee(lO(h,p,g,w,!0)),w);v=y.get()}if(v===void 0)throw new Error("Cannot find mask");return lO(h,p,g,v)}(o,r,a,n.mask);u.assertDrawn();const l=n.border===void 0?2:n.border;if(!Number.isSafeInteger(l))throw new Error("Wrong border type="+typeof l);if(u=u.border(l,!1),n.scale!==void 0&&(u=u.scale(n.scale)),e==="raw")return u.data;if(e==="ascii")return u.toASCII();if(e==="svg")return u.toSVG();if(e==="gif")return u.toGIF();if(e==="term")return u.toTerm();throw new Error(`Unknown output: ${e}`)}const O2={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class h5{constructor(e){var n;this.translations=O2,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(n=e?.baseUrl)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(n=>n.toLowerCase().startsWith("en")))return"en";const e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){const n=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(n)}async loadTranslations(e){const n=e.split("-")[0];if(n!=="en"&&this.supportedLocales.includes(n))try{const r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(` Failed to load ${n} translations, falling back to English:`,r),this.translations=O2}else this.translations=O2}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,n){const r=e.split(".");let i=n;for(const a of r){if(typeof i!="object")return"";i=i[a]}return typeof i=="string"?i:""}}var o0;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(o0||(o0={}));const HL=class{constructor(t){n5(this,t),this.close=uc(this,"close"),this.startDesktopOnboarding=uc(this,"startDesktopOnboarding"),this.trackAnalytics=uc(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new h5}componentDidLoad(){this.trackAnalytics.emit({event:o0.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:o0.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:o0.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const t=r=>this.i18nInstance.t(r),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=zL(this.link,"svg",{ecc:"medium",scale:2});return De(c5,{className:"install-model"},De("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),De("div",{class:"modal"},De("div",{class:"closeButtonContainer"},De("div",{class:"right"},De("span",{class:"closeButton",onClick:()=>this.onClose(!0)},De(d5,null)))),De("div",{class:"logoContainer"},De(f5,null)),De("div",null,De("div",{class:"tabcontainer"},De("div",{class:"flexContainer"},De("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),De("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),De("div",{style:{display:e===1?"none":"block"}},De("div",{class:"flexContainer"},De("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&De("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),De("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",De("br",null),De("span",{class:"blue"},De("b",null,t("META_MASK_MOBILE_APP"))))))),De("div",{style:{display:e===2?"none":"block"}},De("div",{class:"item"},De(M2,{Icon:see,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),De("div",{class:"item"},De(M2,{Icon:aee,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),De("div",{class:"item"},De(M2,{Icon:oee,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),De("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},De(lee,null),De("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),De(u5,{version:this.sdkVersion})))}get el(){return ab(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};HL.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const KL=class{constructor(t){n5(this,t),this.close=uc(this,"close"),this.disconnect=uc(this,"disconnect"),this.updateOTPValue=uc(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new h5}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;const e=(t=this.displayOTP)===null||t===void 0||t,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return De(c5,{className:"pending-modal"},De("div",{class:"backdrop",onClick:()=>this.onClose()}),De("div",{class:"modal"},De("div",{class:"closeButtonContainer"},De("div",{class:"right"},De("span",{class:"closeButton",onClick:()=>this.onClose()},De(d5,null)))),De("div",{class:"logoContainer"},De(f5,null)),De("div",null,De("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},De("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),De("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&De("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),De("div",{style:{marginTop:"20px"}},De("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),De(u5,{version:n})))}get el(){return ab(this)}};KL.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const pee=()=>De("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),mee=()=>De("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De("rect",{width:"400",height:"300",fill:"white"}),De("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),De("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),De("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),De("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),De("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),De("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),De("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),De("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),De("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),De("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),De("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),De("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),De("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),De("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),De("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),De("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),De("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),De("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),De("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),De("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),De("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),De("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),WL=class{constructor(t){n5(this,t),this.close=uc(this,"close"),this.connectWithExtension=uc(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new h5,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const t=i=>this.i18nInstance.t(i),e=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=zL(this.link,"svg",{ecc:"medium",scale:2});return De(c5,{className:"select-modal"},De("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),De("div",{class:"modal"},De("div",{class:"closeButtonContainer"},De("div",{class:"right"},De("span",{class:"closeButton",onClick:()=>this.onClose(!0)},De(d5,null)))),De("div",{class:"logoContainer"},De(f5,null)),De("div",null,De("div",{class:"tabcontainer"},De("div",{class:"flexContainer"},De("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(n===1?"tabactive":"")},t("DESKTOP")),De("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(n===2?"tabactive":"")},t("MOBILE")))),De("div",{style:{display:n===1?"none":"block"}},De("div",{class:"flexContainer"},De("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},De("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),De("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),De("br",null),De("span",{class:"blue"},De("b",null,t("META_MASK_MOBILE_APP"))))))),De("div",{style:{display:n===2?"none":"block"}},De("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},De(mee,null)),De("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),De("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},De(pee,null),De("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),De(u5,{version:e})))}get el(){return ab(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};WL.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var gee=Object.freeze({__proto__:null,mm_install_modal:HL,mm_pending_modal:KL,mm_select_modal:WL});const Kle={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},Wle={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},cO={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"};function R0(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const a=i;return!!(a&&(a.code===22||a.code===1014||a.name==="QuotaExceededError"||a.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0)}}const vee=t=>{const e=FW(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},yee=(t,e)=>R0("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,bee=(t,e,n)=>R0("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,n):null,wee=(t,e)=>R0("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null;class xee extends QT{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==ct.CONNECTED)throw Ct.notConnectedError();if(!this.coreOptions)throw lt.invalidParams("Please initialize Web3Auth with valid options");const e=await this.provider.request({method:cO.GET_ACCOUNTS});if(e&&e.length>0){const n=yee(e[0],this.name);if(n&&!vee(n))return{idToken:n};const r=await this.provider.request({method:"eth_chainId"}),i=this.coreOptions.chains.find(p=>p.chainId===r);if(!i)throw lt.invalidParams("chainConfig is required before authentication");const{chainNamespace:a}=i,o={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await qW(o,a),u=`0x${Buffer.from(s,"utf8").toString("hex")}`,l=await this.provider.request({method:cO.PERSONAL_SIGN,params:[u,e[0]]}),h=await zW(a,l,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return bee(e[0],this.name,h),{idToken:h}}throw Ct.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&wee(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(ht.DISCONNECTED)}}class Eee extends xee{constructor(e){super(e),Ne(this,"connectorNamespace",lc.EIP155),Ne(this,"currentChainNamespace",qt.EIP155),Ne(this,"type",_o.EXTERNAL),Ne(this,"name",pt.METAMASK),Ne(this,"status",ct.NOT_READY),Ne(this,"metamaskProvider",null),Ne(this,"metamaskSDK",null),Ne(this,"metamaskOptions",void 0),Ne(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==ct.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var n;await super.init(e);const r=this.coreOptions.chains.find(u=>u.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});const i=await VY(window),a={name:WY(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:i},o=qn(this.metamaskOptions||{},{dappMetadata:a});this.metamaskSDK=new OX(we(we({},o),{},{_source:"web3auth",useDeeplink:(n=o.useDeeplink)!==null&&n!==void 0?n:!0}));const s=await this.metamaskSDK.init();s&&(this.metamaskSDK=s),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=ct.READY,this.emit(ht.READY,pt.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,Ct.connectionError("Failed to rehydrate.")}catch(u){this.emit(ht.REHYDRATION_ERROR,u)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw Ct.notConnectedError("Connector is not initialized");const n=this.coreOptions.chains.find(p=>p.chainId===e);if(!n)throw Ct.connectionError("Chain config is not available");const r=!this.isInjected&&!this.rehydrated,i=Date.now(),a={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:Bd(n),chain_name:n?.displayName,chain_namespace:n?.chainNamespace};try{if(this.status!==ct.CONNECTING){var o;this.status=ct.CONNECTING,this.emit(ht.CONNECTING,{connector:pt.METAMASK}),!this.metamaskSDK.isExtensionActive()&&(o=this.metamaskOptions)!==null&&o!==void 0&&o.headless&&this.metamaskSDK.getProvider().on("display_uri",v=>{this.updateConnectorData({uri:v})}),await this.metamaskSDK.connect()}if(this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw Ct.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==n.chainId&&await this.switchChain(n,!0);const g=v=>{v.length===0&&this.disconnect()};if(this.metamaskProvider.on("accountsChanged",g),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=ct.CONNECTED,r){var s,u;(s=this.analytics)===null||s===void 0||s.track(Nn.CONNECTION_STARTED,a),(u=this.analytics)===null||u===void 0||u.track(Nn.CONNECTION_COMPLETED,we(we({},a),{},{duration:Date.now()-i}))}return this.emit(ht.CONNECTED,{connector:pt.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider}),this.metamaskProvider}catch(p){if(this.status=ct.READY,this.rehydrated||this.emit(ht.ERRORED,p),this.rehydrated=!1,r){var l,h;(l=this.analytics)===null||l===void 0||l.track(Nn.CONNECTION_STARTED,a),(h=this.analytics)===null||h===void 0||h.track(Nn.CONNECTION_FAILED,we(we(we({},a),OW(p)),{},{duration:Date.now()-i}))}throw p instanceof Ba?p:Ct.connectionError("Failed to login with MetaMask wallet",p)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw Ct.connectionError("MetaMask provider is not available");await super.disconnectSession(),typeof this.metamaskProvider.removeAllListeners<"u"&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=ct.NOT_READY,this.metamaskProvider=null):this.status=ct.READY,await super.disconnect()}async getUserInfo(){if(this.status!==ct.CONNECTED)throw Ct.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const r=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await r()}catch(i){if(i?.code===4902){const a=this.coreOptions.chains.find(o=>o.chainId===e.chainId&&[qt.EIP155,qt.SOLANA].includes(o.chainNamespace));await this.addChain(a),await r()}else throw i}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw Ct.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}}const See=t=>({coreOptions:e,analytics:n})=>new Eee({connectorSettings:t,coreOptions:e,analytics:n}),VL=we(we({},qt),{},{MULTICHAIN:"multichain"}),Ms={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},rs=we({},Ms),ly={WALLET_SERVICES:"wallet-services",NFT_CHECKOUT:"nft-checkout"},_ee={SOLANA:"solana"};we(we({},ly),_ee);class Tn extends Ba{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,n="",r){return new Tn(e,`${Tn.messages[e]}${n}`,r)}static notInitialized(e="",n){return Tn.fromCode(5210,e,n)}static unsupportedConnector(e="",n){return Tn.fromCode(5211,e,n)}static providerRequired(e="",n){return Tn.fromCode(5212,e,n)}static web3authRequired(e="",n){return Tn.fromCode(5213,e,n)}static web3AuthNotConnected(e="",n){return Tn.fromCode(5214,e,n)}static alreadyInitialized(e="",n){return Tn.fromCode(5216,e,n)}static unsupportedChainNamespace(e="",n){return Tn.fromCode(5218,e,n)}static differentWeb3AuthNetwork(e="",n){return Tn.fromCode(5219,e,n)}static invalidParams(e="",n){return Tn.fromCode(5220,e,n)}static web3authNotInitialized(e="",n){return Tn.fromCode(5221,e,n)}static invalidSession(e="",n){return Tn.fromCode(5222,e,n)}static walletPluginNotConnected(e="",n){return Tn.fromCode(5223,e,n)}}Ne(Tn,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class Co extends Ba{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"NFTCheckoutPluginError"})}static fromCode(e,n="",r){return new Co(e,`${Co.messages[e]}${n}`,r)}static notInitialized(e="",n){return Co.fromCode(6210,e,n)}static providerRequired(e="",n){return Co.fromCode(6212,e,n)}static web3authRequired(e="",n){return Co.fromCode(6213,e,n)}static web3AuthNotConnected(e="",n){return Co.fromCode(6214,e,n)}static pluginNotConnected(e="",n){return Co.fromCode(6223,e,n)}}Ne(Co,"messages",{6210:"NFT Checkout Plugin is not initialized",6212:"Provider is required..",6213:"Web3Auth instance is required while initialization.",6214:"Web3Auth is not connected.",6223:"NFT Checkout plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class Cee extends xc{constructor(...e){super(...e),Ne(this,"name",ly.WALLET_SERVICES),Ne(this,"status",Ms.DISCONNECTED),Ne(this,"SUPPORTED_CONNECTORS",[pt.AUTH]),Ne(this,"pluginNamespace",VL.MULTICHAIN),Ne(this,"wsEmbedInstance",void 0),Ne(this,"provider",null),Ne(this,"web3auth",null),Ne(this,"isInitialized",!1),Ne(this,"analytics",void 0)}get proxyProvider(){var e;return(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,n,r){if(this.isInitialized)return;if(!e)throw Tn.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw Tn.notInitialized();const i=e.currentChain;if(![qt.EIP155,qt.SOLANA].includes(i?.chainNamespace))throw Tn.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=r;const a=e.getConnector(pt.AUTH);if(!a||!a.wsEmbed)throw Tn.web3AuthNotConnected();this.wsEmbedInstance=a.wsEmbed,this.isInitialized=!0,this.status=Ms.READY,this.emit(rs.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw Tn.notInitialized();if(this.emit(rs.CONNECTING),this.status=Ms.CONNECTING,!this.provider){var e;(e=this.web3auth)!==null&&e!==void 0&&e.provider&&(this.provider=this.web3auth.provider)}if(this.web3auth.status!==ct.CONNECTED)throw Tn.web3AuthNotConnected();if(!this.web3auth.provider)throw Tn.providerRequired();try{this.emit(rs.CONNECTED),this.status=Ms.CONNECTED}catch(n){at.error(n),this.status=Ms.ERRORED,this.emit(rs.ERRORED,{error:n.message||"Something went wrong"})}}async showWalletConnectScanner(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Tn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Nn.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:e?.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showCheckout(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Tn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Nn.WALLET_CHECKOUT_CLICKED,{is_visible:e?.show,receive_wallet_address_enabled:!!(e!=null&&e.receiveWalletAddress),token_list:e?.tokenList,fiat_list:e?.fiatList}),this.wsEmbedInstance.showCheckout(e)}async showWalletUi(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Tn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Nn.WALLET_UI_CLICKED,{is_visible:e?.show,path:e?.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Tn.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Nn.WALLET_SWAP_CLICKED,{is_visible:e?.show,from_token:e?.fromToken,to_token:e?.toToken,from_value_enabled:!!(e!=null&&e.fromValue),to_address_enabled:!!(e!=null&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return(e=this.wsEmbedInstance)===null||e===void 0?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==Ms.CONNECTED)throw Tn.invalidSession("Wallet Services plugin is not connected");(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(rs.DISCONNECTED),this.status=Ms.DISCONNECTED}}const Nee=()=>()=>new Cee,Aee=["walletScope"];class jee extends xc{constructor(e,n){if(super(),Ne(this,"coreOptions",void 0),Ne(this,"status",ct.NOT_READY),Ne(this,"aaProvider",null),Ne(this,"connectors",[]),Ne(this,"commonJRPCProvider",null),Ne(this,"analytics",void 0),Ne(this,"plugins",{}),Ne(this,"storage",void 0),Ne(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),Ne(this,"loginMode",v0.NO_MODAL),!e.clientId)throw lt.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?at.enableAll():at.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new IY,this.analytics.setGlobalProperties({integration_type:KT.NATIVE_SDK}),this.loadState(n),this.state.idToken&&this.coreOptions.ssr&&(this.status=ct.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(n=>n.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==ct.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||((e=this.coreOptions.chains)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,(e=this.currentChain)===null||e===void 0?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}set provider(e){throw new Error("Not implemented")}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:WT.WEB_NO_MODAL,sdk_version:YT,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let r={};try{var i,a;const{signal:s}=e||{};let u;try{var o;u=await VT({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:(o=this.coreOptions.accountAbstractionConfig)===null||o===void 0?void 0:o.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(h){const p=await Q4(h);throw at.error("Failed to fetch project configurations",p),lt.notReady("failed to fetch project configurations",p)}this.initAccountAbstractionConfig(u),this.initChainsConfig(u),this.initCachedConnectorAndChainId(),this.initUIConfig(u),this.initWalletServicesConfig(u),this.analytics.setGlobalProperties({team_id:u.teamId}),r=this.getInitializationTrackData(),await To(()=>this.setupCommonJRPCProvider(),s),this.on(ht.CONNECTORS_UPDATED,async({connectors:h})=>{await To(()=>Promise.all(h.map(this.setupConnector.bind(this))),s,()=>{var g;((g=this.connectors)===null||g===void 0?void 0:g.length)>0&&this.cleanup()}),this.status===ct.NOT_READY&&(this.status=ct.READY,this.emit(ht.READY))}),await To(()=>this.loadConnectors({projectConfig:u}),s),await To(()=>this.initPlugins(),s);const l=this.getConnector(pt.AUTH);r=we(we({},r),{},{connectors:this.connectors.map(h=>h.name),plugins:Object.keys(this.plugins),auth_ux_mode:(l==null||(i=l.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((a=this.coreOptions.uiConfig)===null||a===void 0?void 0:a.uxMode)}),this.analytics.track(Nn.SDK_INITIALIZATION_COMPLETED,we(we({},r),{},{duration:Date.now()-n}))}catch(s){if(s instanceof DOMException&&s.name==="AbortError")return;throw this.analytics.track(Nn.SDK_INITIALIZATION_FAILED,we(we(we({},r),Rd(s)),{},{duration:Date.now()-n})),at.error("Failed to initialize modal",s),s}}getConnector(e,n){return this.connectors.find(r=>r.name!==e?!1:n?r.connectorNamespace===lc.MULTICHAIN?!0:r.connectorNamespace===n:!0)||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(const e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var n;if(e.chainId===((n=this.currentChain)===null||n===void 0?void 0:n.chainId))return;if(!this.coreOptions.chains.find(i=>i.chainId===e.chainId))throw lt.invalidParams("Invalid chainId");if(this.status===ct.CONNECTED&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw lt.notReady("No wallet is ready")}async connectTo(e,n,r){this.loginMode=r||"no-modal";const i=this.getConnector(e,n?.chainNamespace);if(!i||!this.commonJRPCProvider)throw lt.notFound(`Please add wallet connector for ${e} wallet, before connecting`);const a=this.getInitialChainIdForConnector(i),o=we(we({},n),{},{chainId:a.chainId}),s=Date.now();let u;if(e===pt.AUTH){var l;const h=n,p=i.getOAuthProviderConfig({authConnection:h.authConnection,authConnectionId:h.authConnectionId,groupedAuthConnectionId:h.groupedAuthConnectionId});u={connector:e,connector_type:i.type,chain_id:Bd(a),chain_name:a.displayName,chain_namespace:a.chainNamespace,auth_connection:h.authConnection,auth_connection_id:h.authConnectionId,group_auth_connection_id:h.groupedAuthConnectionId,mfa_level:h.mfaLevel,wallet_key_enabled:h.getWalletKey,extra_login_options_enabled:!!h.extraLoginOptions,dapp_share_enabled:!!h.dappShare,curve:h.curve,auth_dapp_url:h.dappUrl,is_sfa:!!h.idToken,is_default_auth_connection:p?.isDefault,auth_ux_mode:(l=i.authInstance)===null||l===void 0||(l=l.options)===null||l===void 0?void 0:l.uxMode}}else u={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:Bd(a),chain_name:a.displayName,chain_namespace:a.chainNamespace};return this.analytics.track(Nn.CONNECTION_STARTED,u),new Promise((h,p)=>{const g=()=>{this.off(ht.CONNECTED,v),this.off(ht.ERRORED,y)},v=async()=>{const w=await i.getUserInfo();this.analytics.track(Nn.CONNECTION_COMPLETED,we(we({},u),{},{is_mfa_enabled:w?.isMfaEnabled,duration:Date.now()-s})),g(),h(this.provider)},y=async w=>{this.analytics.track(Nn.CONNECTION_FAILED,we(we(we({},u),Rd(w)),{},{duration:Date.now()-s})),g(),p(w)};this.once(ht.CONNECTED,v),this.once(ht.ERRORED,y),i.connect(o),this.setCurrentChain(a.chainId)})}async logout(e={cleanup:!1}){if(this.status!==ct.CONNECTED||!this.connectedConnector)throw Ct.notConnectedError("No wallet is connected");await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(at.debug("Getting user info",this.status,(e=this.connectedConnector)===null||e===void 0?void 0:e.name),this.status!==ct.CONNECTED||!this.connectedConnector)throw Ct.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var n;if(this.status!==ct.CONNECTED||!this.connectedConnector)throw Ct.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==pt.AUTH)throw Ct.unsupportedOperation("EnableMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Nn.MFA_ENABLEMENT_STARTED,i),await this.connectedConnector.enableMFA(e)}catch(a){throw this.analytics.track(Nn.MFA_ENABLEMENT_FAILED,we(we({},i),Rd(a))),a}}async manageMFA(e){var n;if(this.status!==ct.CONNECTED||!this.connectedConnector)throw Ct.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==pt.AUTH)throw Ct.unsupportedOperation("ManageMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Nn.MFA_MANAGEMENT_SELECTED,i),await this.connectedConnector.manageMFA(e)}catch(a){throw this.analytics.track(Nn.MFA_MANAGEMENT_FAILED,we(we({},i),Rd(a))),a}}async getIdentityToken(){if(this.status!==ct.CONNECTED||!this.connectedConnector)throw Ct.notConnectedError("No wallet is connected");const e={connector:this.connectedConnector.name};try{this.analytics.track(Nn.IDENTITY_TOKEN_STARTED,e);const n=await this.connectedConnector.getIdentityToken();return this.analytics.track(Nn.IDENTITY_TOKEN_COMPLETED,e),n}catch(n){throw this.analytics.track(Nn.IDENTITY_TOKEN_FAILED,we(we({},e),Rd(n))),n}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){const n=new Map,r=[...e.chains||[],...this.coreOptions.chains||[]];for(const o of r){const s=n.get(o.chainId);s?n.set(o.chainId,we(we({},s),o)):n.set(o.chainId,o)}if(this.coreOptions.chains=Array.from(n.values()),this.coreOptions.chains.length===0)throw at.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),lt.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");const i=new Set(Object.values(qt));for(const o of this.coreOptions.chains){if(!o.chainNamespace||!i.has(o.chainNamespace))throw at.error(`Please provide a valid chainNamespace in chains for chain ${o.chainId}`),lt.invalidParams(`Please provide a valid chainNamespace in chains for chain ${o.chainId}`);if(o.chainNamespace!==qt.OTHER&&!L3(o.chainId))throw at.error(`Please provide a valid chainId in chains for chain ${o.chainId}`),lt.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${o.chainId}`);if(o.chainNamespace!==qt.OTHER)try{new URL(o.rpcTarget)}catch(s){throw at.error(`Please provide a valid rpcTarget in chains for chain ${o.chainId}`,s),lt.invalidParams(`Please provide a valid rpcTarget in chains for chain ${o.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(this.coreOptions.accountAbstractionConfig.chains.length===0)throw at.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),lt.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(const o of this.coreOptions.accountAbstractionConfig.chains){if(!L3(o.chainId))throw at.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${o.chainId}`),lt.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${o.chainId}`);try{var a;new URL((a=o.bundlerConfig)===null||a===void 0?void 0:a.url)}catch(s){throw at.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${o.chainId}`,s),lt.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${o.chainId}`)}if(!n.has(o.chainId))throw at.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${o.chainId}`),lt.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${o.chainId}`)}}}initAccountAbstractionConfig(e){var n;if(!!!(this.coreOptions.accountAbstractionConfig||e?.smartAccounts))return;const i=e?.smartAccounts||{},{walletScope:a}=i,o=Cy(i,Aee),s=new Map,u=[...o?.chains||[],...((n=this.coreOptions.accountAbstractionConfig)===null||n===void 0?void 0:n.chains)||[]];for(const l of u){const h=s.get(l.chainId);h?s.set(l.chainId,we(we({},h),l)):s.set(l.chainId,l)}this.coreOptions.accountAbstractionConfig=we(we({},qn(o||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(s.values())}),this.coreOptions.useAAWithExternalWallet===void 0&&(this.coreOptions.useAAWithExternalWallet=a===HW.ALL)}initUIConfig(e){this.coreOptions.uiConfig=qn.all([{mode:"light",uxMode:Zr.POPUP},Zz(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initCachedConnectorAndChainId(){const e=this.state.currentChainId,n=e&&this.coreOptions.chains.some(i=>i.chainId===e);if(this.coreOptions.defaultChainId&&!L3(this.coreOptions.defaultChainId))throw lt.invalidParams("Please provide a valid defaultChainId in constructor");const r=n?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:r})}initWalletServicesConfig(e){var n,r,i,a,o,s;const{enableKeyExport:u,walletUi:l}=e,{enablePortfolioWidget:h=!1,enableTokenDisplay:p=!0,enableNftDisplay:g=!0,enableWalletConnect:v=!0,enableBuyButton:y=!0,enableSendButton:w=!0,enableSwapButton:C=!0,enableReceiveButton:x=!0,enableShowAllTokensButton:M=!0,enableConfirmationModal:k=!1,portfolioWidgetPosition:z=wW.BOTTOM_LEFT,defaultPortfolio:P="token"}=l||{},K={showWidgetButton:h,hideNftDisplay:!g,hideTokenDisplay:!p,hideTransfers:!w,hideTopup:!y,hideReceive:!x,hideSwap:!C,hideShowAllTokens:!M,hideWalletConnect:!v,buttonPosition:z,defaultPortfolio:P},W=qn.all([K,((n=this.coreOptions.walletServicesConfig)===null||n===void 0?void 0:n.whiteLabel)||{}]),B=(r=(i=this.coreOptions.walletServicesConfig)===null||i===void 0?void 0:i.confirmationStrategy)!==null&&r!==void 0?r:k?Z8.MODAL:Z8.AUTO_APPROVE,D=(a=(o=(s=this.coreOptions.walletServicesConfig)===null||s===void 0?void 0:s.enableKeyExport)!==null&&o!==void 0?o:u)!==null&&a!==void 0?a:!0;this.coreOptions.walletServicesConfig=we(we({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:B,whiteLabel:we(we({},W),{},{logoLight:W?.logoLight||"",logoDark:W?.logoDark||""}),enableKeyExport:D})}getInitializationTrackData(){try{var e,n,r,i,a;const o=(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(u=>u.chainId===this.coreOptions.defaultChainId),s=Array.from(new Set((n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(u=>RE(u.rpcTarget)))).filter(Boolean);return we(we(we({chain_ids:(r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(u=>Bd(u)),chain_names:(i=this.coreOptions.chains)===null||i===void 0?void 0:i.map(u=>u.displayName),chain_rpc_targets:s,default_chain_id:o?Bd(o):void 0,default_chain_name:o?.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:(a=this.coreOptions.uiConfig)===null||a===void 0?void 0:a.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},GT(this.coreOptions.uiConfig)),LY(this.coreOptions.accountAbstractionConfig)),DY(this.coreOptions.walletServicesConfig))}catch(o){return at.error("Failed to get initialization track data",o),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await jS.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{const n=this.getInitialChainIdForConnector(e),r=this.checkIfAutoConnect(e);await e.init({autoConnect:r,chainId:n.chainId})}catch(n){at.error(n,e.name)}}async loadConnectors({projectConfig:e,modalMode:n}){var r;const i=[...this.coreOptions.connectors||[],ZY()],a={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},o=!!e.externalWalletAuth,s=o&&((r=this.coreOptions.multiInjectedProviderDiscovery)!==null&&r!==void 0?r:!0),u=new Set(this.coreOptions.chains.map(h=>h.chainNamespace));if(s&&D3()){if(u.has(qt.SOLANA)){const{createSolanaMipd:h,hasSolanaWalletStandardFeatures:p,walletStandardConnector:g}=await yn(async()=>{const{createSolanaMipd:y,hasSolanaWalletStandardFeatures:w,walletStandardConnector:C}=await import("./index-CC-oSAZ4.js");return{createSolanaMipd:y,hasSolanaWalletStandardFeatures:w,walletStandardConnector:C}},__vite__mapDeps([3,4])),v=h();v.on("register",async(...y)=>{const w=y.filter(p).map(C=>g(C)(a));this.setConnectors(w)}),i.push(...v.get().filter(y=>p(y)).map(g))}if(u.has(qt.EIP155)){const{createMipd:h,injectedEvmConnector:p}=await yn(async()=>{const{createMipd:v,injectedEvmConnector:y}=await import("./index-CZmOT1ER.js");return{createMipd:v,injectedEvmConnector:y}},[]),g=h();g.subscribe(v=>{const y=v.map(w=>p(w)(a));this.setConnectors(y)}),i.push(...g.getProviders().map(p))}}if(D3()&&(u.has(qt.EIP155)||u.has(qt.SOLANA))&&i.push(See(n?{headless:!0}:void 0)),D3()&&o&&(u.has(qt.SOLANA)||u.has(qt.EIP155))){const{walletConnectV2Connector:h}=await yn(async()=>{const{walletConnectV2Connector:p}=await import("./index-DLhuWB-R.js").then(g=>g.k);return{walletConnectV2Connector:p}},__vite__mapDeps([5,4]));i.push(h())}const l=i.map(h=>h(a));this.setConnectors(l)}async initPlugins(){const{chains:e,plugins:n}=this.coreOptions,r=n||[];e.some(a=>a.chainNamespace===qt.EIP155||a.chainNamespace===qt.SOLANA)&&r.push(Nee());for(const a of r){const o=a();this.plugins[o.name]||(this.plugins[o.name]=o)}}setConnectors(e){const n=a=>`${a.connectorNamespace}-${a.name}`,r=new Set(this.connectors.map(n)),i=e.map(a=>{const o=n(a);return r.has(o)?null:(r.add(o),a)}).filter(a=>a!==null);i.length>0&&(this.connectors=[...this.connectors,...i],this.emit(ht.CONNECTORS_UPDATED,{connectors:i}))}subscribeToConnectorEvents(e){e.on(ht.CONNECTED,async n=>{var r,i;if(!this.commonJRPCProvider)throw lt.notFound("CommonJrpcProvider not found");const{provider:a}=n;if(this.coreOptions.ssr)try{const h=await e.getIdentityToken();if(!h.idToken)throw Ct.connectionError("No idToken found");this.setState({idToken:h.idToken})}catch(h){at.error(h),this.status=ct.ERRORED,this.emit(ht.ERRORED,h,this.loginMode);return}let o=a.provider||a;const{accountAbstractionConfig:s}=this.coreOptions;if(((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)===qt.EIP155&&(s==null||(i=s.chains)===null||i===void 0?void 0:i.some(h=>{var p;return h.chainId===((p=this.currentChain)===null||p===void 0?void 0:p.chainId)}))&&(n.connector===pt.AUTH||this.coreOptions.useAAWithExternalWallet)){var l;const{accountAbstractionProvider:h,toEoaProvider:p}=await yn(async()=>{const{accountAbstractionProvider:w,toEoaProvider:C}=await import("./index-BOZBP_xV.js").then(x=>x.f);return{accountAbstractionProvider:w,toEoaProvider:C}},[]),g=n.connector===pt.AUTH?await p(a):a,v=new Set((s==null||(l=s.chains)===null||l===void 0?void 0:l.map(w=>w.chainId))||[]),y=await h({accountAbstractionConfig:s,provider:g,chain:this.currentChain,chains:this.coreOptions.chains.filter(w=>v.has(w.chainId)),useProviderAsTransport:n.connector===pt.AUTH});this.aaProvider=y,n.connector!==pt.AUTH&&this.coreOptions.useAAWithExternalWallet&&(o=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(o),this.setState({connectedConnectorName:n.connector}),this.cacheWallet(n.connector),this.status=ct.CONNECTED,at.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins(n),this.emit(ht.CONNECTED,we(we({},n),{},{loginMode:this.loginMode}))}),e.on(ht.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=ct.READY;const n=this.state.cachedConnector;this.connectedConnectorName===n&&this.clearCache(),at.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async r=>{if(r.SUPPORTED_CONNECTORS.includes(e.name)&&r.status===Ms.CONNECTED)return r.disconnect().catch(i=>{i.code!==5211&&at.error(i)})})),this.setState({connectedConnectorName:null}),this.emit(ht.DISCONNECTED)}),e.on(ht.CONNECTING,n=>{this.status=ct.CONNECTING,this.emit(ht.CONNECTING,n),at.debug("connecting",this.status,this.connectedConnectorName)}),e.on(ht.ERRORED,n=>{this.status=ct.ERRORED,this.clearCache(),this.emit(ht.ERRORED,n,this.loginMode),at.debug("errored",this.status,this.connectedConnectorName)}),e.on(ht.REHYDRATION_ERROR,n=>{this.status=ct.READY,this.clearCache(),this.emit(ht.REHYDRATION_ERROR,n)}),e.on(ht.CONNECTOR_DATA_UPDATED,n=>{at.debug("connector data updated",n),this.emit(ht.CONNECTOR_DATA_UPDATED,n)}),e.on(ht.CACHE_CLEAR,n=>{at.debug("connector cache clear",n),this.clearCache()}),e.on(ht.MFA_ENABLED,n=>{var r;at.debug("mfa enabled",n);const i=this.connectedConnector;this.analytics.track(Nn.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:(r=i.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode,is_mfa_enabled:n}),this.emit(ht.MFA_ENABLED,n)})}checkInitRequirements(){if(this.status===ct.READY)throw lt.notReady("Connector is already initialized")}checkIfAutoConnect(e){var n;let r=this.cachedConnector===e.name;return r&&(n=this.currentChain)!==null&&n!==void 0&&n.chainNamespace&&(e.connectorNamespace===lc.MULTICHAIN?r=!0:r=e.connectorNamespace===this.currentChain.chainNamespace),r}getInitialChainIdForConnector(e){var n;let r=this.currentChain;if(((n=r)===null||n===void 0?void 0:n.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==lc.MULTICHAIN&&(r=this.coreOptions.chains.find(i=>i.chainNamespace===e.connectorNamespace),!r))throw lt.invalidParams(`No chain found for ${e.connectorNamespace}`);return r}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e===this.currentChainId)return;if(!this.coreOptions.chains.find(r=>r.chainId===e))throw lt.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}connectToPlugins(e){Object.values(this.plugins).map(async n=>{try{var r;if(!n.SUPPORTED_CONNECTORS.includes(e.connector)||n.pluginNamespace!==VL.MULTICHAIN&&n.pluginNamespace!==((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)||n.status===Ms.CONNECTED)return;await n.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await n.connect()}catch(i){if(i.code===5211)return;at.error(i)}})}setState(e){this.state=we(we({},this.state),e),this.storage.setItem(aj,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}const n=this.storage.getItem(aj);n&&(this.state=WW(n))}getStorageMethod(){return this.coreOptions.ssr||this.coreOptions.storageType==="cookies"?VW({expiry:this.coreOptions.sessionTime}):this.coreOptions.storageType==="session"&&R0("sessionStorage")?window.sessionStorage:this.coreOptions.storageType==="local"&&R0("localStorage")?window.localStorage:new UI}}function Mee(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Oee(){const t=new Set;let e=[];const n=()=>Mee(i=>{e.some(({info:a})=>a.uuid===i.info.uuid)||(e=[...e,i],t.forEach(a=>a(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(a=>a.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:a}={}){return t.add(i),a&&i(e,{added:e}),()=>t.delete(i)}}}var k2={exports:{}},uO;function kee(){return uO||(uO=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,h){this.fn=u,this.context=l,this.once=h||!1}function a(u,l,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||u,g),y=n?n+l:l;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],v]:u._events[y].push(v):(u._events[y]=v,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],h,p;if(this._eventsCount===0)return l;for(p in h=this._events)e.call(h,p)&&l.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(h)):l},s.prototype.listeners=function(l){var h=n?n+l:l,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,y=new Array(v);g<v;g++)y[g]=p[g].fn;return y},s.prototype.listenerCount=function(l){var h=n?n+l:l,p=this._events[h];return p?p.fn?1:p.length:0},s.prototype.emit=function(l,h,p,g,v,y){var w=n?n+l:l;if(!this._events[w])return!1;var C=this._events[w],x=arguments.length,M,k;if(C.fn){switch(C.once&&this.removeListener(l,C.fn,void 0,!0),x){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,p),!0;case 4:return C.fn.call(C.context,h,p,g),!0;case 5:return C.fn.call(C.context,h,p,g,v),!0;case 6:return C.fn.call(C.context,h,p,g,v,y),!0}for(k=1,M=new Array(x-1);k<x;k++)M[k-1]=arguments[k];C.fn.apply(C.context,M)}else{var z=C.length,P;for(k=0;k<z;k++)switch(C[k].once&&this.removeListener(l,C[k].fn,void 0,!0),x){case 1:C[k].fn.call(C[k].context);break;case 2:C[k].fn.call(C[k].context,h);break;case 3:C[k].fn.call(C[k].context,h,p);break;case 4:C[k].fn.call(C[k].context,h,p,g);break;default:if(!M)for(P=1,M=new Array(x-1);P<x;P++)M[P-1]=arguments[P];C[k].fn.apply(C[k].context,M)}}return!0},s.prototype.on=function(l,h,p){return a(this,l,h,p,!1)},s.prototype.once=function(l,h,p){return a(this,l,h,p,!0)},s.prototype.removeListener=function(l,h,p,g){var v=n?n+l:l;if(!this._events[v])return this;if(!h)return o(this,v),this;var y=this._events[v];if(y.fn)y.fn===h&&(!g||y.once)&&(!p||y.context===p)&&o(this,v);else{for(var w=0,C=[],x=y.length;w<x;w++)(y[w].fn!==h||g&&!y[w].once||p&&y[w].context!==p)&&C.push(y[w]);C.length?this._events[v]=C.length===1?C[0]:C:o(this,v)}return this},s.prototype.removeAllListeners=function(l){var h;return l?(h=n?n+l:l,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(k2)),k2.exports}var Iee=kee();const Tee=$i(Iee);function p5(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function dO(t){return p5(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const GL="2.34.0";let I2={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${GL}`},Fr=class f4 extends Error{constructor(e,n={}){const r=n.cause instanceof f4?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof f4&&n.cause.docsPath||n.docsPath,a=I2.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...I2.version?[`Version: ${I2.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=GL}walk(e){return YL(this,e)}};function YL(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?YL(t.cause,e):e?null:t}class Vle extends Fr{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class JL extends Fr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class Gle extends Fr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function xf(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ree(t,{dir:e,size:n}):Pee(t,{dir:e,size:n})}function Ree(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new JL({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Pee(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new JL({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const a=e==="right";r[a?i:n-i-1]=t[a?i:t.length-i-1]}return r}class Lee extends Fr{constructor({max:e,min:n,signed:r,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Yle extends Fr{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Dee extends Fr{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class Bee extends Fr{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function T2(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Du(t,{size:e}){if(dO(t)>e)throw new Bee({givenSize:dO(t),maxSize:e})}function Uee(t,e={}){const{signed:n}=e;e.size&&Du(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Jle(t,e={}){let n=t;if(e.size&&(Du(n,{size:e.size}),n=T2(n)),T2(n)==="0x00")return!1;if(T2(n)==="0x01")return!0;throw new Dee(n)}function Zle(t,e={}){return Number(Uee(t,e))}const $ee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fee(t,e={}){return typeof t=="number"||typeof t=="bigint"?cy(t,e):typeof t=="string"?QL(t,e):typeof t=="boolean"?qee(t,e):ZL(t,e)}function qee(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Du(n,{size:e.size}),xf(n,{size:e.size})):n}function ZL(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=$ee[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Du(r,{size:e.size}),xf(r,{dir:"right",size:e.size})):r}function cy(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<o){const u=typeof t=="bigint"?"n":"";throw new Lee({max:a?`${a}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const s=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?xf(s,{size:r}):s}const zee=new TextEncoder;function QL(t,e={}){const n=zee.encode(t);return ZL(n,e)}const Hee=new TextEncoder;function Kee(t,e={}){return typeof t=="number"||typeof t=="bigint"?Vee(t,e):typeof t=="boolean"?Wee(t,e):p5(t)?XL(t,e):eD(t,e)}function Wee(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Du(n,{size:e.size}),xf(n,{size:e.size})):n}const bo={zero:48,nine:57,A:65,F:70,a:97,f:102};function fO(t){if(t>=bo.zero&&t<=bo.nine)return t-bo.zero;if(t>=bo.A&&t<=bo.F)return t-(bo.A-10);if(t>=bo.a&&t<=bo.f)return t-(bo.a-10)}function XL(t,e={}){let n=t;e.size&&(Du(n,{size:e.size}),n=xf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,a=new Uint8Array(i);for(let o=0,s=0;o<i;o++){const u=fO(r.charCodeAt(s++)),l=fO(r.charCodeAt(s++));if(u===void 0||l===void 0)throw new Fr(`Invalid byte sequence ("${r[s-2]}${r[s-1]}" in "${r}").`);a[o]=u*16+l}return a}function Vee(t,e){const n=cy(t,e);return XL(n)}function eD(t,e={}){const n=Hee.encode(t);return typeof e.size=="number"?(Du(n,{size:e.size}),xf(n,{dir:"right",size:e.size})):n}const Rg=BigInt(2**32-1),hO=BigInt(32);function Gee(t,e=!1){return e?{h:Number(t&Rg),l:Number(t>>hO&Rg)}:{h:Number(t>>hO&Rg)|0,l:Number(t&Rg)|0}}function Yee(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:o,l:s}=Gee(t[a],e);[r[a],i[a]]=[o,s]}return[r,i]}const Jee=(t,e,n)=>t<<n|e>>>32-n,Zee=(t,e,n)=>e<<n|t>>>32-n,Qee=(t,e,n)=>e<<n-32|t>>>64-n,Xee=(t,e,n)=>t<<n-32|e>>>64-n,Md=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ete(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function uy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function df(t,...e){if(!ete(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Qle(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");uy(t.outputLen),uy(t.blockLen)}function pO(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tte(t,e){df(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function nte(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function tD(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Xle(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ece(t,e){return t<<32-e|t>>>e}const rte=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ite(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function ate(t){for(let e=0;e<t.length;e++)t[e]=ite(t[e]);return t}const mO=rte?t=>t:ate,nD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ste=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tce(t){if(df(t),nD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=ste[t[n]];return e}const wo={_0:48,_9:57,A:65,F:70,a:97,f:102};function gO(t){if(t>=wo._0&&t<=wo._9)return t-wo._0;if(t>=wo.A&&t<=wo.F)return t-(wo.A-10);if(t>=wo.a&&t<=wo.f)return t-(wo.a-10)}function nce(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(nD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const o=gO(t.charCodeAt(a)),s=gO(t.charCodeAt(a+1));if(o===void 0||s===void 0){const u=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}r[i]=o*16+s}return r}function ote(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function rD(t){return typeof t=="string"&&(t=ote(t)),df(t),t}function rce(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];df(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const a=t[r];n.set(a,i),i+=a.length}return n}class lte{}function cte(t){const e=r=>t().update(rD(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ice(t=32){if(Md&&typeof Md.getRandomValues=="function")return Md.getRandomValues(new Uint8Array(t));if(Md&&typeof Md.randomBytes=="function")return Uint8Array.from(Md.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const ute=BigInt(0),Ph=BigInt(1),dte=BigInt(2),fte=BigInt(7),hte=BigInt(256),pte=BigInt(113),iD=[],aD=[],sD=[];for(let t=0,e=Ph,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],iD.push(2*(5*r+n)),aD.push((t+1)*(t+2)/2%64);let i=ute;for(let a=0;a<7;a++)e=(e<<Ph^(e>>fte)*pte)%hte,e&dte&&(i^=Ph<<(Ph<<BigInt(a))-Ph);sD.push(i)}const oD=Yee(sD,!0),mte=oD[0],gte=oD[1],vO=(t,e,n)=>n>32?Qee(t,e,n):Jee(t,e,n),yO=(t,e,n)=>n>32?Xee(t,e,n):Zee(t,e,n);function vte(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const s=(o+8)%10,u=(o+2)%10,l=n[u],h=n[u+1],p=vO(l,h,1)^n[s],g=yO(l,h,1)^n[s+1];for(let v=0;v<50;v+=10)t[o+v]^=p,t[o+v+1]^=g}let i=t[2],a=t[3];for(let o=0;o<24;o++){const s=aD[o],u=vO(i,a,s),l=yO(i,a,s),h=iD[o];i=t[h],a=t[h+1],t[h]=u,t[h+1]=l}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)n[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=mte[r],t[1]^=gte[r]}tD(n)}class m5 extends lte{constructor(e,n,r,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,uy(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=nte(this.state)}clone(){return this._cloneInto()}keccak(){mO(this.state32),vte(this.state32,this.rounds),mO(this.state32),this.posOut=0,this.pos=0}update(e){pO(this),e=rD(e),df(e);const{blockLen:n,state:r}=this,i=e.length;for(let a=0;a<i;){const o=Math.min(n-this.pos,i-a);for(let s=0;s<o;s++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){pO(this,!1),df(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return uy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tte(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,tD(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new m5(n,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const yte=(t,e,n)=>cte(()=>new m5(e,t,n)),bte=yte(1,136,256/8);function wte(t,e){const n=e||"hex",r=bte(p5(t,{strict:!1})?Kee(t):t);return n==="bytes"?r:Fee(r)}class xte extends Fr{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class g5 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const R2=new g5(8192);function lD(t,e){if(R2.has(`${t}.${e}`))return R2.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=wte(eD(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const a=`0x${i.join("")}`;return R2.set(`${t}.${e}`,a),a}function Pg(t,e){if(!Ste(t,{strict:!1}))throw new xte({address:t});return lD(t,e)}const Ete=/^0x[a-fA-F0-9]{40}$/,P2=new g5(8192);function Ste(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(P2.has(r))return P2.get(r);const i=Ete.test(t)?t.toLowerCase()===t?!0:n?lD(t)===t:!0:!1;return P2.set(r,i),i}function _te(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const dc=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),ace=t=>t,xp=t=>t;class l0 extends Fr{constructor({body:e,cause:n,details:r,headers:i,status:a,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${xp(o)}`,e&&`Request body: ${dc(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=o}}class bO extends Fr{constructor({body:e,cause:n,details:r,url:i}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${xp(i)}`,e&&`Request body: ${dc(e)}`].filter(Boolean),name:"WebSocketRequestError"})}}class v5 extends Fr{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${xp(r)}`,`Request body: ${dc(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class dy extends Fr{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${xp(e)}`].filter(Boolean),name:"SocketClosedError"})}}class h4 extends Fr{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${xp(n)}`,`Request body: ${dc(e)}`],name:"TimeoutError"})}}const Cte=-1;class qi extends Fr{constructor(e,{code:n,docsPath:r,metaMessages:i,name:a,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof v5?e.code:n??Cte}}class ua extends qi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class P0 extends qi{constructor(e){super(e,{code:P0.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(P0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class L0 extends qi{constructor(e){super(e,{code:L0.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(L0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class D0 extends qi{constructor(e,{method:n}={}){super(e,{code:D0.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(D0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class B0 extends qi{constructor(e){super(e,{code:B0.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(B0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ff extends qi{constructor(e){super(e,{code:ff.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class U0 extends qi{constructor(e){super(e,{code:U0.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(U0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class $0 extends qi{constructor(e){super(e,{code:$0.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty($0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class fc extends qi{constructor(e){super(e,{code:fc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(fc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class F0 extends qi{constructor(e){super(e,{code:F0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(F0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class vu extends qi{constructor(e,{method:n}={}){super(e,{code:vu.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(vu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class hf extends qi{constructor(e){super(e,{code:hf.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(hf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class q0 extends qi{constructor(e){super(e,{code:q0.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ci extends ua{constructor(e){super(e,{code:ci.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class z0 extends ua{constructor(e){super(e,{code:z0.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class H0 extends ua{constructor(e,{method:n}={}){super(e,{code:H0.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(H0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class K0 extends ua{constructor(e){super(e,{code:K0.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(K0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class W0 extends ua{constructor(e){super(e,{code:W0.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(W0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ju extends ua{constructor(e){super(e,{code:ju.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ju,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class V0 extends ua{constructor(e){super(e,{code:V0.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(V0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class G0 extends ua{constructor(e){super(e,{code:G0.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(G0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Y0 extends ua{constructor(e){super(e,{code:Y0.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Y0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class J0 extends ua{constructor(e){super(e,{code:J0.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(J0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Z0 extends ua{constructor(e){super(e,{code:Z0.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Q0 extends ua{constructor(e){super(e,{code:Q0.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class X0 extends ua{constructor(e){super(e,{code:X0.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(X0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Nte extends qi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Ate(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const L2=new Map;function cD({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const a=async()=>{const h=u();o();const p=h.map(({args:g})=>g);p.length!==0&&t(p).then(g=>{i&&Array.isArray(g)&&g.sort(i);for(let v=0;v<h.length;v++){const{resolve:y}=h[v];y?.([g[v],g])}}).catch(g=>{for(let v=0;v<h.length;v++){const{reject:y}=h[v];y?.(g)}})},o=()=>L2.delete(e),s=()=>u().map(({args:h})=>h),u=()=>L2.get(e)||[],l=h=>L2.set(e,[...u(),h]);return{flush:o,async schedule(h){const{promise:p,resolve:g,reject:v}=Ate();return n?.([...s(),h])&&a(),u().length>0?(l({args:h,resolve:g,reject:v}),p):(l({args:h,resolve:g,reject:v}),setTimeout(a,r),p)}}}async function jte(t){return new Promise(e=>setTimeout(e,t))}function uD(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,a)=>{const o=async({count:s=0}={})=>{const u=async({error:l})=>{const h=typeof e=="function"?e({count:s,error:l}):e;h&&await jte(h),o({count:s+1})};try{const l=await t();i(l)}catch(l){if(s<n&&await r({count:s,error:l}))return u({error:l});a(l)}};o()})}const p4=256;let Lg=p4,Dg;function dD(t=11){if(!Dg||Lg+t>p4*2){Dg="",Lg=0;for(let e=0;e<p4;e++)Dg+=(256+Math.random()*256|0).toString(16).substring(1)}return Dg.substring(Lg,Lg+++t)}function Mte(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:a="Base Client",type:o="base"}=t,s=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(u/2),500),4e3),h=t.pollingInterval??l,p=t.cacheTime??h,g=t.account?_te(t.account):void 0,{config:v,request:y,value:w}=t.transport({chain:n,pollingInterval:h}),C={...v,...w},x={account:g,batch:e,cacheTime:p,ccipRead:r,chain:n,key:i,name:a,pollingInterval:h,request:y,transport:C,type:o,uid:dD(),...s?{experimental_blockTag:s}:{}};function M(k){return z=>{const P=z(k);for(const W in x)delete P[W];const K={...k,...P};return Object.assign(K,{extend:M(K)})}}return Object.assign(x,{extend:M(x)})}const Bg=new g5(8192);function Ote(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Bg.get(n))return Bg.get(n);const r=t().finally(()=>Bg.delete(n));return Bg.set(n,r),r}function kte(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:a,retryDelay:o=150,retryCount:s=3,uid:u}={...e,...r},{method:l}=n;if(a?.exclude?.includes(l))throw new vu(new Error("method not supported"),{method:l});if(a?.include&&!a.include.includes(l))throw new vu(new Error("method not supported"),{method:l});const h=i?QL(`${u}.${dc(n)}`):void 0;return Ote(()=>uD(async()=>{try{return await t(n)}catch(p){const g=p;switch(g.code){case P0.code:throw new P0(g);case L0.code:throw new L0(g);case D0.code:throw new D0(g,{method:n.method});case B0.code:throw new B0(g);case ff.code:throw new ff(g);case U0.code:throw new U0(g);case $0.code:throw new $0(g);case fc.code:throw new fc(g);case F0.code:throw new F0(g);case vu.code:throw new vu(g,{method:n.method});case hf.code:throw new hf(g);case q0.code:throw new q0(g);case ci.code:throw new ci(g);case z0.code:throw new z0(g);case H0.code:throw new H0(g);case K0.code:throw new K0(g);case W0.code:throw new W0(g);case ju.code:throw new ju(g);case V0.code:throw new V0(g);case G0.code:throw new G0(g);case Y0.code:throw new Y0(g);case J0.code:throw new J0(g);case Z0.code:throw new Z0(g);case Q0.code:throw new Q0(g);case X0.code:throw new X0(g);case 5e3:throw new ci(g);default:throw p instanceof Fr?p:new Nte(g)}}},{delay:({count:p,error:g})=>{if(g&&g instanceof l0){const v=g?.headers?.get("Retry-After");if(v?.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<p)*o},retryCount:s,shouldRetry:({error:p})=>Ite(p)}),{enabled:i,id:h})}}function Ite(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===hf.code||t.code===ff.code:t instanceof l0&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function fD({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:a=150,timeout:o,type:s},u){const l=dD();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:a,timeout:o,type:s},request:kte(r,{methods:e,retryCount:i,retryDelay:a,uid:l}),value:u}}class hD extends Fr{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function y5(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,a)=>{(async()=>{let o;try{const s=new AbortController;n>0&&(o=setTimeout(()=>{r?s.abort():a(e)},n)),i(await t({signal:s?.signal||null}))}catch(s){s?.name==="AbortError"&&a(e),a(s)}finally{clearTimeout(o)}})()})}function Tte(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const m4=Tte();function Rte(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:a=e.onResponse,timeout:o=e.timeout??1e4}=n,s={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:l,signal:h}=s;try{const p=await y5(async({signal:v})=>{const y={...s,body:Array.isArray(r)?dc(r.map(M=>({jsonrpc:"2.0",id:M.id??m4.take(),...M}))):dc({jsonrpc:"2.0",id:r.id??m4.take(),...r}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:h||(o>0?v:null)},w=new Request(t,y),C=await i?.(w,y)??{...y,url:t};return await fetch(C.url??t,C)},{errorInstance:new h4({body:r,url:t}),timeout:o,signal:!0});a&&await a(p);let g;if(p.headers.get("Content-Type")?.startsWith("application/json"))g=await p.json();else{g=await p.text();try{g=JSON.parse(g||"{}")}catch(v){if(p.ok)throw v;g={error:g}}}if(!p.ok)throw new l0({body:r,details:dc(g.error)||p.statusText,headers:p.headers,status:p.status,url:t});return g}catch(p){throw p instanceof l0||p instanceof h4?p:new l0({body:r,cause:p,url:t})}}}}function pD(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:u,retryDelay:l,raw:h}=e;return({chain:p,retryCount:g,timeout:v})=>{const{batchSize:y=1e3,wait:w=0}=typeof n=="object"?n:{},C=e.retryCount??g,x=v??e.timeout??1e4,M=t||p?.rpcUrls.default.http[0];if(!M)throw new hD;const k=Rte(M,{fetchOptions:r,onRequest:s,onResponse:u,timeout:x});return fD({key:i,methods:a,name:o,async request({method:z,params:P}){const K={method:z,params:P},{schedule:W}=cD({id:M,wait:w,shouldSplitBatch(T){return T.length>y},fn:T=>k.request({body:T}),sort:(T,b)=>T.id-b.id}),B=async T=>n?W(T):[await k.request({body:T})],[{error:D,result:$}]=await B(K);if(h)return{error:D,result:$};if(D)throw new v5({body:K,error:D,url:M});return $},retryCount:C,retryDelay:l,timeout:x,type:"http"},{fetchOptions:r,url:M})}}function mD(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const D2=new Map;async function Pte(t){const{getSocket:e,keepAlive:n=!0,key:r="socket",reconnect:i=!0,url:a}=t,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:s=5,delay:u=2e3}=typeof i=="object"?i:{},l=JSON.stringify({keepAlive:n,key:r,url:a,reconnect:i});let h=D2.get(l);if(h)return h;let p=0;const{schedule:g}=cD({id:l,fn:async()=>{const w=new Map,C=new Map;let x,M,k,z=!1;function P(){if(i&&p<s){if(z)return;z=!0,p++,M?.close(),setTimeout(async()=>{await K().catch(console.error),z=!1},u)}else w.clear(),C.clear()}async function K(){const W=await e({onClose(){for(const B of w.values())B.onError?.(new dy({url:a}));for(const B of C.values())B.onError?.(new dy({url:a}));P()},onError(B){x=B;for(const D of w.values())D.onError?.(x);for(const D of C.values())D.onError?.(x);P()},onOpen(){x=void 0,p=0},onResponse(B){const D=B.method==="eth_subscription",$=D?B.params.subscription:B.id,T=D?C:w,b=T.get($);b&&b.onResponse(B),D||T.delete($)}});if(M=W,n&&(k&&clearInterval(k),k=setInterval(()=>M.ping?.(),o)),i&&C.size>0){const B=C.entries();for(const[D,{onResponse:$,body:T,onError:b}]of B)T&&(C.delete(D),h?.request({body:T,onResponse:$,onError:b}))}return W}return await K(),x=void 0,h={close(){k&&clearInterval(k),M.close(),D2.delete(l)},get socket(){return M},request({body:W,onError:B,onResponse:D}){x&&B&&B(x);const $=W.id??m4.take(),T=b=>{typeof b.id=="number"&&$!==b.id||(W.method==="eth_subscribe"&&typeof b.result=="string"&&C.set(b.result,{onResponse:T,onError:B,body:W}),W.method==="eth_unsubscribe"&&C.delete(W.params?.[0]),D(b))};w.set($,{onResponse:T,onError:B});try{M.request({body:{jsonrpc:"2.0",id:$,...W}})}catch(b){B?.(b)}},requestAsync({body:W,timeout:B=1e4}){return y5(()=>new Promise((D,$)=>this.request({body:W,onError:$,onResponse:D})),{errorInstance:new h4({body:W,url:a}),timeout:B})},requests:w,subscriptions:C,url:a},D2.set(l,h),[h]}}),[v,[y]]=await g();return y}async function Ev(t,e={}){const{keepAlive:n,reconnect:r}=e;return Pte({async getSocket({onClose:i,onError:a,onOpen:o,onResponse:s}){const u=await yn(()=>import("./native-B8WyFf_Z.js"),[]).then(v=>v.WebSocket),l=new u(t);function h(){l.removeEventListener("close",h),l.removeEventListener("message",p),l.removeEventListener("error",a),l.removeEventListener("open",o),i()}function p({data:v}){try{const y=JSON.parse(v);s(y)}catch(y){a(y)}}l.addEventListener("close",h),l.addEventListener("message",p),l.addEventListener("error",a),l.addEventListener("open",o),l.readyState===u.CONNECTING&&await new Promise((v,y)=>{l&&(l.onopen=v,l.onerror=y)});const{close:g}=l;return Object.assign(l,{close(){g.bind(l)(),h()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new bO({url:l.url,cause:new dy({url:l.url})});const v={jsonrpc:"2.0",method:"net_version",params:[]};l.send(JSON.stringify(v))}catch(v){a(v)}},request({body:v}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new bO({body:v,url:l.url,cause:new dy({url:l.url})});return l.send(JSON.stringify(v))}})},keepAlive:n,reconnect:r,url:t})}async function Lte(t){const e=await Ev(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})}function Dte(t,e={}){const{keepAlive:n,key:r="webSocket",methods:i,name:a="WebSocket JSON-RPC",reconnect:o,retryDelay:s}=e;return({chain:u,retryCount:l,timeout:h})=>{const p=e.retryCount??l,g=h??e.timeout??1e4,v=t||u?.rpcUrls.default.webSocket?.[0],y={keepAlive:n,reconnect:o};if(!v)throw new hD;return fD({key:r,methods:i,name:a,async request({method:w,params:C}){const x={method:w,params:C},M=await Ev(v,y),{error:k,result:z}=await M.requestAsync({body:x,timeout:g});if(k)throw new v5({body:x,error:k,url:v});return z},retryCount:p,retryDelay:s,timeout:g,type:"webSocket"},{getSocket(){return Lte(v)},getRpcClient(){return Ev(v,y)},async subscribe({params:w,onData:C,onError:x}){const M=await Ev(v,y),{result:k}=await new Promise((z,P)=>M.request({body:{method:"eth_subscribe",params:w},onError(K){P(K),x?.(K)},onResponse(K){if(K.error){P(K.error),x?.(K.error);return}if(typeof K.id=="number"){z(K);return}K.method==="eth_subscription"&&C(K.params)}}));return{subscriptionId:k,async unsubscribe(){return new Promise(z=>M.request({body:{method:"eth_unsubscribe",params:[k]},onResponse:z}))}}}})}}const Bte=se.createContext(null);function Ute({children:t,context:e}){const n=se.useContext(e),{getPlugin:r,isInitialized:i,isConnected:a}=n,[o,s]=se.useState(!1),[u,l]=se.useState(!1),[h,p]=se.useState(null);se.useEffect(()=>{if(i){const v=r(ly.WALLET_SERVICES);p(v)}},[i,r]),se.useEffect(()=>{if(a){const v=r(ly.WALLET_SERVICES);p(v),v?.status===ct.CONNECTED&&s(!0)}},[a,r,h]),se.useEffect(()=>{const v=()=>{s(!0),l(!1)},y=()=>{s(!1),l(!1)},w=()=>{l(!0)};return h&&(h.on(rs.CONNECTED,v),h.on(rs.DISCONNECTED,y),h.on(rs.CONNECTING,w)),()=>{h&&(h.off(rs.CONNECTED,v),h.off(rs.DISCONNECTED,y),h.off(rs.CONNECTING,w))}},[h]);const g=se.useMemo(()=>({plugin:h,ready:o,connecting:u}),[h,o,u]);return se.createElement(Bte.Provider,{value:g},t)}const $te="10.2.0",Fte={hideWalletDiscovery:!1,connectors:{[Pv.AUTH]:{label:"Auth",showOnModal:!0}}},qte="https://assets.web3auth.io/v1/wallet-registry.json";function b5(t){return t.charAt(0).toUpperCase()+t.slice(1)}const zte=new Set([ot.CUSTOM,ot.PASSKEYS,ot.TELEGRAM,ot.AUTHENTICATOR]),g4=Object.values(ot).filter(t=>!zte.has(t)),Hte=g4.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=b5(e),t),{}),Kte={[Oi.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[Oi.STAGING]:"https://api.web3auth.io/passwordless-service",[Oi.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[Oi.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},Wte="d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",Ug={MODAL_VISIBILITY:"MODAL_VISIBILITY"},nr={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"};let fy=function(t){return t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t}({});function Vte(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Gte=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}`;Vte(Gte);const Yte=t=>({ui_modal_login_methods_order:t?.loginMethodsOrder,ui_modal_z_index:t?.modalZIndex,ui_modal_display_errors_on_modal:t?.displayErrorsOnModal,ui_modal_login_grid_col:t?.loginGridCol,ui_modal_primary_button:t?.primaryButton,ui_modal_widget_type:t?.widgetType,ui_modal_target_id_used:!!t?.targetId,ui_modal_logo_alignment:t?.logoAlignment,ui_modal_border_radius_type:t?.borderRadiusType,ui_modal_button_radius_type:t?.buttonRadiusType,ui_modal_sign_in_methods:t?.signInMethods,ui_modal_add_previous_login_hint:t?.addPreviousLoginHint,ui_modal_display_installed_external_wallets:t?.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:t?.displayExternalWalletsCount}),ou={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},nc={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},gD="https://images.web3auth.io/web3auth-logo-w.svg",vD="https://images.web3auth.io/web3auth-logo-w-light.svg",Jte="https://images.web3auth.io/login-wallet-connect.svg",Zte="#0364FF",Qte="#FFFFFF",Xte={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}};function yD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ene(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yD(t))&&(r&&(r+=" "),r+=e);return r}const w5="-",tne=t=>{const e=rne(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const s=o.split(w5);return s[0]===""&&s.length!==1&&s.shift(),bD(s,e)||nne(o)},getConflictingClassGroupIds:(o,s)=>{const u=n[o]||[];return s&&r[o]?[...u,...r[o]]:u}}},bD=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?bD(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(w5);return e.validators.find(({validator:o})=>o(a))?.classGroupId},wO=/^\[(.+)\]$/,nne=t=>{if(wO.test(t)){const e=wO.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},rne=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)v4(n[i],r,i,e);return r},v4=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:xO(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(ine(i)){v4(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{v4(o,xO(e,a),n,r)})})},xO=(t,e)=>{let n=t;return e.split(w5).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ine=t=>t.isThemeGetter,ane=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},y4="!",b4=":",sne=b4.length,one=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,s=0,u=0,l;for(let y=0;y<i.length;y++){let w=i[y];if(o===0&&s===0){if(w===b4){a.push(i.slice(u,y)),u=y+sne;continue}if(w==="/"){l=y;continue}}w==="["?o++:w==="]"?o--:w==="("?s++:w===")"&&s--}const h=a.length===0?i:i.substring(u),p=lne(h),g=p!==h,v=l&&l>u?l-u:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:v}};if(e){const i=e+b4,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},lne=t=>t.endsWith(y4)?t.substring(0,t.length-1):t.startsWith(y4)?t.substring(1):t,cne=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},une=t=>({cache:ane(t.cacheSize),parseClassName:one(t),sortModifiers:cne(t),...tne(t)}),dne=/\s+/,fne=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],s=t.trim().split(dne);let u="";for(let l=s.length-1;l>=0;l-=1){const h=s[l],{isExternal:p,modifiers:g,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:w}=n(h);if(p){u=h+(u.length>0?" "+u:u);continue}let C=!!w,x=r(C?y.substring(0,w):y);if(!x){if(!C){u=h+(u.length>0?" "+u:u);continue}if(x=r(y),!x){u=h+(u.length>0?" "+u:u);continue}C=!1}const M=a(g).join(":"),k=v?M+y4:M,z=k+x;if(o.includes(z))continue;o.push(z);const P=i(x,C);for(let K=0;K<P.length;++K){const W=P[K];o.push(k+W)}u=h+(u.length>0?" "+u:u)}return u};function hne(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wD(e))&&(r&&(r+=" "),r+=n);return r}const wD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wD(t[r]))&&(n&&(n+=" "),n+=e);return n};function pne(t,...e){let n,r,i,a=o;function o(u){const l=e.reduce((h,p)=>p(h),t());return n=une(l),r=n.cache.get,i=n.cache.set,a=s,s(u)}function s(u){const l=r(u);if(l)return l;const h=fne(u,n);return i(u,h),h}return function(){return a(hne.apply(null,arguments))}}const hr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ED=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mne=/^\d+\/\d+$/,gne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Od=t=>mne.test(t),Vt=t=>!!t&&!Number.isNaN(Number(t)),Ul=t=>!!t&&Number.isInteger(Number(t)),B2=t=>t.endsWith("%")&&Vt(t.slice(0,-1)),xo=t=>gne.test(t),xne=()=>!0,Ene=t=>vne.test(t)&&!yne.test(t),SD=()=>!1,Sne=t=>bne.test(t),_ne=t=>wne.test(t),Cne=t=>!vt(t)&&!yt(t),Nne=t=>Ef(t,ND,SD),vt=t=>xD.test(t),ru=t=>Ef(t,AD,Ene),U2=t=>Ef(t,kne,Vt),EO=t=>Ef(t,_D,SD),Ane=t=>Ef(t,CD,_ne),$g=t=>Ef(t,jD,Sne),yt=t=>ED.test(t),Lh=t=>Sf(t,AD),jne=t=>Sf(t,Ine),SO=t=>Sf(t,_D),Mne=t=>Sf(t,ND),One=t=>Sf(t,CD),Fg=t=>Sf(t,jD,!0),Ef=(t,e,n)=>{const r=xD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Sf=(t,e,n=!1)=>{const r=ED.exec(t);return r?r[1]?e(r[1]):n:!1},_D=t=>t==="position"||t==="percentage",CD=t=>t==="image"||t==="url",ND=t=>t==="length"||t==="size"||t==="bg-size",AD=t=>t==="length",kne=t=>t==="number",Ine=t=>t==="family-name",jD=t=>t==="shadow",Tne=()=>{const t=hr("color"),e=hr("font"),n=hr("text"),r=hr("font-weight"),i=hr("tracking"),a=hr("leading"),o=hr("breakpoint"),s=hr("container"),u=hr("spacing"),l=hr("radius"),h=hr("shadow"),p=hr("inset-shadow"),g=hr("text-shadow"),v=hr("drop-shadow"),y=hr("blur"),w=hr("perspective"),C=hr("aspect"),x=hr("ease"),M=hr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...z(),yt,vt],K=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],B=()=>[yt,vt,u],D=()=>[Od,"full","auto",...B()],$=()=>[Ul,"none","subgrid",yt,vt],T=()=>["auto",{span:["full",Ul,yt,vt]},Ul,yt,vt],b=()=>[Ul,"auto",yt,vt],_=()=>["auto","min","max","fr",yt,vt],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],N=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...B()],U=()=>[Od,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],j=()=>[t,yt,vt],I=()=>[...z(),SO,EO,{position:[yt,vt]}],E=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",Mne,Nne,{size:[yt,vt]}],q=()=>[B2,Lh,ru],F=()=>["","none","full",l,yt,vt],G=()=>["",Vt,Lh,ru],Y=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[Vt,B2,SO,EO],Z=()=>["","none",y,yt,vt],X=()=>["none",Vt,yt,vt],te=()=>["none",Vt,yt,vt],ae=()=>[Vt,yt,vt],oe=()=>[Od,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xo],breakpoint:[xo],color:[xne],container:[xo],"drop-shadow":[xo],ease:["in","out","in-out"],font:[Cne],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xo],shadow:[xo],spacing:["px",Vt],text:[xo],"text-shadow":[xo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Od,vt,yt,C]}],container:["container"],columns:[{columns:[Vt,vt,yt,s]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Ul,"auto",yt,vt]}],basis:[{basis:[Od,"full","auto",s,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vt,Od,"auto","initial","none",vt]}],grow:[{grow:["",Vt,yt,vt]}],shrink:[{shrink:["",Vt,yt,vt]}],order:[{order:[Ul,"first","last","none",yt,vt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_()}],"auto-rows":[{"auto-rows":_()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...N(),"normal"]}],"justify-self":[{"justify-self":["auto",...N()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...N(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...N(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...N(),"baseline"]}],"place-self":[{"place-self":["auto",...N()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[s,"screen",...U()]}],"min-w":[{"min-w":[s,"screen","none",...U()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,Lh,ru]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,yt,U2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",B2,vt]}],"font-family":[{font:[jne,vt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,yt,vt]}],"line-clamp":[{"line-clamp":[Vt,"none",yt,U2]}],leading:[{leading:[a,...B()]}],"list-image":[{"list-image":["none",yt,vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",yt,vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vt,"from-font","auto",yt,ru]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Vt,"auto",yt,vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt,vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt,vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:E()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ul,yt,vt],radial:["",yt,vt],conic:[Ul,yt,vt]},One,Ane]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vt,yt,vt]}],"outline-w":[{outline:["",Vt,Lh,ru]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,Fg,$g]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",p,Fg,$g]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Vt,ru]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",g,Fg,$g]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Vt,yt,vt]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[yt,vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:E()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",yt,vt]}],filter:[{filter:["","none",yt,vt]}],blur:[{blur:Z()}],brightness:[{brightness:[Vt,yt,vt]}],contrast:[{contrast:[Vt,yt,vt]}],"drop-shadow":[{"drop-shadow":["","none",v,Fg,$g]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Vt,yt,vt]}],"hue-rotate":[{"hue-rotate":[Vt,yt,vt]}],invert:[{invert:["",Vt,yt,vt]}],saturate:[{saturate:[Vt,yt,vt]}],sepia:[{sepia:["",Vt,yt,vt]}],"backdrop-filter":[{"backdrop-filter":["","none",yt,vt]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[Vt,yt,vt]}],"backdrop-contrast":[{"backdrop-contrast":[Vt,yt,vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vt,yt,vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vt,yt,vt]}],"backdrop-invert":[{"backdrop-invert":["",Vt,yt,vt]}],"backdrop-opacity":[{"backdrop-opacity":[Vt,yt,vt]}],"backdrop-saturate":[{"backdrop-saturate":[Vt,yt,vt]}],"backdrop-sepia":[{"backdrop-sepia":["",Vt,yt,vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",yt,vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vt,"initial",yt,vt]}],ease:[{ease:["linear","initial",x,yt,vt]}],delay:[{delay:[Vt,yt,vt]}],animate:[{animate:["none",M,yt,vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,yt,vt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:ae()}],"skew-x":[{"skew-x":ae()}],"skew-y":[{"skew-y":ae()}],transform:[{transform:[yt,vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt,vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt,vt]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Vt,Lh,ru,U2]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Rne=pne(Tne),$2=new Map;function tn(...t){const e=JSON.stringify(t);if($2.has(e))return $2.get(e);const n=Rne(ene(t));return $2.set(e,n),n}const Pne=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},Lne=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},Dne=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},Bne=t=>t.charAt(0).toUpperCase()+t.slice(1),Bi=t=>`https://images.web3auth.io/login-modal/${t}.svg`,MD="https://api.web3auth.io/passwordless-service",Une=async()=>{try{const t=await Ws(`${MD}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return at.error("error getting user country",t),null}},$ne=async t=>{try{const e=await Eu(`${MD}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e:{success:!1,parsed_number:"",country_flag:""}}catch(e){return at.error("error validating phone number",e),e.status===400?{success:!1,parsed_number:"",country_flag:""}:{success:!1,parsed_number:"",country_flag:""}}},OD=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(Yz,e)?e:Aa.en};function Fne(t){const e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}const qne=t=>{if(!t)return"passwordless.something-wrong-error";switch(t){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};function zne(t){const{open:e=!0,padding:n=!0,shadow:r=!0,border:i=!1,showCloseIcon:a=!1,onClose:o,children:s,borderRadius:u="large"}=t,[l,h]=se.useState(!1);se.useEffect(()=>{e?setTimeout(()=>{h(!0)},50):h(!1)},[e]);const p=()=>{o&&o()};return l?f.jsxs("div",{className:tn("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":n,"w3a--shadow-xl sm:w3a--shadow-lg":r,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":u==="large","w3a--rounded-2xl":u==="medium","w3a--rounded-none":u==="small"}),children:[a&&f.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:p,className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),s]}):null}function Hne(t){const{children:e,open:n,onClose:r,placement:i="center",padding:a=!0,shadow:o=!0,border:s=!1,showCloseIcon:u=!0,borderRadius:l="large"}=t,[h,p]=se.useState(!1);se.useEffect(()=>{n?(document.body.style.overflow="hidden",setTimeout(()=>{p(!0)},50)):(p(!1),document.body.style.overflow="")},[n]);const g=se.useMemo(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),v=se.useMemo(()=>g[i],[i,g]),y=()=>{r&&r()};return f.jsx("div",{className:tn("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",v,{"w3a--w-screen w3a--h-screen":h,"w3a--w-0 w3a--h-0 w3a--delay-500":!h}),children:f.jsxs("div",{className:tn("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":h,"w3a--translate-y-[100vh]":!h,"w3a--p-4":a,"w3a--shadow-xl sm:w3a--shadow-lg":o,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":s,"w3a--rounded-[30px]":l==="large","w3a--rounded-2xl":l==="medium","w3a--rounded-none":l==="small"}),children:[u&&f.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:y,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),e]})})}const Kne=(t,e,n,r)=>{const i=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);xu(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},_O={},w4=(t,e,n,r)=>{xu(n)&&_O[n]||(xu(n)&&(_O[n]=new Date),Kne(t,e,n,r))},kD=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},x4=(t,e,n)=>{t.loadNamespaces(e,kD(t,n))},CO=(t,e,n,r)=>{if(xu(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return x4(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,kD(t,r))},Wne=(t,e,n={})=>!e.languages||!e.languages.length?(w4(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),xu=t=>typeof t=="string",Vne=t=>typeof t=="object"&&t!==null,Gne=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Yne={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Jne=t=>Yne[t],Zne=t=>t.replace(Gne,Jne);let E4={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Zne};const Qne=(t={})=>{E4={...E4,...t}},Xne=()=>E4;let ID;const ere=t=>{ID=t},tre=()=>ID,nre={type:"3rdParty",init(t){Qne(t.options.react),ere(t)}},rre=se.createContext();class ire{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const are=(t,e)=>{const n=se.useRef();return se.useEffect(()=>{n.current=t},[t,e]),n.current},TD=(t,e,n,r)=>t.getFixedT(e,n,r),sre=(t,e,n,r)=>se.useCallback(TD(t,e,n,r),[t,e,n,r]),vi=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:i}=se.useContext(rre)||{},a=n||r||tre();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new ire),!a){w4(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const z=(K,W)=>xu(W)?W:Vne(W)&&xu(W.defaultValue)?W.defaultValue:Array.isArray(K)?K[K.length-1]:K,P=[z,{},!1];return P.t=z,P.i18n={},P.ready=!1,P}a.options.react?.wait&&w4(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Xne(),...a.options.react,...e},{useSuspense:s,keyPrefix:u}=o;let l=i||a.options?.defaultNS;l=xu(l)?[l]:l||["translation"],a.reportNamespaces.addUsedNamespaces?.(l);const h=(a.isInitialized||a.initializedStoreOnce)&&l.every(z=>Wne(z,a,o)),p=sre(a,e.lng||null,o.nsMode==="fallback"?l:l[0],u),g=()=>p,v=()=>TD(a,e.lng||null,o.nsMode==="fallback"?l:l[0],u),[y,w]=se.useState(g);let C=l.join();e.lng&&(C=`${e.lng}${C}`);const x=are(C),M=se.useRef(!0);se.useEffect(()=>{const{bindI18n:z,bindI18nStore:P}=o;M.current=!0,!h&&!s&&(e.lng?CO(a,e.lng,l,()=>{M.current&&w(v)}):x4(a,l,()=>{M.current&&w(v)})),h&&x&&x!==C&&M.current&&w(v);const K=()=>{M.current&&w(v)};return z&&a?.on(z,K),P&&a?.store.on(P,K),()=>{M.current=!1,a&&z&&z?.split(" ").forEach(W=>a.off(W,K)),P&&a&&P.split(" ").forEach(W=>a.store.off(W,K))}},[a,C]),se.useEffect(()=>{M.current&&h&&w(g)},[a,u,h]);const k=[y,a,h];if(k.t=y,k.i18n=a,k.ready=h,h||!h&&!s)return k;throw new Promise(z=>{e.lng?CO(a,e.lng,l,()=>z()):x4(a,l,()=>z())})},Ep=se.createContext({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:fy.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),sb=se.createContext({isDark:!0}),Dt=t=>typeof t=="string",Dh=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},NO=t=>t==null?"":""+t,ore=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},lre=/###/g,AO=t=>t&&t.indexOf("###")>-1?t.replace(lre,"."):t,jO=t=>!t||Dt(t),c0=(t,e,n)=>{const r=Dt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(jO(t))return{};const a=AO(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return jO(t)?{}:{obj:t,k:AO(r[i])}},MO=(t,e,n)=>{const{obj:r,k:i}=c0(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=c0(t,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=c0(t,o,Object),s?.obj&&typeof s.obj[`${s.k}.${a}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=n},cre=(t,e,n,r)=>{const{obj:i,k:a}=c0(t,e,Object);i[a]=i[a]||[],i[a].push(n)},hy=(t,e)=>{const{obj:n,k:r}=c0(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},ure=(t,e,n)=>{const r=hy(t,n);return r!==void 0?r:hy(e,n)},RD=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Dt(t[r])||t[r]instanceof String||Dt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):RD(t[r],e[r],n):t[r]=e[r]);return t},kd=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var dre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const fre=t=>Dt(t)?t.replace(/[&<>"'\/]/g,e=>dre[e]):t;class hre{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const pre=[" ",",","?","!",";"],mre=new hre(20),gre=(t,e,n)=>{e=e||"",n=n||"";const r=pre.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=mre.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(t);if(!a){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},S4=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,s="";for(let u=a;u<r.length;++u)if(u!==a&&(s+=n),s+=r[u],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<r.length-1)continue;a+=u-a+1;break}i=o}return i},ep=t=>t?.replace("_","-"),vre={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class py{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||vre,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Dt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new py(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new py(this.logger,e)}}var Ds=new py;class ob{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...n])})}}class OO extends ob{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],r&&(Array.isArray(r)?s.push(...r):Dt(r)&&a?s.push(...r.split(a)):s.push(r)));const u=hy(this.data,s);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=s[0],n=s[1],r=s.slice(2).join(".")),u||!o||!Dt(r)?u:S4(this.data?.[e]?.[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(s=e.split("."),i=n,n=s[1]),this.addNamespaces(n),MO(this.data,s,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(Dt(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,o={silent:!1,skipCopy:!1}){let s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let u=hy(this.data,s)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?RD(u,r,a):u={...u,...r},MO(this.data,s,u),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var PD={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{e=this.processors[a]?.process(e,n,r,i)??e}),e}};const LD=Symbol("i18next/PATH_KEY");function yre(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>(n?.revoke?.(),i===LD?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function bre(t,e){const{[LD]:n}=t(yre());return n.join(e?.keySeparator??".")}const kO={},IO=t=>!Dt(t)&&typeof t!="boolean"&&typeof t!="number";class my extends ob{constructor(e,n={}){super(),ore(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ds.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!gre(e,r,i);if(o&&!s){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Dt(a)?[a]:a};const l=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(a=l.shift()),e=l.join(i)}return{key:e,namespaces:Dt(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=bre(e,i)),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:u}=this.extractFromKey(e[e.length-1],i),l=u[u.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const p=i.lng||this.language,g=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return g?a?{res:`${l}${h}${s}`,usedKey:s,exactUsedKey:s,usedLng:p,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${h}${s}`:a?{res:s,usedKey:s,exactUsedKey:s,usedLng:p,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:s;const v=this.resolve(e,i);let y=v?.res;const w=v?.usedKey||s,C=v?.exactUsedKey||s,x=["[object Number]","[object Function]","[object RegExp]"],M=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,z=i.count!==void 0&&!Dt(i.count),P=my.hasDefaultValue(i),K=z?this.pluralResolver.getSuffix(p,i.count,i):"",W=i.ordinal&&z?this.pluralResolver.getSuffix(p,i.count,{ordinal:!1}):"",B=z&&!i.ordinal&&i.count===0,D=B&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${K}`]||i[`defaultValue${W}`]||i.defaultValue;let $=y;k&&!y&&P&&($=D);const T=IO($),b=Object.prototype.toString.apply($);if(k&&$&&T&&x.indexOf(b)<0&&!(Dt(M)&&Array.isArray($))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,$,{...i,ns:u}):`key '${s} (${this.language})' returned an object instead of string.`;return a?(v.res=_,v.usedParams=this.getUsedParamsDetails(i),v):_}if(o){const _=Array.isArray($),A=_?[]:{},N=_?C:w;for(const O in $)if(Object.prototype.hasOwnProperty.call($,O)){const U=`${N}${o}${O}`;P&&!y?A[O]=this.translate(U,{...i,defaultValue:IO(D)?D[O]:void 0,joinArrays:!1,ns:u}):A[O]=this.translate(U,{...i,joinArrays:!1,ns:u}),A[O]===U&&(A[O]=$[O])}y=A}}else if(k&&Dt(M)&&Array.isArray(y))y=y.join(M),y&&(y=this.extendTranslation(y,e,i,r));else{let _=!1,A=!1;!this.isValidLookup(y)&&P&&(_=!0,y=D),this.isValidLookup(y)||(A=!0,y=s);const O=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:y,U=P&&D!==y&&this.options.updateMissing;if(A||_||U){if(this.logger.log(U?"updateKey":"missingKey",p,l,s,U?D:y),o){const L=this.resolve(s,{...i,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let j=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let L=0;L<I.length;L++)j.push(I[L]);else this.options.saveMissingTo==="all"?j=this.languageUtils.toResolveHierarchy(i.lng||this.language):j.push(i.lng||this.language);const E=(L,q,F)=>{const G=P&&F!==y?F:O;this.options.missingKeyHandler?this.options.missingKeyHandler(L,l,q,G,U,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(L,l,q,G,U,i),this.emit("missingKey",L,l,q,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?j.forEach(L=>{const q=this.pluralResolver.getSuffixes(L,i);B&&i[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(F=>{E([L],s+F,i[`defaultValue${F}`]||D)})}):E(j,s,D))}y=this.extendTranslation(y,e,i,v,r),A&&y===s&&this.options.appendNamespaceToMissingKey&&(y=`${l}${h}${s}`),(A||_)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${h}${s}`:s,_?y:void 0,i))}return a?(v.res=y,v.usedParams=this.getUsedParamsDetails(i),v):y}extendTranslation(e,n,r,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Dt(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(u){const p=e.match(this.interpolator.nestingRegexp);l=p&&p.length}let h=r.replace&&!Dt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;l<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>a?.[0]===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,s=Dt(o)?[o]:o;return e!=null&&s?.length&&r.applyPostProcessor!==!1&&(e=PD.handle(s,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,o,s;return Dt(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(u,n),h=l.key;i=h;let p=l.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const g=n.count!==void 0&&!Dt(n.count),v=g&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(Dt(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(C=>{this.isValidLookup(r)||(s=C,!kO[`${w[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(s)&&(kO[`${w[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${w.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(x=>{if(this.isValidLookup(r))return;o=x;const M=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(M,h,x,C,n);else{let z;g&&(z=this.pluralResolver.getSuffix(x,n.count,n));const P=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(n.ordinal&&z.indexOf(K)===0&&M.push(h+z.replace(K,this.options.pluralSeparator)),M.push(h+z),v&&M.push(h+P)),y){const W=`${h}${this.options.contextSeparator||"_"}${n.context}`;M.push(W),g&&(n.ordinal&&z.indexOf(K)===0&&M.push(W+z.replace(K,this.options.pluralSeparator)),M.push(W+z),v&&M.push(W+P))}}let k;for(;k=M.pop();)this.isValidLookup(r)||(a=k,r=this.getResource(x,C,k,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Dt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class TO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ds.create("languageUtils")}getScriptPartFromCode(e){if(e=ep(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ep(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Dt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Dt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Dt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Dt(e)&&a(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const RO={zero:0,one:1,two:2,few:3,many:4,other:5},PO={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class wre{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ds.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=ep(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),PO;if(!e.match(/-|_/))return PO;const u=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(u,n)}return this.pluralRulesCache[a]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>RO[i]-RO[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const LO=(t,e,n,r=".",i=!0)=>{let a=ure(t,e,n);return!a&&i&&Dt(n)&&(a=S4(t,n,r),a===void 0&&(a=S4(e,n,r))),a},F2=t=>t.replace(/\$/g,"$$$$");class xre{constructor(e={}){this.logger=Ds.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:u,formatSeparator:l,unescapeSuffix:h,unescapePrefix:p,nestingPrefix:g,nestingPrefixEscaped:v,nestingSuffix:y,nestingSuffixEscaped:w,nestingOptionsSeparator:C,maxReplaces:x,alwaysFormat:M}=e.interpolation;this.escape=n!==void 0?n:fre,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?kd(a):o||"{{",this.suffix=s?kd(s):u||"}}",this.formatSeparator=l||",",this.unescapePrefix=h?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=g?kd(g):v||kd("$t("),this.nestingSuffix=y?kd(y):w||kd(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=x||1e3,this.alwaysFormat=M!==void 0?M:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let a,o,s;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=v=>{if(v.indexOf(this.formatSeparator)<0){const x=LO(n,u,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...n,interpolationkey:v}):x}const y=v.split(this.formatSeparator),w=y.shift().trim(),C=y.join(this.formatSeparator).trim();return this.format(LO(n,u,w,this.options.keySeparator,this.options.ignoreJSONStructure),C,r,{...i,...n,interpolationkey:w})};this.resetRegExp();const h=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>F2(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?F2(this.escape(v)):F2(v)}].forEach(v=>{for(s=0;a=v.regex.exec(e);){const y=a[1].trim();if(o=l(y),o===void 0)if(typeof h=="function"){const C=h(e,a,i);o=Dt(C)?C:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(p){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!Dt(o)&&!this.useRawValueToEscape&&(o=NO(o));const w=v.safeValue(o);if(e=e.replace(a[0],w),p?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=a[0].length):v.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,o;const s=(u,l)=>{const h=this.nestingOptionsSeparator;if(u.indexOf(h)<0)return u;const p=u.split(new RegExp(`${h}[ ]*{`));let g=`{${p[1]}`;u=p[0],g=this.interpolate(g,o);const v=g.match(/'/g),y=g.match(/"/g);((v?.length??0)%2===0&&!y||y.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),l&&(o={...l,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,w),`${u}${h}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];o={...r},o=o.replace&&!Dt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(l!==-1&&(u=i[1].slice(l).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),a=n(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!Dt(a))return a;Dt(a)||(a=NO(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((h,p)=>this.format(h,p,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const Ere=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...u]=o.split(":"),l=u.join(":").trim().replace(/^'+|'+$/g,""),h=s.trim();n[h]||(n[h]=l),l==="false"&&(n[h]=!1),l==="true"&&(n[h]=!0),isNaN(l)||(n[h]=parseInt(l,10))}})}return{formatName:e,formatOptions:n}},DO=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=r+JSON.stringify(a);let s=e[o];return s||(s=t(ep(r),i),e[o]=s),s(n)}},Sre=t=>(e,n,r)=>t(ep(n),r)(e);class _re{constructor(e={}){this.logger=Ds.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?DO:Sre;this.formats={number:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return s=>o.format(s)}),currency:r((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return s=>o.format(s)}),datetime:r((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return s=>o.format(s)}),relativetime:r((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return s=>o.format(s,a.range||"day")}),list:r((i,a)=>{const o=new Intl.ListFormat(i,{...a});return s=>o.format(s)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=DO(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,u)=>{const{formatName:l,formatOptions:h}=Ere(u);if(this.formats[l]){let p=s;try{const g=i?.formatParams?.[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||r;p=this.formats[l](s,v,{...h,...i,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${l}`);return s},e)}}const Cre=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Nre extends ob{constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ds.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){const a={},o={},s={},u={};return e.forEach(l=>{let h=!0;n.forEach(p=>{const g=`${l}|${p}`;!r.reload&&this.store.hasResourceBundle(l,p)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,h=!1,o[g]===void 0&&(o[g]=!0),a[g]===void 0&&(a[g]=!0),u[p]===void 0&&(u[p]=!0)))}),h||(s[l]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const i=e.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),!n&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const s={};this.queue.forEach(u=>{cre(u.loaded,[a],o),Cre(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(l=>{s[l]||(s[l]={});const h=u.loaded[l];h.length&&h.forEach(p=>{s[l][p]===void 0&&(s[l][p]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(l,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(l&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,o)},a);return}o(l,h)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const l=u(e,n);l&&typeof l.then=="function"?l.then(h=>s(null,h)).catch(s):s(null,l)}catch(l){s(l)}return}return u(e,n,s)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Dt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Dt(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,s),this.loaded(e,o,s)})}saveMissing(e,n,r,i,a,o={},s=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const u={...o,isUpdate:a},l=this.backend.create.bind(this.backend);if(l.length<6)try{let h;l.length===5?h=l(e,n,r,i,u):h=l(e,n,r,i),h&&typeof h.then=="function"?h.then(p=>s(null,p)).catch(s):s(null,h)}catch(h){s(h)}else l(e,n,r,i,s,u)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const BO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Dt(t[1])&&(e.defaultValue=t[1]),Dt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),UO=t=>(Dt(t.ns)&&(t.ns=[t.ns]),Dt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Dt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),qg=()=>{},Are=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class tp extends ob{constructor(e={},n){if(super(),this.options=UO(e),this.services={},this.logger=Ds,this.modules={external:[]},Are(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Dt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=BO();this.options={...r,...this.options,...UO(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Ds.init(i(this.modules.logger),this.options):Ds.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=_re;const h=new TO(this.options);this.store=new OO(this.options.resources,this.options);const p=this.services;p.logger=Ds,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new wre(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(p.formatter=i(l),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new xre(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new Nre(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new my(this.services,this.options),this.translator.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,n||(n=qg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...h)=>this.store[l](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...h)=>(this.store[l](...h),this)});const s=Dh(),u=()=>{const l=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(p),n(h,p)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),s}loadResources(e,n=qg){let r=n;const i=Dt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(l=>{l!=="cimode"&&a.indexOf(l)<0&&a.push(l)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>o(u)),this.options.preload?.forEach?.(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(e,n,r){const i=Dh();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=qg),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&PD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Dh();this.emit("languageChanging",e);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},a=(s,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...l)=>this.t(...l)),n&&n(s,(...l)=>this.t(...l))},o=s=>{!e&&!s&&this.services.languageDetector&&(s=[]);const u=Dt(s)?s:s&&s[0],l=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Dt(s)?[s]:s);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector?.cacheUserLanguage?.(l)),this.loadResources(l,h=>{a(h,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(a,o,...s)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([a,o].concat(s)):u={...o},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const l=this.options.keySeparator||".";let h;return u.keyPrefix&&Array.isArray(a)?h=a.map(p=>`${u.keyPrefix}${l}${p}`):h=u.keyPrefix?`${u.keyPrefix}${l}${a}`:a,this.t(h,u)};return Dt(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,u)=>{const l=this.services.backendConnector.state[`${s}|${u}`];return l===-1||l===0||l===2};if(n.precheck){const s=n.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(a,e)))}loadNamespaces(e,n){const r=Dh();return this.options.ns?(Dt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Dh();Dt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new TO(BO());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new tp(e,n)}cloneInstance(e={},n=qg){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new tp(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const s=Object.keys(this.store.data).reduce((u,l)=>(u[l]={...this.store.data[l]},u[l]=Object.keys(u[l]).reduce((h,p)=>(h[p]={...u[l][p]},h),u[l]),u),{});a.store=new OO(s,i),a.services.resourceStore=a.store}return a.translator=new my(a.services,i),a.translator.on("*",(s,...u)=>{a.emit(s,...u)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ri=tp.createInstance();ri.createInstance=tp.createInstance;ri.createInstance;ri.dir;ri.init;ri.loadResources;ri.reloadResources;ri.use;ri.changeLanguage;ri.getFixedT;ri.t;ri.exists;ri.setDefaultNamespace;ri.hasLoadedNamespace;ri.loadNamespaces;ri.loadLanguages;var DD={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},BD={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","error-invalid-test-account":"Invalid test account","something-wrong-error":"Something went wrong"},UD={modal:DD,passwordless:BD};const jre=Object.freeze(Object.defineProperty({__proto__:null,default:UD,modal:DD,passwordless:BD},Symbol.toStringTag,{value:"Module"})),rn=ri.createInstance();rn.use(nre).init({resources:{en:{translation:UD}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});function $O({isShown:t,onClose:e,children:n,uiConfig:r}){const{borderRadiusType:i="large"}=r;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:tn("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),onClick:e,"aria-hidden":"true",role:"button"}),f.jsxs("div",{className:tn(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${t?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),children:[f.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),n]})]})}const x5=se.createContext({analytics:void 0});function Mre(t){const{isDark:e,isLoading:n,selectedChain:r,setSelectedChain:i,chainNamespace:a}=t,[o]=vi(void 0,{i18n:rn}),s=se.useMemo(()=>{const u=[{id:"all",name:"modal.allChains",icon:""}];for(const l of a)(l===qt.EIP155||l===qt.SOLANA)&&u.push({id:l,name:l===qt.EIP155?"EVM":l,icon:l===qt.EIP155?"ethereum":l});return u},[a]);return n?f.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:s.length}).map((u,l)=>f.jsx("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${l}`))}):f.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:s.map(u=>f.jsxs("button",{type:"button",className:tn("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":r===u.id}),onClick:()=>i(u.id),children:[u.icon&&f.jsx("img",{src:Bi(e?`${u.icon}-dark`:`${u.icon}-light`),alt:u.name,className:"w3a--size-5 w3a--object-contain"}),f.jsx("span",{className:"first-letter:w3a--capitalize",children:o(u.name)})]},u.id))})}function $D(t){const{onBackClick:e,currentPage:n,selectedButton:r}=t,[i]=vi(void 0,{i18n:rn}),a=()=>{e&&e()};return f.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[f.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:a,children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:f.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),f.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:n===nc.SELECTED_WALLET?r?.displayName:n===nc.CONNECT_WALLET?i("modal.connectYourWallet"):n}),f.jsx("div",{className:"w3a--z-[-1] w3a--size-5"})]})}const tf={SOCIAL:"social",WALLET:"wallet"};function $a(t){const{id:e="",isButton:n=!1,imageData:r="",height:i="auto",width:a="auto",extension:o="svg",darkImageId:s="",darkHoverImageId:u="",imageId:l,hoverImageId:h,fallbackImageId:p}=t,{isDark:g}=se.useContext(sb),v=se.useMemo(()=>g&&s?s:l,[g,s,l]),y=se.useMemo(()=>g&&u?u:h,[g,u,h]);return n?r?f.jsx("img",{id:e,src:r,height:i,width:a,alt:h,className:tn("w3a--object-contain",`w3a--h-${i} w3a--w-${a}`)}):f.jsx("img",{id:e,src:`https://images.web3auth.io/${y}.${o}`,height:i,width:a,alt:h,className:tn("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${a}`)}):r?f.jsx("img",{id:e,src:r,height:i,width:a,alt:l,className:tn("w3a--object-contain",`w3a--h-${i} w3a--w-${a}`),onError:({currentTarget:w})=>{if(p){const C=w;C.onerror=null,C.src=`https://images.web3auth.io/${p}.svg`}}}):f.jsx("img",{id:e,src:`https://images.web3auth.io/${v}.${o}`,height:i,width:a,alt:l,className:tn("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${a}`),onError:({currentTarget:w})=>{if(p){const C=w;C.onerror=null,C.src=`https://images.web3auth.io/${p}.svg`}}})}function Ore(t,e,n){const r=t===ot.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===ot.APPLE||t===ot.GITHUB||t===ot.TWITTER?r:`login-${t}-active`;return n?f.jsx($a,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):f.jsx($a,{width:"20",imageId:r,hoverImageId:i})}function kre(t){const{text:e,showIcon:n,showText:r,method:i,isDark:a,isPrimaryBtn:o,onClick:s,children:u,btnStyle:l,buttonRadius:h="pill"}=t;return f.jsxs("button",{type:"button",onClick:p=>s&&s(p),className:tn("w3a--btn",l,{"w3a--rounded-full":h==="pill","w3a--rounded-lg":h==="rounded","w3a--rounded-none":h==="square"}),children:[n&&Ore(i,a,o),r&&f.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e}),u]})}var q2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var FO;function Ire(){return FO||(FO=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(a=i(a,r(s)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var s in a)e.call(a,s)&&a[s]&&(o=i(o,s));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(q2)),q2.exports}var Tre=Ire();const Rre=$i(Tre);function Pre(t){const[e]=vi(void 0,{i18n:rn}),{deviceDetails:n,button:r,walletConnectUri:i,onClick:a,label:o,buttonRadius:s}=t,u=se.useContext(sb),l=se.useMemo(()=>n.platform!=="desktop"&&r.href&&r.hasWalletConnect&&!r.isInstalled,[n,r]),h=se.useMemo(()=>r.href?Fne({uri:i,link:r.href}):i,[r,i]),p=()=>{h&&l?window.open(h,"_blank"):a&&a()};return f.jsxs("button",{type:"button",className:Rre(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"}),onClick:p,children:[f.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[f.jsx("figure",{className:"w3a--size-5",children:f.jsx($a,{imageData:r.icon,imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:r.imgExtension||"webp"})}),f.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:o})]}),r.hasInjectedWallet&&f.jsx("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e("modal.external.installed")}),f.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(u?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}function Sv(t){const{type:e,props:n}=t,r=n,i=n,{text:a,showIcon:o,showText:s,method:u,isDark:l,isPrimaryBtn:h,onClick:p,children:g,btnStyle:v,buttonRadius:y}=r,{label:w,onClick:C,button:x,deviceDetails:M,walletConnectUri:k,buttonRadius:z}=i;return f.jsxs(f.Fragment,{children:[e===tf.SOCIAL&&f.jsx(kre,{text:a,showIcon:o,showText:s,method:u,isDark:l,isPrimaryBtn:h,onClick:p,btnStyle:v,buttonRadius:y,children:g}),e===tf.WALLET&&f.jsx(Pre,{label:w,walletConnectUri:k,onClick:C,button:x,deviceDetails:M,buttonRadius:z})]})}function Lre(){const[t]=vi(void 0,{i18n:rn});return f.jsx("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:t("modal.external.no-wallets-found")})}function Dre(t){const{externalButtons:e,isLoading:n,handleWalletClick:r,deviceDetails:i,walletConnectUri:a,buttonRadius:o}=t;return n?f.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((s,u)=>f.jsx("div",{className:tn("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})},`loader-${u}`))}):f.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:e.map(s=>f.jsx(Sv,{type:tf.WALLET,props:{label:s.displayName,onClick:()=>r(s),button:s,deviceDetails:i,walletConnectUri:a,buttonRadius:o}},s.name))})}function Bre(t){const{totalExternalWalletsCount:e,initialWalletCount:n,handleMoreWallets:r,isLoading:i,isDark:a,buttonRadius:o}=t,[s]=vi(void 0,{i18n:rn}),u=()=>{r&&r()};return i&&n<e?f.jsx("div",{className:tn("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})}):f.jsxs("button",{type:"button",className:tn("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"}),onClick:u,children:[f.jsx("img",{src:Bi(a?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),f.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s("modal.connect-wallet.more-wallets")}),f.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e-n})]})}function Ure(t){const{externalButtons:e,isLoading:n,totalExternalWalletsCount:r,initialWalletCount:i,handleWalletClick:a,handleMoreWallets:o,isDark:s,deviceDetails:u,walletConnectUri:l,buttonRadius:h}=t,[p,g]=se.useState(!0),v=()=>{g(!1),o()};return f.jsxs(f.Fragment,{children:[f.jsx("ul",{className:tn("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!p}),children:e.length===0?f.jsx(Lre,{}):f.jsx(Dre,{externalButtons:e,isLoading:n,handleWalletClick:a,deviceDetails:u,walletConnectUri:l,buttonRadius:h})}),p&&r>15&&!n&&i<r&&f.jsx(Bre,{totalExternalWalletsCount:r,initialWalletCount:i,handleMoreWallets:v,isLoading:n,isDark:s,buttonRadius:h})]})}var Eo={},Vh={exports:{}};Vh.exports;var qO;function $re(){return qO||(qO=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",g="[object Error]",v="[object Function]",y="[object GeneratorFunction]",w="[object Map]",C="[object Number]",x="[object Null]",M="[object Object]",k="[object Promise]",z="[object Proxy]",P="[object RegExp]",K="[object Set]",W="[object String]",B="[object Symbol]",D="[object Undefined]",$="[object WeakMap]",T="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",A="[object Float64Array]",N="[object Int8Array]",O="[object Int16Array]",U="[object Int32Array]",j="[object Uint8Array]",I="[object Uint8ClampedArray]",E="[object Uint16Array]",L="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,Y={};Y[_]=Y[A]=Y[N]=Y[O]=Y[U]=Y[j]=Y[I]=Y[E]=Y[L]=!0,Y[s]=Y[u]=Y[T]=Y[h]=Y[b]=Y[p]=Y[g]=Y[v]=Y[w]=Y[C]=Y[M]=Y[P]=Y[K]=Y[W]=Y[$]=!1;var Q=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ie=typeof self=="object"&&self&&self.Object===Object&&self,Z=Q||ie||Function("return this")(),X=e&&!e.nodeType&&e,te=X&&!0&&t&&!t.nodeType&&t,ae=te&&te.exports===X,oe=ae&&Q.process,ee=function(){try{return oe&&oe.binding&&oe.binding("util")}catch{}}(),le=ee&&ee.isTypedArray;function he(me,Ce){for(var He=-1,dt=me==null?0:me.length,gn=0,$t=[];++He<dt;){var Ln=me[He];Ce(Ln,He,me)&&($t[gn++]=Ln)}return $t}function ge(me,Ce){for(var He=-1,dt=Ce.length,gn=me.length;++He<dt;)me[gn+He]=Ce[He];return me}function Ee(me,Ce){for(var He=-1,dt=me==null?0:me.length;++He<dt;)if(Ce(me[He],He,me))return!0;return!1}function ye(me,Ce){for(var He=-1,dt=Array(me);++He<me;)dt[He]=Ce(He);return dt}function fe(me){return function(Ce){return me(Ce)}}function Se(me,Ce){return me.has(Ce)}function Ae(me,Ce){return me?.[Ce]}function xe(me){var Ce=-1,He=Array(me.size);return me.forEach(function(dt,gn){He[++Ce]=[gn,dt]}),He}function ze(me,Ce){return function(He){return me(Ce(He))}}function Xe(me){var Ce=-1,He=Array(me.size);return me.forEach(function(dt){He[++Ce]=dt}),He}var nt=Array.prototype,et=Function.prototype,re=Object.prototype,V=Z["__core-js_shared__"],J=et.toString,ue=re.hasOwnProperty,ve=function(){var me=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return me?"Symbol(src)_1."+me:""}(),Me=re.toString,Ie=RegExp("^"+J.call(ue).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),st=ae?Z.Buffer:void 0,Pt=Z.Symbol,ut=Z.Uint8Array,bt=re.propertyIsEnumerable,Tt=nt.splice,Bt=Pt?Pt.toStringTag:void 0,cn=Object.getOwnPropertySymbols,mr=st?st.isBuffer:void 0,rt=ze(Object.keys,Object),Mt=sl(Z,"DataView"),Yt=sl(Z,"Map"),Ot=sl(Z,"Promise"),wt=sl(Z,"Set"),de=sl(Z,"WeakMap"),pe=sl(Object,"create"),Fe=wi(Mt),Ye=wi(Yt),Je=wi(Ot),mt=wi(wt),bn=wi(de),nn=Pt?Pt.prototype:void 0,Jt=nn?nn.valueOf:void 0;function qr(me){var Ce=-1,He=me==null?0:me.length;for(this.clear();++Ce<He;){var dt=me[Ce];this.set(dt[0],dt[1])}}function Rn(){this.__data__=pe?pe(null):{},this.size=0}function mn(me){var Ce=this.has(me)&&delete this.__data__[me];return this.size-=Ce?1:0,Ce}function za(me){var Ce=this.__data__;if(pe){var He=Ce[me];return He===r?void 0:He}return ue.call(Ce,me)?Ce[me]:void 0}function un(me){var Ce=this.__data__;return pe?Ce[me]!==void 0:ue.call(Ce,me)}function dn(me,Ce){var He=this.__data__;return this.size+=this.has(me)?0:1,He[me]=pe&&Ce===void 0?r:Ce,this}qr.prototype.clear=Rn,qr.prototype.delete=mn,qr.prototype.get=za,qr.prototype.has=un,qr.prototype.set=dn;function zn(me){var Ce=-1,He=me==null?0:me.length;for(this.clear();++Ce<He;){var dt=me[Ce];this.set(dt[0],dt[1])}}function gr(){this.__data__=[],this.size=0}function hn(me){var Ce=this.__data__,He=_c(Ce,me);if(He<0)return!1;var dt=Ce.length-1;return He==dt?Ce.pop():Tt.call(Ce,He,1),--this.size,!0}function vr(me){var Ce=this.__data__,He=_c(Ce,me);return He<0?void 0:Ce[He][1]}function nl(me){return _c(this.__data__,me)>-1}function zi(me,Ce){var He=this.__data__,dt=_c(He,me);return dt<0?(++this.size,He.push([me,Ce])):He[dt][1]=Ce,this}zn.prototype.clear=gr,zn.prototype.delete=hn,zn.prototype.get=vr,zn.prototype.has=nl,zn.prototype.set=zi;function yr(me){var Ce=-1,He=me==null?0:me.length;for(this.clear();++Ce<He;){var dt=me[Ce];this.set(dt[0],dt[1])}}function Ec(){this.size=0,this.__data__={hash:new qr,map:new(Yt||zn),string:new qr}}function rl(me){var Ce=Ha(this,me).delete(me);return this.size-=Ce?1:0,Ce}function il(me){return Ha(this,me).get(me)}function Sc(me){return Ha(this,me).has(me)}function hs(me,Ce){var He=Ha(this,me),dt=He.size;return He.set(me,Ce),this.size+=He.size==dt?0:1,this}yr.prototype.clear=Ec,yr.prototype.delete=rl,yr.prototype.get=il,yr.prototype.has=Sc,yr.prototype.set=hs;function Hi(me){var Ce=-1,He=me==null?0:me.length;for(this.__data__=new yr;++Ce<He;)this.add(me[Ce])}function ii(me){return this.__data__.set(me,r),this}function Gs(me){return this.__data__.has(me)}Hi.prototype.add=Hi.prototype.push=ii,Hi.prototype.has=Gs;function ai(me){var Ce=this.__data__=new zn(me);this.size=Ce.size}function fa(){this.__data__=new zn,this.size=0}function Ys(me){var Ce=this.__data__,He=Ce.delete(me);return this.size=Ce.size,He}function Js(me){return this.__data__.get(me)}function gb(me){return this.__data__.has(me)}function Ap(me,Ce){var He=this.__data__;if(He instanceof zn){var dt=He.__data__;if(!Yt||dt.length<n-1)return dt.push([me,Ce]),this.size=++He.size,this;He=this.__data__=new yr(dt)}return He.set(me,Ce),this.size=He.size,this}ai.prototype.clear=fa,ai.prototype.delete=Ys,ai.prototype.get=Js,ai.prototype.has=gb,ai.prototype.set=Ap;function yi(me,Ce){var He=ol(me),dt=!He&&Ip(me),gn=!He&&!dt&&Qs(me),$t=!He&&!dt&&!gn&&Nc(me),Ln=He||dt||gn||$t,Zn=Ln?ye(me.length,String):[],Hn=Zn.length;for(var An in me)ue.call(me,An)&&!(Ln&&(An=="length"||gn&&(An=="offset"||An=="parent")||$t&&(An=="buffer"||An=="byteLength"||An=="byteOffset")||bb(An,Hn)))&&Zn.push(An);return Zn}function _c(me,Ce){for(var He=me.length;He--;)if(Zs(me[He][0],Ce))return He;return-1}function vb(me,Ce,He){var dt=Ce(me);return ol(me)?dt:ge(dt,He(me))}function ps(me){return me==null?me===void 0?D:x:Bt&&Bt in Object(me)?Op(me):jf(me)}function _f(me){return Xs(me)&&ps(me)==s}function Cc(me,Ce,He,dt,gn){return me===Ce?!0:me==null||Ce==null||!Xs(me)&&!Xs(Ce)?me!==me&&Ce!==Ce:yb(me,Ce,He,dt,Cc,gn)}function yb(me,Ce,He,dt,gn,$t){var Ln=ol(me),Zn=ol(Ce),Hn=Ln?u:ha(me),An=Zn?u:ha(Ce);Hn=Hn==s?M:Hn,An=An==s?M:An;var zr=Hn==M,Ki=An==M,br=Hn==An;if(br&&Qs(me)){if(!Qs(Ce))return!1;Ln=!0,zr=!1}if(br&&!zr)return $t||($t=new ai),Ln||Nc(me)?Uu(me,Ce,He,dt,gn,$t):al(me,Ce,Hn,He,dt,gn,$t);if(!(He&i)){var xi=zr&&ue.call(me,"__wrapped__"),Hr=Ki&&ue.call(Ce,"__wrapped__");if(xi||Hr){var ms=xi?me.value():me,Va=Hr?Ce.value():Ce;return $t||($t=new ai),gn(ms,Va,He,dt,$t)}}return br?($t||($t=new ai),Mp(me,Ce,He,dt,gn,$t)):!1}function bi(me){if(!Wa(me)||$u(me))return!1;var Ce=Fu(me)?Ie:F;return Ce.test(wi(me))}function Cf(me){return Xs(me)&&ll(me.length)&&!!Y[ps(me)]}function jp(me){if(!Af(me))return rt(me);var Ce=[];for(var He in Object(me))ue.call(me,He)&&He!="constructor"&&Ce.push(He);return Ce}function Uu(me,Ce,He,dt,gn,$t){var Ln=He&i,Zn=me.length,Hn=Ce.length;if(Zn!=Hn&&!(Ln&&Hn>Zn))return!1;var An=$t.get(me);if(An&&$t.get(Ce))return An==Ce;var zr=-1,Ki=!0,br=He&a?new Hi:void 0;for($t.set(me,Ce),$t.set(Ce,me);++zr<Zn;){var xi=me[zr],Hr=Ce[zr];if(dt)var ms=Ln?dt(Hr,xi,zr,Ce,me,$t):dt(xi,Hr,zr,me,Ce,$t);if(ms!==void 0){if(ms)continue;Ki=!1;break}if(br){if(!Ee(Ce,function(Va,eo){if(!Se(br,eo)&&(xi===Va||gn(xi,Va,He,dt,$t)))return br.push(eo)})){Ki=!1;break}}else if(!(xi===Hr||gn(xi,Hr,He,dt,$t))){Ki=!1;break}}return $t.delete(me),$t.delete(Ce),Ki}function al(me,Ce,He,dt,gn,$t,Ln){switch(He){case b:if(me.byteLength!=Ce.byteLength||me.byteOffset!=Ce.byteOffset)return!1;me=me.buffer,Ce=Ce.buffer;case T:return!(me.byteLength!=Ce.byteLength||!$t(new ut(me),new ut(Ce)));case h:case p:case C:return Zs(+me,+Ce);case g:return me.name==Ce.name&&me.message==Ce.message;case P:case W:return me==Ce+"";case w:var Zn=xe;case K:var Hn=dt&i;if(Zn||(Zn=Xe),me.size!=Ce.size&&!Hn)return!1;var An=Ln.get(me);if(An)return An==Ce;dt|=a,Ln.set(me,Ce);var zr=Uu(Zn(me),Zn(Ce),dt,gn,$t,Ln);return Ln.delete(me),zr;case B:if(Jt)return Jt.call(me)==Jt.call(Ce)}return!1}function Mp(me,Ce,He,dt,gn,$t){var Ln=He&i,Zn=Nf(me),Hn=Zn.length,An=Nf(Ce),zr=An.length;if(Hn!=zr&&!Ln)return!1;for(var Ki=Hn;Ki--;){var br=Zn[Ki];if(!(Ln?br in Ce:ue.call(Ce,br)))return!1}var xi=$t.get(me);if(xi&&$t.get(Ce))return xi==Ce;var Hr=!0;$t.set(me,Ce),$t.set(Ce,me);for(var ms=Ln;++Ki<Hn;){br=Zn[Ki];var Va=me[br],eo=Ce[br];if(dt)var Pp=Ln?dt(eo,Va,br,Ce,me,$t):dt(Va,eo,br,me,Ce,$t);if(!(Pp===void 0?Va===eo||gn(Va,eo,He,dt,$t):Pp)){Hr=!1;break}ms||(ms=br=="constructor")}if(Hr&&!ms){var Hu=me.constructor,Ac=Ce.constructor;Hu!=Ac&&"constructor"in me&&"constructor"in Ce&&!(typeof Hu=="function"&&Hu instanceof Hu&&typeof Ac=="function"&&Ac instanceof Ac)&&(Hr=!1)}return $t.delete(me),$t.delete(Ce),Hr}function Nf(me){return vb(me,Rp,kp)}function Ha(me,Ce){var He=me.__data__;return wb(Ce)?He[typeof Ce=="string"?"string":"hash"]:He.map}function sl(me,Ce){var He=Ae(me,Ce);return bi(He)?He:void 0}function Op(me){var Ce=ue.call(me,Bt),He=me[Bt];try{me[Bt]=void 0;var dt=!0}catch{}var gn=Me.call(me);return dt&&(Ce?me[Bt]=He:delete me[Bt]),gn}var kp=cn?function(me){return me==null?[]:(me=Object(me),he(cn(me),function(Ce){return bt.call(me,Ce)}))}:qu,ha=ps;(Mt&&ha(new Mt(new ArrayBuffer(1)))!=b||Yt&&ha(new Yt)!=w||Ot&&ha(Ot.resolve())!=k||wt&&ha(new wt)!=K||de&&ha(new de)!=$)&&(ha=function(me){var Ce=ps(me),He=Ce==M?me.constructor:void 0,dt=He?wi(He):"";if(dt)switch(dt){case Fe:return b;case Ye:return w;case Je:return k;case mt:return K;case bn:return $}return Ce});function bb(me,Ce){return Ce=Ce??o,!!Ce&&(typeof me=="number"||G.test(me))&&me>-1&&me%1==0&&me<Ce}function wb(me){var Ce=typeof me;return Ce=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?me!=="__proto__":me===null}function $u(me){return!!ve&&ve in me}function Af(me){var Ce=me&&me.constructor,He=typeof Ce=="function"&&Ce.prototype||re;return me===He}function jf(me){return Me.call(me)}function wi(me){if(me!=null){try{return J.call(me)}catch{}try{return me+""}catch{}}return""}function Zs(me,Ce){return me===Ce||me!==me&&Ce!==Ce}var Ip=_f(function(){return arguments}())?_f:function(me){return Xs(me)&&ue.call(me,"callee")&&!bt.call(me,"callee")},ol=Array.isArray;function Tp(me){return me!=null&&ll(me.length)&&!Fu(me)}var Qs=mr||zu;function Ka(me,Ce){return Cc(me,Ce)}function Fu(me){if(!Wa(me))return!1;var Ce=ps(me);return Ce==v||Ce==y||Ce==l||Ce==z}function ll(me){return typeof me=="number"&&me>-1&&me%1==0&&me<=o}function Wa(me){var Ce=typeof me;return me!=null&&(Ce=="object"||Ce=="function")}function Xs(me){return me!=null&&typeof me=="object"}var Nc=le?fe(le):Cf;function Rp(me){return Tp(me)?yi(me):jp(me)}function qu(){return[]}function zu(){return!1}t.exports=Ka}(Vh,Vh.exports)),Vh.exports}var z2={exports:{}},zO;function Fre(){return zO||(zO=1,function(t,e){var n=function(){var r=function(P,K){var W=236,B=17,D=P,$=a[K],T=null,b=0,_=null,A=[],N={},O=function(Z,X){b=D*4+17,T=function(te){for(var ae=new Array(te),oe=0;oe<te;oe+=1){ae[oe]=new Array(te);for(var ee=0;ee<te;ee+=1)ae[oe][ee]=null}return ae}(b),U(0,0),U(b-7,0),U(0,b-7),E(),I(),q(Z,X),D>=7&&L(Z),_==null&&(_=Y(D,$,A)),F(_,X)},U=function(Z,X){for(var te=-1;te<=7;te+=1)if(!(Z+te<=-1||b<=Z+te))for(var ae=-1;ae<=7;ae+=1)X+ae<=-1||b<=X+ae||(0<=te&&te<=6&&(ae==0||ae==6)||0<=ae&&ae<=6&&(te==0||te==6)||2<=te&&te<=4&&2<=ae&&ae<=4?T[Z+te][X+ae]=!0:T[Z+te][X+ae]=!1)},j=function(){for(var Z=0,X=0,te=0;te<8;te+=1){O(!0,te);var ae=s.getLostPoint(N);(te==0||Z>ae)&&(Z=ae,X=te)}return X},I=function(){for(var Z=8;Z<b-8;Z+=1)T[Z][6]==null&&(T[Z][6]=Z%2==0);for(var X=8;X<b-8;X+=1)T[6][X]==null&&(T[6][X]=X%2==0)},E=function(){for(var Z=s.getPatternPosition(D),X=0;X<Z.length;X+=1)for(var te=0;te<Z.length;te+=1){var ae=Z[X],oe=Z[te];if(T[ae][oe]==null)for(var ee=-2;ee<=2;ee+=1)for(var le=-2;le<=2;le+=1)ee==-2||ee==2||le==-2||le==2||ee==0&&le==0?T[ae+ee][oe+le]=!0:T[ae+ee][oe+le]=!1}},L=function(Z){for(var X=s.getBCHTypeNumber(D),te=0;te<18;te+=1){var ae=!Z&&(X>>te&1)==1;T[Math.floor(te/3)][te%3+b-8-3]=ae}for(var te=0;te<18;te+=1){var ae=!Z&&(X>>te&1)==1;T[te%3+b-8-3][Math.floor(te/3)]=ae}},q=function(Z,X){for(var te=$<<3|X,ae=s.getBCHTypeInfo(te),oe=0;oe<15;oe+=1){var ee=!Z&&(ae>>oe&1)==1;oe<6?T[oe][8]=ee:oe<8?T[oe+1][8]=ee:T[b-15+oe][8]=ee}for(var oe=0;oe<15;oe+=1){var ee=!Z&&(ae>>oe&1)==1;oe<8?T[8][b-oe-1]=ee:oe<9?T[8][15-oe-1+1]=ee:T[8][15-oe-1]=ee}T[b-8][8]=!Z},F=function(Z,X){for(var te=-1,ae=b-1,oe=7,ee=0,le=s.getMaskFunction(X),he=b-1;he>0;he-=2)for(he==6&&(he-=1);;){for(var ge=0;ge<2;ge+=1)if(T[ae][he-ge]==null){var Ee=!1;ee<Z.length&&(Ee=(Z[ee]>>>oe&1)==1);var ye=le(ae,he-ge);ye&&(Ee=!Ee),T[ae][he-ge]=Ee,oe-=1,oe==-1&&(ee+=1,oe=7)}if(ae+=te,ae<0||b<=ae){ae-=te,te=-te;break}}},G=function(Z,X){for(var te=0,ae=0,oe=0,ee=new Array(X.length),le=new Array(X.length),he=0;he<X.length;he+=1){var ge=X[he].dataCount,Ee=X[he].totalCount-ge;ae=Math.max(ae,ge),oe=Math.max(oe,Ee),ee[he]=new Array(ge);for(var ye=0;ye<ee[he].length;ye+=1)ee[he][ye]=255&Z.getBuffer()[ye+te];te+=ge;var fe=s.getErrorCorrectPolynomial(Ee),Se=l(ee[he],fe.getLength()-1),Ae=Se.mod(fe);le[he]=new Array(fe.getLength()-1);for(var ye=0;ye<le[he].length;ye+=1){var xe=ye+Ae.getLength()-le[he].length;le[he][ye]=xe>=0?Ae.getAt(xe):0}}for(var ze=0,ye=0;ye<X.length;ye+=1)ze+=X[ye].totalCount;for(var Xe=new Array(ze),nt=0,ye=0;ye<ae;ye+=1)for(var he=0;he<X.length;he+=1)ye<ee[he].length&&(Xe[nt]=ee[he][ye],nt+=1);for(var ye=0;ye<oe;ye+=1)for(var he=0;he<X.length;he+=1)ye<le[he].length&&(Xe[nt]=le[he][ye],nt+=1);return Xe},Y=function(Z,X,te){for(var ae=h.getRSBlocks(Z,X),oe=p(),ee=0;ee<te.length;ee+=1){var le=te[ee];oe.put(le.getMode(),4),oe.put(le.getLength(),s.getLengthInBits(le.getMode(),Z)),le.write(oe)}for(var he=0,ee=0;ee<ae.length;ee+=1)he+=ae[ee].dataCount;if(oe.getLengthInBits()>he*8)throw"code length overflow. ("+oe.getLengthInBits()+">"+he*8+")";for(oe.getLengthInBits()+4<=he*8&&oe.put(0,4);oe.getLengthInBits()%8!=0;)oe.putBit(!1);for(;!(oe.getLengthInBits()>=he*8||(oe.put(W,8),oe.getLengthInBits()>=he*8));)oe.put(B,8);return G(oe,ae)};N.addData=function(Z,X){X=X||"Byte";var te=null;switch(X){case"Numeric":te=g(Z);break;case"Alphanumeric":te=v(Z);break;case"Byte":te=y(Z);break;case"Kanji":te=w(Z);break;default:throw"mode:"+X}A.push(te),_=null},N.isDark=function(Z,X){if(Z<0||b<=Z||X<0||b<=X)throw Z+","+X;return T[Z][X]},N.getModuleCount=function(){return b},N.make=function(){if(D<1){for(var Z=1;Z<40;Z++){for(var X=h.getRSBlocks(Z,$),te=p(),ae=0;ae<A.length;ae++){var oe=A[ae];te.put(oe.getMode(),4),te.put(oe.getLength(),s.getLengthInBits(oe.getMode(),Z)),oe.write(te)}for(var ee=0,ae=0;ae<X.length;ae++)ee+=X[ae].dataCount;if(te.getLengthInBits()<=ee*8)break}D=Z}O(!1,j())},N.createTableTag=function(Z,X){Z=Z||2,X=typeof X>"u"?Z*4:X;var te="";te+='<table style="',te+=" border-width: 0px; border-style: none;",te+=" border-collapse: collapse;",te+=" padding: 0px; margin: "+X+"px;",te+='">',te+="<tbody>";for(var ae=0;ae<N.getModuleCount();ae+=1){te+="<tr>";for(var oe=0;oe<N.getModuleCount();oe+=1)te+='<td style="',te+=" border-width: 0px; border-style: none;",te+=" border-collapse: collapse;",te+=" padding: 0px; margin: 0px;",te+=" width: "+Z+"px;",te+=" height: "+Z+"px;",te+=" background-color: ",te+=N.isDark(ae,oe)?"#000000":"#ffffff",te+=";",te+='"/>';te+="</tr>"}return te+="</tbody>",te+="</table>",te},N.createSvgTag=function(Z,X,te,ae){var oe={};typeof arguments[0]=="object"&&(oe=arguments[0],Z=oe.cellSize,X=oe.margin,te=oe.alt,ae=oe.title),Z=Z||2,X=typeof X>"u"?Z*4:X,te=typeof te=="string"?{text:te}:te||{},te.text=te.text||null,te.id=te.text?te.id||"qrcode-description":null,ae=typeof ae=="string"?{text:ae}:ae||{},ae.text=ae.text||null,ae.id=ae.text?ae.id||"qrcode-title":null;var ee=N.getModuleCount()*Z+X*2,le,he,ge,Ee,ye="",fe;for(fe="l"+Z+",0 0,"+Z+" -"+Z+",0 0,-"+Z+"z ",ye+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',ye+=oe.scalable?"":' width="'+ee+'px" height="'+ee+'px"',ye+=' viewBox="0 0 '+ee+" "+ee+'" ',ye+=' preserveAspectRatio="xMinYMin meet"',ye+=ae.text||te.text?' role="img" aria-labelledby="'+Q([ae.id,te.id].join(" ").trim())+'"':"",ye+=">",ye+=ae.text?'<title id="'+Q(ae.id)+'">'+Q(ae.text)+"</title>":"",ye+=te.text?'<description id="'+Q(te.id)+'">'+Q(te.text)+"</description>":"",ye+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',ye+='<path d="',ge=0;ge<N.getModuleCount();ge+=1)for(Ee=ge*Z+X,le=0;le<N.getModuleCount();le+=1)N.isDark(ge,le)&&(he=le*Z+X,ye+="M"+he+","+Ee+fe);return ye+='" stroke="transparent" fill="black"/>',ye+="</svg>",ye},N.createDataURL=function(Z,X){Z=Z||2,X=typeof X>"u"?Z*4:X;var te=N.getModuleCount()*Z+X*2,ae=X,oe=te-X;return z(te,te,function(ee,le){if(ae<=ee&&ee<oe&&ae<=le&&le<oe){var he=Math.floor((ee-ae)/Z),ge=Math.floor((le-ae)/Z);return N.isDark(ge,he)?0:1}else return 1})},N.createImgTag=function(Z,X,te){Z=Z||2,X=typeof X>"u"?Z*4:X;var ae=N.getModuleCount()*Z+X*2,oe="";return oe+="<img",oe+=' src="',oe+=N.createDataURL(Z,X),oe+='"',oe+=' width="',oe+=ae,oe+='"',oe+=' height="',oe+=ae,oe+='"',te&&(oe+=' alt="',oe+=Q(te),oe+='"'),oe+="/>",oe};var Q=function(Z){for(var X="",te=0;te<Z.length;te+=1){var ae=Z.charAt(te);switch(ae){case"<":X+="&lt;";break;case">":X+="&gt;";break;case"&":X+="&amp;";break;case'"':X+="&quot;";break;default:X+=ae;break}}return X},ie=function(Z){var X=1;Z=typeof Z>"u"?X*2:Z;var te=N.getModuleCount()*X+Z*2,ae=Z,oe=te-Z,ee,le,he,ge,Ee,ye={"":""," ":""," ":"","  ":" "},fe={"":""," ":""," ":" ","  ":" "},Se="";for(ee=0;ee<te;ee+=2){for(he=Math.floor((ee-ae)/X),ge=Math.floor((ee+1-ae)/X),le=0;le<te;le+=1)Ee="",ae<=le&&le<oe&&ae<=ee&&ee<oe&&N.isDark(he,Math.floor((le-ae)/X))&&(Ee=" "),ae<=le&&le<oe&&ae<=ee+1&&ee+1<oe&&N.isDark(ge,Math.floor((le-ae)/X))?Ee+=" ":Ee+="",Se+=Z<1&&ee+1>=oe?fe[Ee]:ye[Ee];Se+=`
`}return te%2&&Z>0?Se.substring(0,Se.length-te-1)+Array(te+1).join(""):Se.substring(0,Se.length-1)};return N.createASCII=function(Z,X){if(Z=Z||1,Z<2)return ie(X);Z-=1,X=typeof X>"u"?Z*2:X;var te=N.getModuleCount()*Z+X*2,ae=X,oe=te-X,ee,le,he,ge,Ee=Array(Z+1).join(""),ye=Array(Z+1).join("  "),fe="",Se="";for(ee=0;ee<te;ee+=1){for(he=Math.floor((ee-ae)/Z),Se="",le=0;le<te;le+=1)ge=1,ae<=le&&le<oe&&ae<=ee&&ee<oe&&N.isDark(he,Math.floor((le-ae)/Z))&&(ge=0),Se+=ge?Ee:ye;for(he=0;he<Z;he+=1)fe+=Se+`
`}return fe.substring(0,fe.length-1)},N.renderTo2dContext=function(Z,X){X=X||2;for(var te=N.getModuleCount(),ae=0;ae<te;ae++)for(var oe=0;oe<te;oe++)Z.fillStyle=N.isDark(ae,oe)?"black":"white",Z.fillRect(ae*X,oe*X,X,X)},N};r.stringToBytesFuncs={default:function(P){for(var K=[],W=0;W<P.length;W+=1){var B=P.charCodeAt(W);K.push(B&255)}return K}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function(P,K){var W=function(){for(var D=M(P),$=function(){var I=D.read();if(I==-1)throw"eof";return I},T=0,b={};;){var _=D.read();if(_==-1)break;var A=$(),N=$(),O=$(),U=String.fromCharCode(_<<8|A),j=N<<8|O;b[U]=j,T+=1}if(T!=K)throw T+" != "+K;return b}(),B=63;return function(D){for(var $=[],T=0;T<D.length;T+=1){var b=D.charCodeAt(T);if(b<128)$.push(b);else{var _=W[D.charAt(T)];typeof _=="number"?(_&255)==_?$.push(_):($.push(_>>>8),$.push(_&255)):$.push(B)}}return $}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s=function(){var P=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],K=1335,W=7973,B=21522,D={},$=function(T){for(var b=0;T!=0;)b+=1,T>>>=1;return b};return D.getBCHTypeInfo=function(T){for(var b=T<<10;$(b)-$(K)>=0;)b^=K<<$(b)-$(K);return(T<<10|b)^B},D.getBCHTypeNumber=function(T){for(var b=T<<12;$(b)-$(W)>=0;)b^=W<<$(b)-$(W);return T<<12|b},D.getPatternPosition=function(T){return P[T-1]},D.getMaskFunction=function(T){switch(T){case o.PATTERN000:return function(b,_){return(b+_)%2==0};case o.PATTERN001:return function(b,_){return b%2==0};case o.PATTERN010:return function(b,_){return _%3==0};case o.PATTERN011:return function(b,_){return(b+_)%3==0};case o.PATTERN100:return function(b,_){return(Math.floor(b/2)+Math.floor(_/3))%2==0};case o.PATTERN101:return function(b,_){return b*_%2+b*_%3==0};case o.PATTERN110:return function(b,_){return(b*_%2+b*_%3)%2==0};case o.PATTERN111:return function(b,_){return(b*_%3+(b+_)%2)%2==0};default:throw"bad maskPattern:"+T}},D.getErrorCorrectPolynomial=function(T){for(var b=l([1],0),_=0;_<T;_+=1)b=b.multiply(l([1,u.gexp(_)],0));return b},D.getLengthInBits=function(T,b){if(1<=b&&b<10)switch(T){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+T}else if(b<27)switch(T){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+T}else if(b<41)switch(T){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+T}else throw"type:"+b},D.getLostPoint=function(T){for(var b=T.getModuleCount(),_=0,A=0;A<b;A+=1)for(var N=0;N<b;N+=1){for(var O=0,U=T.isDark(A,N),j=-1;j<=1;j+=1)if(!(A+j<0||b<=A+j))for(var I=-1;I<=1;I+=1)N+I<0||b<=N+I||j==0&&I==0||U==T.isDark(A+j,N+I)&&(O+=1);O>5&&(_+=3+O-5)}for(var A=0;A<b-1;A+=1)for(var N=0;N<b-1;N+=1){var E=0;T.isDark(A,N)&&(E+=1),T.isDark(A+1,N)&&(E+=1),T.isDark(A,N+1)&&(E+=1),T.isDark(A+1,N+1)&&(E+=1),(E==0||E==4)&&(_+=3)}for(var A=0;A<b;A+=1)for(var N=0;N<b-6;N+=1)T.isDark(A,N)&&!T.isDark(A,N+1)&&T.isDark(A,N+2)&&T.isDark(A,N+3)&&T.isDark(A,N+4)&&!T.isDark(A,N+5)&&T.isDark(A,N+6)&&(_+=40);for(var N=0;N<b;N+=1)for(var A=0;A<b-6;A+=1)T.isDark(A,N)&&!T.isDark(A+1,N)&&T.isDark(A+2,N)&&T.isDark(A+3,N)&&T.isDark(A+4,N)&&!T.isDark(A+5,N)&&T.isDark(A+6,N)&&(_+=40);for(var L=0,N=0;N<b;N+=1)for(var A=0;A<b;A+=1)T.isDark(A,N)&&(L+=1);var q=Math.abs(100*L/b/b-50)/5;return _+=q*10,_},D}(),u=function(){for(var P=new Array(256),K=new Array(256),W=0;W<8;W+=1)P[W]=1<<W;for(var W=8;W<256;W+=1)P[W]=P[W-4]^P[W-5]^P[W-6]^P[W-8];for(var W=0;W<255;W+=1)K[P[W]]=W;var B={};return B.glog=function(D){if(D<1)throw"glog("+D+")";return K[D]},B.gexp=function(D){for(;D<0;)D+=255;for(;D>=256;)D-=255;return P[D]},B}();function l(P,K){if(typeof P.length>"u")throw P.length+"/"+K;var W=function(){for(var D=0;D<P.length&&P[D]==0;)D+=1;for(var $=new Array(P.length-D+K),T=0;T<P.length-D;T+=1)$[T]=P[T+D];return $}(),B={};return B.getAt=function(D){return W[D]},B.getLength=function(){return W.length},B.multiply=function(D){for(var $=new Array(B.getLength()+D.getLength()-1),T=0;T<B.getLength();T+=1)for(var b=0;b<D.getLength();b+=1)$[T+b]^=u.gexp(u.glog(B.getAt(T))+u.glog(D.getAt(b)));return l($,0)},B.mod=function(D){if(B.getLength()-D.getLength()<0)return B;for(var $=u.glog(B.getAt(0))-u.glog(D.getAt(0)),T=new Array(B.getLength()),b=0;b<B.getLength();b+=1)T[b]=B.getAt(b);for(var b=0;b<D.getLength();b+=1)T[b]^=u.gexp(u.glog(D.getAt(b))+$);return l(T,0).mod(D)},B}var h=function(){var P=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],K=function(D,$){var T={};return T.totalCount=D,T.dataCount=$,T},W={},B=function(D,$){switch($){case a.L:return P[(D-1)*4+0];case a.M:return P[(D-1)*4+1];case a.Q:return P[(D-1)*4+2];case a.H:return P[(D-1)*4+3];default:return}};return W.getRSBlocks=function(D,$){var T=B(D,$);if(typeof T>"u")throw"bad rs block @ typeNumber:"+D+"/errorCorrectionLevel:"+$;for(var b=T.length/3,_=[],A=0;A<b;A+=1)for(var N=T[A*3+0],O=T[A*3+1],U=T[A*3+2],j=0;j<N;j+=1)_.push(K(O,U));return _},W}(),p=function(){var P=[],K=0,W={};return W.getBuffer=function(){return P},W.getAt=function(B){var D=Math.floor(B/8);return(P[D]>>>7-B%8&1)==1},W.put=function(B,D){for(var $=0;$<D;$+=1)W.putBit((B>>>D-$-1&1)==1)},W.getLengthInBits=function(){return K},W.putBit=function(B){var D=Math.floor(K/8);P.length<=D&&P.push(0),B&&(P[D]|=128>>>K%8),K+=1},W},g=function(P){var K=i.MODE_NUMBER,W=P,B={};B.getMode=function(){return K},B.getLength=function(T){return W.length},B.write=function(T){for(var b=W,_=0;_+2<b.length;)T.put(D(b.substring(_,_+3)),10),_+=3;_<b.length&&(b.length-_==1?T.put(D(b.substring(_,_+1)),4):b.length-_==2&&T.put(D(b.substring(_,_+2)),7))};var D=function(T){for(var b=0,_=0;_<T.length;_+=1)b=b*10+$(T.charAt(_));return b},$=function(T){if("0"<=T&&T<="9")return T.charCodeAt(0)-48;throw"illegal char :"+T};return B},v=function(P){var K=i.MODE_ALPHA_NUM,W=P,B={};B.getMode=function(){return K},B.getLength=function($){return W.length},B.write=function($){for(var T=W,b=0;b+1<T.length;)$.put(D(T.charAt(b))*45+D(T.charAt(b+1)),11),b+=2;b<T.length&&$.put(D(T.charAt(b)),6)};var D=function($){if("0"<=$&&$<="9")return $.charCodeAt(0)-48;if("A"<=$&&$<="Z")return $.charCodeAt(0)-65+10;switch($){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+$}};return B},y=function(P){var K=i.MODE_8BIT_BYTE,W=r.stringToBytes(P),B={};return B.getMode=function(){return K},B.getLength=function(D){return W.length},B.write=function(D){for(var $=0;$<W.length;$+=1)D.put(W[$],8)},B},w=function(P){var K=i.MODE_KANJI,W=r.stringToBytesFuncs.SJIS;if(!W)throw"sjis not supported.";(function($,T){var b=W($);if(b.length!=2||(b[0]<<8|b[1])!=T)throw"sjis not supported."})("",38726);var B=W(P),D={};return D.getMode=function(){return K},D.getLength=function($){return~~(B.length/2)},D.write=function($){for(var T=B,b=0;b+1<T.length;){var _=(255&T[b])<<8|255&T[b+1];if(33088<=_&&_<=40956)_-=33088;else if(57408<=_&&_<=60351)_-=49472;else throw"illegal char at "+(b+1)+"/"+_;_=(_>>>8&255)*192+(_&255),$.put(_,13),b+=2}if(b<T.length)throw"illegal char at "+(b+1)},D},C=function(){var P=[],K={};return K.writeByte=function(W){P.push(W&255)},K.writeShort=function(W){K.writeByte(W),K.writeByte(W>>>8)},K.writeBytes=function(W,B,D){B=B||0,D=D||W.length;for(var $=0;$<D;$+=1)K.writeByte(W[$+B])},K.writeString=function(W){for(var B=0;B<W.length;B+=1)K.writeByte(W.charCodeAt(B))},K.toByteArray=function(){return P},K.toString=function(){var W="";W+="[";for(var B=0;B<P.length;B+=1)B>0&&(W+=","),W+=P[B];return W+="]",W},K},x=function(){var P=0,K=0,W=0,B="",D={},$=function(b){B+=String.fromCharCode(T(b&63))},T=function(b){if(!(b<0)){if(b<26)return 65+b;if(b<52)return 97+(b-26);if(b<62)return 48+(b-52);if(b==62)return 43;if(b==63)return 47}throw"n:"+b};return D.writeByte=function(b){for(P=P<<8|b&255,K+=8,W+=1;K>=6;)$(P>>>K-6),K-=6},D.flush=function(){if(K>0&&($(P<<6-K),P=0,K=0),W%3!=0)for(var b=3-W%3,_=0;_<b;_+=1)B+="="},D.toString=function(){return B},D},M=function(P){var K=P,W=0,B=0,D=0,$={};$.read=function(){for(;D<8;){if(W>=K.length){if(D==0)return-1;throw"unexpected end of file./"+D}var b=K.charAt(W);if(W+=1,b=="=")return D=0,-1;if(b.match(/^\s$/))continue;B=B<<6|T(b.charCodeAt(0)),D+=6}var _=B>>>D-8&255;return D-=8,_};var T=function(b){if(65<=b&&b<=90)return b-65;if(97<=b&&b<=122)return b-97+26;if(48<=b&&b<=57)return b-48+52;if(b==43)return 62;if(b==47)return 63;throw"c:"+b};return $},k=function(P,K){var W=P,B=K,D=new Array(P*K),$={};$.setPixel=function(A,N,O){D[N*W+A]=O},$.write=function(A){A.writeString("GIF87a"),A.writeShort(W),A.writeShort(B),A.writeByte(128),A.writeByte(0),A.writeByte(0),A.writeByte(0),A.writeByte(0),A.writeByte(0),A.writeByte(255),A.writeByte(255),A.writeByte(255),A.writeString(","),A.writeShort(0),A.writeShort(0),A.writeShort(W),A.writeShort(B),A.writeByte(0);var N=2,O=b(N);A.writeByte(N);for(var U=0;O.length-U>255;)A.writeByte(255),A.writeBytes(O,U,255),U+=255;A.writeByte(O.length-U),A.writeBytes(O,U,O.length-U),A.writeByte(0),A.writeString(";")};var T=function(A){var N=A,O=0,U=0,j={};return j.write=function(I,E){if(I>>>E)throw"length over";for(;O+E>=8;)N.writeByte(255&(I<<O|U)),E-=8-O,I>>>=8-O,U=0,O=0;U=I<<O|U,O=O+E},j.flush=function(){O>0&&N.writeByte(U)},j},b=function(A){for(var N=1<<A,O=(1<<A)+1,U=A+1,j=_(),I=0;I<N;I+=1)j.add(String.fromCharCode(I));j.add(String.fromCharCode(N)),j.add(String.fromCharCode(O));var E=C(),L=T(E);L.write(N,U);var q=0,F=String.fromCharCode(D[q]);for(q+=1;q<D.length;){var G=String.fromCharCode(D[q]);q+=1,j.contains(F+G)?F=F+G:(L.write(j.indexOf(F),U),j.size()<4095&&(j.size()==1<<U&&(U+=1),j.add(F+G)),F=G)}return L.write(j.indexOf(F),U),L.write(O,U),L.flush(),E.toByteArray()},_=function(){var A={},N=0,O={};return O.add=function(U){if(O.contains(U))throw"dup key:"+U;A[U]=N,N+=1},O.size=function(){return N},O.indexOf=function(U){return A[U]},O.contains=function(U){return typeof A[U]<"u"},O};return $},z=function(P,K,W){for(var B=k(P,K),D=0;D<K;D+=1)for(var $=0;$<P;$+=1)B.setPixel($,D,W($,D));var T=C();B.write(T);for(var b=x(),_=T.toByteArray(),A=0;A<_.length;A+=1)b.writeByte(_[A]);return b.flush(),"data:image/gif;base64,"+b};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(a){for(var o=[],s=0;s<a.length;s++){var u=a.charCodeAt(s);u<128?o.push(u):u<2048?o.push(192|u>>6,128|u&63):u<55296||u>=57344?o.push(224|u>>12,128|u>>6&63,128|u&63):(s++,u=65536+((u&1023)<<10|a.charCodeAt(s)&1023),o.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|u&63))}return o}return i(r)}})(),function(r){t.exports=r()}(function(){return n})}(z2)),z2.exports}var HO;function qre(){if(HO)return Eo;HO=1;var t=Eo&&Eo.__extends||function(){var o=function(s,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(l[p]=h[p])},o(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(s,u);function l(){this.constructor=s}s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),e=Eo&&Eo.__assign||function(){return e=Object.assign||function(o){for(var s,u=1,l=arguments.length;u<l;u++){s=arguments[u];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(o[h]=s[h])}return o},e.apply(this,arguments)};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.QRCode=void 0;var n=$re(),r=Fre(),i=mf(),a=function(o){t(s,o);function s(u){var l=o.call(this,u)||this;return l.canvasRef=i.createRef(),l}return s.prototype.download=function(u,l){if(this.canvasRef.current){var h=void 0;switch(u){case"jpg":h="image/jpeg";break;case"webp":h="image/webp";break;case"png":default:h="image/png";break}var p=this.canvasRef.current.toDataURL(h,1),g=document.createElement("a");g.download=l??"react-qrcode-logo",g.href=p,g.click()}},s.prototype.utf16to8=function(u){var l="",h,p,g=u.length;for(h=0;h<g;h++)p=u.charCodeAt(h),p>=1&&p<=127?l+=u.charAt(h):p>2047?(l+=String.fromCharCode(224|p>>12&15),l+=String.fromCharCode(128|p>>6&63),l+=String.fromCharCode(128|p>>0&63)):(l+=String.fromCharCode(192|p>>6&31),l+=String.fromCharCode(128|p>>0&63));return l},s.prototype.drawRoundedSquare=function(u,l,h,p,g,v,y,w){w.lineWidth=u,w.fillStyle=g,w.strokeStyle=g,h+=u/2,l+=u/2,p-=u,Array.isArray(v)||(v=[v,v,v,v]),v=v.map(function(z){return z=Math.min(z,p/2),z<0?0:z});var C=v[0]||0,x=v[1]||0,M=v[2]||0,k=v[3]||0;w.beginPath(),w.moveTo(l+C,h),w.lineTo(l+p-x,h),x&&w.quadraticCurveTo(l+p,h,l+p,h+x),w.lineTo(l+p,h+p-M),M&&w.quadraticCurveTo(l+p,h+p,l+p-M,h+p),w.lineTo(l+k,h+p),k&&w.quadraticCurveTo(l,h+p,l,h+p-k),w.lineTo(l,h+C),C&&w.quadraticCurveTo(l,h,l+C,h),w.closePath(),w.stroke(),y&&w.fill()},s.prototype.drawPositioningPattern=function(u,l,h,p,g,v,y){y===void 0&&(y=[0,0,0,0]);var w=Math.ceil(l),C,x;typeof y!="number"&&!Array.isArray(y)?(C=y.outer||0,x=y.inner||0):(C=y,x=C);var M,k;typeof v!="string"?(M=v.outer,k=v.inner):(M=v,k=v);var z=p*l+h,P=g*l+h,K=l*7;this.drawRoundedSquare(w,P,z,K,M,C,!1,u),K=l*3,z+=l*2,P+=l*2,this.drawRoundedSquare(w,P,z,K,k,x,!0,u)},s.prototype.isInPositioninZone=function(u,l,h){return h.some(function(p){return l>=p.row&&l<=p.row+7&&u>=p.col&&u<=p.col+7})},s.prototype.transformPixelLengthIntoNumberOfCells=function(u,l){return u/l},s.prototype.isCoordinateInImage=function(u,l,h,p,g,v,y,w){if(w){var C=2,x=this.transformPixelLengthIntoNumberOfCells(g,y),M=this.transformPixelLengthIntoNumberOfCells(v,y),k=this.transformPixelLengthIntoNumberOfCells(h,y)-1,z=this.transformPixelLengthIntoNumberOfCells(p,y)-1;return l>=x-C&&l<=x+k+C&&u>=M-C&&u<=M+z+C}else return!1},s.prototype.shouldComponentUpdate=function(u){return!n(this.props,u)},s.prototype.componentDidMount=function(){this.update()},s.prototype.componentDidUpdate=function(){this.update()},s.prototype.update=function(){var u,l=this.props,h=l.value,p=l.ecLevel,g=l.enableCORS,v=l.bgColor,y=l.fgColor,w=l.logoImage,C=l.logoOpacity,x=l.logoOnLoad,M=l.removeQrCodeBehindLogo,k=l.qrStyle,z=l.eyeRadius,P=l.eyeColor,K=l.logoPaddingStyle,W=+this.props.size,B=+this.props.quietZone,D=this.props.logoWidth?+this.props.logoWidth:0,$=this.props.logoHeight?+this.props.logoHeight:0,T=this.props.logoPadding?+this.props.logoPadding:0,b=r(0,p);b.addData(this.utf16to8(h)),b.make();var _=(u=this.canvasRef)===null||u===void 0?void 0:u.current,A=_.getContext("2d"),N=W+2*B,O=b.getModuleCount(),U=W/O,j=window.devicePixelRatio||1;_.height=_.width=N*j,A.scale(j,j),A.fillStyle=v,A.fillRect(0,0,N,N);var I=B,E=[{row:0,col:0},{row:0,col:O-7},{row:O-7,col:0}];if(A.strokeStyle=y,k==="dots"){A.fillStyle=y;for(var L=U/2,q=0;q<O;q++)for(var F=0;F<O;F++)b.isDark(q,F)&&!this.isInPositioninZone(q,F,E)&&(A.beginPath(),A.arc(Math.round(F*U)+L+I,Math.round(q*U)+L+I,L/100*75,0,2*Math.PI,!1),A.closePath(),A.fill())}else if(k==="fluid"){for(var L=Math.ceil(U/2),q=0;q<O;q++)for(var F=0;F<O;F++)if(b.isDark(q,F)&&!this.isInPositioninZone(q,F,E)){var G=[!1,!1,!1,!1];q>0&&!b.isDark(q-1,F)&&F>0&&!b.isDark(q,F-1)&&(G[0]=!0),q>0&&!b.isDark(q-1,F)&&F<O-1&&!b.isDark(q,F+1)&&(G[1]=!0),q<O-1&&!b.isDark(q+1,F)&&F<O-1&&!b.isDark(q,F+1)&&(G[2]=!0),q<O-1&&!b.isDark(q+1,F)&&F>0&&!b.isDark(q,F-1)&&(G[3]=!0);var Y=Math.ceil((F+1)*U)-Math.floor(F*U),Q=Math.ceil((q+1)*U)-Math.floor(q*U);A.fillStyle=y,A.beginPath(),A.arc(Math.round(F*U)+L+I,Math.round(q*U)+L+I,L,0,2*Math.PI,!1),A.closePath(),A.fill(),G[0]||A.fillRect(Math.round(F*U)+I,Math.round(q*U)+I,Y/2,Q/2),G[1]||A.fillRect(Math.round(F*U)+I+Math.floor(Y/2),Math.round(q*U)+I,Y/2,Q/2),G[2]||A.fillRect(Math.round(F*U)+I+Math.floor(Y/2),Math.round(q*U)+I+Math.floor(Q/2),Y/2,Q/2),G[3]||A.fillRect(Math.round(F*U)+I,Math.round(q*U)+I+Math.floor(Q/2),Y/2,Q/2)}}else for(var q=0;q<O;q++)for(var F=0;F<O;F++)if(b.isDark(q,F)&&!this.isInPositioninZone(q,F,E)){A.fillStyle=y;var Y=Math.ceil((F+1)*U)-Math.floor(F*U),Q=Math.ceil((q+1)*U)-Math.floor(q*U);A.fillRect(Math.round(F*U)+I,Math.round(q*U)+I,Y,Q)}for(var ie=0;ie<3;ie++){var Z=E[ie],q=Z.row,F=Z.col,X=z,te=void 0;Array.isArray(X)&&(X=X[ie]),typeof X=="number"&&(X=[X,X,X,X]),P?Array.isArray(P)?te=P[ie]:te=P:te=y,this.drawPositioningPattern(A,U,I,q,F,te,X)}if(w){var ae=new Image;g&&(ae.crossOrigin="Anonymous"),ae.onload=function(oe){A.save();var ee=D||W*.2,le=$||ee,he=(W-ee)/2,ge=(W-le)/2;if(M||T){A.beginPath(),A.strokeStyle=v,A.fillStyle=v;var Ee=ee+2*T,ye=le+2*T,fe=he+I-T,Se=ge+I-T;if(K==="circle"){var Ae=fe+Ee/2,xe=Se+ye/2;A.ellipse(Ae,xe,Ee/2,ye/2,0,0,2*Math.PI),A.stroke(),A.fill()}else A.fillRect(fe,Se,Ee,ye)}A.globalAlpha=C,A.drawImage(ae,he+I,ge+I,ee,le),A.restore(),x&&x(oe)},ae.src=w}},s.prototype.render=function(){var u,l=+this.props.size+2*+this.props.quietZone;return i.createElement("canvas",{id:(u=this.props.id)!==null&&u!==void 0?u:"react-qrcode-logo",height:l,width:l,style:e({height:l+"px",width:l+"px"},this.props.style),ref:this.canvasRef})},s.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},s}(i.Component);return Eo.QRCode=a,Eo}var zre=qre();function FD(t){var e;const[n]=vi(void 0,{i18n:rn}),{bodyState:r,setBodyState:i}=se.useContext(Ep),{qrCodeValue:a,isDark:o,selectedButton:s,logoImage:u,primaryColor:l}=t,h=se.useMemo(()=>typeof window>"u"?!1:Gh.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),p=document.documentElement,g="#FFFFFF",v="#000000",y=((e=getComputedStyle(p))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",w=l&&l.toLowerCase()==="#ffffff"?"#000000":l;return f.jsxs("div",{className:"w3a--contents",children:[a?f.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[f.jsx("div",{className:"w3a--relative w3a--flex w3a--size-[300px] w3a--items-center w3a--justify-center w3a--rounded-2xl",children:f.jsx(zre.QRCode,{size:h?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:u||Jte,value:a,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:o?g:w,bgColor:o?y:g,fgColor:o?g:v})}),f.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:n("modal.external.walletconnect-copy")})]}):f.jsx("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:f.jsx($a,{imageId:`login-${s.name}`,hoverImageId:`login-${s.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:s.imgExtension})}),f.jsxs("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[f.jsxs("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[n("modal.external.dont-have")," ",f.jsx("span",{children:s?.displayName}),"?"]}),f.jsx("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{i(we(we({},r),{},{installLinks:{show:!0,wallet:s}}))},children:n("modal.external.get-wallet")})]})]})}function Hre(t){const{totalExternalWalletCount:e,isLoading:n,walletSearch:r,handleWalletSearch:i,buttonRadius:a}=t,[o,s]=se.useState(!1),[u]=vi(void 0,{i18n:rn}),l=h=>{i(h),s(!0)};return f.jsx("input",{type:"text",value:r,onInput:l,onFocus:h=>{h.target.placeholder="",s(!0)},onBlur:h=>{h.target.placeholder=u("modal.external.search-wallet",{count:e}),s(!1)},placeholder:n?u("modal.external.search-wallet-loading"):u("modal.external.search-wallet",{count:e}),disabled:n,className:tn("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",o&&"!w3a--border-app-primary-600",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})})}function Kre(t){var e;const{isDark:n,config:r,walletConnectUri:i,metamaskConnectUri:a,walletRegistry:o,allExternalButtons:s,customConnectorButtons:u,connectorVisibilityMap:l,deviceDetails:h,buttonRadius:p="pill",chainNamespace:g,onBackClick:v,handleExternalWalletClick:y,handleWalletDetailsHeight:w}=t,{bodyState:C,setBodyState:x}=se.useContext(Ep),{analytics:M}=se.useContext(x5),[k,z]=se.useState(nc.CONNECT_WALLET),[P,K]=se.useState(!1),[W]=se.useState(!1),[B,D]=se.useState(null),[$,T]=se.useState(""),[b,_]=se.useState("all"),[A,N]=se.useState(!1),O=()=>{if(!P&&k===nc.CONNECT_WALLET&&v){v(!1);return}P&&(z(nc.CONNECT_WALLET),K(!1),w())},U=se.useMemo(()=>o&&Object.keys(o.default||{}).length>0&&Object.keys(o.others||{}).length>0,[o]),j=se.useMemo(()=>{const ae=new Set;return u.concat(s).filter(oe=>ae.has(oe.name)?!1:(ae.add(oe.name),!0))},[s,u]),I=se.useMemo(()=>new Set(Object.keys(o.default)),[o]),E=se.useMemo(()=>{const ae=[...s.filter(ee=>ee.hasInjectedWallet&&I.has(ee.name)),...u,...s.filter(ee=>!ee.hasInjectedWallet&&I.has(ee.name))].sort((ee,le)=>ee.name===pt.METAMASK&&le.name===pt.METAMASK?ee.hasInjectedWallet?-1:le.hasInjectedWallet?1:ee.isInstalled?-1:le.isInstalled?1:0:ee.name===pt.METAMASK?-1:le.name===pt.METAMASK?1:0),oe=new Set;return ae.filter(ee=>oe.has(ee.name)?!1:(oe.add(ee.name),!0)).filter(ee=>{var le;return b==="all"||((le=ee.chainNamespaces)===null||le===void 0?void 0:le.includes(b))})},[s,u,I,b]),L=se.useMemo(()=>{const ae=l;return Object.keys(r).reduce((oe,ee)=>(ee!==pt.WALLET_CONNECT_V2&&ae[ee]&&oe.push({name:ee,displayName:r[ee].label||ee,hasInjectedWallet:r[ee].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),oe),[])},[l,r]),q=ae=>{const oe=ae.target.value;T(oe)},F=ae=>{_(ae),N(!1)},G=se.useMemo(()=>U?[...j.filter(ae=>ae.hasInjectedWallet),...j.filter(ae=>!ae.hasInjectedWallet)].sort((ae,oe)=>ae.name===pt.METAMASK?-1:1).filter(ae=>b==="all"||ae.chainNamespaces.includes(b)).filter(ae=>ae.name.toLowerCase().includes($.toLowerCase())):L,[U,L,$,j,b]),Y=se.useMemo(()=>U&&!$&&!A?E:G,[U,$,G,E,A]),Q=se.useMemo(()=>G.length,[G]),ie=se.useMemo(()=>A?Q:U?E.length:L.length,[U,E,L,A,Q]),Z=ae=>{if(M?.track(Nn.EXTERNAL_WALLET_SELECTED,{connector:ae.isInstalled?ae.name:ae.hasWalletConnect?pt.WALLET_CONNECT_V2:"",wallet_name:ae.displayName,is_installed:ae.isInstalled,is_injected:ae.hasInjectedWallet,chain_namespaces:ae.chainNamespaces,has_wallet_connect:ae.hasWalletConnect,has_install_links:ae.hasInstallLinks,has_wallet_registry_item:!!ae.walletRegistryItem,total_external_wallets:j.length}),ae.isInstalled){var oe;if(ae.name===pt.METAMASK&&!ae.hasInjectedWallet&&h.platform==="desktop"){y({connector:ae.name}),D(ae),K(!0),z(nc.SELECTED_WALLET),w();return}if(((oe=ae.chainNamespaces)===null||oe===void 0?void 0:oe.length)>1){x(we(we({},C),{},{multiChainSelector:{show:!0,wallet:ae}}));return}y({connector:ae.name});return}else ae.hasWalletConnect?(D(ae),K(!0),z(nc.SELECTED_WALLET),w()):x(we(we({},C),{},{installLinks:{show:!0,wallet:ae}}))},X=()=>{N(!0)},te=se.useMemo(()=>P?B.name===pt.METAMASK&&!B.hasInjectedWallet?a:i:null,[a,B,P,i]);return f.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[f.jsx($D,{onBackClick:O,currentPage:k,selectedButton:B}),P?f.jsx(FD,{qrCodeValue:te,isDark:n,selectedButton:B,primaryColor:(e=B.walletRegistryItem)===null||e===void 0?void 0:e.primaryColor,logoImage:`https://images.web3auth.io/login-${B.name}.${B.imgExtension}`}):f.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[f.jsx(Mre,{isDark:n,isLoading:W,selectedChain:b,setSelectedChain:F,chainNamespace:g}),f.jsx(Hre,{totalExternalWalletCount:Q,isLoading:W,walletSearch:$,handleWalletSearch:q,buttonRadius:p}),f.jsx(Ure,{externalButtons:Y,isLoading:W,totalExternalWalletsCount:Q,initialWalletCount:ie,handleWalletClick:Z,handleMoreWallets:X,isDark:n,deviceDetails:h,walletConnectUri:i,buttonRadius:p})]})]})}const Wre=t=>{const{isDark:e,wallet:n,handleExternalWalletClick:r}=t,[i]=vi(void 0,{i18n:rn}),a=n.chainNamespaces.sort().map(o=>({chainNamespace:o,displayName:o==="eip155"?"EVM":o,imageId:`chain-${o==="eip155"?"evm":o}`}));return f.jsxs("div",{children:[f.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:f.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),f.jsx("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:f.jsx($a,{imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:n.imgExtension})}),f.jsx("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500",children:i("modal.external.select-chain-description",{wallet:n.displayName})}),f.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:a.map(({chainNamespace:o,displayName:s,imageId:u})=>f.jsx("li",{children:f.jsxs("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>r({connector:n.name,chainNamespace:o}),children:[f.jsxs("div",{className:"w3a--flex w3a--items-center",children:[f.jsx($a,{imageId:u,hoverImageId:u,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),f.jsx("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm first-letter:w3a--capitalize",children:s})]}),f.jsx("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(e?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},o))})]})};function Vre({privacyPolicy:t,termsOfService:e}){const[n]=vi(void 0,{i18n:rn});return f.jsxs("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(t||e)&&f.jsxs("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[n("modal.footer.by-signing-in")," ",e&&f.jsxs("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[n("modal.footer.terms-of-service")," "]}),t&&f.jsxs(f.Fragment,{children:[n("modal.footer.and")," ",f.jsx("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:n("modal.footer.privacy-policy")})]})]}),f.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[f.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),f.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}const E5=()=>f.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[f.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),f.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),f.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function Gre(t){const[e]=vi(void 0,{i18n:rn}),{connector:n,appLogo:r,connectorName:i}=t,a=se.useMemo(()=>n==="twitter"?f.jsx($a,{imageId:"login-x-dark"}):f.jsx($a,{imageId:`login-${n}`,height:"40",width:"40"}),[n]);return f.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[f.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[f.jsx("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:f.jsx("img",{src:r,alt:"",className:"w3a--size-full w3a--object-contain"})}),f.jsx(E5,{}),a]}),f.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[f.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message1",{adapter:i})}),f.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message2",{adapter:i})})]})]})}function Yre(t){const{message:e}=t;return f.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:f.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),f.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function Jre(t){const{message:e}=t;return f.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:f.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),f.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function Zre(t){const{connector:e,connectorName:n,modalStatus:r,onClose:i,appLogo:a,message:o}=t;return se.useEffect(()=>{r===nr.CONNECTED&&setTimeout(()=>{i()},1e3)},[r,i]),f.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[r===nr.CONNECTING&&f.jsx(Gre,{connector:e,connectorName:n,appLogo:a}),r===nr.CONNECTED&&f.jsx(Yre,{message:o}),r===nr.ERRORED&&f.jsx(Jre,{message:o})]})}function Na(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _4(t,e){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_4(t,e)}function Qre(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_4(t,e)}var Xre=Object.defineProperty,eie=Object.defineProperties,tie=Object.getOwnPropertyDescriptors,gy=Object.getOwnPropertySymbols,qD=Object.prototype.hasOwnProperty,zD=Object.prototype.propertyIsEnumerable,C4=(t,e,n)=>e in t?Xre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ia=(t,e)=>{for(var n in e||(e={}))qD.call(e,n)&&C4(t,n,e[n]);if(gy)for(var n of gy(e))zD.call(e,n)&&C4(t,n,e[n]);return t},HD=(t,e)=>eie(t,tie(e)),nie=(t,e)=>{var n={};for(var r in t)qD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&gy)for(var r of gy(t))e.indexOf(r)<0&&zD.call(t,r)&&(n[r]=t[r]);return n},Nr=(t,e,n)=>(C4(t,typeof e!="symbol"?e+"":e,n),n),pf=(t,e,n)=>new Promise((r,i)=>{var a=u=>{try{s(n.next(u))}catch(l){i(l)}},o=u=>{try{s(n.throw(u))}catch(l){i(l)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(a,o);s((n=n.apply(t,e)).next())}),rie="hCaptcha-script",_v="hCaptchaOnLoad",KO="script-error",lu="@hCaptcha/loader";function iie(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,n])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`).join("&")}function KD(t){let e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function WD(t){return t||document.head}function aie(t){var e;t.setTag("source",lu),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",ia({},sie())),t.setContext("device",HD(ia({},oie()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function sie(){var t,e,n,r,i,a;let o=navigator.userAgent,s,u;return o.indexOf("Firefox")!==-1?(s="Firefox",u=(t=o.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):o.indexOf("Edg")!==-1?(s="Microsoft Edge",u=(e=o.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):o.indexOf("Chrome")!==-1&&o.indexOf("Safari")!==-1?(s="Chrome",u=(n=o.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):o.indexOf("Safari")!==-1&&o.indexOf("Chrome")===-1?(s="Safari",u=(r=o.match(/Version\/([\d.]+)/))==null?void 0:r[1]):o.indexOf("Opera")!==-1||o.indexOf("OPR")!==-1?(s="Opera",u=(i=o.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):o.indexOf("MSIE")!==-1||o.indexOf("Trident")!==-1?(s="Internet Explorer",u=(a=o.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:a[2]):(s="Unknown",u="Unknown"),{name:s,version:u}}function oie(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(t)?n="Mobile":/Tablet|iPad/i.test(t)?n="Tablet":n="Desktop",{model:e,family:e,device:n}}var lie=class VD{constructor(e){Nr(this,"_parent"),Nr(this,"breadcrumbs",[]),Nr(this,"context",{}),Nr(this,"extra",{}),Nr(this,"tags",{}),Nr(this,"request"),Nr(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new VD(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,n){return this.extra[e]=n,this}removeExtra(e){return delete this.extra[e],this}setContext(e,n){return typeof n.type>"u"&&(n.type=e),this.context[e]=n,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=ia(ia({},this.tags),e),this}setTag(e,n){return this.tags[e]=n,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],n=this;for(;n;)e.push(n),n=n.parent;return e.reverse().reduce((r,i)=>{var a;return r.breadcrumbs=[...(a=r.breadcrumbs)!=null?a:[],...i.breadcrumbs],r.extra=ia(ia({},r.extra),i.extra),r.contexts=ia(ia({},r.contexts),i.context),r.tags=ia(ia({},r.tags),i.tags),i.user&&(r.user=i.user),i.request&&(r.request=i.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},cie=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,uie=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,die=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fie=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,zg="?",WO="An unknown error occurred",hie="0.0.4";function pie(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function Gr(t){return(t+256).toString(16).substring(1)}function mie(){let t=pie(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Gr(t[0])+Gr(t[1])+Gr(t[2])+Gr(t[3])+"-"+Gr(t[4])+Gr(t[5])+"-"+Gr(t[6])+Gr(t[7])+"-"+Gr(t[8])+Gr(t[9])+"-"+Gr(t[10])+Gr(t[11])+Gr(t[12])+Gr(t[13])+Gr(t[14])+Gr(t[15])}var gie=[[cie,"chrome"],[die,"winjs"],[uie,"gecko"]];function vie(t){var e,n,r,i;if(!t.stack)return null;let a=[],o=(r=(n=(e=t.stack).split)==null?void 0:n.call(e,`
`))!=null?r:[];for(let s=0;s<o.length;++s){let u=null,l=null,h=null;for(let[p,g]of gie)if(l=p.exec(o[s]),l){h=g;break}if(!(!l||!h)){if(h==="chrome")u={filename:(i=l[2])!=null&&i.startsWith("address at ")?l[2].substring(11):l[2],function:l[1]||zg,lineno:l[3]?+l[3]:null,colno:l[4]?+l[4]:null};else if(h==="winjs")u={filename:l[2],function:l[1]||zg,lineno:+l[3],colno:l[4]?+l[4]:null};else if(h==="gecko")s===0&&!l[5]&&t.columnNumber!==void 0&&a.length>0&&(a[0].column=t.columnNumber+1),u={filename:l[3],function:l[1]||zg,lineno:l[4]?+l[4]:null,colno:l[5]?+l[5]:null};else continue;!u.function&&u.lineno&&(u.function=zg),a.push(u)}}return a.length?a.reverse():null}function yie(t){let e=vie(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function bie(t){let e=fie.exec(t),n=e?e.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),i=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(i?"/"+i:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function wie(t,e,n){var r,i;let a=ia({event_id:mie().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:hie},environment:e,release:n,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){a.message=(i=(r=t.error)==null?void 0:r.message)!=null?i:"Unknown error",a.fingerprint=[a.message];let o=[],s=t.error;for(let u=0;u<5&&s&&(o.push(yie(s)),!(!s.cause||!(s.cause instanceof Error)));u++)s=s.cause;a.exception={values:o.reverse()}}return t.type==="message"&&(a.message=t.message,a.level=t.level),a}function xie(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=t,{message:r}=n,i=nie(n,["message"]),a=new Error(typeof r=="string"?r:WO);return Object.assign(a,i)}let e=new Error(WO);return Object.assign(e,{cause:t})}function Eie(t,e,n){return pf(this,null,function*(){var r,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let a;if(n){let u=new AbortController;a=u.signal,setTimeout(()=>u.abort(),n)}let o=yield fetch(t,HD(ia({},e),{signal:a})),s=yield o.text();return{status:o.status,body:s}}return yield new Promise((a,o)=>{var s,u;let l=new XMLHttpRequest;if(l.open((s=e?.method)!=null?s:"GET",t),l.onload=()=>a({status:l.status,body:l.responseText}),l.onerror=()=>o(new Error("XHR Network Error")),e?.headers)for(let[h,p]of Object.entries(e.headers))l.setRequestHeader(h,p);if(n){let h=setTimeout(()=>{l.abort(),o(new Error("Request timed out"))},n);l.onloadend=()=>{clearTimeout(h)}}l.send((u=e?.body)==null?void 0:u.toString())})}catch(a){return{status:0,body:(i=(r=a?.toString)==null?void 0:r.call(a))!=null?i:"Unknown error"}}})}var ji,N4=(ji=class{constructor(t){Nr(this,"apiURL"),Nr(this,"dsn"),Nr(this,"environment"),Nr(this,"release"),Nr(this,"sampleRate"),Nr(this,"debug"),Nr(this,"_scope"),Nr(this,"shouldBuffer",!1),Nr(this,"bufferlimit",20),Nr(this,"buffer",[]);var e,n,r,i,a;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(n=t.debug)!=null?n:!1,this._scope=(r=t.scope)!=null?r:new lie,this.apiURL=bie(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(a=t.bufferLimit)!=null?a:20}static init(t){ji._instance||(ji._instance=new ji(t))}static get instance(){if(!ji._instance)throw new Error("Sentry has not been initialized");return ji._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return ji.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){ji.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:xie(t),scope:e??this._scope})}static captureException(t,e){ji.instance.captureException(t,e)}captureMessage(t,e="info",n){this.captureEvent({type:"message",level:e,message:t,scope:n??this._scope})}static captureMessage(t,e="info",n){ji.instance.captureMessage(t,e,n)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return pf(this,null,function*(){try{this.log("Sending sentry event",t);let n=wie(t,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},i={type:"event"},a=JSON.stringify(r)+`
`+JSON.stringify(i)+`
`+JSON.stringify(n),o=yield Eie(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:a},e);this.log("Sentry response",o.status),o.status!==200&&(console.log(o.body),console.error("Failed to send event to Sentry",o))}catch(n){console.error("Failed to send event",n)}})}flush(t=5e3){return pf(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return ji.instance.flush(t)}static reset(){ji._instance=void 0}},Nr(ji,"_instance"),ji),Sie="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",_ie="2.0.1",Cie="production";function Nie(t=!0){if(!t)return VO();N4.init({dsn:Sie,release:_ie,environment:Cie});let e=N4.scope;return aie(e),VO(e)}function VO(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&N4.captureException(e,t)}}}function Aie({scriptLocation:t,query:e,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:a=!0,secureApi:o=!1,scriptSource:s=""}={},u){let l=WD(t),h=KD(l);return new Promise((p,g)=>{let v=h.document.createElement("script");v.id=rie,s?v.src=`${s}?onload=${_v}`:o?v.src=`${i}/1/secure-api.js?onload=${_v}`:v.src=`${i}/1/api.js?onload=${_v}`,v.crossOrigin=r,v.async=n;let y=(w,C)=>{try{!o&&a&&l.removeChild(v),C(w)}catch(x){g(x)}};v.onload=w=>y(w,p),v.onerror=w=>{u&&u(v.src),y(w,g)},v.src+=e!==""?`&${e}`:"",l.appendChild(v)})}var Hg=[];function jie(t={cleanup:!0},e){try{e.addBreadcrumb({category:lu,message:"hCaptcha loader params",data:t});let n=WD(t.scriptLocation),r=KD(n),i=Hg.find(({scope:o})=>o===r.window);if(i)return e.addBreadcrumb({category:lu,message:"hCaptcha already loaded"}),i.promise;let a=new Promise((o,s)=>pf(this,null,function*(){try{r.window[_v]=()=>{e.addBreadcrumb({category:lu,message:"hCaptcha script called onload function"}),o(r.window.hcaptcha)};let u=iie({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield Aie(ia({query:u},t),l=>{e.captureRequest({url:l,method:"GET"})}),e.addBreadcrumb({category:lu,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:lu,message:"hCaptcha failed to load"});let l=Hg.findIndex(h=>h.scope===r.window);l!==-1&&Hg.splice(l,1),s(new Error(KO))}}));return Hg.push({promise:a,scope:r.window}),a}catch(n){return e.captureException(n),Promise.reject(new Error(KO))}}function GD(t,e,n=0){return pf(this,null,function*(){let r=n<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield jie(t,e)}catch(i){return e.addBreadcrumb({category:lu,message:r}),n>=2?(e.captureException(i),Promise.reject(i)):(n+=1,GD(t,e,n))}})}function Mie(){return pf(this,arguments,function*(t={}){let e=Nie(t.sentry);return yield GD(t,e)})}function GO(t){var e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function YO(t){return t||document.head}var Oie=function(t){Qre(e,t);function e(r){var i;return i=t.call(this,r)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind(Na(i)),i.resetCaptcha=i.resetCaptcha.bind(Na(i)),i.removeCaptcha=i.removeCaptcha.bind(Na(i)),i.isReady=i.isReady.bind(Na(i)),i._onReady=null,i.loadCaptcha=i.loadCaptcha.bind(Na(i)),i.handleOnLoad=i.handleOnLoad.bind(Na(i)),i.handleSubmit=i.handleSubmit.bind(Na(i)),i.handleExpire=i.handleExpire.bind(Na(i)),i.handleError=i.handleError.bind(Na(i)),i.handleOpen=i.handleOpen.bind(Na(i)),i.handleClose=i.handleClose.bind(Na(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(Na(i)),i.ref=se.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.captchaId="",i.state={isApiReady:!1,isRemoved:!1,elementId:r.id},i}var n=e.prototype;return n.componentDidMount=function(){var i=this,a=YO(this.props.scriptLocation),o=GO(a);this._hcaptcha=o.window.hcaptcha||void 0;var s=typeof this._hcaptcha<"u";if(s){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this._hcaptcha,a=this.captchaId;this.isReady()&&(i.reset(a),i.remove(a))},n.shouldComponentUpdate=function(i,a){return!(this.state.isApiReady!==a.isApiReady||this.state.isRemoved!==a.isRemoved)},n.componentDidUpdate=function(i){var a=this,o=["sitekey","size","theme","tabindex","languageOverride","endpoint"],s=o.every(function(u){return i[u]===a.props[u]});s||this.removeCaptcha(function(){a.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,a=i.apihost,o=i.assethost,s=i.endpoint,u=i.host,l=i.imghost,h=i.languageOverride,p=i.reCaptchaCompat,g=i.reportapi,v=i.sentry,y=i.custom,w=i.loadAsync,C=i.scriptLocation,x=i.scriptSource,M=i.secureApi,k=i.cleanup,z=k===void 0?!0:k,P={render:"explicit",apihost:a,assethost:o,endpoint:s,hl:h,host:u,imghost:l,recaptchacompat:p===!1?"off":null,reportapi:g,sentry:v,custom:y,loadAsync:w,scriptLocation:C,scriptSource:x,secureApi:M,cleanup:z};Mie(P).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var a=this,o=this.props.onReady,s=this.state.isApiReady,u=this.captchaId;if(!(!s||u)){var l=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),h=this._hcaptcha,p=h.render(this.ref.current,l);this.captchaId=p,this.setState({isRemoved:!1},function(){i&&i(),o&&o(),a._onReady&&a._onReady(p)})}},n.resetCaptcha=function(){var i=this._hcaptcha,a=this.captchaId;this.isReady()&&i.reset(a)},n.removeCaptcha=function(i){var a=this,o=this._hcaptcha,s=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){a.captchaId="",o.remove(s),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){var a=YO(i.props.scriptLocation),o=GO(a);i._hcaptcha=o.window.hcaptcha,i.renderCaptcha(function(){var s=i.props.onLoad;s&&s()})})},n.handleSubmit=function(i){var a=this.props.onVerify,o=this.state.isRemoved,s=this._hcaptcha,u=this.captchaId;if(!(typeof s>"u"||o)){var l=s.getResponse(u),h=s.getRespKey(u);a&&a(l,h)}},n.handleExpire=function(){var i=this.props.onExpire,a=this._hcaptcha,o=this.captchaId;this.isReady()&&(a.reset(o),i&&i())},n.handleError=function(i){var a=this.props.onError,o=this._hcaptcha,s=this.captchaId;this.isReady()&&o.reset(s),a&&a(i)},n.isReady=function(){var i=this.state,a=i.isApiReady,o=i.isRemoved;return a&&!o},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){var a=this;i===void 0&&(i=null),i=typeof i=="object"?i:null;try{var o=this._hcaptcha,s=this.captchaId;if(!this.isReady()){var u,l=new Promise(function(h,p){a._onReady=function(g){try{var v=a._hcaptcha;i&&i.async?v.execute(g,i).then(h).catch(p):h(v.execute(g,i))}catch(y){p(y)}}});return(u=i)!=null&&u.async?l:null}return o.execute(s,i)}catch(h){return i&&i.async?Promise.reject(h):null}},n.close=function(){var i=this._hcaptcha,a=this.captchaId;if(this.isReady())return i.close(a)},n.setData=function(i){var a=this._hcaptcha,o=this.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),a.setData(o,i))},n.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.captchaId)},n.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.captchaId)},n.render=function(){var i=this.state.elementId;return se.createElement("div",{ref:this.ref,id:i})},e}(se.Component);class YD{constructor(e){if(Ne(this,"authBaseApiUrl",void 0),Ne(this,"passwordlessParams",void 0),Ne(this,"trackingIdentifier",void 0),Ne(this,"version",`web3auth-${$te.split(".")[0]}`),!e.authConnection)throw lt.invalidParams("authConnection is required");if(!e.web3authClientId)throw lt.invalidParams("web3authClientId is required");if(!e.loginHint)throw lt.invalidParams("loginHint is required");if(!e.network)throw lt.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=Oi.PRODUCTION),this.authBaseApiUrl=`${Kte[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===ot.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===ot.SMS_PASSWORDLESS)return"Mobile";throw lt.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===ot.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===ot.SMS_PASSWORDLESS)return"sms";throw lt.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return sE("sessionStorage")}get whiteLabelParams(){var e;const{uiConfig:n}=this.passwordlessParams;if(!n)return{};const{appName:r,appUrl:i,defaultLanguage:a,mode:o,logoLight:s,logoDark:u,theme:l}=n,h=(e=o==="dark"?u:s)!==null&&e!==void 0?e:"";return{mode:o??"light",name:r??"",url:i??"",language:a??"en",logo:h.includes(".svg")?"":h,theme:l??{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{const r=await Eu(`${this.authBaseApiUrl}/passwordless/start`,e);if(r&&r.success){var n;this.trackingId=(n=r.data)===null||n===void 0?void 0:n.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return r}catch(r){return this.handleError(r)}}async verify(e){try{const n=await Eu(`${this.authBaseApiUrl}/passwordless/verify`,e);return n.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:n.id_token}}):{success:!1,error:n.message}}catch(n){return this.handleError(n)}}async handleError(e){let n;if(e.status===429)n="passwordless.error-too-many-requests";else try{const r=await e.json();n=r.error_code?qne(r.error_code):r.message}catch{n="passwordless.something-wrong-error"}return{success:!1,error:n}}}class kie extends YD{constructor(e){var n;super(e),Ne(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0)}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a={client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r,flow_type:lE.code,captcha_token:e};return super.start(a)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a={client_id:i,login_hint:n,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:r,flow_type:lE.code};return super.verify(a)}}class Iie extends YD{constructor(e){if(super(e),this.sessionStorageAvailable){var n;this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0}}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a=we({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r},e&&{captcha_token:e});return super.start(a)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a={client_id:i,login_hint:n,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:r};return super.verify(a)}}const Tie=(t,e)=>{switch(t){case ot.EMAIL_PASSWORDLESS:return new kie(e);case ot.SMS_PASSWORDLESS:return new Iie(e);default:throw lt.invalidParams(`Unsupported auth connection: ${t}`)}},Rie="test_account_",Pie="@example.com",Lie="+1-555",Die=(t,e)=>{if(t===ot.EMAIL_PASSWORDLESS)return e.startsWith(Rie)&&e.endsWith(Pie);if(t===ot.SMS_PASSWORDLESS)return e.startsWith(Lie);throw lt.invalidParams(`Unsupported auth connection: ${t}`)},Bie=({children:t,content:e,isDark:n=!1,hideHint:r=!1})=>{const[i,a]=se.useState(!1),o=()=>{a(!0)},s=()=>{a(!1)},u=se.useMemo(()=>({borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${n?"#ffffff":"#1f2a37"}`,left:"0%",top:"calc(100% - 8px)"}),[n]);return f.jsxs("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:o,onMouseLeave:s,onFocus:o,onBlur:s,onClick:s,children:[t,i&&!r&&f.jsxs("div",{"data-popover":!0,role:"tooltip",className:tn("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",n?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[e,f.jsx("div",{className:"w3a--absolute",style:u})]})]})};function JO(t,e,n){const r=t===ot.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===ot.APPLE||t===ot.GITHUB||t===ot.TWITTER?r:`login-${t}-active`;return f.jsxs(f.Fragment,{children:[f.jsx("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${n}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),f.jsx("img",{id:"login-img",src:`https://images.web3auth.io/${r}${n}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function Uie(t){const{visibleRow:e,otherRow:n,isDark:r,canShowMore:i,handleSocialLoginClick:a,handleExpandSocialLogins:o,buttonRadius:s}=t,u=()=>e.length===1?"w3a--grid-cols-1":e.length===2?"w3a--grid-cols-2":e.length===3?"w3a--grid-cols-3":"w3a--grid-cols-4";return e.length!==0&&n?.length===0?f.jsx("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:f.jsxs("div",{className:tn("w3a--grid w3a--w-full w3a--gap-x-2",u()),children:[e.filter((l,h)=>e.length===4?h<=3:h<3).map(l=>f.jsx(Bie,{content:"Last Login",isDark:r,hideHint:!0,children:f.jsx(Sv,{type:tf.SOCIAL,props:{showText:!1,method:l.method,isDark:r,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:f.jsx(f.Fragment,{children:JO(l.method,r,".svg")}),onClick:()=>a({connector:l.connector,loginParams:l.loginParams}),buttonRadius:s}},l.method)},l.method)),i&&e.length>4&&f.jsx(Sv,{type:tf.SOCIAL,props:{showIcon:!1,onClick:o,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:f.jsx("img",{src:Bi(r?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:s}})]})}):f.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[f.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:()=>o(),children:f.jsx("img",{src:Bi(r?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),f.jsx("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:n.map(l=>f.jsx("div",{className:"w3a--h-11 w3a--w-full",children:f.jsx(Sv,{type:tf.SOCIAL,props:{method:l.method,isDark:r,isPrimaryBtn:!1,onClick:()=>a({connector:l.connector,loginParams:l.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:s,children:f.jsxs(f.Fragment,{children:[JO(l.method,r,".svg"),f.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:l.name}),f.jsx("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(r?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},l.method))})]})}const JD=se.forwardRef(({length:t,loading:e,resendTimer:n=60,onComplete:r,onChange:i,error:a=!1,success:o=!1,disabled:s=!1,classes:u,helperText:l="",onResendTimer:h,showCta:p=!0,showTimer:g=!0,autoFocus:v=!1,placeholder:y="",autoComplete:w="one-time-code",type:C="text",resendBtnText:x=""},M)=>{const[k,z]=se.useState(Array(t).fill("")),[P,K]=se.useState(n??0),[W]=vi(void 0,{i18n:rn}),B=se.useRef([]),D=O=>/^\d$/.test(O)&&O.trim().length===1,$=(O,U)=>{if(O.key==="Backspace"||O.key==="Delete"){O.preventDefault();const L=[...k];if(k[U]!=="")L[U]="";else if(U>0){var j;(j=B.current[U-1])===null||j===void 0||j.focus(),L[U-1]=""}z(L),i&&i(L.join(""))}else if(O.key==="ArrowLeft"){var I;O.preventDefault(),(I=B.current[U-1])===null||I===void 0||I.focus()}else if(O.key==="ArrowRight"){var E;O.preventDefault(),(E=B.current[U+1])===null||E===void 0||E.focus()}else(O.key===" "||O.key==="Spacebar"||O.key==="Space"||!D(O.key)&&B.current[U+1])&&(O.preventDefault(),B.current[U+1].value="")},T=(O,U)=>{O.preventDefault();const{value:j}=O.target;if(j&&j.length>1&&j.length===t){var I;const L=j.split(""),q=[...k];L.forEach((F,G)=>{q[G]=F}),z(q),(I=B.current[L.length===t?t-1:L.length])===null||I===void 0||I.focus(),r&&t===q.length&&r(q.join(""))}else if(D(j)){const L=[...k].slice(0,t);L[U]=j,z(L);const q=L.join("");if(U<t-1&&B.current[U+1]){var E;(E=B.current[U+1])===null||E===void 0||E.focus()}i&&i(j),r&&t===q.length&&r(q)}},b=O=>{O.preventDefault();const U=O.clipboardData.getData("text").slice(0,t);if(U&&/^\d+$/.test(U)){var j;const I=U.split(""),E=[...k];I.forEach((L,q)=>{E[q]=L}),z(E),(j=B.current[I.length===t?t-1:I.length])===null||j===void 0||j.focus(),r&&t===E.length&&r(E.join(""))}},_=()=>{K(n||0),h&&h()};se.useEffect(()=>{let O=null;return p&&g&&(O=window.setInterval(()=>{P>0?K(U=>U-1):clearInterval(O)},1e3)),()=>{clearInterval(O)}},[P]),se.useEffect(()=>{if(B&&v){var O;(O=B.current)===null||O===void 0||O[0].focus()}},[v]);const A=tn("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":a,"w3a--text-app-green-500 dark:w3a--text-app-green-400":o},u?.helperText),N=new Date().getFullYear();return f.jsxs("div",{className:tn("w3a--flex w3a--flex-col w3a--items-center",u?.root),ref:M,children:[f.jsx("form",{className:tn("w3a--flex w3a--space-x-2",u?.inputContainer),children:k.map((O,U)=>{var j,I,E;return f.jsx("input",{id:`${N+U}`,type:C,value:O,autoComplete:w,placeholder:Array.isArray(y)?y[U]:y,inputMode:"numeric",onInput:L=>T(L,U),onKeyUp:L=>$(L,U),onPaste:b,className:tn("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",o&&((j=u?.success)!==null&&j!==void 0?j:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),a&&((I=u?.error)!==null&&I!==void 0?I:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),s&&((E=u?.disabled)!==null&&E!==void 0?E:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),u?.input),ref:L=>{B.current[U]=L},disabled:s},`${N+U}`)})}),l&&f.jsx("p",{className:A,children:l}),e&&f.jsx("div",{className:"w3a--mt-3",children:f.jsx(E5,{})}),p&&!e&&f.jsx("div",{className:tn("w3a--flex w3a--items-center w3a--mt-3",u?.ctaContainer),children:P>0&&g?f.jsx("span",{className:tn("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",u?.timerText),children:W("modal.resendTimer",{timer:P})}):f.jsx("button",{type:"button",className:tn("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",u?.resendBtnText),onClick:_,disabled:P>0&&g,children:x||W("modal.resendCode")})})]})});JD.displayName="OtpInput";function $ie(t){const{setShowOtpFlow:e,handleOtpComplete:n,authConnection:r,loginHint:i="",errorMessage:a,otpLoading:o,countryFlag:s}=t,u=se.useMemo(()=>r===ot.SMS_PASSWORDLESS,[r]),[l]=vi(void 0,{i18n:rn}),h=se.useMemo(()=>{if(r===ot.EMAIL_PASSWORDLESS)return i;const[p,g]=i.includes("-")?i.split("-"):["",i],v=`${g}`.slice(-Math.floor(g.length/2)).padStart(`${g}`.length,"*");return`${s} ${p} ${v}`},[i,r,s]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:f.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>e(!1),children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:f.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),f.jsxs("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[f.jsx("img",{src:Bi(u?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),f.jsxs("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[f.jsx("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(u?"modal.otp.mobile-title":"modal.otp.email-title")}),f.jsxs("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[f.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(u?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),f.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:u?h:l("modal.otp.email-subtext-example",{email:h})})]})]}),f.jsx(JD,{length:6,onComplete:n,error:!!a,helperText:a,loading:o,disabled:o})]})]})}function Fie(t){const{otpLoading:e,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:a,errorMessage:o,countryFlag:s}=t;return f.jsx("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:f.jsx($ie,{errorMessage:o,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:a,otpLoading:e,countryFlag:s})})}function qie(t){const{isModalVisible:e,isPasswordLessCtaClicked:n,setIsPasswordLessCtaClicked:r,title:i,placeholder:a,handleFormSubmit:o,errorMessage:s,isDark:u,isPasswordLessLoading:l,buttonRadius:h}=t,[p]=vi(void 0,{i18n:rn}),g=se.useRef(null),[v,y]=se.useState(""),[w,C]=se.useState(!1),x=z=>{y(z.target.value),C(!0)},M=z=>{const{key:P}=z;P==="Enter"&&(o(v),C(!1))},k=z=>{z.preventDefault(),z.stopPropagation(),o(v),C(!1)};return se.useEffect(()=>{e||r(!1)},[e,r]),se.useEffect(()=>{if(n){var z;(z=g.current)===null||z===void 0||z.focus()}},[n]),n?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:tn("w3a--input",w&&"!w3a--border-app-primary-600",{"w3a--rounded-full":h==="pill","w3a--rounded-lg":h==="rounded","w3a--rounded-none":h==="square"}),children:[f.jsx("input",{ref:g,onInput:x,value:v,placeholder:a,onFocus:()=>{C(!0)},onBlur:z=>{z.target.placeholder=`${a}`,C(!1)},type:"text",className:tn("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:z=>M(z),disabled:l}),l&&f.jsx(E5,{}),v&&!l&&f.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:k,children:f.jsx("img",{src:Bi(u?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),s&&!w&&n&&f.jsx("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:s})]}):f.jsxs("button",{type:"button",className:tn("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":h==="pill","w3a--rounded-lg":h==="rounded","w3a--rounded-none":h==="square"}),onClick:()=>{r(!0)},children:[f.jsx("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:p("modal.passwordless.title",{title:i})}),f.jsx("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(u?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}const zie=[ot.SMS_PASSWORDLESS,ot.EMAIL_PASSWORDLESS,ot.AUTHENTICATOR,ot.PASSKEYS,ot.TELEGRAM,ot.CUSTOM];function Hie(t){const{web3authClientId:e,web3authNetwork:n,authBuildEnv:r,appLogo:i,isModalVisible:a,handleSocialLoginHeight:o,socialLoginsConfig:s,installedExternalWalletConfig:u,isDark:l,handleSocialLoginClick:h,totalExternalWallets:p,isEmailPasswordLessLoginVisible:g,isSmsPasswordLessLoginVisible:v,handleExternalWalletBtnClick:y,handleExternalWalletClick:w,areSocialLoginsVisible:C,showPasswordLessInput:x,showExternalWalletButton:M,showExternalWalletCount:k,showInstalledExternalWallets:z,logoAlignment:P="center",buttonRadius:K="pill",deviceDetails:W}=t,[B]=vi(void 0,{i18n:rn}),{bodyState:D,setBodyState:$}=se.useContext(Ep),{analytics:T}=se.useContext(x5),[b,_]=se.useState(""),[A,N]=se.useState(""),[O,U]=se.useState(""),[j,I]=se.useState(""),[E,L]=se.useState(!1),[q,F]=se.useState(!1),[G,Y]=se.useState([]),[Q,ie]=se.useState([]),[Z,X]=se.useState(!1),[te,ae]=se.useState(!1),[oe,ee]=se.useState(void 0),[le,he]=se.useState(void 0),[ge,Ee]=se.useState(!1),[ye,fe]=se.useState(!1),[Se,Ae]=se.useState(!1),[xe,ze]=se.useState(""),Xe=se.useRef(null),nt=()=>{L(rt=>!rt),X(!1),o()};se.useEffect(()=>{const rt=Object.keys(s.loginMethods).filter(de=>s.loginMethods[de].showOnModal),Mt=[],Yt=[],Ot=(s.loginMethodsOrder||[]).reduce((de,pe,Fe)=>(de[pe]=Fe,de),{}),wt=Object.keys(s.loginMethods).filter(de=>!!s.loginMethods[de].showOnModal&&!zie.includes(de)).sort((de,pe)=>{var Fe,Ye;const Je=(s.loginMethodsOrder||[]).length,mt=(Fe=Ot[de])!==null&&Fe!==void 0?Fe:Je,bn=(Ye=Ot[pe])!==null&&Ye!==void 0?Ye:Je,{mainOption:nn}=s.loginMethods[de]||{},{mainOption:Jt}=s.loginMethods[pe]||{};return nn&&Jt?mt-bn:nn?-1:Jt?1:mt-bn});wt.forEach((de,pe)=>{var Fe;const Ye=s.loginMethods[de],Je=b5(Ye.name||de),mt=pe+1,bn=(s==null||(Fe=s.uiConfig)===null||Fe===void 0?void 0:Fe.primaryButton)==="socialLogin"&&mt===1,nn=wt.length;(nn>=4?mt>0&&mt<=nn:mt>0&&mt<4)&&Mt.push({method:de,isDark:l,isPrimaryBtn:bn,name:Je,connector:s.connector,loginParams:{authConnection:Ye.authConnection||de,authConnectionId:Ye.authConnectionId,groupedAuthConnectionId:Ye.groupedAuthConnectionId,extraLoginOptions:Ye.extraLoginOptions,name:Je,login_hint:""},order:mt}),Yt.push({method:de,isDark:l,isPrimaryBtn:bn,name:Je==="Twitter"?"X":Je,connector:s.connector,loginParams:{authConnection:de,authConnectionId:Ye.authConnectionId,groupedAuthConnectionId:Ye.groupedAuthConnectionId,extraLoginOptions:Ye.extraLoginOptions,name:Je,login_hint:""},order:mt})}),Y(Mt),ie(Yt),F(rt.length>4)},[s,l,K]);const et=async(rt,Mt)=>{try{const Ot=Tie(rt,{loginHint:Mt,web3authClientId:e,network:n,uiConfig:s.uiConfig,authConnection:rt,authBuildEnv:r});let wt;if(!Die(rt,Mt)){var Yt;const pe=await((Yt=Xe.current)===null||Yt===void 0?void 0:Yt.execute({async:!0}));if(!pe)throw Ct.connectionError("Captcha token is required");wt=pe.response}const de=await Ot.sendVerificationCode({captchaToken:wt});if(de!=null&&de.error){U(B(de.error));return}ee(rt),ae(!0),he(Ot)}catch(Ot){at.error(Ot)}finally{Ee(!1)}},re=async rt=>{if(Ee(!0),g&&rt.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){const Yt=s.loginMethods[ot.EMAIL_PASSWORDLESS];return Yt.isDefault?h({connector:s.connector,loginParams:{authConnection:ot.EMAIL_PASSWORDLESS,authConnectionId:Yt.authConnectionId,groupedAuthConnectionId:Yt.groupedAuthConnectionId,extraLoginOptions:Yt.extraLoginOptions,loginHint:rt,name:"Email"}}):et(ot.EMAIL_PASSWORDLESS,rt)}if(v){const Mt=rt.startsWith("+")?rt:`${b}${rt}`,Yt=await $ne(Mt);if(Yt.success){const Ot=typeof Yt.parsed_number=="string"?Yt.parsed_number:Mt,wt=s.loginMethods[ot.SMS_PASSWORDLESS];return wt.isDefault?h({connector:s.connector,loginParams:{authConnection:ot.SMS_PASSWORDLESS,authConnectionId:wt.authConnectionId,groupedAuthConnectionId:wt.groupedAuthConnectionId,extraLoginOptions:wt.extraLoginOptions,loginHint:Ot,name:"Mobile"}}):(N(Yt.country_flag),et(ot.SMS_PASSWORDLESS,Ot))}}U(ue),Ee(!1)},V=se.useMemo(()=>B(g&&v?"modal.social.passwordless-title":g?"modal.social.email":"modal.social.phone"),[g,v,B]),J=se.useMemo(()=>g&&v?"+(00)123456/name@example.com":g?"name@example.com":"+(00)123456",[g,v]),ue=se.useMemo(()=>B(g&&v?"modal.errors-invalid-number-email":g?"modal.errors-invalid-email":"modal.errors-invalid-number"),[g,v,B]);se.useEffect(()=>{v&&(async()=>{const Mt=await Une();Mt&&Mt.dialCode&&_(Mt.dialCode)})()},[v]);const ve=rt=>{T?.track(Nn.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:p,installed_external_wallets:st.length}),X(!1),rt.preventDefault(),y&&y(!0)},Me=async rt=>{fe(!0),j&&I("");try{var Mt;const Ot=s.loginMethods[oe],wt=await le?.verifyCode(rt);if(wt!=null&&wt.error){I(B(wt.error));return}if(wt!=null&&(Mt=wt.data)!==null&&Mt!==void 0&&Mt.id_token){var Yt;return h({connector:s.connector,loginParams:{authConnection:oe,authConnectionId:Ot.authConnectionId,groupedAuthConnectionId:Ot.groupedAuthConnectionId,extraLoginOptions:we(we({},Ot.extraLoginOptions),{},{id_token:(Yt=wt.data)===null||Yt===void 0?void 0:Yt.id_token}),loginHint:le.passwordlessParams.loginHint,name:le.name}})}}catch(Ot){at.error(Ot)}finally{fe(!1)}},Ie=rt=>{var Mt;if(T?.track(Nn.EXTERNAL_WALLET_SELECTED,{connector:rt.name,wallet_name:rt.displayName,is_installed:rt.isInstalled,is_injected:rt.hasInjectedWallet,chain_namespaces:rt.chainNamespaces,has_wallet_connect:rt.hasWalletConnect,has_install_links:rt.hasInstallLinks,has_wallet_registry_item:!!rt.walletRegistryItem,total_external_wallets:p}),rt.name===pt.METAMASK&&!rt.hasInjectedWallet&&W.platform==="desktop"){w({connector:rt.name}),$(we(we({},D),{},{metamaskQrCode:{show:!0,wallet:rt}}));return}((Mt=rt.chainNamespaces)===null||Mt===void 0?void 0:Mt.length)>1?$(we(we({},D),{},{multiChainSelector:{show:!0,wallet:rt}})):w({connector:rt.name})},st=se.useMemo(()=>z?u:u.filter(rt=>rt.name===pt.METAMASK),[u,z]);if(te)return f.jsx(Fie,{otpLoading:ye,loginHint:le?.passwordlessParams.loginHint,setShowOtpFlow:ae,authConnection:oe,handleOtpComplete:Me,errorMessage:j,countryFlag:A});const Pt=(rt=[])=>f.jsx(Uie,{otherRow:rt,isDark:l,visibleRow:G,canShowMore:q,handleSocialLoginClick:h,socialLoginsConfig:s,handleExpandSocialLogins:nt,buttonRadius:K},"social-login-section"),ut=()=>f.jsx(qie,{isModalVisible:a,isPasswordLessCtaClicked:Z,setIsPasswordLessCtaClicked:X,title:V,placeholder:J,handleFormSubmit:re,errorMessage:O,isDark:l,buttonRadius:K,isPasswordLessLoading:ge},"passwordless-section"),bt=()=>f.jsxs("div",{className:tn("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[st.length>0&&st.map(rt=>f.jsxs("button",{type:"button",className:tn("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":K==="pill","w3a--rounded-lg":K==="rounded","w3a--rounded-none":K==="square"}),onClick:()=>Ie(rt),children:[f.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:rt.displayName}),f.jsxs("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[rt.hasInjectedWallet&&f.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:B("modal.external.installed")}),f.jsx("figure",{className:"w3a--size-5",children:f.jsx($a,{imageData:rt.icon,imageId:`login-${rt.name}`,hoverImageId:`login-${rt.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:rt.imgExtension||"webp"})})]}),f.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},rt.name)),p>3&&f.jsxs("button",{type:"button",className:tn("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":K==="pill","w3a--rounded-lg":K==="rounded","w3a--rounded-none":K==="square"}),onClick:ve,children:[f.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:B("modal.external.all-wallets")}),k&&p>0&&f.jsx("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:p-1}),f.jsx("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),Tt=[vD,gD].includes(i)?"":i,Bt=rt=>f.jsxs("div",{className:tn("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",Tt?"w3a--my-2":"w3a--my-4"),children:[f.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),f.jsx("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),f.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${rt}`),cn=()=>{var rt;const Mt={social:Pt,passwordless:ut,externalWallets:bt},Yt={social:C,passwordless:x,externalWallets:M},Ot=((rt=s.uiConfig)===null||rt===void 0?void 0:rt.signInMethods)||["social","passwordless","externalWallets"];Object.entries(Yt).forEach(([de,pe])=>{pe&&!Ot.includes(de)&&Ot.push(de)});const wt=Ot.map(de=>Yt[de]&&Mt[de]()).filter(Boolean);if(wt.length===3){const de=Ot.findIndex(pe=>pe==="externalWallets");de===0?wt.splice(1,0,Bt(1)):de===1?(wt.splice(1,0,Bt(1)),wt.splice(3,0,Bt(2))):de===2&&wt.splice(2,0,Bt(1))}else wt.length===2&&Yt.externalWallets&&wt.splice(1,0,Bt(1));return wt},mr=()=>Pt(Q);return f.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[f.jsxs("div",{className:tn("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6",P==="center"?"":"w3a--w-full"),children:[Tt&&f.jsx("figure",{className:tn("w3a--mx-auto w3a--h-12 w3a--w-[200px]",P==="center"?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:f.jsx("img",{src:Tt,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),f.jsx("p",{className:tn("w3a--text-app-gray-900 dark:w3a--text-app-white",P==="center"?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",Tt?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:B("modal.social.sign-in")})]}),f.jsx(Oie,{ref:Xe,sitekey:Wte,size:"invisible",languageOverride:s.uiConfig.defaultLanguage,theme:s.uiConfig.theme,onOpen:()=>Ae(!0),onClose:()=>Ae(!1),onError:()=>ze("passwordless.captcha-default-error"),onChalExpired:()=>ze("passwordless.captcha-default-error")}),xe&&Se&&f.jsx("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:B(xe)}),!Se&&f.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!E&&cn(),E&&mr()]})]})}const Kie=()=>{const{toast:t,setToast:e}=se.useContext(Ep);if(se.useEffect(()=>{t.message&&setTimeout(()=>{e({message:"",type:fy.SUCCESS})},3e3)},[t.message,e]),!t.message)return null;const n={success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"},r={success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"};return f.jsxs("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${n[t.type]}`,children:[f.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e({message:"",type:fy.SUCCESS}),className:r[t.type],children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),f.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:[f.jsx("p",{className:r[t.type],children:"x"}),f.jsx("p",{children:t.message})]})]})};function ZO(t){var e,n,r,i,a,o,s;const{setModalState:u,modalState:l,handleExternalWalletBtnClick:h,chainNamespaces:p,walletRegistry:g,appLogo:v,onCloseLoader:y,handleSocialLoginClick:w,showPasswordLessInput:C,showExternalWalletButton:x,socialLoginsConfig:M,areSocialLoginsVisible:k,isEmailPrimary:z,isExternalPrimary:P,showExternalWalletPage:K,isEmailPasswordLessLoginVisible:W,isSmsPasswordLessLoginVisible:B,preHandleExternalWalletClick:D,uiConfig:$,deviceDetails:T}=t,{logoAlignment:b="center",buttonRadiusType:_="pill",privacyPolicy:A="",tncLink:N="",displayInstalledExternalWallets:O=!0,displayExternalWalletsCount:U=!0}=$,[j]=vi(void 0,{i18n:rn}),{isDark:I}=se.useContext(sb),[E,L]=se.useState({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[q,F]=se.useState({message:"",type:fy.SUCCESS}),[G,Y]=se.useState(!1),[Q,ie]=se.useState(!1),Z=et=>{u(we(we({},l),{},{currentPage:ou.CONNECT_WALLET})),h&&h(et)},X=et=>{u(we(we({},l),{},{currentPage:ou.LOGIN})),h&&h(et)},te=se.useMemo(()=>{var et;if(T.platform==="desktop")return[];const re=((et=E.installLinks)===null||et===void 0||(et=et.wallet)===null||et===void 0||(et=et.walletRegistryItem)===null||et===void 0?void 0:et.app)||{};return Object.keys(re).reduce((J,ue)=>{if(!["android","ios"].includes(ue))return J;const ve=re[ue];if(!ve)return J;const Me=Lne(ue,ve);if(!Me)return J;const Ie=`${ue}-light`,st=`${ue}-dark`;return J.push(f.jsx("li",{className:"w3a--w-full",children:f.jsx("a",{href:Me,rel:"noopener noreferrer",target:"_blank",children:f.jsxs("button",{type:"button",className:tn("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":_==="pill","w3a--rounded-lg":_==="rounded","w3a--rounded-none":_==="square"}),children:[f.jsx($a,{imageId:Ie,darkImageId:st,hoverImageId:Ie,darkHoverImageId:st,height:"28",width:"28",isButton:!0}),f.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:j("modal.external.install-mobile-app",{os:Dne(ue)})}),f.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(I?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},Me)),J},[])},[(e=E.installLinks)===null||e===void 0||(e=e.wallet)===null||e===void 0||(e=e.walletRegistryItem)===null||e===void 0?void 0:e.app,T.platform,I,j,_]),ae=se.useMemo(()=>{var et;if(T.platform!=="desktop")return[];const re=T.browser==="brave"?"chrome":T.browser,V=((et=E.installLinks)===null||et===void 0||(et=et.wallet)===null||et===void 0||(et=et.walletRegistryItem)===null||et===void 0?void 0:et.app)||{},J=V.browser&&V.browser.includes(re)?V.browser:void 0,ue=V[re]||J,ve=ue?Pne(re,ue):null;return[ve?f.jsx("li",{children:f.jsx("a",{href:ve,rel:"noopener noreferrer",target:"_blank",children:f.jsxs("button",{type:"button",className:tn("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":_==="pill","w3a--rounded-lg":_==="rounded","w3a--rounded-none":_==="square"}),children:[f.jsx($a,{imageId:T.browser,darkImageId:T.browser,hoverImageId:T.browser,darkHoverImageId:T.browser,height:"30",width:"30",isButton:!0}),f.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:j("modal.external.install-browser-extension",{browser:Bne(T.browser)})}),f.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Bi(I?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},ve):null,...te]},[(n=E.installLinks)===null||n===void 0||(n=n.wallet)===null||n===void 0||(n=n.walletRegistryItem)===null||n===void 0?void 0:n.app,T.browser,T.platform,I,te,_,j]),oe=se.useMemo(()=>l.externalWalletsConfig,[l.externalWalletsConfig]),ee=se.useMemo(()=>{const et={};return Object.keys(oe).forEach(re=>{var V;et[re]=!!(!((V=oe[re])===null||V===void 0)&&V.showOnModal)}),et},[oe]),le=se.useMemo(()=>Object.keys(g?.default||{}).length>0||Object.keys(g?.others||{}).length>0,[g]),he=se.useCallback(et=>Object.keys(et).reduce((re,V)=>{var J,ue,ve;if(ee[V]===!1)return re;const Me=et[V];let Ie="";if(T.platform!=="desktop"){var st,Pt;const rt=Me==null||(st=Me.mobile)===null||st===void 0?void 0:st.universal,Mt=Me==null||(Pt=Me.mobile)===null||Pt===void 0?void 0:Pt.native;Ie=rt||Mt}const ut=oe[V],bt=ut?.chainNamespaces||[],Tt=new Set((J=Me.chains)===null||J===void 0?void 0:J.map(rt=>rt.split(":")[0])),Bt=new Set((ue=Me.injected)===null||ue===void 0?void 0:ue.map(rt=>rt.namespace)),cn=p.filter(rt=>Tt.has(rt)||Bt.has(rt)||bt.includes(rt)),mr={name:V,displayName:Me.name,href:Ie,hasInjectedWallet:ut?.isInjected||!1,isInstalled:!!ut,hasWalletConnect:le&&((ve=Me.walletConnect)===null||ve===void 0||(ve=ve.sdks)===null||ve===void 0?void 0:ve.includes("sign_v2")),hasInstallLinks:Object.keys(Me.app||{}).length>0,walletRegistryItem:Me,imgExtension:Me.imgExtension||"svg",icon:ut?.icon,chainNamespaces:cn};return!mr.hasInjectedWallet&&!mr.hasWalletConnect&&!mr.hasInstallLinks||cn.length===0||re.push(mr),re},[]),[ee,p,oe,T.platform,le]),ge=se.useMemo(()=>[...he(g.default),...he(g.others)],[he,g.default,g.others]),Ee=se.useMemo(()=>{const et=Object.keys(oe).reduce((V,J)=>{if(J===pt.WALLET_CONNECT_V2||!ee[J])return V;const ue=oe[J];return V.push({name:J,displayName:ue?.label||J,hasInjectedWallet:ue?.isInjected||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:ue?.icon,chainNamespaces:ue?.chainNamespaces||[]}),V},[]),re=et.findIndex(V=>V.name===pt.METAMASK&&!V.hasInjectedWallet);if(re!==-1){const V=et[re];let J=ge.find(ue=>ue.name===pt.METAMASK);J||(J=he({[pt.METAMASK]:Xte})[0]),J&&et.splice(re,1,we(we({},J),{},{chainNamespaces:V.chainNamespaces,isInstalled:!0}))}return et},[ge,oe,ee,he]),ye=se.useMemo(()=>Ee.filter(et=>!et.hasInjectedWallet),[Ee]),fe=se.useMemo(()=>Ee.sort((re,V)=>re.name===pt.METAMASK?-1:1).slice(0,O?3:1),[Ee,O]),Se=se.useMemo(()=>{const et=new Set;return ge.concat(Ee).filter(re=>et.has(re.name)?!1:(et.add(re.name),!0)).length},[ge,Ee]),Ae=()=>{Y(et=>!et)},xe=()=>{ie(et=>!et)},ze=se.useMemo(()=>{var et;const re=A||N;if(l.status!==nr.INITIALIZED)return"530px";if(Q||(et=E.metamaskQrCode)!==null&&et!==void 0&&et.show)return re?"640px":"588px";if(l.currentPage===ou.CONNECT_WALLET)return re?"640px":"580px";if(G)return re?"644px":"588px";if(fe.length===1)return re?"560px":"530px";if(fe.length>1){const V=500+(fe.length-1)*58;return re?`${V+60}px`:`${V+16}px`}return"539px"},[A,N,l.status,l.currentPage,Q,(r=E.metamaskQrCode)===null||r===void 0?void 0:r.show,G,fe.length]),Xe=se.useMemo(()=>({bodyState:E,setBodyState:L,toast:q,setToast:F}),[E,L,q,F]),nt=se.useMemo(()=>l.status!==nr.INITIALIZED,[l.status]);return f.jsx(Ep.Provider,{value:Xe,children:f.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[f.jsxs("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:ze},children:[f.jsx("div",{className:"w3a--modal-curtain"}),f.jsxs("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[nt?f.jsx(Zre,{connector:l.detailedLoaderConnector,connectorName:l.detailedLoaderConnectorName,modalStatus:l.status,onClose:y,appLogo:v}):f.jsx(f.Fragment,{children:(i=E.metamaskQrCode)!==null&&i!==void 0&&i.show?f.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[f.jsx($D,{onBackClick:()=>L(we(we({},E),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:nc.SELECTED_WALLET,selectedButton:E.metamaskQrCode.wallet}),f.jsx(FD,{qrCodeValue:l.metamaskConnectUri,isDark:I,selectedButton:E.metamaskQrCode.wallet,primaryColor:(a=E.metamaskQrCode.wallet.walletRegistryItem)===null||a===void 0?void 0:a.primaryColor,logoImage:`https://images.web3auth.io/login-${E.metamaskQrCode.wallet.name}.${E.metamaskQrCode.wallet.imgExtension}`})]}):f.jsxs(f.Fragment,{children:[l.currentPage===ou.LOGIN&&K&&l.status===nr.INITIALIZED&&f.jsx(Hie,{web3authClientId:l.web3authClientId,web3authNetwork:l.web3authNetwork,authBuildEnv:l.authBuildEnv,isModalVisible:l.modalVisibility,isDark:I,appLogo:v,showPasswordLessInput:C,showExternalWalletButton:x,showExternalWalletCount:U,showInstalledExternalWallets:O,socialLoginsConfig:M,areSocialLoginsVisible:k,isEmailPrimary:z,isExternalPrimary:P,installedExternalWalletConfig:fe,isEmailPasswordLessLoginVisible:W,isSmsPasswordLessLoginVisible:B,totalExternalWallets:Se,logoAlignment:b,buttonRadius:_,deviceDetails:T,handleSocialLoginClick:w,handleExternalWalletBtnClick:Z,handleSocialLoginHeight:Ae,handleExternalWalletClick:D}),l.currentPage===ou.CONNECT_WALLET&&!K&&l.status===nr.INITIALIZED&&f.jsx(Kre,{isDark:I,walletConnectUri:l.walletConnectUri,metamaskConnectUri:l.metamaskConnectUri,config:l.externalWalletsConfig,walletRegistry:g,allExternalButtons:ge,connectorVisibilityMap:ee,customConnectorButtons:ye,deviceDetails:T,chainNamespace:p,buttonRadius:_,handleWalletDetailsHeight:xe,onBackClick:X,handleExternalWalletClick:D})]})}),f.jsx(Vre,{privacyPolicy:A,termsOfService:N}),((o=E.multiChainSelector)===null||o===void 0?void 0:o.show)&&f.jsx($O,{uiConfig:$,isShown:E.multiChainSelector.show,onClose:()=>L(we(we({},E),{},{multiChainSelector:{show:!1,wallet:null}})),children:f.jsx(Wre,{isDark:I,wallet:E.multiChainSelector.wallet,handleExternalWalletClick:et=>{D(et),L(we(we({},E),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),((s=E.installLinks)===null||s===void 0?void 0:s.show)&&f.jsxs($O,{uiConfig:$,isShown:E.installLinks.show,onClose:()=>L(we(we({},E),{},{installLinks:{show:!1,wallet:null}})),children:[f.jsx("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:j("modal.getWallet")}),f.jsx("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:f.jsx($a,{imageId:`login-${E.installLinks.wallet.name}`,hoverImageId:`login-${E.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:E.installLinks.wallet.imgExtension})}),f.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:T.platform==="desktop"?ae:te})]})]})]}),f.jsx(Kie,{})]})})}function Wie(t){const{stateListener:e,handleSocialLoginClick:n,handleExternalWalletClick:r,handleShowExternalWallets:i,closeModal:a,appLogo:o,appName:s,chainNamespaces:u,walletRegistry:l,uiConfig:h,deviceDetails:p}=t,{widgetType:g}=h,v=se.useMemo(()=>g===Dd.EMBED,[g]),[y,w]=se.useState({externalWalletsVisibility:!1,status:nr.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:ou.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:Vd.SAPPHIRE_MAINNET,authBuildEnv:Oi.PRODUCTION});se.useEffect(()=>{w(A=>we(we({},A),{},{modalVisibility:v}))},[v]),se.useEffect(()=>{e.on("STATE_UPDATED",A=>{at.debug("state updated",A),w(N=>du(qn(N,A,{arrayMerge:(U,j)=>j})))}),e.emit("MOUNTED")},[e]);const C=A=>{const{connector:N}=A;w(O=>we(we({},O),{},{detailedLoaderConnector:N,detailedLoaderAdapterName:ZT[N]})),r&&r(A)},x=A=>{const{loginParams:N}=A;w(O=>we(we({},O),{},{detailedLoaderConnector:N.authConnection,detailedLoaderConnectorName:N.name})),n(A)},M=se.useMemo(()=>{var A,N;return y.showExternalWalletsOnly||Object.keys(((A=y.socialLoginsConfig)===null||A===void 0?void 0:A.loginMethods)||{}).length===0?!1:Object.entries(((N=y.socialLoginsConfig)===null||N===void 0?void 0:N.loginMethods)||{}).some(([U,j])=>U!==ot.EMAIL_PASSWORDLESS&&j.showOnModal!==!1)},[y]),k=se.useMemo(()=>{var A;return(A=y.socialLoginsConfig)===null||A===void 0||(A=A.loginMethods[ot.EMAIL_PASSWORDLESS])===null||A===void 0?void 0:A.showOnModal},[y.socialLoginsConfig]),z=se.useMemo(()=>{var A;return(A=y.socialLoginsConfig)===null||A===void 0||(A=A.loginMethods[ot.SMS_PASSWORDLESS])===null||A===void 0?void 0:A.showOnModal},[y.socialLoginsConfig]),P=se.useMemo(()=>{var A;return((A=y.socialLoginsConfig)===null||A===void 0||(A=A.uiConfig)===null||A===void 0?void 0:A.primaryButton)==="emailLogin"},[y.socialLoginsConfig]),K=se.useMemo(()=>{var A;return((A=y.socialLoginsConfig)===null||A===void 0||(A=A.uiConfig)===null||A===void 0?void 0:A.primaryButton)==="externalLogin"},[y.socialLoginsConfig]),W=se.useMemo(()=>k||z,[k,z]),B=se.useMemo(()=>y.hasExternalWallets||!!y.externalWalletsConfig[pt.METAMASK],[y]),D=se.useMemo(()=>(M||W||!!y.externalWalletsConfig[pt.METAMASK])&&!y.externalWalletsVisibility,[M,W,y]),$=A=>{w(N=>we(we({},N),{},{externalWalletsVisibility:A})),A&&i&&i(y.externalWalletsInitialized)},T=()=>{w(A=>we(we({},A),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:ou.LOGIN})),a()},b=()=>{y.status===nr.CONNECTED&&w(we(we({},y),{},{modalVisibility:!1,externalWalletsVisibility:!1})),y.status===nr.ERRORED&&w(we(we({},y),{},{modalVisibility:!0,status:nr.INITIALIZED}))},_=se.useMemo(()=>y.status===nr.INITIALIZED||y.status===nr.CONNECTED||y.status===nr.ERRORED,[y.status]);return se.useEffect(()=>{if(y.modalVisibility&&typeof y.externalWalletsConfig=="object"){var A;(((A=y.externalWalletsConfig[pt.WALLET_CONNECT_V2])===null||A===void 0?void 0:A.showOnModal)||!1)!==!1&&!y.walletConnectUri&&typeof r=="function"&&r({connector:pt.WALLET_CONNECT_V2})}},[y,r]),g===Dd.MODAL?f.jsx(Hne,{open:y.modalVisibility,placement:"center",padding:!1,showCloseIcon:_,onClose:T,borderRadius:h.borderRadiusType,children:y.modalVisibility&&f.jsx(ZO,{appLogo:o,appName:s,chainNamespaces:u,walletRegistry:l,showPasswordLessInput:W,showExternalWalletButton:B,handleSocialLoginClick:A=>x(A),socialLoginsConfig:y.socialLoginsConfig,areSocialLoginsVisible:M,isEmailPrimary:P,isExternalPrimary:K,showExternalWalletPage:D,handleExternalWalletBtnClick:$,modalState:y,preHandleExternalWalletClick:C,setModalState:w,onCloseLoader:b,isEmailPasswordLessLoginVisible:k,isSmsPasswordLessLoginVisible:z,uiConfig:h,deviceDetails:p})}):f.jsx(zne,{open:y.modalVisibility,padding:!1,onClose:T,borderRadius:h.borderRadiusType,children:y.modalVisibility&&f.jsx(ZO,{chainNamespaces:u,walletRegistry:l,appLogo:o,appName:s,showPasswordLessInput:W,showExternalWalletButton:B,handleSocialLoginClick:A=>x(A),socialLoginsConfig:y.socialLoginsConfig,areSocialLoginsVisible:M,isEmailPrimary:P,isExternalPrimary:K,showExternalWalletPage:D,handleExternalWalletBtnClick:$,modalState:y,preHandleExternalWalletClick:C,setModalState:w,onCloseLoader:b,isEmailPasswordLessLoginVisible:k,isSmsPasswordLessLoginVisible:z,uiConfig:h,deviceDetails:p})})}function Vie(t){const e=document.getElementById("w3a-parent-container");e&&e.remove();const n=document.createElement("section");n.classList.add("w3a-parent-container"),n.setAttribute("id","w3a-parent-container"),n.style.zIndex=t,n.style.position="relative",document.body.appendChild(n)}function Gie(t){const e=document.getElementById(t);if(!e){at.error(`Element with ID ${t} not found`);return}e.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}class Yie{constructor(e,n){if(Ne(this,"uiConfig",void 0),Ne(this,"stateEmitter",void 0),Ne(this,"chainNamespaces",void 0),Ne(this,"walletRegistry",void 0),Ne(this,"callbacks",void 0),Ne(this,"externalWalletsConfig",void 0),Ne(this,"analytics",void 0),Ne(this,"initModal",async()=>{const r={isDark:this.isDark},i=this.uiConfig.defaultLanguage||Aa.en;return i===Aa.de?yn(()=>import("./german.json-BA4x9QbI.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.ja?yn(()=>import("./japanese.json-7Mklqb6K.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.ko?yn(()=>import("./korean.json-go86i6vu.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.zh?yn(()=>import("./mandarin.json-BCFiiB7j.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.es?yn(()=>import("./spanish.json-hcJYa-HC.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.fr?yn(()=>import("./french.json-CNaRgoEZ.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.pt?yn(()=>import("./portuguese.json-Dtrng74A.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.nl?yn(()=>import("./dutch.json-BZVBI9RL.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.tr?yn(()=>import("./turkish.json-CHfdJZqr.js"),[]).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}):i===Aa.en&&yn(()=>Promise.resolve().then(()=>jre),void 0).then(a=>(rn.addResourceBundle(i,"translation",a.default),rn.changeLanguage(i))).catch(a=>{at.error(a)}),new Promise(a=>{var o,s,u;if(this.stateEmitter.once("MOUNTED",()=>(at.info("rendered"),this.setState({status:nr.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),a())),this.uiConfig.widgetType===Dd.MODAL)Vie(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===Dd.EMBED)Gie(this.uiConfig.targetId);else throw lt.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);const l=document.getElementById("w3a-parent-container");r.isDark?l.classList.add("w3a--dark"):l.classList.remove("w3a--dark"),Ek.createRoot(l).render(f.jsx(sb.Provider,{value:r,children:f.jsx(x5.Provider,{value:{analytics:this.analytics},children:f.jsx(Wie,{stateListener:this.stateEmitter,appLogo:r.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig})})}));const p=((o=this.uiConfig)===null||o===void 0||(o=o.theme)===null||o===void 0?void 0:o.primary)===Zte&&((s=this.uiConfig.theme)===null||s===void 0?void 0:s.onPrimary)===Qte;(u=this.uiConfig)!==null&&u!==void 0&&u.theme&&!p&&yn(async()=>{const{default:g}=await import("./index-B0MBAeRZ.js");return{default:g}},[]).then(({default:g})=>{const v=document.getElementById("w3a-parent-container");hW(g,v,this.uiConfig.theme)}).catch(g=>{at.error(g)})})}),Ne(this,"addSocialLogins",(r,i,a,o)=>{this.setState({socialLoginsConfig:{connector:r,loginMethods:i,loginMethodsOrder:a,uiConfig:o}}),at.info("addSocialLogins",r,i,a,o)}),Ne(this,"addWalletLogins",(r,i)=>{this.externalWalletsConfig=r;const a=!!r[pt.METAMASK];this.setState({externalWalletsConfig:r,externalWalletsInitialized:!!i.externalWalletsInitialized,showExternalWalletsOnly:!!i.showExternalWalletsOnly,externalWalletsVisibility:a?!1:!!i.externalWalletsVisibility})}),Ne(this,"open",()=>{var r,i,a;this.setState({modalVisibility:!0}),(r=this.analytics)===null||r===void 0||r.track(Nn.LOGIN_MODAL_OPENED,we(we({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys((i=this.walletRegistry)===null||i===void 0?void 0:i.default).length+Object.keys((a=this.walletRegistry)===null||a===void 0?void 0:a.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},GT(this.uiConfig)),Yte(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),Ne(this,"closeModal",()=>{var r;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),(r=this.analytics)===null||r===void 0||r.track(Nn.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),Ne(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),Ne(this,"handleShowExternalWallets",r=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:r})}),Ne(this,"handleExternalWalletClick",r=>{at.info("external wallet clicked",r);const{connector:i,chainNamespace:a}=r;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:i,loginParams:{chainNamespace:a}})}),Ne(this,"handleSocialLoginClick",r=>{var i;at.info("social login clicked",r);const{connector:a,loginParams:o}=r;(i=this.analytics)===null||i===void 0||i.track(Nn.SOCIAL_LOGIN_SELECTED,{connector:a,auth_connection:o.authConnection,auth_connection_id:o.authConnectionId,group_auth_connection_id:o.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:a,loginParams:o})}),Ne(this,"setState",r=>{this.stateEmitter.emit("STATE_UPDATED",r)}),Ne(this,"handleConnectorData",r=>{if(r.connectorName===pt.WALLET_CONNECT_V2){const i=r.data;i.uri&&this.setState({walletConnectUri:i.uri})}if(r.connectorName===pt.METAMASK){const i=r.data;i.uri&&this.setState({metamaskConnectUri:i.uri})}}),Ne(this,"subscribeCoreEvents",r=>{r.on(ht.CONNECTING,i=>{var a;if(at.info("connecting with connector",i),i?.connector===pt.WALLET_CONNECT_V2)return;const o=(a=this.externalWalletsConfig)===null||a===void 0||(a=a[pt.METAMASK])===null||a===void 0?void 0:a.isInjected;i?.connector===pt.METAMASK&&!o&&this.deviceDetails.platform==="desktop"||this.setState({status:nr.CONNECTING})}),r.on(ht.CONNECTED,i=>{at.debug("connected with connector",i),!i.reconnected&&i.loginMode===v0.MODAL?this.setState({status:nr.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"}):this.setState({status:nr.CONNECTED})}),r.on(ht.ERRORED,(i,a)=>{at.error("error",i,i.message),a!==v0.NO_MODAL&&(i.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:i.message||"modal.post-loading.something-wrong",status:nr.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:nr.INITIALIZED}))}),r.on(ht.DISCONNECTED,()=>{this.setState({status:nr.INITIALIZED,externalWalletsVisibility:!1})}),r.on(ht.CONNECTOR_DATA_UPDATED,i=>{this.handleConnectorData(i)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=vD),e.logoLight||(this.uiConfig.logoLight=gD),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=OD(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=Dd.MODAL),e.widgetType===Dd.EMBED&&!e.targetId)throw at.error("targetId is required for embed widget"),lt.invalidParams("targetId is required for embed widget");this.stateEmitter=new xc,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=n,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if(typeof window>"u")return{platform:"mobile",browser:"chrome",os:"ios"};const e=Gh.getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}}class Jie extends jee{constructor(e,n){super(e,n),Ne(this,"loginModal",void 0),Ne(this,"options",void 0),Ne(this,"modalConfig",du(Fte)),Ne(this,"onInitExternalWallets",async r=>{r.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(i=>i.name===pt.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),Ne(this,"onSocialLogin",async r=>{try{await this.connectTo(pt.AUTH,r.loginParams,v0.MODAL)}catch(i){at.error(`Error while connecting to connector: ${r.connector}`,i)}}),Ne(this,"onExternalWalletLogin",async r=>{try{var i;const a=this.getConnector(r.connector,(i=r.loginParams)===null||i===void 0?void 0:i.chainNamespace);if(a.name===pt.WALLET_CONNECT_V2){const s=this.getInitialChainIdForConnector(a);await a.connect({chainId:s.chainId})}else await this.connectTo(r.connector,r.loginParams,v0.MODAL)}catch(a){at.error(`Error while connecting to connector: ${r.connector}`,a)}}),Ne(this,"onModalVisibility",async r=>{at.debug("is login modal visible",r),this.emit(Ug.MODAL_VISIBILITY,r);const i=this.getConnector(pt.WALLET_CONNECT_V2);if(i){const a=i?.status;if(at.debug("trying refreshing wc session",r,a),r&&(a===ct.READY||a===ct.CONNECTING)){at.debug("refreshing wc session");try{const o=this.getInitialChainIdForConnector(i);i.connect({chainId:o.chainId})}catch(o){at.error("Error while disconnecting to wallet connect in core",o)}}!r&&this.status===ct.CONNECTED&&(a===ct.READY||a===ct.CONNECTING)&&(at.debug("this stops wc connector from trying to reconnect once proposal expires"),i.status=ct.READY)}}),Ne(this,"getChainNamespaces",()=>{var r;return[...new Set(((r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(i=>i.chainNamespace))||[])]}),this.options=we({},e),this.options.uiConfig||(this.options.uiConfig={logoLight:"",logoDark:""}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),at.info("modalConfig",this.modalConfig)}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:WT.WEB_MODAL,sdk_version:YT,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let r={};try{var i,a;const{signal:o}=e||{};super.checkInitRequirements();const{projectConfig:s,walletRegistry:u}=await this.getProjectAndWalletConfig();this.initUIConfig(s),super.initAccountAbstractionConfig(s),super.initChainsConfig(s),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(s),this.analytics.setGlobalProperties({team_id:s.teamId}),r=this.getInitializationTrackData();const{filteredWalletRegistry:l,disabledExternalWallets:h}=this.filterWalletRegistry(u,s);this.loginModal=new Yie(we(we({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:l,analytics:this.analytics}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility}),await To(()=>this.loginModal.initModal(),o),await To(()=>this.setupCommonJRPCProvider(),o),this.on(ht.CONNECTORS_UPDATED,({connectors:g})=>{To(()=>this.initConnectors({connectors:g,projectConfig:s,disabledExternalWallets:h}),o,()=>{var y;at.debug("init aborted"),((y=this.connectors)===null||y===void 0?void 0:y.length)>0&&super.cleanup()})}),await To(()=>super.loadConnectors({projectConfig:s,modalMode:!0}),o),await To(()=>super.initPlugins(),o);const p=this.getConnector(pt.AUTH);r=we(we({},r),{},{connectors:this.connectors.map(g=>g.name),plugins:Object.keys(this.plugins),auth_ux_mode:(p==null||(i=p.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((a=this.coreOptions.uiConfig)===null||a===void 0?void 0:a.uxMode)}),this.analytics.track(Nn.SDK_INITIALIZATION_COMPLETED,we(we({},r),{},{duration:Date.now()-n}))}catch(o){if(o instanceof DOMException&&o.name==="AbortError")return;throw this.analytics.track(Nn.SDK_INITIALIZATION_FAILED,we(we(we({},r),Rd(o)),{},{duration:Date.now()-n})),at.error("Failed to initialize modal",o),o}}async connect(){if(!this.loginModal)throw lt.notReady("Login modal is not initialized");return this.connectedConnectorName&&this.status===ct.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,n)=>{const r=()=>(this.removeListener(ht.ERRORED,i),this.removeListener(Ug.MODAL_VISIBILITY,a),e(this.provider)),i=o=>(this.removeListener(ht.CONNECTED,r),this.removeListener(Ug.MODAL_VISIBILITY,a),n(o)),a=o=>{if(!o&&this.status!==ct.CONNECTED)return this.removeListener(ht.CONNECTED,r),this.removeListener(ht.ERRORED,i),n(new Error("User closed the modal"))};this.once(ht.CONNECTED,r),this.once(ht.ERRORED,i),this.once(Ug.MODAL_VISIBILITY,a)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=qn(du(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=OD(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light");const n=qn.all([e.loginModal||{},this.options.uiConfig],{arrayMerge:(s,u)=>u});this.options.uiConfig=we(we({},n),{},{logoLight:n.logoLight||"",logoDark:n.logoDark||""});const r=e.embeddedWalletAuth.filter(s=>s.isDefault).map(s=>s.authConnection),i=[...this.options.uiConfig.loginMethodsOrder||[],...r],a=[],o=new Set;for(const s of i)o.has(s)||(o.add(s),a.push(s));this.options.uiConfig.loginMethodsOrder=a}getInitializationTrackData(){var e,n,r,i,a,o,s,u,l,h,p,g,v,y,w,C,x;return we(we({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:(e=this.modalConfig)===null||e===void 0?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys(((n=this.modalConfig)===null||n===void 0?void 0:n.connectors)||{}),modal_auth_connector_login_methods:Object.keys(((r=this.modalConfig)===null||r===void 0||(r=r.connectors)===null||r===void 0||(r=r[pt.AUTH])===null||r===void 0?void 0:r.loginMethods)||{}),ui_login_methods_order:(i=this.options.uiConfig)===null||i===void 0?void 0:i.loginMethodsOrder,ui_modal_z_index:(a=this.options.uiConfig)===null||a===void 0?void 0:a.modalZIndex,ui_display_errors_on_modal:(o=this.options.uiConfig)===null||o===void 0?void 0:o.displayErrorsOnModal,ui_login_grid_col:(s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol,ui_primary_button:(u=this.options.uiConfig)===null||u===void 0?void 0:u.primaryButton,ui_modal_widget_type:(l=this.options.uiConfig)===null||l===void 0?void 0:l.widgetType,ui_modal_target_id_used:!!(!((h=this.options.uiConfig)===null||h===void 0)&&h.targetId),ui_modal_logo_alignment:(p=this.options.uiConfig)===null||p===void 0?void 0:p.logoAlignment,ui_modal_border_radius_type:(g=this.options.uiConfig)===null||g===void 0?void 0:g.borderRadiusType,ui_modal_button_radius_type:(v=this.options.uiConfig)===null||v===void 0?void 0:v.buttonRadiusType,ui_modal_sign_in_methods:(y=this.options.uiConfig)===null||y===void 0?void 0:y.signInMethods,ui_modal_add_previous_login_hint:(w=this.options.uiConfig)===null||w===void 0?void 0:w.addPreviousLoginHint,ui_modal_display_installed_external_wallets:(C=this.options.uiConfig)===null||C===void 0?void 0:C.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:(x=this.options.uiConfig)===null||x===void 0?void 0:x.displayExternalWalletsCount})}filterWalletRegistry(e,n){const{disableAllRecommendedWallets:r,disableAllOtherWallets:i,disabledWallets:a}=n.externalWalletAuth||{},o=new Set(a||[]);r&&Object.keys(e.default).forEach(u=>o.add(u)),i&&Object.keys(e.others).forEach(u=>o.add(u)),o.delete(pt.METAMASK);const s=du(e);return o.forEach(u=>{delete s.default[u],delete s.others[u]}),{disabledExternalWallets:o,filteredWalletRegistry:s}}async getProjectAndWalletConfig(){var e,n;const[r,i]=await Promise.allSettled([VT({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:(e=this.options.accountAbstractionConfig)===null||e===void 0?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),PY(qte)]);if(r.status==="rejected"){const u=await Q4(r.reason);throw at.error("Failed to fetch project configurations",u),lt.notReady("failed to fetch project configurations",u)}const a=r.value;let o={others:{},default:{}};return!!a.externalWalletAuth&&!((n=this.modalConfig)!==null&&n!==void 0&&n.hideWalletDiscovery)&&(i.status==="fulfilled"?o=i.value:at.error("Failed to fetch wallet registry",i.reason)),{projectConfig:a,walletRegistry:o}}async initConnectors({connectors:e,projectConfig:n,disabledExternalWallets:r}){const i=await this.filterConnectors({projectConfig:n,disabledExternalWallets:r}),{hasInAppConnectors:a,hasExternalConnectors:o}=await this.checkConnectorAvailability(i),s=e.filter(u=>i.includes(u.name));await this.initInAppAndCachedConnectors(s),o&&(a?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(s.filter(u=>u.type===_o.EXTERNAL&&u.name!==pt.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(s.filter(u=>u.type===_o.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===ct.NOT_READY&&(this.status=ct.READY,this.emit(ht.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:n}){var r;const i={},a=new Map;for(const h of e.embeddedWalletAuth||[]){const{isDefault:p,authConnection:g,groupedAuthConnectionId:v,authConnectionId:y}=h;p&&(i[g]={name:Hte[g],authConnection:g,authConnectionId:y,groupedAuthConnectionId:v,extraLoginOptions:h.jwtParameters,isDefault:!0,showOnModal:!0}),a.set(v||y,h)}const o={[pt.AUTH]:{label:pt.AUTH,loginMethods:i}};(r=this.modalConfig)!==null&&r!==void 0&&(r=r.connectors)!==null&&r!==void 0&&r[pt.AUTH]&&(this.modalConfig.connectors[pt.AUTH].loginMethods||(this.modalConfig.connectors[pt.AUTH].loginMethods={}));const s=new Set(g4);return Object.keys(this.modalConfig.connectors[pt.AUTH].loginMethods).forEach(h=>{const p=this.modalConfig.connectors[pt.AUTH].loginMethods[h],{authConnectionId:g,groupedAuthConnectionId:v}=p;if(!s.has(h))throw lt.invalidParams(`Invalid auth connection: ${h}`);if(v||g){if(!a.has(v||g))throw lt.invalidParams(`Invalid auth connection config, authConnection: ${h}. Missing AuthConnectionConfig from the dashboard.`);const y=a.get(v||g);this.modalConfig.connectors[pt.AUTH].loginMethods[h]={authConnection:y.authConnection,authConnectionId:y.authConnectionId,groupedAuthConnectionId:y.groupedAuthConnectionId,isDefault:y.isDefault||!1,extraLoginOptions:we(we({},y.jwtParameters),p.extraLoginOptions)}}}),this.modalConfig.connectors=qn(o,du(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(h=>h.name)])].map(h=>{var p,g,v;const y={label:ZT[h]||h.split("-").map(b5).join(" "),showOnModal:!0};this.modalConfig.connectors[h]=we(we({},y),((p=this.modalConfig)===null||p===void 0||(p=p.connectors)===null||p===void 0?void 0:p[h])||{});const w=this.getConnector(h);at.debug("connector config",h,(g=this.modalConfig.connectors)===null||g===void 0||(g=g[h])===null||g===void 0?void 0:g.showOnModal,w);const C=(v=this.modalConfig.connectors)===null||v===void 0?void 0:v[h];if(!w){if(C.showOnModal)throw lt.invalidParams(`Connector ${h} is not configured`);return}if(!C.showOnModal)return;const x=!!e.externalWalletAuth;if(!(w.type===_o.EXTERNAL&&w.name!==pt.METAMASK&&(!x||n.has(h)))){if(h===pt.WALLET_CONNECT_V2){var M;if(!x||(M=this.modalConfig)!==null&&M!==void 0&&M.hideWalletDiscovery)return}return this.modalConfig.connectors[h]=C,h}}).filter(h=>h!==void 0)}async checkConnectorAvailability(e){const n=this.connectors.some(i=>{var a,o;return i.type!==_o.IN_APP||((a=this.modalConfig.connectors)===null||a===void 0||(a=a[i.name])===null||a===void 0?void 0:a.showOnModal)!==!0?!1:!!(!((o=this.modalConfig.connectors)!==null&&o!==void 0&&(o=o[i.name])!==null&&o!==void 0&&o.loginMethods)||Object.values(this.modalConfig.connectors[i.name].loginMethods).some(s=>s.showOnModal))});at.debug(n,this.connectors,e,"hasInAppWallets");const r=e.some(i=>{var a,o;return i===pt.WALLET_CONNECT_V2?!0:((a=this.getConnector(i))===null||a===void 0?void 0:a.type)===_o.EXTERNAL&&((o=this.modalConfig.connectors)===null||o===void 0||(o=o[i])===null||o===void 0?void 0:o.showOnModal)});return{hasInAppConnectors:n,hasExternalConnectors:r}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async n=>{const r=n.name;try{if(n.status!==ct.NOT_READY||this.cachedConnector!==r&&n.type===_o.EXTERNAL)return;this.subscribeToConnectorEvents(n);const u=this.getInitialChainIdForConnector(n),l=super.checkIfAutoConnect(n);if(await n.init({autoConnect:l,chainId:u.chainId}),n.type===_o.IN_APP){var i,a,o,s;at.info("connectorInitResults",r);const h=((i=this.modalConfig.connectors[r])===null||i===void 0?void 0:i.loginMethods)||{};this.loginModal.addSocialLogins(r,h,((a=this.options.uiConfig)===null||a===void 0?void 0:a.loginMethodsOrder)||g4,we(we({},this.options.uiConfig),{},{loginGridCol:((o=this.options.uiConfig)===null||o===void 0?void 0:o.loginGridCol)||3,primaryButton:((s=this.options.uiConfig)===null||s===void 0?void 0:s.primaryButton)||"socialLogin"}))}}catch(u){at.error(u,"error while initializing connector ",r)}}))}async initExternalConnectors(e,n){const r={},i={};e.forEach(async a=>{const o=a.name;if(at.debug("init external wallet",this.cachedConnector,o,a.status),i[o]||(i[o]=new Set),a.connectorNamespace===lc.MULTICHAIN?this.getChainNamespaces().forEach(s=>i[o].add(s)):i[o].add(a.connectorNamespace),a.status===ct.NOT_READY&&this.cachedConnector!==o)try{this.subscribeToConnectorEvents(a);const s=this.getInitialChainIdForConnector(a);await a.init({autoConnect:this.cachedConnector===o,chainId:s.chainId})}catch(s){at.error(s,"error while initializing connector",o)}if([ct.NOT_READY,ct.READY,ct.CONNECTING,ct.CONNECTED].includes(a.status)){const s=this.modalConfig.connectors[o];r[o]=we(we({},s),{},{isInjected:a.isInjected,icon:a.icon,chainNamespaces:Array.from(i[o])}),this.loginModal.addWalletLogins(r,{showExternalWalletsOnly:!!n.showExternalWalletsOnly,externalWalletsVisibility:!!n.externalWalletsVisibility,externalWalletsInitialized:!!n.externalWalletsInitialized})}})}}const S5=se.createContext(null);function Zie(t){const{children:e,config:n,initialState:r}=t,{web3AuthOptions:i}=n,[a,o]=se.useState(!1),[s,u]=se.useState(null),[l,h]=se.useState(null),[p,g]=se.useState(!1),[v,y]=se.useState(!1),w=se.useMemo(()=>(h(null),new Jie(i,r)),[i,r]),[C,x]=se.useState(w.status===ct.CONNECTED),[M,k]=se.useState(w.status),z=se.useCallback(K=>{if(!w)throw lt.notReady();return w.getPlugin(K)},[w]);se.useEffect(()=>{const K=new AbortController;async function W(){try{u(null),o(!0),w.setAnalyticsProperties({integration_type:KT.REACT_HOOKS}),await w.init({signal:K.signal})}catch(B){u(B)}finally{o(!1)}}return w&&W(),()=>{K.abort()}},[w,n]),se.useEffect(()=>{const K=()=>k(w.status),W=()=>{k(w.status),g(!0)},B=A=>{k(w.status),w.status===ct.CONNECTED&&(g(!0),x(!0),h(A.provider))},D=()=>{k(w.status),x(!1),h(null)},$=()=>{k(w.status)},T=()=>{k(w.status)},b=()=>{k(w.status),x(!1),h(null)},_=A=>{typeof A=="boolean"&&y(A)};return w&&(k(w.status),w.on(ht.NOT_READY,K),w.on(ht.READY,W),w.on(ht.CONNECTED,B),w.on(ht.DISCONNECTED,D),w.on(ht.CONNECTING,$),w.on(ht.ERRORED,T),w.on(ht.REHYDRATION_ERROR,b),w.on(ht.MFA_ENABLED,_)),()=>{w&&(w.off(ht.NOT_READY,K),w.off(ht.READY,W),w.off(ht.CONNECTED,B),w.off(ht.DISCONNECTED,D),w.off(ht.CONNECTING,$),w.off(ht.ERRORED,T),w.off(ht.REHYDRATION_ERROR,b),w.off(ht.MFA_ENABLED,_),w.cleanup())}},[w]);const P=se.useMemo(()=>({web3Auth:w,isConnected:C,isInitialized:p,provider:l,status:M,isInitializing:a,initError:s,isMFAEnabled:v,getPlugin:z,setIsMFAEnabled:y}),[w,C,v,y,p,l,M,z,a,s]);return se.createElement(S5.Provider,{value:P},e)}const lb=()=>{const t=se.useContext(S5);if(!t)throw lt.fromCode(1e3,"usage of useWeb3Auth not wrapped in `Web3AuthContextProvider`.");return t},ZD=()=>{const{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:a,web3Auth:o,getPlugin:s}=lb();return{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:a,web3Auth:o,getPlugin:s}},QD=()=>{const{web3Auth:t,isConnected:e}=lb(),[n,r]=se.useState(!1),[i,a]=se.useState(null),[o,s]=se.useState(null);se.useEffect(()=>{t&&(!e&&o&&s(null),e&&!o&&s(t.connectedConnectorName))},[e,o,t]);const u=se.useCallback(async()=>{r(!0),a(null);try{const h=await t.connect();return h&&s(t.connectedConnectorName),h}catch(h){a(h)}finally{r(!1)}},[t]),l=se.useCallback(async(h,p)=>{r(!0),a(null);try{const g=await t.connectTo(h,p);return g&&s(t.connectedConnectorName),g}catch(g){a(g)}finally{r(!1)}},[t]);return{isConnected:e,loading:n,error:i,connectorName:o,connect:u,connectTo:l}},XD=()=>{const{web3Auth:t}=lb(),[e,n]=se.useState(!1),[r,i]=se.useState(null),a=se.useCallback(async o=>{n(!0),i(null);try{await t.logout(o)}catch(s){i(s)}finally{n(!1)}},[t]);return{loading:e,error:r,disconnect:a}},Qie=()=>{const{web3Auth:t,isConnected:e,isMFAEnabled:n,setIsMFAEnabled:r}=lb(),[i,a]=se.useState(null),[o,s]=se.useState(!1),[u,l]=se.useState(null),h=se.useCallback(async()=>{s(!0),l(null);try{const p=await t.getUserInfo();return a(p),p}catch(p){l(p)}finally{s(!1)}},[t]);return se.useEffect(()=>{e&&!i&&(async()=>{const g=await h();a(g),r(g?.isMfaEnabled||!1)})(),!e&&i&&(a(null),r(!1))},[e,i,h,r]),{loading:o,error:u,userInfo:i,isMFAEnabled:n,getUserInfo:h}};function Xie({config:t,initialState:e,children:n}){const r=se.createElement(Ute,{context:S5},n);return se.createElement(Zie,{config:t,initialState:e},r)}const Cv="2.19.0",eae=()=>`@wagmi/core@${Cv}`;var eB=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},vy,tB;let _5=class A4 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return eae()}constructor(e,n={}){super(),vy.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof A4?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof A4&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return eB(this,vy,"m",tB).call(this,this,e)}};vy=new WeakSet,tB=function t(e,n){return n?.(e)?e:e.cause?eB(this,vy,"m",t).call(this,e.cause,n):e};class j4 extends _5{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}function nB(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,i=r?.[0],a=t.chains.find(s=>s.id===n?.chainId),o=t.state.status;switch(o){case"connected":return{address:i,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function yy(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yy(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(a&&!yy(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}let H2=!1;async function rB(t,e={}){if(H2)return[];H2=!0,t.setState(l=>({...l,status:l.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const l of e.connectors){let h;typeof l=="function"?h=t._internal.connectors.setup(l):h=l,n.push(h)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,l]of t.state.connections)i[l.connector.id]=1;r&&(i[r]=0);const a=Object.keys(i).length>0?[...n].sort((l,h)=>(i[l.id]??10)-(i[h.id]??10)):n;let o=!1;const s=[],u=[];for(const l of a){const h=await l.getProvider().catch(()=>{});if(!h||u.some(v=>v===h)||!await l.isAuthorized())continue;const g=await l.connect({isReconnecting:!0}).catch(()=>null);g&&(l.emitter.off("connect",t._internal.events.connect),l.emitter.on("change",t._internal.events.change),l.emitter.on("disconnect",t._internal.events.disconnect),t.setState(v=>{const y=new Map(o?v.connections:new Map).set(l.uid,{accounts:g.accounts,chainId:g.chainId,connector:l});return{...v,current:o?v.current:l.uid,connections:y}}),s.push({accounts:g.accounts,chainId:g.chainId,connector:l}),u.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(l=>({...l,status:"connected"})):t.setState(l=>({...l,connections:new Map,current:null,status:"disconnected"}))),H2=!1,s}class Id extends _5{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function iB(t,e){const{onChange:n}=e;return t.subscribe(()=>nB(t),n,{equalityFn(r,i){const{connector:a,...o}=r,{connector:s,...u}=i;return yy(o,u)&&a?.id===s?.id&&a?.uid===s?.uid}})}cb.type="injected";function cb(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const u=t.target;if(typeof u=="function"){const l=u();if(l)return l}return typeof u=="object"?u:typeof u=="string"?{...tae[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l?.ethereum}}}let i,a,o,s;return u=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:cb.type,async setup(){const l=await this.getProvider();l?.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:h}={}){const p=await this.getProvider();if(!p)throw new Id;let g=[];if(h)g=await this.getAccounts().catch(()=>[]);else if(e)try{g=(await p.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(y=>Pg(y)),g.length>0&&(g=await this.getAccounts())}catch(v){const y=v;if(y.code===ci.code)throw new ci(y);if(y.code===fc.code)throw y}try{!g?.length&&!h&&(g=(await p.request({method:"eth_requestAccounts"})).map(w=>Pg(w))),o&&(p.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),p.on("accountsChanged",i)),a||(a=this.onChainChanged.bind(this),p.on("chainChanged",a)),s||(s=this.onDisconnect.bind(this),p.on("disconnect",s));let v=await this.getChainId();return l&&v!==l&&(v=(await this.switchChain({chainId:l}).catch(w=>{if(w.code===ci.code)throw w;return{id:v}}))?.id??v),e&&await u.storage?.removeItem(`${this.id}.disconnected`),t.target||await u.storage?.setItem("injected.connected",!0),{accounts:g,chainId:v}}catch(v){const y=v;throw y.code===ci.code?new ci(y):y.code===fc.code?new fc(y):y}},async disconnect(){const l=await this.getProvider();if(!l)throw new Id;a&&(l.removeListener("chainChanged",a),a=void 0),s&&(l.removeListener("disconnect",s),s=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await y5(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await u.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await u.storage?.removeItem("injected.connected")},async getAccounts(){const l=await this.getProvider();if(!l)throw new Id;return(await l.request({method:"eth_accounts"})).map(p=>Pg(p))},async getChainId(){const l=await this.getProvider();if(!l)throw new Id;const h=await l.request({method:"eth_chainId"});return Number(h)},async getProvider(){if(typeof window>"u")return;let l;const h=r();return typeof h.provider=="function"?l=h.provider(window):typeof h.provider=="string"?l=Nv(window,h.provider):l=h.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){try{if(e&&await u.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await u.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),v=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(g()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(g()),v))]))return!0}throw new Id}return!!(await uD(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:h}){const p=await this.getProvider();if(!p)throw new Id;const g=u.chains.find(y=>y.id===h);if(!g)throw new ju(new j4);const v=new Promise(y=>{const w=C=>{"chainId"in C&&C.chainId===h&&(u.emitter.off("change",w),y())};u.emitter.on("change",w)});try{return await Promise.all([p.request({method:"wallet_switchEthereumChain",params:[{chainId:cy(h)}]}).then(async()=>{await this.getChainId()===h&&u.emitter.emit("change",{chainId:h})}),v]),g}catch(y){const w=y;if(w.code===4902||w?.data?.originalError?.code===4902)try{const{default:C,...x}=g.blockExplorers??{};let M;l?.blockExplorerUrls?M=l.blockExplorerUrls:C&&(M=[C.url,...Object.values(x).map(P=>P.url)]);let k;l?.rpcUrls?.length?k=l.rpcUrls:k=[g.rpcUrls.default?.http[0]??""];const z={blockExplorerUrls:M,chainId:cy(h),chainName:l?.chainName??g.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??g.nativeCurrency,rpcUrls:k};return await Promise.all([p.request({method:"wallet_addEthereumChain",params:[z]}).then(async()=>{if(await this.getChainId()===h)u.emitter.emit("change",{chainId:h});else throw new ci(new Error("User rejected switch after adding network."))}),v]),g}catch(C){throw new ci(C)}throw w.code===ci.code?new ci(w):new ju(w)}},async onAccountsChanged(l){if(l.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await u.storage?.removeItem(`${this.id}.disconnected`)}else u.emitter.emit("change",{accounts:l.map(h=>Pg(h))})},onChainChanged(l){const h=Number(l);u.emitter.emit("change",{chainId:h})},async onConnect(l){const h=await this.getAccounts();if(h.length===0)return;const p=Number(l.chainId);u.emitter.emit("connect",{accounts:h,chainId:p});const g=await this.getProvider();g&&(o&&(g.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),g.on("accountsChanged",i)),a||(a=this.onChainChanged.bind(this),g.on("chainChanged",a)),s||(s=this.onDisconnect.bind(this),g.on("disconnect",s)))},async onDisconnect(l){const h=await this.getProvider();l&&l.code===1013&&h&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),h&&(a&&(h.removeListener("chainChanged",a),a=void 0),s&&(h.removeListener("disconnect",s),s=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))))}})}const tae={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:Nv(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Nv(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:Nv(t,"isPhantom")}}};function Nv(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}const nae=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,s,u)=>{let l=o;if(s){const h=u?.equalityFn||Object.is;let p=o(r.getState());l=g=>{const v=o(g);if(!h(p,v)){const y=p;s(p=v,y)}},u?.fireImmediately&&s(p,p)}return i(l)},t(e,n,r)},rae=nae;function iae(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const M4=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return M4(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return M4(r)(n)}}}},aae=(t,e)=>(n,r,i)=>{let a={storage:iae(()=>localStorage),partialize:w=>w,version:0,merge:(w,C)=>({...C,...w}),...e},o=!1;const s=new Set,u=new Set;let l=a.storage;if(!l)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return l.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,C)=>{p(w,C),h()};const g=t((...w)=>{n(...w),h()},r,i);i.getInitialState=()=>g;let v;const y=()=>{var w,C;if(!l)return;o=!1,s.forEach(M=>{var k;return M((k=r())!=null?k:g)});const x=((C=a.onRehydrateStorage)==null?void 0:C.call(a,(w=r())!=null?w:g))||void 0;return M4(l.getItem.bind(l))(a.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==a.version){if(a.migrate)return[!0,a.migrate(M.state,M.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var k;const[z,P]=M;if(v=a.merge(P,(k=r())!=null?k:g),n(v,!0),z)return h()}).then(()=>{x?.(v,void 0),v=r(),o=!0,u.forEach(M=>M(v))}).catch(M=>{x?.(void 0,M)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(l=w.storage)},clearStorage:()=>{l?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:w=>(s.add(w),()=>{s.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||y(),v||g},sae=aae,QO=t=>{let e;const n=new Set,r=(l,h)=>{const p=typeof l=="function"?l(e):l;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(v=>v(e,g))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>u,subscribe:l=>(n.add(l),()=>n.delete(l))},u=e=t(r,i,s);return s},K2=t=>t?QO(t):QO;class oae{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Tee})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function lae(t){return new oae(t)}function cae(t,e){return JSON.parse(t,(n,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(n,i)??i})}function XO(t,e){return t.slice(0,e).join(".")||"."}function ek(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function uae(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],a=[];return function(s,u){if(typeof u=="object")if(i.length){const l=ek(i,this);l===0?i[i.length]=this:(i.splice(l),a.splice(l)),a[a.length]=s;const h=ek(i,u);if(h!==0)return r?e.call(this,s,u,XO(a,h)):`[ref=${XO(a,h)}]`}else i[0]=u,a[0]=s;return n?t.call(this,s,u):u}}function dae(t,e,n,r){return JSON.stringify(t,uae((i,a)=>{let o=a;return typeof o=="bigint"&&(o={__type:"bigint",value:a.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(a.entries())}),e?.(i,o)??o},r),n??void 0)}function fae(t){const{deserialize:e=cae,key:n="wagmi",serialize:r=dae,storage:i=aB}=t;function a(o){return o instanceof Promise?o.then(s=>s).catch(()=>null):o}return{...i,key:n,async getItem(o,s){const u=i.getItem(`${n}.${o}`),l=await a(u);return l?e(l)??null:s??null},async setItem(o,s){const u=`${n}.${o}`;s===null?await a(i.removeItem(u)):await a(i.setItem(u,r(s)))},async removeItem(o){await a(i.removeItem(`${n}.${o}`))}}}const aB={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function hae(){const t=typeof window<"u"&&window.localStorage?window.localStorage:aB;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const O4=256;let Kg=O4,Wg;function pae(t=11){if(!Wg||Kg+t>O4*2){Wg="",Kg=0;for(let e=0;e<O4;e++)Wg+=(256+Math.random()*256|0).toString(16).substring(1)}return Wg.substring(Kg,Kg+++t)}function sB(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=fae({storage:hae()}),syncConnectedChain:r=!0,ssr:i=!1,...a}=t,o=typeof window<"u"&&e?Oee():void 0,s=K2(()=>a.chains),u=K2(()=>{const P=[],K=new Set;for(const W of a.connectors??[]){const B=l(W);if(P.push(B),!i&&B.rdns){const D=typeof B.rdns=="string"?[B.rdns]:B.rdns;for(const $ of D)K.add($)}}if(!i&&o){const W=o.getProviders();for(const B of W)K.has(B.info.rdns)||P.push(l(h(B)))}return P});function l(P){const K=lae(pae()),W={...P({emitter:K,chains:s.getState(),storage:n,transports:a.transports}),emitter:K,uid:K.uid};return K.on("connect",k),W.setup?.(),W}function h(P){const{info:K}=P,W=P.provider;return cb({target:{...K,id:K.rdns,provider:W}})}const p=new Map;function g(P={}){const K=P.chainId??C.getState().chainId,W=s.getState().find(D=>D.id===K);if(P.chainId&&!W)throw new j4;{const D=p.get(C.getState().chainId);if(D&&!W)return D;if(!W)throw new j4}{const D=p.get(K);if(D)return D}let B;if(a.client)B=a.client({chain:W});else{const D=W.id,$=s.getState().map(_=>_.id),T={},b=Object.entries(a);for(const[_,A]of b)if(!(_==="chains"||_==="client"||_==="connectors"||_==="transports"))if(typeof A=="object")if(D in A)T[_]=A[D];else{if($.some(O=>O in A))continue;T[_]=A}else T[_]=A;B=Mte({...T,chain:W,batch:T.batch??{multicall:!0},transport:_=>a.transports[D]({..._,connectors:u})})}return p.set(K,B),B}function v(){return{chainId:s.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let y;const w="0.0.0-canary-";Cv.startsWith(w)?y=Number.parseInt(Cv.replace(w,"")):y=Number.parseInt(Cv.split(".")[0]??"0");const C=K2(rae(n?sae(v,{migrate(P,K){if(K===y)return P;const W=v(),B=x(P,W.chainId);return{...W,chainId:B}},name:"store",partialize(P){return{connections:{__type:"Map",value:Array.from(P.connections.entries()).map(([K,W])=>{const{id:B,name:D,type:$,uid:T}=W.connector;return[K,{...W,connector:{id:B,name:D,type:$,uid:T}}]})},chainId:P.chainId,current:P.current}},merge(P,K){typeof P=="object"&&P&&"status"in P&&delete P.status;const W=x(P,K.chainId);return{...K,...P,chainId:W}},skipHydration:i,storage:n,version:y}):v));C.setState(v());function x(P,K){return P&&typeof P=="object"&&"chainId"in P&&typeof P.chainId=="number"&&s.getState().some(W=>W.id===P.chainId)?P.chainId:K}r&&C.subscribe(({connections:P,current:K})=>K?P.get(K)?.chainId:void 0,P=>{if(s.getState().some(W=>W.id===P))return C.setState(W=>({...W,chainId:P??W.chainId}))}),o?.subscribe(P=>{const K=new Set,W=new Set;for(const D of u.getState())if(K.add(D.id),D.rdns){const $=typeof D.rdns=="string"?[D.rdns]:D.rdns;for(const T of $)W.add(T)}const B=[];for(const D of P){if(W.has(D.info.rdns))continue;const $=l(h(D));K.has($.id)||B.push($)}n&&!C.persist.hasHydrated()||u.setState(D=>[...D,...B],!0)});function M(P){C.setState(K=>{const W=K.connections.get(P.uid);return W?{...K,connections:new Map(K.connections).set(P.uid,{accounts:P.accounts??W.accounts,chainId:P.chainId??W.chainId,connector:W.connector})}:K})}function k(P){C.getState().status==="connecting"||C.getState().status==="reconnecting"||C.setState(K=>{const W=u.getState().find(B=>B.uid===P.uid);return W?(W.emitter.listenerCount("connect")&&W.emitter.off("connect",M),W.emitter.listenerCount("change")||W.emitter.on("change",M),W.emitter.listenerCount("disconnect")||W.emitter.on("disconnect",z),{...K,connections:new Map(K.connections).set(P.uid,{accounts:P.accounts,chainId:P.chainId,connector:W}),current:P.uid,status:"connected"}):K})}function z(P){C.setState(K=>{const W=K.connections.get(P.uid);if(W){const D=W.connector;D.emitter.listenerCount("change")&&W.connector.emitter.off("change",M),D.emitter.listenerCount("disconnect")&&W.connector.emitter.off("disconnect",z),D.emitter.listenerCount("connect")||W.connector.emitter.on("connect",k)}if(K.connections.delete(P.uid),K.connections.size===0)return{...K,connections:new Map,current:null,status:"disconnected"};const B=K.connections.values().next().value;return{...K,connections:new Map(K.connections),current:B.connector.uid}})}return{get chains(){return s.getState()},get connectors(){return u.getState()},storage:n,getClient:g,get state(){return C.getState()},setState(P){let K;typeof P=="function"?K=P(C.getState()):K=P;const W=v();typeof K!="object"&&(K=W),Object.keys(W).some(D=>!(D in K))&&(K=W),C.setState(K,!0)},subscribe(P,K,W){return C.subscribe(P,K,W?{...W,fireImmediately:W.emitImmediately}:void 0)},_internal:{mipd:o,store:C,ssr:!!i,syncConnectedChain:r,transports:a.transports,chains:{setState(P){const K=typeof P=="function"?P(s.getState()):P;if(K.length!==0)return s.setState(K,!0)},subscribe(P){return s.subscribe(P)}},connectors:{providerDetailToConnector:h,setup:l,setState(P){return u.setState(typeof P=="function"?P(u.getState()):P,!0)},subscribe(P){return u.subscribe(P)}},events:{change:M,connect:k,disconnect:z}}}}function mae(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{const a=new Set;for(const u of i??[])if(u.rdns){const l=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const h of l)a.add(h)}const o=[],s=t._internal.mipd?.getProviders()??[];for(const u of s){if(a.has(u.info.rdns))continue;const l=t._internal.connectors.providerDetailToConnector(u),h=t._internal.connectors.setup(l);o.push(h)}return[...i,...o]})),r?rB(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function gae(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:a}=mae(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||a();const o=se.useRef(!0);return se.useEffect(()=>{if(o.current&&n._internal.ssr)return a(),()=>{o.current=!1}},[]),e}const oB=se.createContext(void 0);function vae(t){const{children:e,config:n}=t,r={value:n};return se.createElement(gae,t,se.createElement(oB.Provider,r,e))}const yae="2.16.4",bae=()=>`wagmi@${yae}`;class wae extends _5{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return bae()}}class xae extends wae{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function ub(t={}){const e=t.config??se.useContext(oB);if(!e)throw new xae;return e}var W2={exports:{}},V2={},G2={exports:{}},Y2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function Eae(){if(tk)return Y2;tk=1;var t=mf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function s(p,g){var v=g(),y=r({inst:{value:v,getSnapshot:g}}),w=y[0].inst,C=y[1];return a(function(){w.value=v,w.getSnapshot=g,u(w)&&C({inst:w})},[p,v,g]),i(function(){return u(w)&&C({inst:w}),p(function(){u(w)&&C({inst:w})})},[p]),o(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function l(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:s;return Y2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Y2}var nk;function Sae(){return nk||(nk=1,G2.exports=Eae()),G2.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function _ae(){if(rk)return V2;rk=1;var t=mf(),e=Sae();function n(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return V2.useSyncExternalStoreWithSelector=function(l,h,p,g,v){var y=a(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=s(function(){function x(K){if(!M){if(M=!0,k=K,K=g(K),v!==void 0&&w.hasValue){var W=w.value;if(v(W,K))return z=W}return z=K}if(W=z,r(k,K))return W;var B=g(K);return v!==void 0&&v(W,B)?(k=K,W):(k=K,z=B)}var M=!1,k,z,P=p===void 0?null:p;return[function(){return x(h())},P===null?void 0:function(){return x(P())}]},[h,p,g,v]);var C=i(l,y[0],y[1]);return o(function(){w.hasValue=!0,w.value=C},[C]),u(C),C},V2}var ik;function Cae(){return ik||(ik=1,W2.exports=_ae()),W2.exports}var Nae=Cae();const J2=t=>typeof t=="object"&&!Array.isArray(t);function Aae(t,e,n=e,r=yy){const i=se.useRef([]),a=Nae.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,s)=>{if(J2(o)&&J2(s)&&i.current.length){for(const u of i.current)if(!r(o[u],s[u]))return!1;return!0}return r(o,s)});return se.useMemo(()=>{if(J2(a)){const o={...a};let s={};for(const[u,l]of Object.entries(o))s={...s,[u]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(u)||i.current.push(u),l)}};return Object.defineProperties(o,s),o}return a},[a])}function jae(t={}){const e=ub(t);return Aae(n=>iB(e,{onChange:n}),()=>nB(e))}function Mae(t={}){const{onConnect:e,onDisconnect:n}=t,r=ub(t);se.useEffect(()=>iB(r,{onChange(i,a){if((a.status==="reconnecting"||a.status==="connecting"&&a.address===void 0)&&i.status==="connected"){const{address:o,addresses:s,chain:u,chainId:l,connector:h}=i,p=a.status==="reconnecting"||a.status===void 0;e?.({address:o,addresses:s,chain:u,chainId:l,connector:h,isReconnected:p})}else a.status==="connected"&&i.status==="disconnected"&&n?.()}}),[r,e,n])}var Sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},db=typeof window>"u"||"Deno"in globalThis;function La(){}function Oae(t,e){return typeof t=="function"?t(e):t}function kae(t){return typeof t=="number"&&t>=0&&t!==1/0}function Iae(t,e){return Math.max(t+(e||0)-Date.now(),0)}function k4(t,e){return typeof t=="function"?t(e):t}function Tae(t,e){return typeof t=="function"?t(e):t}function ak(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(r){if(e.queryHash!==C5(o,e.options))return!1}else if(!np(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function sk(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Mu(e.options.mutationKey)!==Mu(a))return!1}else if(!np(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function C5(t,e){return(e?.queryKeyHashFn||Mu)(t)}function Mu(t){return JSON.stringify(t,(e,n)=>I4(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function np(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>np(t[n],e[n])):!1}function lB(t,e){if(t===e)return t;const n=ok(t)&&ok(e);if(n||I4(t)&&I4(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,s=n?[]:{},u=new Set(r);let l=0;for(let h=0;h<o;h++){const p=n?h:a[h];(!n&&u.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(s[p]=void 0,l++):(s[p]=lB(t[p],e[p]),s[p]===t[p]&&t[p]!==void 0&&l++)}return i===o&&l===i?t:s}return e}function Rae(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ok(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function I4(t){if(!lk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lk(t){return Object.prototype.toString.call(t)==="[object Object]"}function Pae(t){return new Promise(e=>{setTimeout(e,t)})}function Lae(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?lB(t,e):e}function Dae(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Bae(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var N5=Symbol();function cB(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===N5?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Uae(t,e){return typeof t=="function"?t(...e):!!t}var $ae=class extends Sp{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!db&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},uB=new $ae,Fae=class extends Sp{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!db&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},by=new Fae;function qae(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function zae(t){return Math.min(1e3*2**t,3e4)}function dB(t){return(t??"online")==="online"?by.isOnline():!0}var fB=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function hB(t){let e=!1,n=0,r;const i=qae(),a=()=>i.status!=="pending",o=w=>{a()||(g(new fB(w)),t.abort?.())},s=()=>{e=!0},u=()=>{e=!1},l=()=>uB.isFocused()&&(t.networkMode==="always"||by.isOnline())&&t.canRun(),h=()=>dB(t.networkMode)&&t.canRun(),p=w=>{a()||(r?.(),i.resolve(w))},g=w=>{a()||(r?.(),i.reject(w))},v=()=>new Promise(w=>{r=C=>{(a()||l())&&w(C)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),y=()=>{if(a())return;let w;const C=n===0?t.initialPromise:void 0;try{w=C??t.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(p).catch(x=>{if(a())return;const M=t.retry??(db?0:3),k=t.retryDelay??zae,z=typeof k=="function"?k(n,x):k,P=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,x);if(e||!P){g(x);return}n++,t.onFail?.(n,x),Pae(z).then(()=>l()?void 0:v()).then(()=>{e?g(x):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:s,continueRetry:u,canStart:h,start:()=>(h()?y():v().then(y),i)}}var Hae=t=>setTimeout(t,0);function Kae(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=Hae;const a=s=>{e?t.push(s):i(()=>{n(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(u=>{n(u)})})})};return{batch:s=>{let u;e++;try{u=s()}finally{e--,e||o()}return u},batchCalls:s=>(...u)=>{a(()=>{s(...u)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Br=Kae(),pB=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kae(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(db?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Wae=class extends pB{#e;#t;#n;#r;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Gae(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Lae(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(La).catch(La):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Tae(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===N5||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>k4(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Iae(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const s=this.observers.find(u=>u.options.queryFn);s&&this.setOptions(s.options)}const n=new AbortController,r=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const s=cB(this.options,e),l=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#o=!1,this.options.persister?this.options.persister(s,l,this):s(l)},o=(()=>{const s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(s),s})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=hB({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onFail:(s,u)=>{this.#a({type:"failed",failureCount:s,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const s=await this.#i.start();if(s===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(s),this.#n.config.onSuccess?.(s,this),this.#n.config.onSettled?.(s,this.state.error,this),s}catch(s){if(s instanceof fB){if(s.silent)return this.#i.promise;if(s.revert){if(this.setState({...this.#t,fetchStatus:"idle"}),this.state.data===void 0)throw s;return this.state.data}}throw this.#a({type:"error",error:s}),this.#n.config.onError?.(s,this),this.#n.config.onSettled?.(this.state.data,s,this),s}finally{this.scheduleGc()}}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Vae(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Br.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Vae(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dB(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Gae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yae=class extends Sp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??C5(r,e);let a=this.get(i);return a||(a=new Wae({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ak(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>ak(t,n)):e}notify(t){Br.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jae=class extends pB{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||mB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=hB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Br.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function mB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zae=class extends Sp{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Jae({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Vg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Vg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Vg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Vg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Br.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>sk(e,n))}findAll(t={}){return this.getAll().filter(e=>sk(t,e))}notify(t){Br.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Br.batch(()=>Promise.all(t.map(e=>e.continue().catch(La))))}};function Vg(t){return t.options.scope?.id}function ck(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},u=0;const l=async()=>{let h=!1;const p=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},g=cB(e.options,e.fetchOptions),v=async(y,w,C)=>{if(h)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const M=(()=>{const K={client:e.client,queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};return p(K),K})(),k=await g(M),{maxPages:z}=e.options,P=C?Bae:Dae;return{pages:P(y.pages,k,z),pageParams:P(y.pageParams,w,z)}};if(i&&a.length){const y=i==="backward",w=y?Qae:uk,C={pages:a,pageParams:o},x=w(r,C);s=await v(C,x,y)}else{const y=t??a.length;do{const w=u===0?o[0]??r.initialPageParam:uk(r,s);if(u>0&&w==null)break;s=await v(s,w),u++}while(u<y)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=l}}}function uk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Qae(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Xae=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new Yae,this.#t=t.mutationCache||new Zae,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=uB.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=by.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(k4(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,o=Oae(e,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Br.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Br.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Br.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Br.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(La).catch(La)}invalidateQueries(t,e={}){return Br.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Br.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(La)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(La)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(k4(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(La).catch(La)}fetchInfiniteQuery(t){return t.behavior=ck(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(La).catch(La)}ensureInfiniteQueryData(t){return t.behavior=ck(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return by.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{np(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{np(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=C5(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===N5&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ese=class extends Sp{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Rae(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Mu(n.mutationKey)!==Mu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??mB();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Br.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function tse(t){return{mutationFn(e){return rB(t,e)},mutationKey:["reconnect"]}}var gB=se.createContext(void 0),nse=t=>{const e=se.useContext(gB);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rse=({client:t,children:e})=>(se.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(gB.Provider,{value:t,children:e}));function ise(t,e){const n=nse(),[r]=se.useState(()=>new ese(n,t));se.useEffect(()=>{r.setOptions(t)},[r,t]);const i=se.useSyncExternalStore(se.useCallback(o=>r.subscribe(Br.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=se.useCallback((o,s)=>{r.mutate(o,s).catch(La)},[r]);if(i.error&&Uae(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function ase(t={}){const{mutation:e}=t,n=ub(t),r=tse(n),{mutate:i,mutateAsync:a,...o}=ise({...e,...r});return{...o,connectors:n.connectors,reconnect:i,reconnectAsync:a}}const fb=()=>{const{connect:t,isConnected:e}=QD(),{disconnect:n}=XD();Qie();const r=ni(),i=async()=>{try{await t(),e&&r("/role-select")}catch(o){console.error("Connection failed:",o)}},a=async()=>{try{await n(),localStorage.removeItem("role"),r("/")}catch(o){console.error("Disconnection failed:",o)}};return f.jsx("nav",{className:"glass-effect border-b border-white/10 sticky top-0 z-50 transition-all duration-300",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-20",children:[f.jsxs("div",{className:"flex items-center space-x-4 fade-in",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 rounded-xl pulse-glow flex items-center justify-center",children:f.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),f.jsx("span",{className:"text-2xl font-bold gradient-text",children:"EthSure"})]}),f.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[f.jsx(Ur,{to:"/",className:"nav-link px-4 py-2 rounded-full border border-white/20 hover:border-white/40 hover:bg-white/10 transition-all duration-300",children:"Home"}),f.jsx(Ur,{to:"/about",className:"nav-link px-4 py-2 rounded-full border border-white/20 hover:border-white/40 hover:bg-white/10 transition-all duration-300",children:"About"}),f.jsx(Ur,{to:"/services",className:"nav-link px-4 py-2 rounded-full border border-white/20 hover:border-white/40 hover:bg-white/10 transition-all duration-300",children:"Services"}),f.jsx(Ur,{to:"/contact",className:"nav-link px-4 py-2 rounded-full border border-white/20 hover:border-white/40 hover:bg-white/10 transition-all duration-300",children:"Contact"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[!e&&f.jsx(Ze,{onClick:i,variant:"outline",className:"border-white/20 text-white hover:bg-white/10 hover:border-white/30 transition-all duration-300 rounded-full px-6 py-2",children:"Login"}),e&&f.jsx(Ze,{onClick:a,variant:"outline",className:"border-red-400/20 text-red-400 hover:bg-red-400/10 hover:border-red-400/30 transition-all duration-300 rounded-full px-6 py-2",children:"Logout"}),f.jsx(Ur,{to:"/signup",children:f.jsx(Ze,{className:"btn-primary px-6 py-2 rounded-full font-semibold",children:"Get Started"})})]})]})})})},sse=()=>f.jsxs("div",{className:"min-h-screen text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-blue-500/20 via-emerald-400/10 to-purple-500/20 blur-3xl"}),f.jsx(fb,{}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-24",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[f.jsxs("div",{className:"space-y-4 sm:space-y-6 text-center lg:text-left",children:[f.jsx("div",{className:"inline-flex items-center gap-2 glass text-xs uppercase tracking-wider text-gray-300 px-3 py-1 rounded-full",children:"Insurance on-chain"}),f.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-extrabold leading-tight",children:["Build trustworthy",f.jsx("span",{className:"block gradient-text",children:"decentralized claims"})]}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-2xl mx-auto lg:mx-0",children:"Transparent, secure, and efficient insurance claims powered by smart contracts."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center lg:justify-start",children:[f.jsx(Ur,{to:"/signup",children:f.jsx(Ze,{size:"lg",className:"button-pill text-lg px-8 py-4 shine",children:"Get Started"})}),f.jsx(Ur,{to:"/services",children:f.jsx(Ze,{size:"lg",variant:"outline",className:"glass text-gray-200 hover:text-white text-lg px-8 py-4",children:"Learn More"})})]})]}),f.jsxs("div",{className:"space-y-4 sm:space-y-6 order-first lg:order-last",children:[f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(fi,{className:"bg-blue-600 text-white",children:"1"}),f.jsx(At,{className:"text-white text-lg sm:text-xl",children:"Connect Wallet"})]})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300 text-sm sm:text-base",children:"Securely connect your Web3 wallet to access the platform."})})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(fi,{className:"bg-green-600 text-white",children:"2"}),f.jsx(At,{className:"text-white text-lg sm:text-xl",children:"Submit Claim"})]})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300 text-sm sm:text-base",children:"Upload documents and submit your insurance claim on-chain."})})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(fi,{className:"bg-purple-600 text-white",children:"3"}),f.jsx(At,{className:"text-white text-lg sm:text-xl",children:"Get Paid"})]})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300 text-sm sm:text-base",children:"Receive instant payments through smart contracts."})})]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[f.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Why Choose EthSure?"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Built on blockchain for transparency and trust"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"Transparent"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"All transactions and claims are recorded on the blockchain for complete transparency."})})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"Secure"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"Smart contracts ensure secure and automated claim processing without intermediaries."})})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"Fast"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"Instant claim verification and payment processing through blockchain technology."})})]})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-6 sm:mb-8",children:"Join thousands of users already using EthSure"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[f.jsx(Ur,{to:"/signup",children:f.jsx(Ze,{size:"lg",className:"button-pill text-lg px-8 py-4 shine",children:"Create Account"})}),f.jsx(Ur,{to:"/login",children:f.jsx(Ze,{size:"lg",variant:"outline",className:"glass text-gray-200 hover:text-white text-lg px-8 py-4",children:"Sign In"})})]})]})})]}),ose=()=>{const{address:t,isConnected:e}=jae();return f.jsx("div",{children:e?f.jsxs("p",{className:"text-white",children:["Connected: ",t]}):f.jsx("p",{children:"Not connected"})})},lse=({user:t,onProfileClick:e})=>f.jsx("header",{className:"glass-effect border-b border-white/10 fixed top-0 left-0 right-0 z-50 transition-all duration-300",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-20",children:[f.jsxs("div",{className:"flex items-center space-x-4 fade-in",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 rounded-xl pulse-glow flex items-center justify-center",children:f.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),f.jsx("span",{className:"text-2xl font-bold gradient-text",children:"EthSure"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("button",{onClick:e,className:"flex items-center space-x-2 glass rounded-full p-2 hover:bg-white/10 transition-all duration-300 border border-white/20 hover:border-white/40",children:f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-white text-sm font-medium",children:t?.name?t.name.split(" ").map(n=>n[0]).join("").toUpperCase():"U"})})}),f.jsx("div",{className:"text-white/60 text-sm hidden sm:block",children:t?.wallet?`${t.wallet.slice(0,6)}...${t.wallet.slice(-4)}`:"0x1234...5678"})]})]})})});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),use=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dk=t=>{const e=use(t);return e.charAt(0).toUpperCase()+e.slice(1)},vB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),dse=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=se.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},u)=>se.createElement("svg",{ref:u,...fse,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vB("lucide",i),...!a&&!dse(s)&&{"aria-hidden":"true"},...s},[...o.map(([l,h])=>se.createElement(l,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(t,e)=>{const n=se.forwardRef(({className:r,...i},a)=>se.createElement(hse,{ref:a,iconNode:e,className:vB(`lucide-${cse(dk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=dk(t),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mse=kt("arrow-left",pse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vse=kt("award",gse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Z2=kt("banknote",yse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wse=kt("bell",bse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_p=kt("briefcase",xse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Sse=kt("building-2",Ese);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ou=kt("calendar",_se);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Nse=kt("camera",Cse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jse=kt("chart-column",Ase);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rc=kt("check",Mse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ui=kt("circle-alert",Ose);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cs=kt("circle-check-big",kse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vo=kt("clock",Ise);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Rse=kt("copy",Tse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ri=kt("credit-card",Pse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wy=kt("dollar-sign",Lse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Go=kt("download",Dse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fk=kt("eye-off",Bse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fa=kt("eye",Use);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sn=kt("file-text",$se);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Q2=kt("fingerprint",Fse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Vs=kt("folder",qse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Hse=kt("grid-3x3",zse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wse=kt("history",Kse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Bu=kt("house",Vse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Yse=kt("indian-rupee",Gse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],hk=kt("key",Jse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Qse=kt("list",Zse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yB=kt("lock",Xse);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rp=kt("mail",eoe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],T4=kt("map-pin",toe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],roe=kt("menu",noe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],aoe=kt("message-square",ioe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ooe=kt("pen",soe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ip=kt("phone",loe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bB=kt("plus",coe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],doe=kt("save",uoe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hb=kt("search",foe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pk=kt("settings",hoe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],moe=kt("shield-check",poe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qt=kt("shield",goe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Bh=kt("smartphone",voe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],boe=kt("square-pen",yoe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xoe=kt("trash-2",woe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],A5=kt("trending-up",Eoe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xy=kt("upload",Soe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],R4=kt("user-check",_oe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ey=kt("user-plus",Coe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],os=kt("user",Noe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mi=kt("users",Aoe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hc=kt("wallet",joe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],us=kt("x",Moe),mk=({items:t=[],onLogout:e,topOffsetClass:n="top-16",widthClass:r="w-64",currentView:i="overview",isMobileOpen:a=!1,onMobileClose:o})=>{const[s,u]=se.useState(!1);se.useEffect(()=>{const h=setTimeout(()=>u(!0),100);return()=>clearTimeout(h)},[]);const l=f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 bg-grid opacity-20 pointer-events-none"}),f.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/10 via-transparent to-emerald-500/10 rounded-xl blur-xl opacity-50"}),f.jsx("div",{className:"md:hidden flex justify-end mb-4",children:f.jsx("button",{onClick:o,className:"p-2 rounded-lg border border-white/20 hover:border-white/40 hover:bg-white/10 transition-all duration-300",children:f.jsx(us,{className:"w-5 h-5 text-white"})})}),f.jsxs("div",{className:"flex flex-col h-full relative z-10",children:[f.jsx("nav",{className:"flex-1 space-y-3 mt-4",children:t.map((h,p)=>f.jsx("div",{className:`transform transition-all duration-500 ease-out ${s?"translate-x-0 opacity-100":"translate-x-[-20px] opacity-0"}`,style:{transitionDelay:`${(p+1)*100}ms`},children:f.jsxs("button",{onClick:()=>{h.onClick(),o?.()},className:`group w-full flex items-center space-x-3 px-4 py-3.5 rounded-xl text-white transition-all duration-300 ease-out relative overflow-hidden hover:translate-x-1 hover:scale-[1.02] hover:shadow-xl border-2 backdrop-blur-sm ${i===h.id?"border-blue-400/60 bg-gradient-to-r from-blue-500/20 to-blue-400/10 shadow-[0_8px_20px_rgba(96,165,250,0.15)]":"border-white/20 hover:border-blue-400/40 hover:bg-gradient-to-r hover:from-blue-500/10 hover:to-emerald-500/10"}`,children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-400/0 to-emerald-500/0 group-hover:from-blue-500/10 group-hover:via-blue-400/10 group-hover:to-emerald-500/10 transition-all duration-300 rounded-xl"}),f.jsxs("div",{className:"relative",children:[f.jsx(h.icon,{className:`w-5 h-5 transition-all duration-300 group-hover:scale-110 ${i===h.id?"text-blue-300":"text-gray-300 group-hover:text-blue-300"} ${i===h.id?"drop-shadow-[0_0_8px_rgba(96,165,250,0.5)]":""}`}),i===h.id&&f.jsx("div",{className:"absolute inset-0 w-5 h-5",children:f.jsx("div",{className:"absolute inset-0 bg-blue-400/30 rounded-full animate-ping"})})]}),f.jsxs("span",{className:`font-medium tracking-wide transition-all duration-300 relative ${i===h.id?"text-blue-100 font-semibold":"text-gray-200 group-hover:text-white"}`,children:[h.label,f.jsx("span",{className:`absolute bottom-[-2px] left-0 h-0.5 bg-gradient-to-r from-blue-400 to-emerald-400 transition-all duration-300 ${i===h.id?"w-full":"w-0 group-hover:w-full"}`})]}),i===h.id&&f.jsx("div",{className:"absolute right-2 w-2 h-2 bg-blue-400 rounded-full animate-pulse shadow-[0_0_8px_rgba(96,165,250,0.8)]"}),f.jsx("div",{className:"absolute inset-0 opacity-0 group-active:opacity-100 transition-opacity duration-150",children:f.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-xl animate-ping"})})]})},h.id))}),f.jsx("div",{className:`mt-auto transform transition-all duration-700 ease-out ${s?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,style:{transitionDelay:`${(t.length+1)*100}ms`},children:f.jsxs("button",{onClick:()=>{e(),o?.()},className:"group w-full flex items-center space-x-3 px-4 py-3.5 rounded-xl text-white bg-gradient-to-r from-red-500/20 to-red-600/20 border-2 border-red-500/50 hover:from-red-500/30 hover:to-red-600/30 hover:border-red-400/70 hover:shadow-[0_8px_20px_rgba(239,68,68,0.2)] transition-all duration-300 ease-out relative overflow-hidden hover:translate-x-1 hover:scale-[1.02] backdrop-blur-sm",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/0 to-red-600/0 group-hover:from-red-500/10 group-hover:to-red-600/10 transition-all duration-300 rounded-xl"}),f.jsxs("div",{className:"relative",children:[f.jsx("svg",{className:"w-5 h-5 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 text-red-300 group-hover:text-red-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),f.jsx("div",{className:"absolute inset-0 w-5 h-5",children:f.jsx("div",{className:"absolute inset-0 bg-red-400/20 rounded-full group-hover:animate-ping"})})]}),f.jsxs("span",{className:"font-medium tracking-wide text-red-100 group-hover:text-white transition-all duration-300 relative",children:["Log Out",f.jsx("span",{className:"absolute bottom-[-2px] left-0 h-0.5 bg-gradient-to-r from-red-400 to-red-500 w-0 group-hover:w-full transition-all duration-300"})]}),f.jsx("div",{className:"absolute inset-0 opacity-0 group-active:opacity-100 transition-opacity duration-150",children:f.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-xl animate-ping"})})]})})]})]});return f.jsxs(f.Fragment,{children:[f.jsx("aside",{className:`fixed left-0 ${n} z-40 h-[calc(100vh-4rem)] ${r} flex-col glass border-r border-white/10 p-4 shadow-xl hidden md:flex ${s?"animate-slideInLeft":"translate-x-[-100%] opacity-0"} transition-all duration-700 ease-out backdrop-blur-xl bg-gradient-to-b from-gray-900/80 via-gray-800/70 to-gray-900/80 before:absolute before:inset-0 before:bg-gradient-to-br before:from-blue-500/5 before:via-transparent before:to-emerald-500/5 before:pointer-events-none hover:shadow-2xl hover:shadow-blue-500/10`,children:l}),a&&f.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:o}),f.jsx("aside",{className:`fixed left-0 top-0 z-50 h-full w-72 flex-col glass border-r border-white/10 p-4 pt-24 shadow-2xl md:hidden transition-all duration-300 ease-out backdrop-blur-xl bg-gradient-to-b from-gray-900/98 via-gray-800/95 to-gray-900/98 before:absolute before:inset-0 before:bg-gradient-to-br before:from-blue-500/5 before:via-transparent before:to-emerald-500/5 before:pointer-events-none hover:shadow-3xl hover:shadow-blue-500/10 ${a?"translate-x-0":"-translate-x-full"}`,children:l})]})},Kt=D4.forwardRef(({className:t="",type:e,...n},r)=>f.jsx("input",{type:e,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t}`,ref:r,...n}));Kt.displayName="Input";const St=D4.forwardRef(({className:t="",...e},n)=>f.jsx("label",{ref:n,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t}`,...e}));St.displayName="Label";const pb=({user:t})=>{const[e,n]=se.useState("grid"),[r,i]=se.useState("all"),a=[{id:1,type:"Aadhar Card",category:"Identity",status:"verified",uploadDate:"2024-01-15",expiryDate:null,fileSize:"2.4 MB",format:"PDF",description:"Government issued identity document",icon:Qt,color:"from-blue-500/20 to-blue-600/20 border-blue-500/30",statusColor:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},{id:2,type:"PAN Card",category:"Tax",status:"verified",uploadDate:"2024-01-16",expiryDate:null,fileSize:"1.8 MB",format:"PDF",description:"Permanent Account Number for tax purposes",icon:sn,color:"from-purple-500/20 to-purple-600/20 border-purple-500/30",statusColor:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},{id:3,type:"Death Certificate",category:"Legal",status:"pending",uploadDate:"2024-02-01",expiryDate:null,fileSize:"3.2 MB",format:"PDF",description:"Official death certificate for claim processing",icon:Ui,color:"from-red-500/20 to-red-600/20 border-red-500/30",statusColor:"bg-amber-500/20 text-amber-400 border-amber-500/30"},{id:4,type:"Policy VC",category:"Verifiable Credential",status:"verified",uploadDate:"2024-01-20",expiryDate:"2025-01-20",fileSize:"1.2 MB",format:"JSON",description:"Blockchain verifiable credential for insurance policy",icon:cs,color:"from-emerald-500/20 to-emerald-600/20 border-emerald-500/30",statusColor:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},{id:5,type:"Driving License",category:"Identity",status:"expired",uploadDate:"2023-06-15",expiryDate:"2024-06-15",fileSize:"2.1 MB",format:"PDF",description:"Valid driving license for vehicle insurance",icon:Qt,color:"from-gray-500/20 to-gray-600/20 border-gray-500/30",statusColor:"bg-red-500/20 text-red-400 border-red-500/30"},{id:6,type:"Bank Statement",category:"Financial",status:"verified",uploadDate:"2024-01-25",expiryDate:null,fileSize:"4.5 MB",format:"PDF",description:"Recent bank statement for financial verification",icon:sn,color:"from-cyan-500/20 to-cyan-600/20 border-cyan-500/30",statusColor:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"}],o=y=>{const C={verified:cs,pending:Vo,expired:Ui}[y]||Vo;return f.jsx(C,{className:"w-4 h-4"})},s=a.filter(y=>r==="all"||y.status===r),u=y=>console.log("Viewing document:",y.type),l=y=>console.log("Downloading document:",y.type),h=()=>console.log("Upload new document"),p="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 px-6 py-3 rounded-xl transition-all duration-200 hover:scale-105",g="glass shine border-white/10 hover:border-cyan-400/50 hover:shadow-[0_0_30px_rgba(6,182,212,0.2)] transition-all duration-300",v="border-white/20 text-white hover:bg-white/10 transition-all duration-200";return f.jsxs("div",{className:"space-y-6 pt-20",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(sn,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Document"})," ",f.jsx("span",{className:"gradient-text",children:"Vault"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"Secure storage for all your important documents"})]})]})}),f.jsxs(Ze,{onClick:h,className:p,children:[f.jsx(xy,{className:"w-5 h-5 mr-2"})," Upload Document"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[f.jsx("div",{className:"flex flex-wrap gap-2",children:["all","verified","pending","expired"].map(y=>f.jsx("button",{onClick:()=>i(y),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 capitalize ${r===y?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10 hover:text-white"}`,children:y==="all"?"All Documents":y},y))}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ze,{variant:"ghost",size:"sm",onClick:()=>n("grid"),className:`p-2 ${e==="grid"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-white"}`,children:f.jsx(Hse,{className:"w-4 h-4"})}),f.jsx(Ze,{variant:"ghost",size:"sm",onClick:()=>n("list"),className:`p-2 ${e==="list"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-white"}`,children:f.jsx(Qse,{className:"w-4 h-4"})})]})]}),e==="grid"?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(y=>f.jsxs(Ve,{className:`${g} hover:scale-[1.02]`,children:[f.jsx(Nt,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${y.color}`,children:f.jsx(y.icon,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx(At,{className:"text-white text-lg",children:y.type}),f.jsx("p",{className:"text-gray-400 text-sm",children:y.category})]})]}),f.jsxs("span",{className:`px-3 py-1 rounded-xl text-xs font-medium border flex items-center gap-1 ${y.statusColor}`,children:[o(y.status),y.status]})]})}),f.jsxs(Ge,{className:"space-y-4",children:[f.jsx("p",{className:"text-gray-300 text-sm",children:y.description}),f.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[{label:"Size",value:y.fileSize},{label:"Format",value:y.format},{label:"Uploaded",value:new Date(y.uploadDate).toLocaleDateString()},...y.expiryDate?[{label:"Expires",value:new Date(y.expiryDate).toLocaleDateString()}]:[]].map((w,C)=>f.jsxs("div",{children:[f.jsxs("span",{className:"text-gray-400",children:[w.label,":"]}),f.jsx("p",{className:"text-white",children:w.value})]},C))}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsxs(Ze,{variant:"outline",size:"sm",onClick:()=>u(y),className:`flex-1 ${v}`,children:[f.jsx(Fa,{className:"w-4 h-4 mr-2"})," View"]}),f.jsxs(Ze,{variant:"outline",size:"sm",onClick:()=>l(y),className:`flex-1 ${v}`,children:[f.jsx(Go,{className:"w-4 h-4 mr-2"})," Download"]})]})]})]},y.id))}):f.jsx("div",{className:"space-y-4",children:s.map(y=>f.jsx(Ve,{className:g,children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${y.color}`,children:f.jsx(y.icon,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white text-lg font-semibold",children:y.type}),f.jsx("p",{className:"text-gray-400 text-sm",children:y.description})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-right text-sm",children:[f.jsxs("p",{className:"text-gray-400",children:["Category: ",f.jsx("span",{className:"text-white",children:y.category})]}),f.jsxs("p",{className:"text-gray-400",children:["Size: ",f.jsx("span",{className:"text-white",children:y.fileSize})]}),f.jsxs("p",{className:"text-gray-400",children:["Uploaded: ",f.jsx("span",{className:"text-white",children:new Date(y.uploadDate).toLocaleDateString()})]})]}),f.jsxs("span",{className:`px-3 py-1 rounded-xl text-xs font-medium border flex items-center gap-1 ${y.statusColor}`,children:[o(y.status),y.status]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>u(y),className:v,children:f.jsx(Fa,{className:"w-4 h-4"})}),f.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>l(y),className:v,children:f.jsx(Go,{className:"w-4 h-4"})})]})]})]})})},y.id))}),s.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No documents found"}),f.jsx("p",{className:"text-gray-400 mb-6",children:r==="all"?"You haven't uploaded any documents yet.":`No documents with status "${r}" found.`}),f.jsxs(Ze,{onClick:h,className:p,children:[f.jsx(xy,{className:"w-5 h-5 mr-2"})," Upload Your First Document"]})]})]})},gk=({user:t,onUpdateProfile:e,onClose:n})=>{const[r,i]=se.useState(!1),[a,o]=se.useState("personal"),[s,u]=se.useState(!1),[l,h]=se.useState(!1),[p,g]=se.useState(!1),[v,y]=se.useState({name:t?.name||"",email:t?.email||"",phone:t?.phone||"",address:t?.address||"",company:t?.company||"",department:t?.department||"",employeeId:t?.employeeId||"",licenseNumber:t?.licenseNumber||"",specialization:t?.specialization||"",experience:t?.experience||"",kycStatus:t?.kycStatus||"Pending",riskProfile:t?.riskProfile||"Medium",annualIncome:t?.annualIncome||"",occupation:t?.occupation||"",emergencyContact:t?.emergencyContact||"",emergencyPhone:t?.emergencyPhone||"",did:t?.did||"did:ethr:0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6"}),w=()=>{e?.(v),i(!1)},C=()=>{y({name:t?.name||"",email:t?.email||"",phone:t?.phone||"",address:t?.address||"",company:t?.company||"",department:t?.department||"",employeeId:t?.employeeId||"",licenseNumber:t?.licenseNumber||"",specialization:t?.specialization||"",experience:t?.experience||"",kycStatus:t?.kycStatus||"Pending",riskProfile:t?.riskProfile||"Medium",annualIncome:t?.annualIncome||"",occupation:t?.occupation||"",emergencyContact:t?.emergencyContact||"",emergencyPhone:t?.emergencyPhone||"",did:t?.did||"did:ethr:0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6"}),i(!1)},x=(D,$)=>{y(T=>({...T,[D]:$}))},M=async()=>{try{await navigator.clipboard.writeText(v.did),g(!0),setTimeout(()=>g(!1),2e3)}catch(D){console.error("Failed to copy DID:",D)}},k=()=>{const D=t?.role?.toLowerCase(),$="mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-200 hover:bg-white/10",T="text-white p-4 bg-white/5 rounded-xl mt-2 border border-white/10 hover:bg-white/10 transition-all duration-200";return D==="agent"?f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsxs(St,{className:"text-white/90 font-medium flex items-center gap-2",children:[f.jsx(Qt,{className:"w-4 h-4"}),"License Number"]}),r?f.jsx(Kt,{value:v.licenseNumber,onChange:b=>x("licenseNumber",b.target.value),className:$,placeholder:"Enter license number"}):f.jsx("p",{className:T,children:t?.licenseNumber||"Not provided"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Specialization"}),r?f.jsx(Kt,{value:v.specialization,onChange:b=>x("specialization",b.target.value),className:$,placeholder:"e.g., Health Insurance, Auto Insurance"}):f.jsx("p",{className:T,children:t?.specialization||"Not specified"})]})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Years of Experience"}),r?f.jsx(Kt,{type:"number",value:v.experience,onChange:b=>x("experience",b.target.value),className:$,placeholder:"Enter years of experience"}):f.jsxs("p",{className:T,children:[t?.experience||"Not specified"," years"]})]})]}):D==="customer"?f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Annual Income"}),r?f.jsx(Kt,{value:v.annualIncome,onChange:b=>x("annualIncome",b.target.value),className:$,placeholder:"Enter annual income"}):f.jsx("p",{className:T,children:t?.annualIncome||"Not provided"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Occupation"}),r?f.jsx(Kt,{value:v.occupation,onChange:b=>x("occupation",b.target.value),className:$,placeholder:"Enter occupation"}):f.jsx("p",{className:T,children:t?.occupation||"Not provided"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Emergency Contact"}),r?f.jsx(Kt,{value:v.emergencyContact,onChange:b=>x("emergencyContact",b.target.value),className:$,placeholder:"Emergency contact name"}):f.jsx("p",{className:T,children:t?.emergencyContact||"Not provided"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Emergency Phone"}),r?f.jsx(Kt,{value:v.emergencyPhone,onChange:b=>x("emergencyPhone",b.target.value),className:$,placeholder:"Emergency contact phone"}):f.jsx("p",{className:T,children:t?.emergencyPhone||"Not provided"})]})]})]}):D==="company"?f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Department"}),r?f.jsx(Kt,{value:v.department,onChange:b=>x("department",b.target.value),className:$,placeholder:"Enter department"}):f.jsx("p",{className:T,children:t?.department||"Not specified"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Employee ID"}),r?f.jsx(Kt,{value:v.employeeId,onChange:b=>x("employeeId",b.target.value),className:$,placeholder:"Enter employee ID"}):f.jsx("p",{className:T,children:t?.employeeId||"Not provided"})]})]})}):null},z=D=>({verified:"text-emerald-400 bg-emerald-500/20 border-emerald-500/30",pending:"text-amber-400 bg-amber-500/20 border-amber-500/30",rejected:"text-red-400 bg-red-500/20 border-red-500/30"})[D?.toLowerCase()]||"text-gray-400 bg-gray-700/50 border-gray-600/30",P=[{id:"personal",label:"Personal",icon:os},{id:"verification",label:"Verification",icon:Qt},{id:"did",label:"DID",icon:Q2},{id:"documents",label:"DocVault",icon:sn},{id:"settings",label:"Settings",icon:pk}],K="mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-200 hover:bg-white/10",W="text-white p-4 bg-white/5 rounded-xl mt-2 border border-white/10 hover:bg-white/10 transition-all duration-200",B="glass shine border-white/10 hover:border-cyan-400/50 hover:shadow-[0_0_30px_rgba(6,182,212,0.2)] transition-all duration-300 hover:scale-[1.02]";return f.jsxs("div",{className:"text-white w-full space-y-8 pt-20",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl glass shine",children:f.jsx(os,{className:"w-8 h-8 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["Profile ",f.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Settings"})]}),f.jsx("p",{className:"text-xl text-gray-300 mt-2",children:"Manage your account information and preferences"})]})]})}),f.jsxs("div",{className:"flex items-center gap-4",children:[r?f.jsxs("div",{className:"flex gap-3",children:[f.jsxs(Ze,{onClick:w,className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-6 py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[f.jsx(doe,{className:"w-5 h-5"})," Save"]}),f.jsxs(Ze,{onClick:C,variant:"outline",className:"flex items-center gap-2 border-white/20 text-white hover:bg-white/10 px-6 py-3 rounded-xl transition-all duration-200",children:[f.jsx(us,{className:"w-5 h-5"})," Cancel"]})]}):f.jsxs(Ze,{onClick:()=>i(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 px-6 py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[f.jsx(ooe,{className:"w-5 h-5"})," Edit Profile"]}),f.jsx(Ze,{variant:"ghost",size:"sm",onClick:n,className:"text-gray-400 hover:text-white hover:bg-white/10 p-3 rounded-xl transition-all duration-200",children:f.jsx(us,{className:"w-6 h-6"})})]})]}),f.jsx("div",{className:"border-b border-white/20",children:f.jsx("div",{className:"flex space-x-8",children:P.map(D=>f.jsxs("button",{onClick:()=>o(D.id),className:`flex items-center gap-3 py-4 px-2 border-b-2 font-medium text-sm transition-all duration-200 ${a===D.id?"border-cyan-400 text-cyan-400 transform scale-105":"border-transparent text-gray-400 hover:text-white hover:border-gray-600"}`,children:[f.jsx(D.icon,{className:"w-5 h-5"})," ",D.label]},D.id))})}),f.jsxs("div",{className:"space-y-8",children:[a==="personal"&&f.jsxs("div",{className:"space-y-8",children:[f.jsxs(Ve,{className:B,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-3 text-white text-xl",children:[f.jsx(os,{className:"w-6 h-6 text-cyan-400"})," Profile Picture"]})}),f.jsxs(Ge,{className:"text-center",children:[f.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-cyan-500/20 to-purple-500/20 flex items-center justify-center mx-auto mb-4 border-2 border-white/20 hover:border-cyan-400/50 transition-all duration-300 hover:scale-105",children:f.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:t?.name?.split(" ").map(D=>D[0]).join("").toUpperCase()||"U"})}),f.jsxs(Ze,{size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10 px-6 py-2 rounded-xl transition-all duration-200 hover:scale-105",children:[f.jsx(xy,{className:"w-4 h-4 mr-2"})," Upload Photo"]})]})]}),f.jsxs(Ve,{className:B,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-3 text-white text-xl",children:[f.jsx(os,{className:"w-6 h-6 text-cyan-400"})," Basic Information"]})}),f.jsxs(Ge,{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Full Name"}),r?f.jsx(Kt,{value:v.name,onChange:D=>x("name",D.target.value),className:K,placeholder:"Enter full name"}):f.jsx("p",{className:W,children:t?.name})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Email"}),r?f.jsx(Kt,{type:"email",value:v.email,onChange:D=>x("email",D.target.value),className:K,placeholder:"Enter email"}):f.jsx("p",{className:W,children:t?.email})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Phone"}),r?f.jsx(Kt,{type:"tel",value:v.phone,onChange:D=>x("phone",D.target.value),className:K,placeholder:"Enter phone number"}):f.jsx("p",{className:W,children:t?.phone||"Not provided"})]}),f.jsxs("div",{children:[f.jsxs(St,{className:"text-white/90 font-medium flex items-center gap-2",children:[f.jsx(Qt,{className:"w-4 h-4"}),"Wallet Address"]}),f.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[f.jsx("p",{className:"text-white p-4 bg-white/5 rounded-xl font-mono text-sm flex-1 border border-white/10",children:s?t?.wallet:`${t?.wallet?.slice(0,8)}...${t?.wallet?.slice(-6)}`}),f.jsx(Ze,{variant:"ghost",size:"sm",onClick:()=>u(!s),className:"text-gray-400 hover:text-white p-3 rounded-xl transition-all duration-200",children:s?f.jsx(fk,{className:"w-5 h-5"}):f.jsx(Fa,{className:"w-5 h-5"})})]})]})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Address"}),r?f.jsx("textarea",{value:v.address,onChange:D=>x("address",D.target.value),className:"w-full mt-2 p-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-200 hover:bg-white/10 resize-none",rows:3,placeholder:"Enter address"}):f.jsx("p",{className:W,children:t?.address||"Not provided"})]}),k()]})]})]}),a==="verification"&&f.jsx("div",{className:"space-y-8",children:f.jsxs(Ve,{className:B,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-3 text-white text-xl",children:[f.jsx(Qt,{className:"w-6 h-6 text-cyan-400"})," KYC Verification"]})}),f.jsxs(Ge,{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 rounded-xl bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/20",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl bg-amber-500/20",children:f.jsx(Ui,{className:"w-6 h-6 text-amber-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white text-lg",children:"KYC Status"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Know Your Customer verification"})]})]}),f.jsx("span",{className:`px-4 py-2 rounded-xl text-sm font-medium border ${z(t?.kycStatus)}`,children:t?.kycStatus||"Pending"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Risk Profile"}),r?f.jsxs("select",{value:v.riskProfile,onChange:D=>x("riskProfile",D.target.value),className:"w-full mt-2 p-4 rounded-xl bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-200",children:[f.jsx("option",{value:"Low",className:"bg-gray-800 text-white",children:"Low Risk"}),f.jsx("option",{value:"Medium",className:"bg-gray-800 text-white",children:"Medium Risk"}),f.jsx("option",{value:"High",className:"bg-gray-800 text-white",children:"High Risk"})]}):f.jsx("p",{className:W,children:t?.riskProfile||"Medium"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Verification Level"}),f.jsx("p",{className:W,children:t?.role==="Agent"?"Level 2":"Level 1"})]})]})]})]})}),a==="did"&&f.jsx("div",{className:"space-y-8",children:f.jsxs(Ve,{className:B,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-3 text-white text-xl",children:[f.jsx(Q2,{className:"w-6 h-6 text-cyan-400"})," Decentralized Identifier (DID)"]})}),f.jsxs(Ge,{className:"space-y-6",children:[f.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:"p-3 rounded-xl bg-cyan-500/20",children:f.jsx(Q2,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white text-lg",children:"Your DID"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Your unique decentralized identifier on the blockchain"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"DID Address"}),f.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[f.jsx("div",{className:"flex-1 p-4 rounded-xl bg-white/5 border border-white/10 text-white font-mono text-sm break-all",children:l?v.did:`${v.did.substring(0,20)}...${v.did.substring(v.did.length-10)}`}),f.jsx(Ze,{variant:"outline",size:"sm",onClick:()=>h(!l),className:"border-white/20 text-white hover:bg-white/10 px-4 py-2 rounded-xl transition-all duration-200",children:l?f.jsx(fk,{className:"w-4 h-4"}):f.jsx(Fa,{className:"w-4 h-4"})}),f.jsx(Ze,{variant:"outline",size:"sm",onClick:M,className:"border-white/20 text-white hover:bg-white/10 px-4 py-2 rounded-xl transition-all duration-200",children:p?f.jsx(rc,{className:"w-4 h-4 text-emerald-400"}):f.jsx(Rse,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"DID Method"}),f.jsx("p",{className:"text-white p-4 bg-white/5 rounded-xl mt-2 border border-white/10",children:"Ethereum (ethr)"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Network"}),f.jsx("p",{className:"text-white p-4 bg-white/5 rounded-xl mt-2 border border-white/10",children:"Ethereum Mainnet"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Status"}),f.jsx("span",{className:"inline-block px-4 py-2 rounded-xl text-sm font-medium border bg-emerald-500/20 text-emerald-400 border-emerald-500/30 mt-2",children:"Active"})]}),f.jsxs("div",{children:[f.jsx(St,{className:"text-white/90 font-medium",children:"Created"}),f.jsx("p",{className:"text-white p-4 bg-white/5 rounded-xl mt-2 border border-white/10",children:"Jan 15, 2024"})]})]})]})]}),f.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20",children:[f.jsxs("h3",{className:"font-semibold text-white text-lg mb-4 flex items-center gap-2",children:[f.jsx(hk,{className:"w-5 h-5 text-purple-400"}),"DID Capabilities"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10",children:[f.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20",children:f.jsx(rc,{className:"w-4 h-4 text-emerald-400"})}),f.jsx("span",{className:"text-white text-sm",children:"Identity Verification"})]}),f.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10",children:[f.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20",children:f.jsx(rc,{className:"w-4 h-4 text-emerald-400"})}),f.jsx("span",{className:"text-white text-sm",children:"Document Signing"})]}),f.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10",children:[f.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20",children:f.jsx(rc,{className:"w-4 h-4 text-emerald-400"})}),f.jsx("span",{className:"text-white text-sm",children:"Credential Issuance"})]}),f.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10",children:[f.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20",children:f.jsx(rc,{className:"w-4 h-4 text-emerald-400"})}),f.jsx("span",{className:"text-white text-sm",children:"Secure Authentication"})]})]})]})]})]})}),a==="documents"&&f.jsx(pb,{user:t}),a==="settings"&&f.jsx("div",{className:"space-y-8",children:f.jsxs(Ve,{className:B,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-3 text-white text-xl",children:[f.jsx(pk,{className:"w-6 h-6 text-cyan-400"})," Account Settings"]})}),f.jsx(Ge,{className:"space-y-6",children:[{icon:yB,title:"Two-Factor Authentication",desc:"Add an extra layer of security to your account",color:"bg-blue-500/20 text-blue-400"},{icon:wse,title:"Email Notifications",desc:"Receive updates about your policies and claims",color:"bg-green-500/20 text-green-400"},{icon:hk,title:"Change Password",desc:"Update your account password",color:"bg-purple-500/20 text-purple-400"}].map((D,$)=>f.jsxs("div",{className:"flex items-center justify-between p-6 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-cyan-400/30 transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`p-3 rounded-xl ${D.color}`,children:f.jsx(D.icon,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white text-lg",children:D.title}),f.jsx("p",{className:"text-gray-400 text-sm",children:D.desc})]})]}),f.jsx(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10 transition-all duration-200 hover:scale-105",children:D.title==="Change Password"?"Change":D.title==="Two-Factor Authentication"?"Enable":"Configure"})]},$))})]})})]})]})},da=({children:t,sidebarItems:e=[],user:n={name:"John Doe",role:"Customer",email:"john.doe@example.com",wallet:"0x1234567890abcdef1234567890abcdef12345678",company:"EthSure Insurance"},widthClass:r="w-64",currentView:i="overview",fullPageView:a=!1})=>{const[o,s]=se.useState(!1),[u,l]=se.useState(!1),h=ni(),p=()=>h("/"),g=()=>s(!0),v=y=>console.log("Profile updated:",y);return f.jsxs("div",{className:"min-h-screen bg-gray-900 relative",children:[f.jsx("div",{className:"fixed inset-0 bg-grid opacity-30 pointer-events-none"}),f.jsx("div",{className:"fixed top-20 left-20 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse pointer-events-none"}),f.jsx("div",{className:"fixed bottom-20 right-20 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000 pointer-events-none"}),f.jsx("button",{onClick:()=>l(!0),className:"fixed top-28 left-4 z-30 md:hidden p-2 rounded-lg border border-white/20 hover:border-white/40 hover:bg-white/10 transition-all duration-300 bg-gray-900/95 backdrop-blur-sm",children:f.jsx(roe,{className:"w-5 h-5 text-white"})}),f.jsx(lse,{user:n,onProfileClick:g}),f.jsxs("div",{className:"hidden md:flex",children:[f.jsx(mk,{items:e,onLogout:p,widthClass:r,currentView:i,topOffsetClass:"top-20"}),!o&&!a&&f.jsx("main",{className:`flex-1 ${r==="w-76"?"ml-76":"ml-60"} p-8 lg:p-12 pt-40`,children:f.jsx("div",{className:"max-w-7xl mx-auto",children:t})}),!o&&a&&f.jsx("main",{className:`flex-1 ${r==="w-76"?"ml-76":"ml-60"} pt-32 p-8 lg:p-12 overflow-y-auto max-h-screen`,children:f.jsx("div",{className:"max-w-8xl mx-auto",children:t})}),o&&f.jsx("main",{className:`flex-1 ${r==="w-76"?"ml-76":"ml-60"} pt-32 p-8 lg:p-12 overflow-y-auto max-h-screen`,children:f.jsx("div",{className:"max-w-8xl mx-auto",children:f.jsx(gk,{user:n,onUpdateProfile:v,onClose:()=>s(!1)})})})]}),f.jsxs("div",{className:"md:hidden",children:[!o&&!a&&f.jsx("main",{className:"p-6 pt-40",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:t})}),!o&&a&&f.jsx("main",{className:"pt-40 p-6 overflow-y-auto max-h-screen",children:f.jsx("div",{className:"max-w-8xl mx-auto",children:t})}),o&&f.jsx("main",{className:"pt-40 p-6 overflow-y-auto max-h-screen",children:f.jsx("div",{className:"max-w-8xl mx-auto",children:f.jsx(gk,{user:n,onUpdateProfile:v,onClose:()=>s(!1)})})})]}),f.jsx(mk,{items:e,onLogout:p,widthClass:r,currentView:i,topOffsetClass:"top-20",isMobileOpen:u,onMobileClose:()=>l(!1)})]})},Cp={name:"Rajesh Sharma",role:"Agent",email:"rajesh.sharma@ethsure.com",wallet:"0xA12B34C56D78E90F1234567890ABCDEF12345678",company:"EthSure"},Np=t=>[{id:"overview",icon:Bu,label:"Overview",onClick:()=>t("/agent-dashboard")},{id:"customers",icon:mi,label:"Customers",onClick:()=>t("/agent/customers")},{id:"claims",icon:sn,label:"Claims",onClick:()=>t("/agent/claims")},{id:"docvault",icon:Vs,label:"DocVault",onClick:()=>t("/agent-dashboard?view=docvault")}],mb=t=>{const e=t.pathname;return e.includes("/customers")?"customers":e.includes("/claims")?"claims":e.includes("/docvault")?"docvault":"overview"},vk=[{id:1,name:"Alice Johnson",email:"alice.johnson@email.com",phone:"+1 (555) 123-4567",location:"New York, NY",policy:"Health Insurance Premium",premium:"0.15/month",status:"Active",joinDate:"2024-01-15",lastContact:"2024-01-20"},{id:2,name:"Bob Chen",email:"bob.chen@email.com",phone:"+1 (555) 234-5678",location:"San Francisco, CA",policy:"Auto Insurance Comprehensive",premium:"0.08/month",status:"Active",joinDate:"2024-02-01",lastContact:"2024-01-18"},{id:3,name:"Charlie Davis",email:"charlie.davis@email.com",phone:"+1 (555) 345-6789",location:"Chicago, IL",policy:"Property Insurance Standard",premium:"0.22/month",status:"Pending",joinDate:"2024-02-10",lastContact:"2024-02-10"},{id:4,name:"Diana Smith",email:"diana.smith@email.com",phone:"+1 (555) 456-7890",location:"Miami, FL",policy:"Life Insurance",premium:"0.12/month",status:"Active",joinDate:"2024-01-25",lastContact:"2024-01-30"},{id:5,name:"Eva Brown",email:"eva.brown@email.com",phone:"+1 (555) 567-8901",location:"Seattle, WA",policy:"Travel Insurance",premium:"0.05/month",status:"Active",joinDate:"2024-02-05",lastContact:"2024-02-08"}],Yr={inputClass:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400",selectClass:"w-full mt-2 p-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500",cardClass:"glass border-white/10",buttonClass:"bg-emerald-600 hover:bg-emerald-700"},j5=t=>{switch(t){case"Active":return"text-emerald-400 bg-emerald-500/20 border border-emerald-500/30";case"Pending":return"text-amber-400 bg-amber-500/20 border border-amber-500/30";case"Under Review":return"text-gray-300 bg-gray-700/50";case"Documentation Pending":return"text-gray-300 bg-gray-700/50";case"Ready for Approval":return"text-gray-300 bg-gray-700/50";case"Approved":return"text-gray-300 bg-gray-700/50";case"Rejected":return"text-gray-300 bg-gray-700/50";default:return"text-gray-400 bg-gray-700/50"}},M5=t=>{switch(t){case"High":return"text-gray-300 bg-gray-700/50";case"Medium":return"text-gray-300 bg-gray-700/50";case"Low":return"text-gray-300 bg-gray-700/50";default:return"text-gray-400 bg-gray-700/50"}},X2="mt-3 w-full bg-gray-800/50 border border-gray-600/50 text-white placeholder:text-gray-400 p-4 text-lg rounded-xl focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-300 hover:bg-gray-800/70 hover:border-gray-500/70 backdrop-blur-sm",yk="w-full mt-3 p-4 rounded-xl bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-300 hover:bg-white/10 hover:border-white/20 backdrop-blur-sm",bk="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 px-8 py-3 text-lg rounded-xl transition-all duration-300 hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",eE="glass shine border-white/20 hover:border-cyan-400/50 hover:shadow-[0_0_30px_rgba(6,182,212,0.2)] transition-all duration-300",Uh={pointerEvents:"auto",position:"relative",zIndex:1001},tE={position:"relative",zIndex:1e3},wk="border-white/20 text-white hover:bg-white/10 px-6 sm:px-8 py-3 text-base sm:text-lg rounded-xl transition-all duration-200 hover:scale-105 w-full sm:w-auto bg-transparent border",Ooe="bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-6 sm:px-8 py-3 text-base sm:text-lg rounded-xl transition-all duration-200 hover:scale-105 w-full sm:w-auto text-white border-none",So="bg-gray-800",P4=({user:t,isOpen:e,onSubmitKYC:n,onClose:r,withLayout:i=!1})=>{const a=ni(),o=la(),[s,u]=se.useState(1),[l,h]=se.useState({idType:"",idNumber:"",dateOfBirth:"",occupation:"",income:"",idDocument:null,addressProof:null,selfie:null}),p=()=>{n?.(l),r?.()},g=(W,B)=>h(D=>({...D,[W]:B})),v=(W,B)=>h(D=>({...D,[W]:B})),y=W=>B=>{B.preventDefault(),B.stopPropagation(),W()},w=[{id:1,title:"Personal Information",completed:s>1},{id:2,title:"Document Upload",completed:s>2},{id:3,title:"Verification",completed:!1}],C=se.useMemo(()=>l.idType&&l.idNumber&&l.dateOfBirth&&l.occupation&&l.income,[l.idType,l.idNumber,l.dateOfBirth,l.occupation,l.income]),x=se.useMemo(()=>l.idDocument&&l.addressProof&&l.selfie,[l.idDocument,l.addressProof,l.selfie]);if(!e)return null;const M=({title:W,icon:B,field:D,accept:$="image/*,.pdf"})=>f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg sm:text-xl font-medium text-white mb-3 sm:mb-4 flex items-center gap-2",children:[f.jsx(B,{className:"w-4 h-4 sm:w-5 sm:h-5 text-cyan-400"}),W]}),f.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 text-center hover:border-cyan-400/50 hover:bg-white/5 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg backdrop-blur-sm group",children:[f.jsx(xy,{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 text-gray-400 mx-auto mb-3 sm:mb-4 group-hover:text-cyan-400 transition-colors duration-300"}),f.jsx("p",{className:"text-gray-300 mb-2 sm:mb-3 text-base sm:text-lg",children:D==="idDocument"?"Upload your ID document (front and back)":D==="addressProof"?"Upload utility bill or bank statement":"Take a selfie holding your ID document"}),f.jsx("p",{className:"text-gray-500 text-xs sm:text-sm mb-4 sm:mb-6",children:$==="image/*"?"Accepted formats: JPG, PNG (Max 10MB)":"Accepted formats: JPG, PNG, PDF (Max 10MB)"}),f.jsx("input",{type:"file",accept:$,onChange:T=>g(D,T.target.files[0]),className:"hidden",id:D}),f.jsx("label",{htmlFor:D,className:"inline-block px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white rounded-lg sm:rounded-xl cursor-pointer transition-all duration-200 hover:scale-105 text-sm sm:text-base",children:"Choose File"}),l[D]&&f.jsxs("p",{className:"text-emerald-400 text-xs sm:text-sm mt-3 sm:mt-4 flex items-center justify-center gap-2",children:[f.jsx(rc,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l[D].name]})]})]}),k=Cp,z=Np(a),P=()=>mb(o),K=f.jsxs("div",{className:"text-white w-full space-y-6 sm:space-y-8 pt-20",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 sm:gap-6",children:[f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[f.jsx("div",{className:"p-2 sm:p-3 rounded-lg sm:rounded-xl glass shine",children:f.jsx(Qt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["Complete Your ",f.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"KYC"})]}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mt-2",children:"Verify your identity to access all features"})]})]})}),f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white hover:bg-white/10 p-2 sm:p-3 rounded-lg sm:rounded-xl transition-all duration-200",children:f.jsx(us,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),f.jsx("div",{className:"flex items-center mb-6 sm:mb-8 lg:mb-10 overflow-x-auto",children:w.map((W,B)=>f.jsxs(D4.Fragment,{children:[f.jsxs("div",{className:"flex items-center flex-shrink-0",children:[f.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl flex items-center justify-center transition-all duration-300 ${W.completed?"bg-emerald-500 shadow-lg shadow-emerald-500/30 scale-110":s===W.id?"bg-gradient-to-r from-cyan-500 to-blue-500 shadow-lg shadow-blue-500/30 scale-110":"bg-gray-700"}`,children:W.completed?f.jsx(rc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"}):f.jsx("span",{className:"text-white text-sm sm:text-lg font-bold",children:W.id})}),f.jsx("span",{className:`ml-2 sm:ml-4 text-sm sm:text-lg font-medium transition-all duration-200 ${s===W.id?"text-white scale-105":"text-gray-400"}`,children:W.title})]}),B<w.length-1&&f.jsx("div",{className:`flex-1 h-1 mx-3 sm:mx-6 rounded-full transition-all duration-300 ${W.completed?"bg-emerald-500":"bg-gray-700"} min-w-[20px]`})]},W.id))}),s===1&&f.jsxs(Ve,{className:eE,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 sm:gap-3 text-white text-xl sm:text-2xl",children:[f.jsx(os,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-cyan-400"}),"Personal Information"]})}),f.jsxs(Ge,{className:"space-y-12 sm:space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"idType",className:"text-white/90 font-medium text-lg",children:"ID Type"}),f.jsxs("select",{id:"idType",value:l.idType,onChange:W=>v("idType",W.target.value),className:yk,children:[f.jsx("option",{value:"",className:So,children:"Select ID Type"}),f.jsx("option",{value:"passport",className:So,children:"Passport"}),f.jsx("option",{value:"license",className:So,children:"Driver's License"}),f.jsx("option",{value:"national_id",className:So,children:"National ID"})]})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"idNumber",className:"text-white/90 font-medium text-lg",children:"ID Number"}),f.jsx("input",{id:"idNumber",type:"text",value:l.idNumber,onChange:W=>v("idNumber",W.target.value),className:X2,placeholder:"Enter your ID number",autoComplete:"off"})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"dateOfBirth",className:"text-white/90 font-medium text-lg",children:"Date of Birth"}),f.jsx("input",{id:"dateOfBirth",type:"date",value:l.dateOfBirth,onChange:W=>v("dateOfBirth",W.target.value),className:X2})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"occupation",className:"text-white/90 font-medium text-lg",children:"Occupation"}),f.jsx("input",{id:"occupation",type:"text",value:l.occupation,onChange:W=>v("occupation",W.target.value),className:X2,placeholder:"Enter your occupation",autoComplete:"off"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(St,{htmlFor:"income",className:"text-white/90 font-medium text-lg",children:"Annual Income Range"}),f.jsxs("select",{id:"income",value:l.income,onChange:W=>v("income",W.target.value),className:yk,children:[f.jsx("option",{value:"",className:So,children:"Select Income Range"}),f.jsx("option",{value:"0-3L",className:So,children:"0 - 3,00,000"}),f.jsx("option",{value:"3L-6L",className:So,children:"3,00,000 - 6,00,000"}),f.jsx("option",{value:"6L-12L",className:So,children:"6,00,000 - 12,00,000"}),f.jsx("option",{value:"12L+",className:So,children:"12,00,000+"})]})]})]}),f.jsx("div",{className:`rounded-xl p-4 mb-4 ${C?"bg-emerald-500/20 border border-emerald-500/30":"bg-amber-500/20 border border-amber-500/30"}`,children:f.jsx("p",{className:`text-sm ${C?"text-emerald-300":"text-amber-300"}`,children:C?" All required fields completed!":`Please fill in all required fields: ${[!l.idType&&"ID Type",!l.idNumber&&"ID Number",!l.dateOfBirth&&"Date of Birth",!l.occupation&&"Occupation",!l.income&&"Income Range"].filter(Boolean).join(", ")}`})}),f.jsx("div",{className:"flex justify-end pt-4 sm:pt-6",style:tE,children:f.jsxs("button",{onClick:y(()=>u(2)),disabled:!C,className:`${bk} w-full sm:w-auto`,style:{...Uh,cursor:C?"pointer":"not-allowed"},type:"button",children:["Next Step ",!C&&"(Fill all fields)"]})})]})]}),s===2&&f.jsxs(Ve,{className:eE,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 sm:gap-3 text-white text-xl sm:text-2xl",children:[f.jsx(sn,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-cyan-400"}),"Document Upload"]})}),f.jsxs(Ge,{className:"space-y-6 sm:space-y-8",children:[f.jsx(M,{title:"ID Document",icon:Qt,field:"idDocument"}),f.jsx(M,{title:"Address Proof",icon:sn,field:"addressProof"}),f.jsx(M,{title:"Selfie with ID",icon:Nse,field:"selfie",accept:"image/*"}),!x&&f.jsx("div",{className:"bg-amber-500/20 border border-amber-500/30 rounded-xl p-4 mb-4",children:f.jsxs("p",{className:"text-amber-300 text-sm",children:["Please upload all required documents: ",[!l.idDocument&&"ID Document",!l.addressProof&&"Address Proof",!l.selfie&&"Selfie with ID"].filter(Boolean).join(", ")]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 sm:gap-0 pt-4 sm:pt-6",style:tE,children:[f.jsx("button",{onClick:y(()=>u(1)),className:wk,style:{...Uh,cursor:"pointer"},type:"button",children:"Back"}),f.jsxs("button",{onClick:y(()=>u(3)),disabled:!x,className:`${bk} w-full sm:w-auto`,style:{...Uh,cursor:x?"pointer":"not-allowed"},type:"button",children:["Next Step ",!x&&"(Upload all files)"]})]})]})]}),s===3&&f.jsxs(Ve,{className:eE,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 sm:gap-3 text-white text-xl sm:text-2xl",children:[f.jsx(rc,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-cyan-400"}),"Review & Submit"]})}),f.jsxs(Ge,{className:"space-y-6 sm:space-y-8",children:[f.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/15 via-blue-500/10 to-purple-500/15 border border-cyan-500/30 rounded-2xl p-6 shadow-lg shadow-cyan-500/10 backdrop-blur-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 animate-pulse"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 group-hover:from-cyan-500/30 group-hover:to-blue-500/30 transition-all duration-300 shadow-lg",children:f.jsx(Ui,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-colors duration-300 animate-pulse"})}),f.jsx("h3",{className:"font-semibold text-cyan-300 text-xl tracking-wide",children:"Important Notice"})]}),f.jsx("p",{className:"text-cyan-100 text-lg leading-relaxed font-medium mb-3",children:"Please review all information carefully. KYC verification typically takes 24-48 hours to process."}),f.jsxs("div",{className:"flex items-center gap-2 text-cyan-200/80",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full animate-ping"}),f.jsx("span",{className:"text-sm font-medium",children:"Processing time may vary based on document quality"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-xl font-medium text-white mb-4",children:"Submitted Information"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-lg",children:[{label:"ID Type",value:l.idType.replace("_"," ")},{label:"ID Number",value:l.idNumber},{label:"Date of Birth",value:l.dateOfBirth},{label:"Occupation",value:l.occupation},{label:"Income Range",value:l.income,span:"md:col-span-2"}].map((W,B)=>f.jsxs("div",{className:`p-6 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-200 ${W.span||""}`,children:[f.jsxs("span",{className:"text-gray-400",children:[W.label,":"]}),f.jsx("span",{className:"text-white ml-3 capitalize font-medium",children:W.value})]},B))})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 sm:gap-0 pt-4 sm:pt-6",style:tE,children:[f.jsx("button",{onClick:y(()=>u(2)),className:wk,style:{...Uh,cursor:"pointer"},type:"button",children:"Back"}),f.jsx("button",{onClick:y(p),className:Ooe,style:{...Uh,cursor:"pointer"},type:"button",children:"Submit KYC"})]})]})]})]});return i?f.jsx(da,{sidebarItems:z,user:t||k,currentView:P(),fullPageView:!1,children:K}):K},wB={name:"John Doe",wallet:"0x742d...d8b6"},nE=t=>({Active:"text-emerald-400 bg-emerald-400/20",Pending:"text-amber-400 bg-amber-400/20",Expired:"text-red-400 bg-red-400/20",Approved:"text-emerald-400 bg-emerald-400/20","Under Review":"text-blue-400 bg-blue-400/20",Rejected:"text-red-400 bg-red-400/20",Completed:"text-gray-300 bg-gray-700/50",Verified:"text-gray-300 bg-gray-700/50"})[t]||"text-gray-400 bg-gray-700/50",koe=t=>"text-gray-300 bg-gray-700/50",Ioe=[{id:"POL-2024-001",name:"Health Insurance Plus",type:"Health",status:"Active",premium:"120",coverage:"50,000",startDate:"2024-01-15",endDate:"2025-01-15",agent:{name:"Rajesh Sharma",email:"rajesh.sharma@ethsure.com",phone:"+1 (555) 123-4567"},benefits:["Medical Coverage up to 50,000","Emergency Room Visits","Prescription Drug Coverage","Dental & Vision Care","Mental Health Services"],claims:[{id:"CLM-001",date:"2024-08-15",amount:"2,500",status:"Approved",description:"Emergency room visit"},{id:"CLM-002",date:"2024-09-02",amount:"850",status:"Under Review",description:"Prescription medication"}],documents:[{name:"Policy Document.pdf",type:"Policy",uploaded:"2024-01-15",status:"Verified"},{name:"Terms & Conditions.pdf",type:"Legal",uploaded:"2024-01-15",status:"Verified"},{name:"Coverage Details.pdf",type:"Coverage",uploaded:"2024-01-15",status:"Verified"}]}],Toe=[{name:"ID Proof.pdf",type:"Identity",uploaded:"2024-01-15",status:"Verified"},{name:"Medical Report.pdf",type:"Medical",uploaded:"2024-01-20",status:"Pending"}],Roe=[{type:"Premium Payment",amount:"$120",date:"2025-09-15",status:"Completed"},{type:"Claim Submitted",reference:"#CLM-004",date:"2025-08-02",status:"Under Review"}],Poe=[{id:"PAY-001",type:"Premium Payment",amount:"2,500",date:"Dec 15, 2023",status:"Completed",policy:"POL-2024-001"},{id:"PAY-002",type:"Premium Payment",amount:"2,500",date:"Nov 15, 2023",status:"Completed",policy:"POL-2024-001"},{id:"PAY-003",type:"Premium Payment",amount:"2,500",date:"Oct 15, 2023",status:"Completed",policy:"POL-2024-001"}],Loe=({onPayEMIClick:t,currentView:e,setCurrentView:n})=>{const r=wB,i=[{title:"Active Policies",value:"1",icon:Qt,change:"Health Insurance",color:"from-emerald-500/20 to-emerald-400/20",iconColor:"text-emerald-400"},{title:"Total Premiums",value:"9,600",icon:Ri,change:"Monthly payment",color:"from-blue-500/20 to-blue-400/20",iconColor:"text-blue-400"},{title:"Claims Submitted",value:"2",icon:sn,change:"1 pending review",color:"from-purple-500/20 to-purple-400/20",iconColor:"text-purple-400"}],a=Toe,o=Roe;return f.jsxs("div",{className:"text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-gray-500/20 via-gray-400/10 to-gray-500/20 blur-3xl"}),f.jsxs("div",{className:"relative z-10 space-y-6 pt-20",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(Qt,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["Customer ",f.jsx("span",{className:"gradient-text",children:"Dashboard"})]}),f.jsxs("p",{className:"text-xl text-gray-300",children:["Welcome back, ",r.name]})]})]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full glass border border-amber-500/30",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),f.jsx("span",{className:"text-sm text-amber-400 font-medium",children:"KYC Pending"})]}),f.jsxs(Ze,{variant:"outline",className:"flex items-center gap-2 glass",children:[f.jsx(hc,{className:"w-4 h-4"}),r.wallet]})]})]}),f.jsxs(Ve,{className:"border-cyan-500/40 bg-gradient-to-r from-cyan-500/15 via-blue-500/10 to-purple-500/15 hover:border-cyan-400/60 hover:shadow-xl hover:shadow-cyan-500/20 transition-all duration-300 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 animate-pulse"}),f.jsx(Ge,{className:"p-6 relative z-10",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 group-hover:from-cyan-500/30 group-hover:to-blue-500/30 transition-all duration-300 shadow-lg",children:f.jsx(Ui,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-colors duration-300 animate-pulse"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-cyan-300 text-lg mb-2",children:"KYC Verification Pending"}),f.jsx("p",{className:"text-cyan-100 text-base mb-3",children:"Complete your Know Your Customer verification to access all features and higher claim limits."})]}),f.jsx(Ze,{className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 hover:shadow-xl hover:shadow-cyan-500/30 transition-all duration-300",onClick:()=>n("kyc"),children:"Complete KYC"})]})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((s,u)=>f.jsx(Ve,{className:"glass shine group hover:scale-105 transition-transform duration-200",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-white/70 text-sm font-medium",children:s.title}),f.jsx("p",{className:"text-3xl font-bold text-white",children:s.value}),f.jsxs("p",{className:"text-xs text-white/60 flex items-center gap-1",children:[f.jsx(A5,{className:"w-3 h-3"}),s.change]})]}),f.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${s.color} group-hover:scale-110 transition-transform duration-200`,children:f.jsx(s.icon,{className:`w-6 h-6 ${s.iconColor}`})})]})})},u))}),f.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[f.jsx("div",{className:"xl:col-span-2",children:f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(Qt,{className:"w-5 h-5 font-bold"}),"Active Policy"]}),f.jsx(Ze,{variant:"secondary",size:"sm",children:"View All Policies"})]})}),f.jsx(Ge,{children:f.jsx("div",{className:"p-6 rounded-xl bg-gradient-to-r from-gray-500/10 to-gray-500/10 border border-gray-500/20",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-white",children:"Health Insurance Plus"}),f.jsx("p",{className:"text-white/70",children:"Policy #POL-2024-001"})]}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:[f.jsx(cs,{className:"w-4 h-4 text-emerald-400"}),f.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Active"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Agent"}),f.jsx("p",{className:"text-white font-medium",children:"Rajesh Sharma"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Next EMI"}),f.jsx("p",{className:"text-white font-medium",children:"2025-10-15  $120"})]})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx(Ze,{size:"sm",children:"View Details"}),f.jsx(Ze,{size:"sm",variant:"outline",onClick:t,children:"Pay EMI"})]})]})})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(Vs,{className:"w-5 h-5 font-bold"}),"Documents"]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-3",children:a.map((s,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-medium text-sm",children:s.name}),f.jsxs("p",{className:"text-white/60 text-xs",children:[s.type,"  ",s.uploaded]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Verified","text-gray-300 bg-gray-700/50"}`,children:s.status}),f.jsx(Ze,{size:"sm",variant:"outline",children:"View"})]})]},u))})})]}),f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(Vo,{className:"w-5 h-5 font-bold"}),"Recent Activity"]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-3",children:o.map((s,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-medium text-sm",children:s.type}),f.jsxs("p",{className:"text-white/60 text-xs",children:[s.amount&&`${s.amount}  `,s.reference&&`${s.reference}  `,s.date]})]}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Completed","text-gray-300 bg-gray-700/50"}`,children:s.status})]},u))})})]})]})]})]})]})},xB=({onBack:t})=>{const[e,n]=se.useState("card"),[r,i]=se.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",zipCode:""}),a=[{id:"card",name:"Credit/Debit Card",icon:Ri,description:"Pay with your credit or debit card",color:"from-blue-500/20 to-blue-400/20"},{id:"crypto",name:"Cryptocurrency",icon:hc,description:"Pay with Bitcoin, Ethereum, or other crypto",color:"from-purple-500/20 to-purple-400/20"},{id:"upi",name:"UPI Payment",icon:Bh,description:"Pay using UPI apps like PhonePe, Google Pay",color:"from-green-500/20 to-green-400/20"},{id:"bank",name:"Bank Transfer",icon:Z2,description:"Direct bank transfer or NEFT",color:"from-orange-500/20 to-orange-400/20"}],o=h=>{h.preventDefault(),console.log("Card payment submitted:",r)},s=()=>console.log("Crypto payment initiated"),u=()=>console.log("UPI payment initiated"),l=()=>console.log("Bank transfer initiated");return f.jsxs("div",{className:"text-white w-full space-y-8 pt-20",children:[f.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Ze,{variant:"ghost",onClick:t,className:"text-gray-400 hover:text-white hover:bg-white/10 p-2 rounded-xl transition-all duration-200",children:f.jsx(mse,{className:"w-6 h-6"})}),f.jsx("div",{className:"p-3 rounded-xl glass shine",children:f.jsx(Ri,{className:"w-8 h-8 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["Payment ",f.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Methods"})]}),f.jsx("p",{className:"text-xl text-gray-300 mt-2",children:"Choose your preferred payment method"})]})]})})}),f.jsx(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Payment Amount"}),f.jsx("p",{className:"text-4xl font-bold text-white mb-2",children:"2,500"}),f.jsx("p",{className:"text-white/60",children:"Monthly Premium Payment"})]})})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(h=>f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan cursor-pointer transition-all duration-300 ${e===h.id?"ring-2 ring-blue-400/50":""}`,onClick:()=>n(h.id),children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${h.color}`,children:f.jsx(h.icon,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:h.name}),f.jsx("p",{className:"text-white/60 text-sm",children:h.description})]}),e===h.id&&f.jsx(cs,{className:"w-6 h-6 text-blue-400"})]})})},h.id))}),e==="card"&&f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Ri,{className:"w-5 h-5 text-blue-400"}),"Credit/Debit Card Payment"]})}),f.jsx(Ge,{children:f.jsxs("form",{onSubmit:o,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(St,{htmlFor:"cardNumber",className:"text-white",children:"Card Number"}),f.jsx(Kt,{id:"cardNumber",type:"text",placeholder:"1234 5678 9012 3456",value:r.cardNumber,onChange:h=>i({...r,cardNumber:h.target.value}),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"expiryDate",className:"text-white",children:"Expiry Date"}),f.jsx(Kt,{id:"expiryDate",type:"text",placeholder:"MM/YY",value:r.expiryDate,onChange:h=>i({...r,expiryDate:h.target.value}),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"cvv",className:"text-white",children:"CVV"}),f.jsx(Kt,{id:"cvv",type:"text",placeholder:"123",value:r.cvv,onChange:h=>i({...r,cvv:h.target.value}),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"cardholderName",className:"text-white",children:"Cardholder Name"}),f.jsx(Kt,{id:"cardholderName",type:"text",placeholder:"John Doe",value:r.cardholderName,onChange:h=>i({...r,cardholderName:h.target.value}),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"zipCode",className:"text-white",children:"ZIP Code"}),f.jsx(Kt,{id:"zipCode",type:"text",placeholder:"12345",value:r.zipCode,onChange:h=>i({...r,zipCode:h.target.value}),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]})]}),f.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-white/5 border border-white/10",children:[f.jsx(Qt,{className:"w-5 h-5 text-green-400"}),f.jsx(yB,{className:"w-5 h-5 text-green-400"}),f.jsx("span",{className:"text-white/80 text-sm",children:"Your payment is secured with 256-bit SSL encryption"})]}),f.jsxs(Ze,{type:"submit",className:"w-full bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white font-medium h-12 transition-all duration-300 shadow-lg hover:shadow-xl",children:[f.jsx(Ri,{className:"w-5 h-5 mr-2"}),"Pay 2,500 Now"]})]})})]}),e==="crypto"&&f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(hc,{className:"w-5 h-5 text-purple-400"}),"Cryptocurrency Payment"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center p-6 rounded-lg bg-white/5 border border-white/10",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Pay with Cryptocurrency"}),f.jsx("p",{className:"text-white/60 mb-4",children:"Choose your preferred cryptocurrency"}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 text-center cursor-pointer hover:bg-white/10 transition-colors",children:[f.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded-full bg-orange-500/20 flex items-center justify-center",children:f.jsx("span",{className:"text-orange-400 font-bold text-sm",children:""})}),f.jsx("p",{className:"text-white text-sm",children:"Bitcoin"})]}),f.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 text-center cursor-pointer hover:bg-white/10 transition-colors",children:[f.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded-full bg-blue-500/20 flex items-center justify-center",children:f.jsx("span",{className:"text-blue-400 font-bold text-sm",children:""})}),f.jsx("p",{className:"text-white text-sm",children:"Ethereum"})]}),f.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 text-center cursor-pointer hover:bg-white/10 transition-colors",children:[f.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded-full bg-green-500/20 flex items-center justify-center",children:f.jsx("span",{className:"text-green-400 font-bold text-sm",children:"$"})}),f.jsx("p",{className:"text-white text-sm",children:"USDC"})]})]})]}),f.jsxs(Ze,{onClick:s,className:"w-full bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white font-medium h-12 transition-all duration-300 shadow-lg hover:shadow-xl",children:[f.jsx(hc,{className:"w-5 h-5 mr-2"}),"Pay with Crypto"]})]})})]}),e==="upi"&&f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Bh,{className:"w-5 h-5 text-green-400"}),"UPI Payment"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center p-6 rounded-lg bg-white/5 border border-white/10",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"UPI Payment"}),f.jsx("p",{className:"text-white/60 mb-4",children:"Pay using your UPI ID or scan QR code"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 text-center",children:[f.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-blue-500/20 flex items-center justify-center",children:f.jsx(Bh,{className:"w-6 h-6 text-blue-400"})}),f.jsx("p",{className:"text-white text-sm",children:"PhonePe"})]}),f.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 text-center",children:[f.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-green-500/20 flex items-center justify-center",children:f.jsx(Bh,{className:"w-6 h-6 text-green-400"})}),f.jsx("p",{className:"text-white text-sm",children:"Google Pay"})]})]})]}),f.jsxs(Ze,{onClick:u,className:"w-full bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white font-medium h-12 transition-all duration-300 shadow-lg hover:shadow-xl",children:[f.jsx(Bh,{className:"w-5 h-5 mr-2"}),"Pay with UPI"]})]})})]}),e==="bank"&&f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Z2,{className:"w-5 h-5 text-orange-400"}),"Bank Transfer"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-6 rounded-lg bg-white/5 border border-white/10",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Bank Transfer Details"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-white/60",children:"Bank Name:"}),f.jsx("span",{className:"text-white",children:"EthSure Insurance Bank"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-white/60",children:"Account Number:"}),f.jsx("span",{className:"text-white",children:"1234567890"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-white/60",children:"IFSC Code:"}),f.jsx("span",{className:"text-white",children:"ESIB0001234"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-white/60",children:"Amount:"}),f.jsx("span",{className:"text-white font-semibold",children:"2,500"})]})]})]}),f.jsxs(Ze,{onClick:l,className:"w-full bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white font-medium h-12 transition-all duration-300 shadow-lg hover:shadow-xl",children:[f.jsx(Z2,{className:"w-5 h-5 mr-2"}),"Initiate Bank Transfer"]})]})})]})]})},EB=()=>{const[t,e]=se.useState(!1),n=wB,r=[{title:"Amount Due",value:"2,500",icon:Yse,change:"Monthly Premium",color:"from-emerald-500/20 to-emerald-400/20",iconColor:"text-emerald-400"},{title:"Due Date",value:"15 Jan",icon:Ou,change:"5 days remaining",color:"from-amber-500/20 to-amber-400/20",iconColor:"text-amber-400"},{title:"Policy Status",value:"Active",icon:moe,change:"Coverage Valid",color:"from-blue-500/20 to-blue-400/20",iconColor:"text-blue-400"}],i=Poe;return t?f.jsx(xB,{onBack:()=>e(!1)}):f.jsxs("div",{className:"text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-gray-500/20 via-gray-400/10 to-gray-500/20 blur-3xl"}),f.jsxs("div",{className:"relative z-10 space-y-6 pt-20",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(Ri,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["Pay ",f.jsx("span",{className:"gradient-text",children:"EMI"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"Manage your insurance premium payments"})]})]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full glass border border-amber-500/30",children:[f.jsx(Ui,{className:"w-4 h-4 text-amber-400"}),f.jsx("span",{className:"text-sm text-amber-400 font-medium",children:"Due in 5 days"})]}),f.jsxs(Ze,{variant:"outline",className:"flex items-center gap-2 glass",children:[f.jsx(hc,{className:"w-4 h-4"}),n.wallet]})]})]}),f.jsxs(Ve,{className:"border-cyan-500/40 bg-gradient-to-r from-cyan-500/15 via-blue-500/10 to-purple-500/15 hover:border-cyan-400/60 hover:shadow-xl hover:shadow-cyan-500/20 transition-all duration-300 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 animate-pulse"}),f.jsx(Ge,{className:"p-6 relative z-10",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 group-hover:from-cyan-500/30 group-hover:to-blue-500/30 transition-all duration-300 shadow-lg",children:f.jsx(Ui,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-colors duration-300 animate-pulse"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:"font-bold text-cyan-300 text-lg tracking-wide",children:"Payment Due Soon"}),f.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-cyan-500/20 border border-cyan-500/30",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full animate-ping"}),f.jsx("span",{className:"text-cyan-200 text-xs font-medium",children:"5 days left"})]})]}),f.jsxs("p",{className:"text-cyan-100 text-base leading-relaxed mb-3 font-medium",children:["Your monthly premium payment of ",f.jsx("span",{className:"font-bold text-white",children:"2,500"})," is due in 5 days. Make your payment to avoid any service interruptions."]}),f.jsxs("div",{className:"flex items-center gap-2 text-cyan-200/80",children:[f.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full animate-pulse"}),f.jsx("span",{className:"text-xs font-medium",children:"Late payments may result in coverage suspension"})]})]}),f.jsxs(Ze,{className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 hover:shadow-xl hover:shadow-cyan-500/30 transition-all duration-300 px-6 py-3 text-base font-semibold rounded-xl hover:scale-[1.02] active:scale-[0.98] shadow-lg",onClick:()=>e(!0),children:[f.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Pay Now"]})]})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-2",children:r.map((a,o)=>f.jsx(Ve,{className:"glass shine group hover:scale-[1.02] transition-all duration-300 hover:shadow-xl hover:shadow-blue-500/10",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-white/70 text-sm font-medium",children:a.title}),f.jsx("p",{className:"text-3xl font-bold text-white",children:a.value}),f.jsxs("p",{className:"text-xs text-white/60 flex items-center gap-1",children:[f.jsx(A5,{className:"w-3 h-3"}),a.change]})]}),f.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${a.color} group-hover:scale-110 transition-all duration-300 group-hover:shadow-lg`,children:f.jsx(a.icon,{className:`w-6 h-6 ${a.iconColor}`})})]})})},o))}),f.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 p-2",children:[f.jsx("div",{className:"xl:col-span-2",children:f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300 hover:scale-[1.01]",children:[f.jsx(Nt,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(At,{className:"flex items-center gap-2",children:[f.jsx(Ri,{className:"w-5 h-5"}),"Payment Options"]}),f.jsx(Ze,{variant:"secondary",size:"sm",children:"View All Options"})]})}),f.jsx(Ge,{children:f.jsx("div",{className:"p-6 rounded-xl bg-gradient-to-r from-gray-500/10 to-gray-500/10 border border-gray-500/20",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"2,500"}),f.jsx("p",{className:"text-white/70",children:"Monthly Premium Payment"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs(Ze,{className:"h-12 bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white font-medium hover:shadow-xl transition-all duration-300",onClick:()=>e(!0),children:[f.jsx(Ri,{className:"w-5 h-5 mr-2"}),"Pay Now"]}),f.jsxs(Ze,{variant:"outline",className:"h-12 border-white/20 text-white hover:bg-white/10 hover:border-white/40 hover:shadow-lg transition-all duration-300",children:[f.jsx(Ou,{className:"w-5 h-5 mr-2"}),"Schedule Payment"]})]}),f.jsxs("div",{className:"pt-4 border-t border-white/10",children:[f.jsx("h4",{className:"text-white font-medium mb-3",children:"Payment Methods"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 text-center hover:bg-white/10 hover:border-blue-400/30 transition-all duration-300 hover:scale-[1.02] group",children:[f.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded-full bg-blue-500/20 flex items-center justify-center group-hover:bg-blue-500/30 transition-colors duration-300",children:f.jsx(Ri,{className:"w-4 h-4 text-blue-400 group-hover:text-blue-300 transition-colors duration-300"})}),f.jsx("p",{className:"text-white text-sm group-hover:text-blue-100 transition-colors duration-300",children:"Credit Card"})]}),f.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 text-center hover:bg-white/10 hover:border-purple-400/30 transition-all duration-300 hover:scale-[1.02] group",children:[f.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded-full bg-purple-500/20 flex items-center justify-center group-hover:bg-purple-500/30 transition-colors duration-300",children:f.jsx(hc,{className:"w-4 h-4 text-purple-400 group-hover:text-purple-300 transition-colors duration-300"})}),f.jsx("p",{className:"text-white text-sm group-hover:text-purple-100 transition-colors duration-300",children:"Crypto Wallet"})]})]})]})]})})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2",children:[f.jsx(Wse,{className:"w-5 h-5"}),"Payment History"]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-3",children:i.map((a,o)=>f.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/20 flex items-center justify-center",children:f.jsx(cs,{className:"w-4 h-4 text-emerald-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-medium text-sm",children:a.type}),f.jsxs("p",{className:"text-white/60 text-xs",children:[a.policy,"  ",a.date]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-white font-medium text-sm",children:a.amount}),f.jsx("span",{className:"text-emerald-400 text-xs font-medium",children:"Completed"})]})]},o))})})]}),f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2",children:[f.jsx(Vo,{className:"w-5 h-5"}),"Upcoming Payments"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-white font-medium text-sm",children:"Next Payment"}),f.jsx("span",{className:"text-amber-400 text-xs font-medium",children:"Due Soon"})]}),f.jsx("p",{className:"text-white/60 text-xs",children:"Jan 15, 2024  2,500"})]}),f.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-white font-medium text-sm",children:"Feb Payment"}),f.jsx("span",{className:"text-white/60 text-xs",children:"Scheduled"})]}),f.jsx("p",{className:"text-white/60 text-xs",children:"Feb 15, 2024  2,500"})]})]})})]})]})]})]})]})},SB=()=>{const[t,e]=se.useState(null),n=Ioe,r=[{title:"Total Policies",value:n.length.toString(),icon:Qt,color:"from-emerald-500/20 to-emerald-400/20",iconColor:"text-emerald-400"},{title:"Active Coverage",value:"50,000",icon:wy,color:"from-blue-500/20 to-blue-400/20",iconColor:"text-blue-400"},{title:"Monthly Premium",value:"120",icon:Ri,color:"from-purple-500/20 to-purple-400/20",iconColor:"text-purple-400"},{title:"Claims This Year",value:"2",icon:sn,color:"from-amber-500/20 to-amber-400/20",iconColor:"text-amber-400"}];return f.jsxs("div",{className:"text-white w-full space-y-8 pt-20",children:[f.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl glass shine",children:f.jsx(Qt,{className:"w-8 h-8 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["My ",f.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Policies"})]}),f.jsx("p",{className:"text-xl text-gray-300 mt-2",children:"Manage and view all your insurance policies"})]})]})})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:r.map((i,a)=>f.jsx(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan group",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:i.title}),f.jsx("p",{className:"text-2xl font-bold text-white",children:i.value})]}),f.jsx("div",{className:`p-3 rounded-full bg-gradient-to-r ${i.color} group-hover:scale-110 transition-transform duration-200`,children:f.jsx(i.icon,{className:`w-6 h-6 ${i.iconColor}`})})]})})},a))}),f.jsx("div",{className:"space-y-6",children:n.map(i=>f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-gray-500/20 to-gray-500/20",children:f.jsx(Qt,{className:"w-6 h-6 text-gray-400"})}),f.jsxs("div",{children:[f.jsx(At,{className:"text-2xl font-bold text-white",children:i.name}),f.jsxs("p",{className:"text-white/60",children:["Policy #",i.id]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(fi,{className:`px-3 py-1 rounded-full text-sm font-medium ${koe(i.type)}`,children:i.type}),f.jsx(fi,{className:`px-3 py-1 rounded-full text-sm font-medium ${nE(i.status)}`,children:i.status}),f.jsx(Ze,{variant:"outline",onClick:()=>e(t===i.id?null:i.id),className:"hover:bg-white/10",children:t===i.id?"Hide Details":"View Details"})]})]})}),f.jsxs(Ge,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(wy,{className:"w-4 h-4 text-white/60"}),f.jsx("span",{className:"text-white/60 text-sm",children:"Premium"})]}),f.jsxs("p",{className:"text-white font-semibold text-lg",children:[i.premium,"/month"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Qt,{className:"w-4 h-4 text-white/60"}),f.jsx("span",{className:"text-white/60 text-sm",children:"Coverage"})]}),f.jsx("p",{className:"text-white font-semibold text-lg",children:i.coverage})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ou,{className:"w-4 h-4 text-white/60"}),f.jsx("span",{className:"text-white/60 text-sm",children:"Valid Until"})]}),f.jsx("p",{className:"text-white font-semibold text-lg",children:i.endDate})]})]}),f.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 mb-6",children:[f.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[f.jsx(os,{className:"w-4 h-4"}),"Agent Information"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(os,{className:"w-4 h-4 text-white/60"}),f.jsx("span",{className:"text-white/60 text-sm",children:"Name:"}),f.jsx("span",{className:"text-white font-medium",children:i.agent.name})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(rp,{className:"w-4 h-4 text-white/60"}),f.jsx("span",{className:"text-white/60 text-sm",children:"Email:"}),f.jsx("span",{className:"text-white font-medium",children:i.agent.email})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ip,{className:"w-4 h-4 text-white/60"}),f.jsx("span",{className:"text-white/60 text-sm",children:"Phone:"}),f.jsx("span",{className:"text-white font-medium",children:i.agent.phone})]})]})]}),t===i.id&&f.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[f.jsx(cs,{className:"w-4 h-4"}),"Policy Benefits"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.benefits.map((a,o)=>f.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-white/5 border border-white/10",children:[f.jsx(cs,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),f.jsx("span",{className:"text-white text-sm",children:a})]},o))})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[f.jsx(sn,{className:"w-4 h-4"}),"Recent Claims"]}),f.jsx("div",{className:"space-y-3",children:i.claims.map((a,o)=>f.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-gray-500/20 to-gray-500/20",children:f.jsx(sn,{className:"w-4 h-4 text-gray-400"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-white font-medium",children:[a.id," - ",a.description]}),f.jsxs("p",{className:"text-white/60 text-sm",children:[a.date,"  ",a.amount]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(fi,{className:`px-3 py-1 rounded-full text-sm font-medium ${nE(a.status)}`,children:a.status}),f.jsxs(Ze,{size:"sm",variant:"outline",children:[f.jsx(Fa,{className:"w-4 h-4 mr-1"}),"View"]})]})]},o))})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[f.jsx(Go,{className:"w-4 h-4"}),"Policy Documents"]}),f.jsx("div",{className:"space-y-3",children:i.documents.map((a,o)=>f.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-gray-500/20 to-gray-500/20",children:f.jsx(sn,{className:"w-4 h-4 text-gray-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-medium",children:a.name}),f.jsxs("p",{className:"text-white/60 text-sm",children:[a.type,"  Uploaded ",a.uploaded]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(fi,{className:`px-3 py-1 rounded-full text-sm font-medium ${nE(a.status)}`,children:a.status}),f.jsxs(Ze,{size:"sm",variant:"outline",children:[f.jsx(Go,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},o))})]}),f.jsxs("div",{className:"flex gap-4 pt-4 border-t border-white/10",children:[f.jsxs(Ze,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:[f.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Pay Premium"]}),f.jsxs(Ze,{variant:"outline",className:"hover:bg-white/10",children:[f.jsx(sn,{className:"w-4 h-4 mr-2"}),"Submit Claim"]}),f.jsxs(Ze,{variant:"outline",className:"hover:bg-white/10",children:[f.jsx(jse,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]})]})]})]},i.id))}),n.length===0&&f.jsx(Ve,{className:"glass shine border-white/10 text-center py-12",children:f.jsxs(Ge,{children:[f.jsx("div",{className:"p-6 rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:f.jsx(Qt,{className:"w-12 h-12 text-blue-400"})}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"No Policies Found"}),f.jsx("p",{className:"text-white/60 mb-6",children:"You don't have any active insurance policies yet."}),f.jsxs(Ze,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:[f.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Get Your First Policy"]})]})})]})},xk={name:"Rajesh Sharma",role:"Agent",email:"rajesh.sharma@ethsure.com",wallet:"0xA12B34C56D78E90F1234567890ABCDEF12345678",company:"EthSure"},Doe={name:"Insurance Admin",role:"Company",email:"company@ethsure.com",wallet:"0x1234...abcd",company:"EthSure Insurance"},Boe={name:"John Doe",role:"Customer",email:"john@example.com",wallet:"0x742d...d8b6",company:"EthSure Insurance"},Uoe={name:"Priya Verma",role:"Nominee",email:"priya@example.com",wallet:"0xabcd...0001",company:"EthSure Insurance"},$oe=(t,e)=>[{id:"overview",icon:Bu,label:"Overview",onClick:()=>e("overview")},{id:"customers",icon:mi,label:"Customers",onClick:()=>t("/agent/customers")},{id:"claims",icon:sn,label:"Claims",onClick:()=>t("/agent/claims")},{id:"docvault",icon:Vs,label:"DocVault",onClick:()=>e("docvault")}],Foe=(t,e)=>[{id:"overview",icon:Bu,label:"Overview",onClick:()=>e("overview")},{id:"agents",icon:mi,label:"Agents",onClick:()=>t("/company/agents")},{id:"customers",icon:_p,label:"Customers",onClick:()=>t("/company/customers")},{id:"policies",icon:sn,label:"Policies",onClick:()=>t("/company/policies")},{id:"claims",icon:Vs,label:"Claims",onClick:()=>t("/company/claims")}],qoe=t=>[{id:"overview",icon:mi,label:"Overview",onClick:()=>t("overview")},{id:"policies",icon:sn,label:"Policies",onClick:()=>t("policies")},{id:"pay-emi",icon:Ri,label:"Pay EMI",onClick:()=>t("pay-emi")},{id:"docvault",icon:Vs,label:"DocVault",onClick:()=>t("docvault")}],zoe=t=>[{id:"overview",icon:Qt,label:"Overview",onClick:()=>t("overview")},{id:"policies",icon:sn,label:"Policies",onClick:()=>t("policies")},{id:"docvault",icon:Vs,label:"DocVault",onClick:()=>t("docvault")}],Hoe=(t,e)=>{const n=t.pathname;return n.includes("/customers")?"customers":n.includes("/claims")?"claims":e},Koe=(t,e)=>{const n=t.pathname;return n.includes("/agents")?"agents":n.includes("/customers")?"customers":n.includes("/policies")?"policies":n.includes("/claims")?"claims":e},Woe=[{id:1,name:"Alice Johnson",policy:"Health Insurance Premium",premium:"0.15/month",status:"Active"},{id:2,name:"Bob Chen",policy:"Auto Insurance Comprehensive",premium:"0.08/month",status:"Active"},{id:3,name:"Charlie Davis",policy:"Property Insurance Standard",premium:"0.22/month",status:"Pending"},{id:4,name:"Diana Smith",policy:"Life Insurance",premium:"0.12/month",status:"Active"}],Voe=()=>{const[t,e]=se.useState(null),[n,r]=se.useState(!0),[i,a]=se.useState("overview");if(se.useEffect(()=>{(async()=>{r(!1)})()},[]),n)return f.jsx("p",{className:"text-center mt-20 text-white",children:"Loading..."});const o=qoe(a),s={...Boe,name:t?.name||"Customer",email:t?.email||"john@example.com"},u=()=>{switch(i){case"pay-emi":return f.jsx(EB,{});case"policies":return f.jsx(SB,{});case"docvault":return f.jsx(pb,{user:s});case"kyc":return f.jsx(P4,{user:s,isOpen:!0,onClose:()=>a("overview"),onSubmitKYC:h=>{console.log("KYC submitted:",h),a("overview")}});default:return f.jsx(Loe,{onPayEMIClick:()=>a("pay-emi"),currentView:i,setCurrentView:a})}},l=["kyc","policies"].includes(i);return f.jsx(da,{sidebarItems:o,user:s,currentView:i,fullPageView:l,children:u()})},_B=({customer:t,isOpen:e,onClose:n})=>{if(!e)return null;const r={id:t?.id||1,name:t?.name||"Unknown Customer",policy:t?.policy||"No Policy",premium:t?.premium||"N/A",status:t?.status||"Unknown",email:"alice.johnson@email.com",phone:"+1 (555) 123-4567",address:"123 Main Street, New York, NY 10001",dateOfBirth:"1985-03-15",occupation:"Software Engineer",annualIncome:"$85,000",emergencyContact:"John Johnson (Spouse) - +1 (555) 987-6543",kycStatus:"Verified",riskProfile:"Low Risk",totalPolicies:2,totalClaims:1,lastClaimDate:"2023-11-15",nextPremiumDue:"2024-02-15"},i=[{id:"POL-2024-001",type:"Health Insurance Premium",premium:"0.15/month",status:"Active",startDate:"2024-01-01",endDate:"2024-12-31",coverage:"$500,000"},{id:"POL-2024-002",type:"Life Insurance",premium:"0.08/month",status:"Active",startDate:"2023-06-01",endDate:"2024-05-31",coverage:"$250,000"}],a=[{id:"CLM-2024-001",type:"Health",amount:"0.25",status:"Approved",date:"2023-11-15",description:"Emergency room visit for appendicitis"}];return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-white/10 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[f.jsx("div",{className:"sticky top-0 bg-gray-900/95 backdrop-blur-sm border-b border-white/10 p-6 rounded-t-2xl",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:f.jsx(os,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:r.name}),f.jsxs("p",{className:"text-gray-400",children:["Customer ID: CUST-",r.id.toString().padStart(4,"0")]})]})]}),f.jsx(Ze,{variant:"ghost",size:"sm",onClick:n,className:"text-gray-400 hover:text-white hover:bg-white/10",children:f.jsx(us,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(os,{className:"w-5 h-5"}),"Personal Information"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(rp,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-white",children:r.email})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ip,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-white",children:r.phone})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(T4,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-white",children:r.address})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ou,{className:"w-4 h-4 text-gray-400"}),f.jsxs("span",{className:"text-white",children:["DOB: ",r.dateOfBirth]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Qt,{className:"w-4 h-4 text-gray-400"}),f.jsxs("span",{className:"text-white",children:["Occupation: ",r.occupation]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ri,{className:"w-4 h-4 text-gray-400"}),f.jsxs("span",{className:"text-white",children:["Income: ",r.annualIncome]})]})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Qt,{className:"w-5 h-5"}),"KYC Status"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Status"}),f.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-sm",children:r.kycStatus})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Risk Profile"}),f.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-500/20 text-blue-400 text-sm",children:r.riskProfile})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Emergency Contact"}),f.jsx("span",{className:"text-white text-sm",children:r.emergencyContact})]})]})})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(sn,{className:"w-5 h-5"}),"Account Summary"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Total Policies"}),f.jsx("span",{className:"text-white font-semibold",children:r.totalPolicies})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Total Claims"}),f.jsx("span",{className:"text-white font-semibold",children:r.totalClaims})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Last Claim"}),f.jsx("span",{className:"text-white text-sm",children:r.lastClaimDate})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Next Premium"}),f.jsx("span",{className:"text-white text-sm",children:r.nextPremiumDue})]})]})})]})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Qt,{className:"w-5 h-5"}),"Active Policies"]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-4",children:i.map(o=>f.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover-scale-102 hover-glow-cyan-subtle",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"font-medium text-white",children:o.type}),f.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-sm",children:o.status})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Policy ID"}),f.jsx("p",{className:"text-white",children:o.id})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Premium"}),f.jsx("p",{className:"text-white",children:o.premium})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Coverage"}),f.jsx("p",{className:"text-white",children:o.coverage})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Valid Until"}),f.jsx("p",{className:"text-white",children:o.endDate})]})]})]},o.id))})})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(sn,{className:"w-5 h-5"}),"Claims History"]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-3",children:a.map(o=>f.jsx("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 hover-scale-102 hover-glow-cyan-subtle",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium text-white",children:[o.type," Claim - ",o.id]}),f.jsx("p",{className:"text-gray-400 text-sm",children:o.description})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold text-white",children:o.amount}),f.jsx("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-xs",children:o.status})]})]})},o.id))})})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsxs(Ze,{className:"flex-1",children:[f.jsx(sn,{className:"w-4 h-4 mr-2"}),"Create New Policy"]}),f.jsxs(Ze,{variant:"outline",className:"flex-1",children:[f.jsx(rp,{className:"w-4 h-4 mr-2"}),"Send Message"]}),f.jsxs(Ze,{variant:"outline",className:"flex-1",children:[f.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Report Issue"]})]})]})]})})},Goe=({onNavigateToCustomers:t,onViewCustomer:e,customers:n=[{id:1,name:"Alice Johnson",policy:"Health Insurance Premium",premium:"0.15/month",status:"Active"},{id:2,name:"Bob Chen",policy:"Auto Insurance Comprehensive",premium:"0.08/month",status:"Active"},{id:3,name:"Charlie Davis",policy:"Property Insurance Standard",premium:"0.22/month",status:"Pending"},{id:4,name:"Diana Smith",policy:"Life Insurance",premium:"0.12/month",status:"Active"},{id:5,name:"Eva Brown",policy:"Travel Insurance",premium:"0.05/month",status:"Active"},{id:6,name:"Frank Wilson",policy:"Business Insurance",premium:"0.35/month",status:"Pending"}],agent:r={name:"Rajesh Sharma",wallet:"0xA12B34C56D78E90F1234567890ABCDEF12345678",verified:!0,customers:n},onCreatePolicy:i,onAddCustomer:a,onKYCSubmit:o})=>{const s=ni(),[u,l]=se.useState(null),[h,p]=se.useState(!1),g=x=>{l(x),p(!0),e&&e(x)},v=()=>{i?i():s("/agent/create-policy")},y=()=>{o?o():s("/agent/kyc")},w=[{title:"Assigned Claims",value:"5",icon:sn,change:"+2 this week",color:"from-blue-500/20 to-blue-400/20",iconColor:"text-blue-400"},{title:"Pending Reviews",value:"2",icon:Vo,change:"Priority queue",color:"from-amber-500/20 to-amber-400/20",iconColor:"text-amber-400"},{title:"Resolved Claims",value:"12",icon:cs,change:"+3 this month",color:"from-emerald-500/20 to-emerald-400/20",iconColor:"text-emerald-400"}],C=[{id:"#CL-2024-001",user:"Alice Johnson",amount:"0.25",status:"Under Review",priority:"High",type:"Health"},{id:"#CL-2024-002",user:"Bob Chen",amount:"0.18",status:"Documentation Pending",priority:"Medium",type:"Auto"},{id:"#CL-2024-003",user:"Charlie Davis",amount:"0.35",status:"Ready for Approval",priority:"High",type:"Property"}];return f.jsxs("div",{className:"text-white w-full relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-gray-500/20 via-gray-400/10 to-gray-500/20 blur-3xl"}),f.jsxs("div",{className:"relative z-10 space-y-6 pt-20",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(Qt,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["Agent ",f.jsx("span",{className:"gradient-text",children:"Dashboard"})]}),f.jsxs("p",{className:"text-xl text-gray-300",children:["Welcome back, ",r.name]})]})]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full glass border border-emerald-500/30",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),f.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Verified Agent"})]}),f.jsxs(Ze,{variant:"outline",className:"flex items-center gap-2 glass",children:[f.jsx(hc,{className:"w-4 h-4"}),r.wallet.slice(0,6),"...",r.wallet.slice(-4)]})]})]}),f.jsxs(Ve,{className:"border-cyan-500/40 bg-gradient-to-r from-cyan-500/15 via-blue-500/10 to-purple-500/15 hover:border-cyan-400/60 hover:shadow-xl hover:shadow-cyan-500/20 transition-all duration-300 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 animate-pulse"}),f.jsx(Ge,{className:"p-6 relative z-10",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 group-hover:from-cyan-500/30 group-hover:to-blue-500/30 transition-all duration-300 shadow-lg",children:f.jsx(Ui,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-colors duration-300 animate-pulse"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-cyan-300 text-lg mb-2",children:"KYC Verification Pending"}),f.jsx("p",{className:"text-cyan-100 text-base mb-3",children:"Complete your Know Your Customer verification to access advanced claim management features and higher approval limits."})]}),f.jsx(Ze,{className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 hover:shadow-xl hover:shadow-cyan-500/30 transition-all duration-300",onClick:y,children:"Complete KYC"})]})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((x,M)=>f.jsx(Ve,{className:"glass shine group hover:scale-105 transition-transform duration-200",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-white/70 text-sm font-medium",children:x.title}),f.jsx("p",{className:"text-3xl font-bold text-white",children:x.value}),f.jsxs("p",{className:"text-xs text-white/60 flex items-center gap-1",children:[f.jsx(A5,{className:"w-3 h-3"}),x.change]})]}),f.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${x.color} group-hover:scale-110 transition-transform duration-200`,children:f.jsx(x.icon,{className:`w-6 h-6 ${x.iconColor}`})})]})})},M))}),f.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[f.jsx("div",{className:"xl:col-span-2 space-y-6",children:f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(sn,{className:"w-5 h-5 font-bold"}),"Claims Management"]}),f.jsx(Ze,{variant:"secondary",size:"sm",children:"View All Claims"})]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-4",children:C.map((x,M)=>f.jsx("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-200",children:f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-mono text-sm text-gray-300",children:x.id}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M5(x.priority)}`,children:x.priority})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"font-medium text-white",children:x.user}),f.jsxs("span",{className:"text-sm text-white/60",children:[x.type," Insurance"]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"font-bold text-cyan-400",children:x.amount}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j5(x.status)}`,children:x.status})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ze,{variant:"secondary",size:"sm",children:"Review"}),f.jsx(Ze,{size:"sm",children:"Approve"})]})]})},M))})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(mi,{className:"w-5 h-5 font-bold"}),"Customer Portfolio"]})})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-3",children:[r.customers.map(x=>f.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-200 cursor-pointer group",onClick:()=>g(x),children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"font-medium text-white text-sm",children:x.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.status==="Active"?"text-emerald-400 bg-emerald-500/20 border border-emerald-500/30":"text-gray-300 bg-gray-700/50"}`,children:x.status}),f.jsx(Ze,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 h-6 w-6",onClick:M=>{M.stopPropagation(),g(x)},children:f.jsx(Fa,{className:"w-3 h-3"})})]})]}),f.jsx("p",{className:"text-white/70 text-xs mb-1",children:x.policy}),f.jsx("p",{className:"text-gray-300 text-sm font-semibold",children:x.premium})]},x.id)),f.jsxs(Ze,{variant:"outline",className:"w-full mt-4",size:"sm",onClick:()=>{t&&t()},children:["View All Customers (",r.customers.length,")"]})]})})]}),f.jsxs(Ve,{className:"glass shine hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(bB,{className:"w-5 h-5 font-bold"}),"Quick Actions"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs(Ze,{variant:"secondary",className:"w-full justify-start",size:"sm",onClick:v,children:[f.jsx(sn,{className:"w-4 h-4 mr-2"}),"Create New Policy"]}),f.jsxs(Ze,{variant:"destructive",className:"w-full justify-start",size:"sm",children:[f.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Report Issue"]})]})})]})]})]})]}),f.jsx(_B,{customer:u,isOpen:h,onClose:()=>p(!1)})]})},Yoe=()=>{const t=ni(),e=la(),[n,r]=se.useState("overview"),[i,a]=se.useState(Woe),o={...xk,verified:!0,customers:i},s=xk,u=$oe(t,r);se.useEffect(()=>{new URLSearchParams(e.search).get("view")==="docvault"&&r("docvault")},[e.search]);const l=()=>Hoe(e,n),h=()=>{t("/agent/add-customer")},p=()=>{switch(n){case"docvault":return f.jsx(pb,{user:s});default:return f.jsx(Goe,{onNavigateToCustomers:()=>t("/agent/customers"),customers:i,agent:o,onCreatePolicy:()=>t("/agent/create-policy"),onAddCustomer:h,onKYCSubmit:()=>t("/agent/kyc")})}};return f.jsx(da,{sidebarItems:u,user:s,currentView:l(),fullPageView:!1,children:p()})},CB={name:"Insurance Admin",role:"Company",email:"company@ethsure.com",wallet:"0x1234...abcd",company:"EthSure Insurance"},Joe=t=>[{id:"overview",icon:Bu,label:"Overview",onClick:()=>t("/company-dashboard")},{id:"agents",icon:mi,label:"Agents",onClick:()=>t("/company/agents")},{id:"customers",icon:_p,label:"Customers",onClick:()=>t("/company/customers")},{id:"policies",icon:sn,label:"Policies",onClick:()=>t("/company/policies")},{id:"claims",icon:Vs,label:"Claims",onClick:()=>t("/company/claims")}],NB=t=>({Active:"text-emerald-400 bg-emerald-500/20 border border-emerald-500/30",Pending:"text-amber-400 bg-amber-500/20 border border-amber-500/30",Requesting:"text-blue-400 bg-blue-500/20 border border-blue-500/30","Waiting Verification":"text-purple-400 bg-purple-500/20 border border-purple-500/30",Approved:"text-emerald-400 bg-emerald-500/20 border border-emerald-500/30",Rejected:"text-red-300 bg-red-500/10 border border-red-400/20",Expired:"text-red-400 bg-red-500/20 border border-red-500/30"})[t]||"text-gray-400 bg-gray-700/50",Td={inputClass:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20",selectClass:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 min-w-[150px]",buttonClass:"border-white/20 text-white hover:bg-white/10"},Zoe=[{id:1,name:"Agent Smith",email:"smith@ethsure.com",phone:"+1-555-0123",location:"New York, NY",customers:12,status:"Active",verified:!0,performance:"95%",joinDate:"2023-01-15",totalPolicies:45,totalClaims:8,successRate:"98%"},{id:2,name:"Agent Doe",email:"doe@ethsure.com",phone:"+1-555-0124",location:"Los Angeles, CA",customers:9,status:"Active",verified:!0,performance:"88%",joinDate:"2023-03-20",totalPolicies:32,totalClaims:5,successRate:"94%"},{id:3,name:"Agent Johnson",email:"johnson@ethsure.com",phone:"+1-555-0125",location:"Chicago, IL",customers:15,status:"Pending",verified:!1,performance:"92%",joinDate:"2024-01-10",totalPolicies:28,totalClaims:3,successRate:"96%"},{id:4,name:"Agent Brown",email:"brown@ethsure.com",phone:"+1-555-0126",location:"Miami, FL",customers:7,status:"Active",verified:!0,performance:"91%",joinDate:"2023-06-15",totalPolicies:22,totalClaims:4,successRate:"93%"},{id:5,name:"Agent Wilson",email:"wilson@ethsure.com",phone:"+1-555-0127",location:"Seattle, WA",customers:0,status:"Requesting",verified:!1,performance:"N/A",joinDate:"2024-02-01",totalPolicies:0,totalClaims:0,successRate:"N/A"},{id:6,name:"Agent Davis",email:"davis@ethsure.com",phone:"+1-555-0128",location:"Austin, TX",customers:0,status:"Waiting Verification",verified:!1,performance:"N/A",joinDate:"2024-02-05",totalPolicies:0,totalClaims:0,successRate:"N/A"},{id:7,name:"Agent Miller",email:"miller@ethsure.com",phone:"+1-555-0129",location:"Denver, CO",customers:0,status:"Requesting",verified:!1,performance:"N/A",joinDate:"2024-02-10",totalPolicies:0,totalClaims:0,successRate:"N/A"}],Qoe=[{id:1,name:"John Doe",email:"john.doe@email.com",phone:"+1-555-1001",location:"New York, NY",policies:3,totalPremium:"1,92,000",status:"Active",verified:!0,joinDate:"2023-02-15",lastPayment:"2024-01-15",agent:{name:"Agent Smith",email:"smith@ethsure.com",phone:"+1-555-0123",verified:!0,performance:"95%"},customerPolicies:[{id:1,policyNumber:"POL-2024-001",type:"Life Insurance",premium:"16,000/month",coverage:"80,00,000",status:"Active",startDate:"2024-01-15",endDate:"2025-01-15"},{id:2,policyNumber:"POL-2024-002",type:"Health Insurance",premium:"12,000/month",coverage:"40,00,000",status:"Active",startDate:"2023-07-01",endDate:"2024-07-01"}]},{id:2,name:"Jane Smith",email:"jane.smith@email.com",phone:"+1-555-1002",location:"Los Angeles, CA",policies:2,totalPremium:"1,44,000",status:"Active",verified:!0,joinDate:"2023-03-01",lastPayment:"2024-01-20",agent:{name:"Agent Doe",email:"doe@ethsure.com",phone:"+1-555-0124",verified:!0,performance:"88%"},customerPolicies:[{id:1,policyNumber:"POL-2024-003",type:"Auto Insurance",premium:"8,000/month",coverage:"16,00,000",status:"Active",startDate:"2024-01-01",endDate:"2025-01-01"}]},{id:3,name:"Mike Johnson",email:"mike.johnson@email.com",phone:"+1-555-1003",location:"Chicago, IL",policies:1,totalPremium:"64,000",status:"Pending",verified:!1,joinDate:"2024-01-25",lastPayment:"N/A",agent:{name:"Agent Johnson",email:"johnson@ethsure.com",phone:"+1-555-0125",verified:!1,performance:"92%"},customerPolicies:[]}],Xoe=[{id:5,policyNumber:"POL-REQ-001",type:"Life Insurance",customer:"David Wilson",agent:"Agent Smith",premium:"14,400/month",coverage:"64,00,000",status:"Requesting",submittedDate:"2024-02-15",documents:["Application Form","Medical Report","ID Proof"],priority:"High"},{id:6,policyNumber:"POL-REQ-002",type:"Health Insurance",customer:"Lisa Garcia",agent:"Agent Doe",premium:"17,600/month",coverage:"60,00,000",status:"Requesting",submittedDate:"2024-02-14",documents:["Application Form","Health Declaration","Bank Statement"],priority:"Medium"},{id:7,policyNumber:"POL-REQ-003",type:"Auto Insurance",customer:"Robert Lee",agent:"Agent Johnson",premium:"7,600/month",coverage:"24,00,000",status:"Requesting",submittedDate:"2024-02-13",documents:["Application Form","Vehicle Registration","Driver License"],priority:"Low"},{id:8,policyNumber:"POL-REQ-004",type:"Property Insurance",customer:"Maria Rodriguez",agent:"Agent Brown",premium:"28,000/month",coverage:"2,00,00,000",status:"Requesting",submittedDate:"2024-02-12",documents:["Application Form","Property Deed","Valuation Report"],priority:"High"}],AB=[{id:1,claimNumber:"CLM-2024-001",customer:"John Doe",agent:"Agent Smith",policy:"POL-2024-001",type:"Life Insurance",amount:"40,00,000",status:"Approved",verified:!0,submittedDate:"2024-01-10",processedDate:"2024-01-15"},{id:2,claimNumber:"CLM-2024-002",customer:"Jane Smith",agent:"Agent Doe",policy:"POL-2024-002",type:"Health Insurance",amount:"8,00,000",status:"Pending",verified:!1,submittedDate:"2024-01-20",processedDate:null},{id:3,claimNumber:"CLM-2024-003",customer:"Mike Johnson",agent:"Agent Johnson",policy:"POL-2024-003",type:"Auto Insurance",amount:"4,00,000",status:"Rejected",verified:!0,submittedDate:"2024-01-25",processedDate:"2024-01-28"},{id:4,claimNumber:"CLM-2024-004",customer:"Sarah Brown",agent:"Agent Brown",policy:"POL-2024-004",type:"Property Insurance",amount:"20,00,000",status:"Pending",verified:!1,submittedDate:"2024-02-01",processedDate:null}],ele=()=>{const t=CB,e=Zoe,n=Qoe,r=Xoe,i=AB;return f.jsxs("div",{className:"text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-gray-500/20 via-gray-400/10 to-gray-500/20 blur-3xl"}),f.jsxs("div",{className:"relative z-10 pt-20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 rounded-xl glass",children:f.jsx(Sse,{className:"w-8 h-8 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Company"})," ",f.jsx("span",{className:"gradient-text",children:"Dashboard"})]}),f.jsxs("p",{className:"text-xl text-gray-300",children:["Welcome back, ",t.name]})]})]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-gray-400",children:"Wallet Address"}),f.jsx("p",{className:"text-white font-mono text-sm",children:t.wallet})]}),f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(hc,{className:"w-6 h-6 text-emerald-400"})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Agents"}),f.jsx("p",{className:"text-3xl font-bold text-white",children:e.length}),f.jsx("p",{className:"text-gray-300 text-sm",children:"+2 this month"})]}),f.jsx(mi,{className:"w-12 h-12 text-blue-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Customers"}),f.jsx("p",{className:"text-3xl font-bold text-white",children:n.length}),f.jsx("p",{className:"text-gray-300 text-sm",children:"+12 this month"})]}),f.jsx(R4,{className:"w-12 h-12 text-emerald-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Requesting Review"}),f.jsx("p",{className:"text-3xl font-bold text-white",children:r.length}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Awaiting approval"})]}),f.jsx(sn,{className:"w-12 h-12 text-blue-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Pending Claims"}),f.jsx("p",{className:"text-3xl font-bold text-white",children:i.filter(a=>a.status==="Pending").length}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Requires attention"})]}),f.jsx(Ui,{className:"w-12 h-12 text-amber-400"})]})})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[f.jsxs(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(vse,{className:"w-5 h-5 text-yellow-400"}),"Top Performing Agents"]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-4",children:e.slice(0,3).map(a=>f.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:f.jsx("span",{className:"text-white font-bold text-sm",children:a.name.split(" ").map(o=>o[0]).join("")})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-medium",children:a.name}),f.jsxs("p",{className:"text-gray-400 text-sm",children:[a.customers," customers"]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-white font-bold",children:a.performance}),f.jsx("p",{className:"text-gray-400 text-xs",children:"Performance"})]})]},a.id))})})]}),f.jsxs(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Ui,{className:"w-5 h-5 text-red-300"}),"Recent Claims"]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-4",children:i.slice(0,3).map(a=>f.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-200",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white font-medium",children:a.claimNumber}),f.jsxs("p",{className:"text-gray-400 text-sm",children:[a.customer," - ",a.type]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-white font-bold",children:a.amount}),f.jsx(fi,{className:NB(a.status),children:a.status})]})]},a.id))})})]})]})]})]})},tle=()=>{const t=ni(),e=la(),[n,r]=se.useState("overview"),i=Doe,a=Foe(t,r);se.useEffect(()=>{const l=new URLSearchParams(e.search).get("view");l==="agents"?r("agents"):l==="customers"?r("customers"):l==="policies"?r("policies"):l==="claims"&&r("claims")},[e.search]);const o=()=>Koe(e,n),s=()=>f.jsx(ele,{});return f.jsx(da,{sidebarItems:a,user:i,currentView:o(),fullPageView:!1,children:s()})},nle=()=>{const t={linkedPolicies:[{id:"POL-1001",holder:"John Doe",type:"Health Insurance Plus",agent:"Rajesh Sharma",status:"active"},{id:"POL-1027",holder:"Jane Roe",type:"Life Secure",agent:"Anita Rao",status:"active"}]};return f.jsxs("div",{className:"text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-gray-500/20 via-gray-400/10 to-gray-500/20 blur-3xl"}),f.jsxs("div",{className:"relative z-10 pt-20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight mb-6 text-white",children:["Nominee ",f.jsx("span",{className:"gradient-text",children:"Dashboard"})]}),f.jsx("button",{onClick:()=>window.location.assign("/"),className:"button-pill glass nav-link",children:"Logout"})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:f.jsxs(Ve,{className:"glass shine ui-card lg:col-span-2 hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsx(At,{className:"font-bold",children:"Policies You Are Nominee For"})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-3",children:t.linkedPolicies.map(e=>f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between bg-white/5 rounded p-4",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium",children:[e.id,"  ",e.type]}),f.jsxs("p",{className:"text-white text-sm",children:["Policy Holder: ",e.holder,"  Agent: ",e.agent]})]}),f.jsxs("div",{className:"mt-3 md:mt-0 flex items-center gap-2",children:[f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-700/50 text-gray-300",children:e.status}),f.jsx(Ze,{size:"sm",variant:"outline",children:"View Details"})]})]},e.id))})})]})}),f.jsxs(Ve,{className:"glass shine ui-card hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsx(At,{className:"font-bold",children:"What can a nominee do?"})}),f.jsx(Ge,{children:f.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-white",children:[f.jsx("li",{children:"View policy status and agent details"}),f.jsx("li",{children:"Upload supporting documents when needed"}),f.jsx("li",{children:"Initiate beneficiary verification for claims"})]})})]})]})]})},rle=()=>{const[t,e]=se.useState("overview"),n=zoe(e),r=Uoe,i=()=>{switch(t){case"docvault":return f.jsx(pb,{user:r});default:return f.jsx(nle,{})}};return f.jsx(da,{sidebarItems:n,user:r,currentView:t,children:i()})},ile=()=>{const[t,e]=se.useState(!1);return se.useEffect(()=>{const n=setTimeout(()=>e(!0),100);return()=>clearTimeout(n)},[]),f.jsxs("div",{className:"min-h-screen text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-blue-500/20 via-emerald-400/10 to-purple-500/20 blur-3xl"}),f.jsx(fb,{}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:`text-center mb-12 sm:mb-16 transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-4 sm:mb-6",children:["About ",f.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-green-600 bg-clip-text text-transparent",children:"EthSure"})]}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4",children:"We're revolutionizing the insurance industry by leveraging blockchain technology to create a more transparent, secure, and efficient claims processing system."})]})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[f.jsxs("div",{className:`transform transition-all duration-1000 ease-out ${t?"translate-x-0 opacity-100":"translate-x-[-50px] opacity-0"}`,style:{transitionDelay:"200ms"},children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4 sm:mb-6",children:"Our Mission"}),f.jsx("p",{className:"text-base sm:text-lg text-gray-300 mb-4 sm:mb-6",children:"To democratize insurance by making it accessible, transparent, and fair for everyone. We believe that insurance should work for the people, not against them."}),f.jsx("p",{className:"text-base sm:text-lg text-gray-300 mb-6 sm:mb-8",children:"By using blockchain technology, we eliminate the need for intermediaries, reduce costs, and ensure that every transaction is recorded immutably for complete transparency."}),f.jsx(Ur,{to:"/services",children:f.jsx(Ze,{size:"lg",className:"button-pill w-full sm:w-auto",children:"Learn More About Our Services"})})]}),f.jsxs("div",{className:`space-y-4 sm:space-y-6 transform transition-all duration-1000 ease-out ${t?"translate-x-0 opacity-100":"translate-x-[50px] opacity-0"}`,style:{transitionDelay:"400ms"},children:[f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"Transparency"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"All transactions and claims are recorded on the blockchain, ensuring complete transparency and eliminating the possibility of fraud or manipulation."})})]}),f.jsxs(Ve,{className:"glass shine border-white/10 hover-scale-105 hover-glow-cyan",children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"Security"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"Smart contracts automatically execute claims processing, ensuring security and eliminating the need for trust in third parties."})})]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[f.jsxs("div",{className:`text-center mb-12 sm:mb-16 transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:"600ms"},children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Our Team"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Meet the experts behind EthSure"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"800ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center border border-white/20 bg-gradient-to-r from-blue-500/20 to-purple-500/20",children:f.jsx("span",{className:"text-2xl font-bold text-white",children:"JD"})}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"John Doe"}),f.jsx("p",{className:"text-gray-400 mb-2",children:"CEO & Founder"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Blockchain expert with 10+ years in insurance technology"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1000ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center border border-white/20 bg-gradient-to-r from-emerald-500/20 to-teal-500/20",children:f.jsx("span",{className:"text-2xl font-bold text-white",children:"JS"})}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Jane Smith"}),f.jsx("p",{className:"text-gray-400 mb-2",children:"CTO"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Smart contract developer and DeFi specialist"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1200ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center border border-white/20 bg-gradient-to-r from-purple-500/20 to-pink-500/20",children:f.jsx("span",{className:"text-2xl font-bold text-white",children:"MJ"})}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Mike Johnson"}),f.jsx("p",{className:"text-gray-400 mb-2",children:"Head of Operations"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Insurance industry veteran with deep regulatory knowledge"})]})})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[f.jsxs("div",{className:`text-center mb-12 sm:mb-16 transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:"1400ms"},children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Our Values"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"The principles that guide everything we do"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1600ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg mx-auto mb-4 flex items-center justify-center hover:scale-110 hover:rotate-6 transition-all duration-300",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Trust"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Building trust through transparency and reliability"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1800ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-lg mx-auto mb-4 flex items-center justify-center hover:scale-110 hover:rotate-6 transition-all duration-300",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Innovation"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Continuously pushing the boundaries of what's possible"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"2000ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg mx-auto mb-4 flex items-center justify-center hover:scale-110 hover:rotate-6 transition-all duration-300",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Community"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Putting our community first in everything we do"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"2200ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-lg mx-auto mb-4 flex items-center justify-center hover:scale-110 hover:rotate-6 transition-all duration-300",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Security"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Ensuring the highest level of security for our users"})]})})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:`text-center transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:"2400ms"},children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Ready to Join Us?"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-6 sm:mb-8",children:"Be part of the future of insurance"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[f.jsx(Ur,{to:"/signup",children:f.jsx(Ze,{size:"lg",className:"button-pill text-lg px-8 py-4 hover:scale-105 hover:shadow-[0_15px_35px_rgba(96,165,250,0.3)] transition-all duration-300",children:"Get Started Today"})}),f.jsx(Ur,{to:"/contact",children:f.jsx(Ze,{size:"lg",variant:"outline",className:"glass text-gray-200 hover:text-white text-lg px-8 py-4 hover:scale-105 hover:border-blue-400/50 hover:shadow-[0_15px_35px_rgba(96,165,250,0.2)] transition-all duration-300",children:"Contact Us"})})]})]})})]})},ale=()=>{const[t,e]=se.useState(!1);se.useEffect(()=>{const r=setTimeout(()=>e(!0),100);return()=>clearTimeout(r)},[]);const n=[{id:1,title:"Auto Insurance",description:"Comprehensive coverage for your vehicles with instant claims processing",features:["Accident Coverage","Theft Protection","Liability Insurance","Instant Claims"],price:"From $50/month",color:"from-blue-500 to-blue-600",icon:""},{id:2,title:"Health Insurance",description:"Healthcare coverage with transparent pricing and fast claim settlements",features:["Medical Coverage","Dental Care","Vision Care","Prescription Drugs"],price:"From $80/month",color:"from-green-500 to-green-600",icon:""},{id:3,title:"Property Insurance",description:"Protect your home and belongings with blockchain-verified coverage",features:["Home Protection","Natural Disasters","Personal Property","Liability Coverage"],price:"From $40/month",color:"from-purple-500 to-purple-600",icon:""},{id:4,title:"Life Insurance",description:"Secure your family's future with transparent and reliable coverage",features:["Death Benefit","Cash Value","Flexible Premiums","Family Protection"],price:"From $30/month",color:"from-red-500 to-red-600",icon:""},{id:5,title:"Business Insurance",description:"Comprehensive coverage for businesses of all sizes",features:["General Liability","Professional Liability","Property Coverage","Cyber Insurance"],price:"From $100/month",color:"from-yellow-500 to-yellow-600",icon:""},{id:6,title:"Travel Insurance",description:"Travel with confidence knowing you're protected worldwide",features:["Trip Cancellation","Medical Coverage","Baggage Protection","Emergency Assistance"],price:"From $20/trip",color:"from-pink-500 to-pink-600",icon:""}];return f.jsxs("div",{className:"min-h-screen text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-blue-500/20 via-emerald-400/10 to-purple-500/20 blur-3xl"}),f.jsx(fb,{}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:`text-center mb-12 sm:mb-16 transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-4 sm:mb-6",children:["Our ",f.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-green-600 bg-clip-text text-transparent",children:"Services"})]}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4",children:"Comprehensive insurance solutions powered by blockchain technology. Get the coverage you need with transparency, security, and speed."})]})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:n.map((r,i)=>f.jsxs(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan transform transition-all duration-300 ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:`${200+i*100}ms`},children:[f.jsxs(Nt,{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center border border-white/20 bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-3xl",children:r.icon}),f.jsx(At,{className:"text-white text-xl",children:r.title}),f.jsx(Ii,{className:"text-gray-300",children:r.description})]}),f.jsxs(Ge,{className:"space-y-4",children:[f.jsx("div",{className:"space-y-2",children:r.features.map((a,o)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full border border-white/20 bg-gradient-to-r from-blue-500/20 to-purple-500/20"}),f.jsx("span",{className:"text-gray-300 text-sm",children:a})]},o))}),f.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[f.jsx("p",{className:"text-white font-bold text-lg mb-4",children:r.price}),f.jsx(Ur,{to:`/service/${r.id}`,children:f.jsx(Ze,{className:"w-full button-pill",children:"Learn More"})})]})]})]},r.id))})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[f.jsxs("div",{className:`text-center mb-12 sm:mb-16 transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:"800ms"},children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Why Choose Our Services?"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"The advantages of blockchain-powered insurance"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1000ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg mx-auto mb-4 flex items-center justify-center border border-white/15 bg-gradient-to-br from-blue-500/80 to-blue-400/60",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Instant Claims"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Get your claims processed instantly through smart contracts"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1200ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg mx-auto mb-4 flex items-center justify-center border border-white/15 bg-gradient-to-br from-emerald-500/80 to-emerald-400/60",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Transparency"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"All transactions are recorded on the blockchain for complete transparency"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1400ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg mx-auto mb-4 flex items-center justify-center border border-white/15 bg-gradient-to-br from-purple-600/80 to-purple-500/60",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Security"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Advanced security through blockchain technology and smart contracts"})]})}),f.jsx(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan text-center transform transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1600ms"},children:f.jsxs(Ge,{className:"p-6",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg mx-auto mb-4 flex items-center justify-center border border-white/15 bg-gradient-to-br from-rose-500/80 to-rose-400/60",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Lower Costs"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Reduced premiums through elimination of intermediaries"})]})})]})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:`text-center transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:"1800ms"},children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-6 sm:mb-8",children:"Choose the perfect insurance plan for your needs"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[f.jsx(Ur,{to:"/signup",children:f.jsx(Ze,{size:"lg",className:"button-pill text-lg px-8 py-4",children:"Get Coverage Now"})}),f.jsx(Ur,{to:"/contact",children:f.jsx(Ze,{size:"lg",variant:"outline",className:"glass text-gray-200 hover:text-white text-lg px-8 py-4",children:"Speak to an Expert"})})]})]})})]})},sle=()=>{const[t,e]=se.useState(!1);se.useEffect(()=>{const o=setTimeout(()=>e(!0),100);return()=>clearTimeout(o)},[]);const[n,r]=se.useState({name:"",email:"",subject:"",message:""}),i=o=>{const{name:s,value:u}=o.target;r(l=>({...l,[s]:u}))},a=o=>{o.preventDefault(),console.log("Contact form submitted:",n),r({name:"",email:"",subject:"",message:""})};return f.jsxs("div",{className:"min-h-screen text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-blue-500/20 via-emerald-400/10 to-purple-500/20 blur-3xl"}),f.jsx(fb,{}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:`text-center mb-12 sm:mb-16 transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-4 sm:mb-6",children:["Get in ",f.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-green-600 bg-clip-text text-transparent",children:"Touch"})]}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto px-4",children:"Have questions about our services? Want to learn more about blockchain insurance? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[f.jsxs(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan transform transition-all duration-500 ${t?"translate-x-0 opacity-100":"translate-x-[-50px] opacity-0"}`,style:{transitionDelay:"200ms"},children:[f.jsxs(Nt,{children:[f.jsx(At,{className:"text-white text-2xl",children:"Send us a Message"}),f.jsx(Ii,{className:"text-gray-400",children:"Fill out the form below and we'll get back to you within 24 hours"})]}),f.jsx(Ge,{children:f.jsxs("form",{onSubmit:a,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(St,{htmlFor:"name",className:"text-gray-300",children:"Full Name"}),f.jsx(Kt,{id:"name",name:"name",type:"text",placeholder:"Enter your full name",value:n.name,onChange:i,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(St,{htmlFor:"email",className:"text-gray-300",children:"Email"}),f.jsx(Kt,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:n.email,onChange:i,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(St,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),f.jsx(Kt,{id:"subject",name:"subject",type:"text",placeholder:"What is this about?",value:n.subject,onChange:i,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 transition-all duration-300 hover:bg-white/10",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(St,{htmlFor:"message",className:"text-gray-300",children:"Message"}),f.jsx("textarea",{id:"message",name:"message",rows:6,placeholder:"Tell us more about your inquiry...",value:n.message,onChange:i,className:"w-full bg-white/5 border border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 rounded-md px-3 py-2 resize-none transition-all duration-300 hover:bg-white/10",required:!0})]}),f.jsx(Ze,{type:"submit",className:"w-full button-pill h-12 hover:scale-105 hover:shadow-[0_15px_35px_rgba(96,165,250,0.3)] transition-all duration-300",children:"Send Message"})]})})]}),f.jsxs("div",{className:`space-y-8 transform transition-all duration-1000 ease-out ${t?"translate-x-0 opacity-100":"translate-x-[50px] opacity-0"}`,style:{transitionDelay:"400ms"},children:[f.jsxs("div",{className:"transform transition-all duration-700 ease-out hover:scale-105",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Contact Information"}),f.jsx("p",{className:"text-gray-300 text-lg mb-8",children:"We're here to help and answer any questions you might have. We look forward to hearing from you."})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-start space-x-4 transform transition-all duration-500 hover:translate-x-2 hover:scale-105",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg glass border border-white/15 flex items-center justify-center flex-shrink-0 hover:border-blue-400/50 hover:shadow-[0_8px_20px_rgba(96,165,250,0.2)] transition-all duration-300",children:f.jsx("svg",{className:"w-6 h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Email"}),f.jsx("p",{className:"text-gray-300",children:"hello@ethsure.com"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"We'll respond within 24 hours"})]})]}),f.jsxs("div",{className:"flex items-start space-x-4 transform transition-all duration-500 hover:translate-x-2 hover:scale-105",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg glass border border-white/15 flex items-center justify-center flex-shrink-0 hover:border-emerald-400/50 hover:shadow-[0_8px_20px_rgba(16,185,129,0.2)] transition-all duration-300",children:f.jsx("svg",{className:"w-6 h-6 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Phone"}),f.jsx("p",{className:"text-gray-300",children:"+1 (555) 123-4567"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Mon-Fri 9AM-6PM EST"})]})]}),f.jsxs("div",{className:"flex items-start space-x-4 transform transition-all duration-500 hover:translate-x-2 hover:scale-105",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg glass border border-white/15 flex items-center justify-center flex-shrink-0 hover:border-purple-400/50 hover:shadow-[0_8px_20px_rgba(168,85,247,0.2)] transition-all duration-300",children:f.jsxs("svg",{className:"w-6 h-6 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Office"}),f.jsx("p",{className:"text-gray-300",children:"123 Blockchain Street"}),f.jsx("p",{className:"text-gray-300",children:"Crypto City, CC 12345"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"United States"})]})]})]}),f.jsxs("div",{className:"pt-6 border-t border-gray-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4 transform transition-all duration-500 hover:scale-105",children:"Follow Us"}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("a",{href:"#","aria-label":"Twitter",className:"w-10 h-10 rounded-lg glass border border-white/15 flex items-center justify-center transition-all duration-300 hover:translate-y-[-4px] hover:scale-110 hover:border-blue-400/50 hover:shadow-[0_12px_25px_rgba(96,165,250,0.25)] hover:rotate-12",children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),f.jsx("a",{href:"#","aria-label":"Facebook",className:"w-10 h-10 rounded-lg glass border border-white/15 flex items-center justify-center transition-all duration-300 hover:translate-y-[-4px] hover:scale-110 hover:border-blue-400/50 hover:shadow-[0_12px_25px_rgba(96,165,250,0.25)] hover:rotate-12",children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),f.jsx("a",{href:"#","aria-label":"LinkedIn",className:"w-10 h-10 rounded-lg glass border border-white/15 flex items-center justify-center transition-all duration-300 hover:translate-y-[-4px] hover:scale-110 hover:border-blue-400/50 hover:shadow-[0_12px_25px_rgba(96,165,250,0.25)] hover:rotate-12",children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),f.jsx("a",{href:"#","aria-label":"GitHub",className:"w-10 h-10 rounded-lg glass border border-white/15 flex items-center justify-center transition-all duration-300 hover:translate-y-[-4px] hover:scale-110 hover:border-gray-400/50 hover:shadow-[0_12px_25px_rgba(156,163,175,0.25)] hover:rotate-12",children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.746-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.017 12.017.017z"})})})]})]})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:[f.jsxs("div",{className:`text-center mb-12 sm:mb-16 transform transition-all duration-1000 ease-out ${t?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:"600ms"},children:[f.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Find answers to common questions about EthSure"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8",children:[f.jsxs(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan transform transition-all duration-500 ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"800ms"},children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"How does blockchain insurance work?"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"Blockchain insurance uses smart contracts to automatically process claims, eliminating the need for intermediaries and ensuring transparency."})})]}),f.jsxs(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan transform transition-all duration-500 ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1000ms"},children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"Is my data secure?"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"Yes, all data is encrypted and stored on the blockchain, providing the highest level of security and privacy."})})]}),f.jsxs(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan transform transition-all duration-500 ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1200ms"},children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"How fast are claims processed?"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"Claims are processed instantly through smart contracts, typically within minutes instead of weeks."})})]}),f.jsxs(Ve,{className:`glass shine border-white/10 hover-scale-105 hover-glow-cyan transform transition-all duration-500 ${t?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:"1400ms"},children:[f.jsx(Nt,{children:f.jsx(At,{className:"text-white",children:"What cryptocurrencies do you accept?"})}),f.jsx(Ge,{children:f.jsx(Ii,{className:"text-gray-300",children:"We accept major cryptocurrencies including Bitcoin, Ethereum, and stablecoins like USDC and USDT."})})]})]})]})]})},ole=()=>{const[t,e]=se.useState(""),n=ni();QD();const r=[{id:"customer",name:"Customer"},{id:"agent",name:"Agent"},{id:"nominee",name:"Nominee"},{id:"company",name:"Insurance Company"}],i=o=>{e(o),console.log("Selected role:",o)},a=()=>{t?(n(`/${t}-dashboard`),localStorage.setItem("role",JSON.stringify(t))):alert("Please select a role to continue.")};return f.jsxs("div",{className:"min-h-screen text-white w-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid pointer-events-none opacity-40"}),f.jsx("div",{className:"absolute -top-24 -right-24 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-blue-500/20 via-emerald-400/10 to-purple-500/20 blur-3xl"}),f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8 relative",children:f.jsxs("div",{className:"enhanced-card p-6 sm:p-8 lg:p-10 w-full max-w-sm sm:max-w-md lg:max-w-lg relative z-10 fade-in",children:[f.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-10",children:[f.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 rounded-xl sm:rounded-2xl mx-auto mb-3 sm:mb-4 flex items-center justify-center pulse-glow",children:f.jsx("span",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white",children:"E"})}),f.jsx("h2",{className:"text-white text-2xl sm:text-3xl font-bold mb-2",children:"Choose Your Role"}),f.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Select your role:"})]}),f.jsx("div",{className:"space-y-3 sm:space-y-4 mb-6 sm:mb-8",children:r.map(o=>f.jsx("button",{onClick:()=>i(o.id),className:`w-full py-3 sm:py-4 lg:py-5 px-4 sm:px-6 lg:px-8 rounded-xl sm:rounded-2xl border-2 transition-all duration-300 text-base sm:text-lg font-semibold hover:scale-105 ${t===o.id?"border-blue-500 bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 shadow-lg":"border-white/20 text-gray-300 hover:border-white/40 hover:text-white hover:bg-white/5"}`,children:o.name},o.id))}),t&&f.jsx("div",{className:"text-center",children:f.jsxs("button",{onClick:a,className:"btn-primary px-8 sm:px-10 lg:px-12 py-3 sm:py-4 rounded-xl sm:rounded-2xl text-base sm:text-lg font-semibold w-full sm:w-auto",children:["Continue as ",r.find(o=>o.id===t)?.name]})})]})})]})},lle=({withLayout:t=!1})=>{const e=ni(),n=la(),[r,i]=se.useState(null),[a,o]=se.useState(!1),[s,u]=se.useState(vk),l=C=>{i(C),o(!0)},h=()=>{e("/agent/add-customer")};vk.slice(0,3);const p=[{id:4,name:"Diana Rodriguez",email:"diana.rodriguez@email.com",phone:"+1 (555) 456-7890",location:"Miami, FL",requestedPolicy:"Life Insurance Premium",estimatedPremium:"0.12/month",requestDate:"2024-01-22",priority:"High"},{id:5,name:"Ethan Wilson",email:"ethan.wilson@email.com",phone:"+1 (555) 567-8901",location:"Seattle, WA",requestedPolicy:"Health Insurance Basic",estimatedPremium:"0.10/month",requestDate:"2024-01-23",priority:"Medium"},{id:6,name:"Fiona Brown",email:"fiona.brown@email.com",phone:"+1 (555) 678-9012",location:"Austin, TX",requestedPolicy:"Auto Insurance Standard",estimatedPremium:"0.06/month",requestDate:"2024-01-24",priority:"Low"}],g=Cp,v=Np(e),y=()=>mb(n),w=f.jsxs("div",{className:"space-y-6 pt-20",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(mi,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Customer"})," ",f.jsx("span",{className:"gradient-text",children:"Management"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"Manage your existing customers and review new requests"})]})]})}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),f.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Verified Agent"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsx(Ve,{className:"group hover:scale-105 transition-transform duration-200",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Active Customers"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(C=>C.status==="Active").length})]}),f.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-emerald-500/20 to-emerald-400/20",children:f.jsx(mi,{className:"w-6 h-6 text-emerald-400"})})]})})}),f.jsx(Ve,{className:"group hover:scale-105 transition-transform duration-200",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Pending Requests"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:p.length})]}),f.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-amber-500/20 to-amber-400/20",children:f.jsx(Vo,{className:"w-6 h-6 text-amber-400"})})]})})}),f.jsx(Ve,{className:"group hover:scale-105 transition-transform duration-200",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Total Customers"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:s.length+p.length})]}),f.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-blue-500/20 to-blue-400/20",children:f.jsx(Ey,{className:"w-6 h-6 text-blue-400"})})]})})})]}),f.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[f.jsxs(Ve,{className:"hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(mi,{className:"w-5 h-5 font-bold"}),"Existing Customers"]}),f.jsxs(Ze,{variant:"secondary",size:"sm",onClick:h,children:[f.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-4",children:s.map(C=>f.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors group",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white",children:C.name}),f.jsx("p",{className:"text-white/70 text-sm",children:C.policy})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j5(C.status)}`,children:C.status}),f.jsx(Ze,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 h-6 w-6",onClick:()=>l(C),children:f.jsx(Fa,{className:"w-3 h-3"})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(rp,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:C.email})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(ip,{className:"w-4 h-4"}),f.jsx("span",{children:C.phone})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(T4,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:C.location})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(Ou,{className:"w-4 h-4"}),f.jsx("span",{children:C.joinDate})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Premium"}),f.jsx("p",{className:"text-white font-medium",children:C.premium})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ze,{size:"sm",variant:"outline",children:"Contact"}),f.jsx(Ze,{size:"sm",children:"View Details"})]})]})]},C.id))})})]}),f.jsxs(Ve,{className:"hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(Vo,{className:"w-5 h-5 font-bold"}),"Waiting for Assignment"]}),f.jsx(Ze,{variant:"secondary",size:"sm",children:"View All"})]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-4",children:p.map(C=>f.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white",children:C.name}),f.jsx("p",{className:"text-white/70 text-sm",children:C.requestedPolicy})]}),f.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M5(C.priority)}`,children:[C.priority," Priority"]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(rp,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:C.email})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(ip,{className:"w-4 h-4"}),f.jsx("span",{children:C.phone})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(T4,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:C.location})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[f.jsx(Ou,{className:"w-4 h-4"}),f.jsx("span",{children:C.requestDate})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Estimated Premium"}),f.jsx("p",{className:"text-white font-medium",children:C.estimatedPremium})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ze,{size:"sm",variant:"outline",children:"Decline"}),f.jsx(Ze,{size:"sm",className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700",children:"Accept"})]})]})]},C.id))})})]})]}),f.jsx(_B,{customer:r,isOpen:a,onClose:()=>o(!1)})]});return t?f.jsx(da,{sidebarItems:v,user:g,currentView:y(),fullPageView:!1,children:w}):w},cle=({withLayout:t=!1})=>{const e=ni(),n=la(),r=[{id:"#CL-2024-001",customer:"Alice Johnson",customerEmail:"alice.johnson@email.com",amount:"0.25",status:"Under Review",priority:"High",type:"Health",submittedDate:"2024-01-20",lastUpdated:"2024-01-22",description:"Emergency room visit for chest pain",documents:["Medical Report","Hospital Bill","Insurance Card"],estimatedProcessingTime:"3-5 business days"},{id:"#CL-2024-002",customer:"Bob Chen",customerEmail:"bob.chen@email.com",amount:"0.18",status:"Documentation Pending",priority:"Medium",type:"Auto",submittedDate:"2024-01-18",lastUpdated:"2024-01-21",description:"Vehicle damage from collision",documents:["Police Report","Repair Estimate"],estimatedProcessingTime:"5-7 business days"},{id:"#CL-2024-003",customer:"Charlie Davis",customerEmail:"charlie.davis@email.com",amount:"0.35",status:"Ready for Approval",priority:"High",type:"Property",submittedDate:"2024-01-15",lastUpdated:"2024-01-23",description:"Water damage to basement",documents:["Damage Assessment","Repair Quotes","Photos"],estimatedProcessingTime:"2-3 business days"},{id:"#CL-2024-004",customer:"Diana Rodriguez",customerEmail:"diana.rodriguez@email.com",amount:"0.12",status:"Approved",priority:"Low",type:"Health",submittedDate:"2024-01-10",lastUpdated:"2024-01-24",description:"Routine dental procedure",documents:["Dental Report","Receipt"],estimatedProcessingTime:"Completed"}],i=h=>{switch(h){case"Health":return"text-gray-300 bg-gray-700/50";case"Auto":return"text-gray-300 bg-gray-700/50";case"Property":return"text-gray-300 bg-gray-700/50";case"Life":return"text-gray-300 bg-gray-700/50";default:return"text-gray-400 bg-gray-700/50"}},a=[{title:"Total Claims",value:r.length.toString(),icon:sn,color:"from-blue-500/20 to-blue-400/20",iconColor:"text-blue-400"},{title:"Under Review",value:r.filter(h=>h.status==="Under Review").length.toString(),icon:Vo,color:"from-amber-500/20 to-amber-400/20",iconColor:"text-amber-400"},{title:"Ready for Approval",value:r.filter(h=>h.status==="Ready for Approval").length.toString(),icon:cs,color:"from-purple-500/20 to-purple-400/20",iconColor:"text-purple-400"},{title:"Approved",value:r.filter(h=>h.status==="Approved").length.toString(),icon:cs,color:"from-emerald-500/20 to-emerald-400/20",iconColor:"text-emerald-400"}],o=Cp,s=Np(e),u=()=>mb(n),l=f.jsxs("div",{className:"space-y-6 pt-20",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(sn,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Claims"})," ",f.jsx("span",{className:"gradient-text",children:"Management"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"Review and process insurance claims for your customers"})]})]})}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/20 border border-emerald-500/30",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),f.jsx("span",{className:"text-sm text-emerald-400 font-medium",children:"Verified Agent"})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:a.map((h,p)=>f.jsx(Ve,{className:"group hover:scale-105 transition-transform duration-200",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:h.title}),f.jsx("p",{className:"text-2xl font-bold text-white",children:h.value})]}),f.jsx("div",{className:`p-3 rounded-full bg-gradient-to-r ${h.color}`,children:f.jsx(h.icon,{className:`w-6 h-6 ${h.iconColor}`})})]})})},p))}),f.jsxs(Ve,{className:"hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(At,{className:"flex items-center gap-2 font-bold",children:[f.jsx(sn,{className:"w-5 h-5 font-bold"}),"All Claims"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ze,{variant:"secondary",size:"sm",children:"Export Report"}),f.jsx(Ze,{size:"sm",children:"New Claim"})]})]})}),f.jsx(Ge,{children:f.jsx("div",{className:"space-y-4",children:r.map(h=>f.jsxs("div",{className:"p-6 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:h.id}),f.jsx("p",{className:"text-white/70",children:h.description})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j5(h.status)}`,children:h.status}),f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M5(h.priority)}`,children:h.priority}),f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i(h.type)}`,children:h.type})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(os,{className:"w-5 h-5 text-white/60"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Customer"}),f.jsx("p",{className:"text-white font-medium",children:h.customer}),f.jsx("p",{className:"text-white/60 text-xs",children:h.customerEmail})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(wy,{className:"w-5 h-5 text-white/60"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Amount"}),f.jsx("p",{className:"text-white font-medium text-lg",children:h.amount})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ou,{className:"w-5 h-5 text-white/60"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-sm",children:"Submitted"}),f.jsx("p",{className:"text-white font-medium",children:h.submittedDate}),f.jsxs("p",{className:"text-white/60 text-xs",children:["Updated: ",h.lastUpdated]})]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-white/60 text-sm mb-2",children:["Documents (",h.documents.length,")"]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:h.documents.map((p,g)=>f.jsx("span",{className:"px-2 py-1 rounded bg-white/10 text-white/80 text-sm",children:p},g))})]}),f.jsx("div",{className:"mb-4 p-3 rounded-lg bg-white/5 border border-white/10",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Vo,{className:"w-4 h-4 text-white/60"}),f.jsx("span",{className:"text-white/60 text-sm",children:"Estimated Processing Time:"}),f.jsx("span",{className:"text-white font-medium",children:h.estimatedProcessingTime})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs(Ze,{size:"sm",variant:"outline",className:"flex items-center gap-2",children:[f.jsx(Fa,{className:"w-4 h-4"}),"View Details"]}),f.jsxs(Ze,{size:"sm",variant:"outline",className:"flex items-center gap-2",children:[f.jsx(Go,{className:"w-4 h-4"}),"Download Docs"]}),f.jsxs(Ze,{size:"sm",variant:"outline",className:"flex items-center gap-2",children:[f.jsx(aoe,{className:"w-4 h-4"}),"Contact Customer"]}),h.status==="Ready for Approval"&&f.jsx(Ze,{size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:"Approve Claim"}),h.status==="Under Review"&&f.jsx(Ze,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700",children:"Request More Info"})]})]},h.id))})})]})]});return t?f.jsx(da,{sidebarItems:s,user:o,currentView:u(),fullPageView:!1,children:l}):l},ule=({isOpen:t,onClose:e,customers:n=[],withLayout:r=!1})=>{const i=ni(),a=la(),[o,s]=se.useState({customerId:"",policyType:"",coverageAmount:"",premiumAmount:"",startDate:"",endDate:"",beneficiary:"",description:"",riskAssessment:"Low",paymentFrequency:"Monthly"}),[u,l]=se.useState(1),[h,p]=se.useState(!1),g=[{value:"health",label:"Health Insurance",description:"Medical coverage and hospitalization"},{value:"life",label:"Life Insurance",description:"Death benefit and financial security"},{value:"auto",label:"Auto Insurance",description:"Vehicle damage and liability coverage"},{value:"property",label:"Property Insurance",description:"Home and property protection"},{value:"travel",label:"Travel Insurance",description:"Trip cancellation and medical coverage"},{value:"business",label:"Business Insurance",description:"Commercial liability and property"}],v=[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"semi-annual",label:"Semi-Annual"},{value:"annual",label:"Annual"}],y=[{value:"low",label:"Low Risk",color:"text-emerald-400"},{value:"medium",label:"Medium Risk",color:"text-yellow-400"},{value:"high",label:"High Risk",color:"text-red-400"}],w=(D,$)=>{s(T=>({...T,[D]:$}))},C=()=>{u===1&&o.customerId?l(2):u===2&&o.policyType&&o.coverageAmount&&o.premiumAmount&&l(3)},x=()=>{u>1&&l(u-1)},M=async()=>{p(!0),await new Promise(D=>setTimeout(D,2e3)),p(!1),e(),s({customerId:"",policyType:"",coverageAmount:"",premiumAmount:"",startDate:"",endDate:"",beneficiary:"",description:"",riskAssessment:"Low",paymentFrequency:"Monthly"}),l(1)},k=n.find(D=>D.id.toString()===o.customerId),z=g.find(D=>D.value===o.policyType);if(!t)return null;const P=Cp,K=Np(i),W=()=>mb(a),B=f.jsxs("div",{className:"text-white w-full space-y-8 pt-20",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-xl glass shine",children:f.jsx(Qt,{className:"w-8 h-8 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold leading-tight",children:["Create New ",f.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Policy"})]}),f.jsxs("p",{className:"text-xl text-gray-300 mt-2",children:["Step ",u," of 3 - Create a comprehensive insurance policy"]})]})]})}),f.jsx("div",{className:"flex items-center gap-4",children:f.jsx(Ze,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white hover:bg-white/10 p-3 rounded-xl transition-all duration-200",children:f.jsx(us,{className:"w-6 h-6"})})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsx("div",{className:"flex items-center gap-2",children:[1,2,3].map(D=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300 ${D<=u?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"bg-gray-700 text-gray-400"}`,children:D<u?f.jsx(cs,{className:"w-4 h-4"}):D}),D<3&&f.jsx("div",{className:`w-12 h-1 mx-2 transition-all duration-300 ${D<u?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-700"}`})]},D))})}),f.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[u===1&&f.jsx("div",{className:"space-y-6",children:f.jsxs(Ve,{className:"glass border-white/10 hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(os,{className:"w-5 h-5"}),"Select Customer"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"customer",className:"text-white",children:"Customer"}),f.jsxs("select",{id:"customer",value:o.customerId,onChange:D=>w("customerId",D.target.value),className:"w-full mt-2 p-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",children:[f.jsx("option",{value:"",children:"Select a customer"}),n.map(D=>f.jsxs("option",{value:D.id,children:[D.name," - ",D.policy]},D.id))]})]}),k&&f.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 animate-fadeInUp",children:[f.jsx("h4",{className:"font-medium text-blue-400 mb-2",children:"Selected Customer"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Name:"}),f.jsx("p",{className:"text-white",children:k.name})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Current Policy:"}),f.jsx("p",{className:"text-white",children:k.policy})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Status:"}),f.jsx("p",{className:"text-green-400",children:k.status})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400",children:"Premium:"}),f.jsx("p",{className:"text-white",children:k.premium})]})]})]})]})})]})}),u===2&&f.jsx("div",{className:"space-y-6",children:f.jsxs(Ve,{className:"glass border-white/10 hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Qt,{className:"w-5 h-5"}),"Policy Details"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"policyType",className:"text-white",children:"Policy Type"}),f.jsxs("select",{id:"policyType",value:o.policyType,onChange:D=>w("policyType",D.target.value),className:"w-full mt-2 p-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",children:[f.jsx("option",{value:"",children:"Select policy type"}),g.map(D=>f.jsx("option",{value:D.value,children:D.label},D.value))]}),z&&f.jsx("p",{className:"text-gray-400 text-sm mt-1",children:z.description})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"coverageAmount",className:"text-white",children:"Coverage Amount"}),f.jsx(Kt,{id:"coverageAmount",type:"text",placeholder:"e.g., $500,000",value:o.coverageAmount,onChange:D=>w("coverageAmount",D.target.value),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10"})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"premiumAmount",className:"text-white",children:"Premium Amount"}),f.jsx(Kt,{id:"premiumAmount",type:"text",placeholder:"e.g., 0.15/month",value:o.premiumAmount,onChange:D=>w("premiumAmount",D.target.value),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"startDate",className:"text-white",children:"Start Date"}),f.jsx(Kt,{id:"startDate",type:"date",value:o.startDate,onChange:D=>w("startDate",D.target.value),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10"})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"endDate",className:"text-white",children:"End Date"}),f.jsx(Kt,{id:"endDate",type:"date",value:o.endDate,onChange:D=>w("endDate",D.target.value),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10"})]})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"beneficiary",className:"text-white",children:"Beneficiary"}),f.jsx(Kt,{id:"beneficiary",type:"text",placeholder:"Beneficiary name",value:o.beneficiary,onChange:D=>w("beneficiary",D.target.value),className:"mt-2 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10"})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"description",className:"text-white",children:"Description"}),f.jsx("textarea",{id:"description",placeholder:"Additional policy details...",value:o.description,onChange:D=>w("description",D.target.value),className:"w-full mt-2 p-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder:text-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 resize-none transition-all duration-300 hover:bg-white/10",rows:3})]})]})})]})}),u===3&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Ve,{className:"glass border-white/10 hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(wy,{className:"w-5 h-5"}),"Payment & Risk Assessment"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"paymentFrequency",className:"text-white",children:"Payment Frequency"}),f.jsx("select",{id:"paymentFrequency",value:o.paymentFrequency,onChange:D=>w("paymentFrequency",D.target.value),className:"w-full mt-2 p-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",children:v.map(D=>f.jsx("option",{value:D.value,children:D.label},D.value))})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"riskAssessment",className:"text-white",children:"Risk Assessment"}),f.jsx("select",{id:"riskAssessment",value:o.riskAssessment,onChange:D=>w("riskAssessment",D.target.value),className:"w-full mt-2 p-3 rounded-lg bg-white/5 border border-white/10 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-300 hover:bg-white/10",children:y.map(D=>f.jsx("option",{value:D.value,children:D.label},D.value))})]})]})})]}),f.jsxs(Ve,{className:"glass border-white/10 hover:border-blue-400/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-300",children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(sn,{className:"w-5 h-5"}),"Policy Summary"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Customer:"}),f.jsx("span",{className:"text-white",children:k?.name})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Policy Type:"}),f.jsx("span",{className:"text-white",children:z?.label})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Coverage:"}),f.jsx("span",{className:"text-white",children:o.coverageAmount})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Premium:"}),f.jsx("span",{className:"text-white",children:o.premiumAmount})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Payment:"}),f.jsx("span",{className:"text-white",children:o.paymentFrequency})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-400",children:"Risk Level:"}),f.jsx("span",{className:`${y.find(D=>D.value===o.riskAssessment)?.color}`,children:o.riskAssessment})]})]})})]})]}),f.jsxs("div",{className:"flex justify-between pt-6",children:[f.jsx(Ze,{variant:"outline",onClick:u===1?e:x,disabled:h,children:u===1?"Cancel":"Previous"}),f.jsx("div",{className:"flex gap-3",children:u<3?f.jsx(Ze,{onClick:C,disabled:u===1&&!o.customerId||u===2&&(!o.policyType||!o.coverageAmount||!o.premiumAmount),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Next"}):f.jsx(Ze,{onClick:M,disabled:h,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:h?"Creating Policy...":"Create Policy"})})]})]})]});return r?f.jsx(da,{sidebarItems:K,user:P,currentView:W(),fullPageView:!1,children:B}):B},dle=({isOpen:t,onClose:e,onCustomerAdded:n,withLayout:r=!1})=>{const i=ni(),[a,o]=se.useState({firstName:"",lastName:"",email:"",phone:"",address:"",dateOfBirth:"",occupation:"",annualIncome:"",emergencyContact:"",emergencyPhone:"",preferredContact:"email",riskProfile:"low"}),[s,u]=se.useState(!1),l=(w,C)=>o(x=>({...x,[w]:C})),h=async w=>{w.preventDefault(),u(!0),await new Promise(x=>setTimeout(x,2e3));const C={id:Date.now(),name:`${a.firstName} ${a.lastName}`,email:a.email,phone:a.phone,address:a.address,dateOfBirth:a.dateOfBirth,occupation:a.occupation,annualIncome:a.annualIncome,emergencyContact:a.emergencyContact,emergencyPhone:a.emergencyPhone,preferredContact:a.preferredContact,riskProfile:a.riskProfile,status:"Pending",policy:"No Policy",premium:"N/A",joinDate:new Date().toISOString().split("T")[0],lastContact:new Date().toISOString().split("T")[0]};n&&n(C),u(!1),e(),o({firstName:"",lastName:"",email:"",phone:"",address:"",dateOfBirth:"",occupation:"",annualIncome:"",emergencyContact:"",emergencyPhone:"",preferredContact:"email",riskProfile:"low"})};if(!t)return null;const p=Cp,g=Np(i),v=()=>"customers",y=f.jsxs("div",{className:"text-white w-full space-y-8 pt-12",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(Ey,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:["Add New ",f.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Customer"})]}),f.jsx("p",{className:"text-xl text-gray-300 mt-2",children:"Enter customer information to create a new profile"})]})]})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Ze,{variant:"outline",size:"sm",onClick:e,className:"text-gray-300 hover:text-white hover:bg-white/10 border-white/20",children:" Back to Dashboard"}),f.jsx(Ze,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-white hover:bg-white/10 p-3 rounded-xl transition-all duration-200",children:f.jsx(us,{className:"w-6 h-6"})})]})]}),f.jsxs("form",{onSubmit:h,className:"space-y-6",children:[f.jsxs(Ve,{className:Yr.cardClass,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Ey,{className:"w-5 h-5"}),"Personal Information"]})}),f.jsxs(Ge,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"firstName",className:"text-white",children:"First Name"}),f.jsx(Kt,{id:"firstName",type:"text",placeholder:"Enter first name",value:a.firstName,onChange:w=>l("firstName",w.target.value),className:Yr.inputClass,required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"lastName",className:"text-white",children:"Last Name"}),f.jsx(Kt,{id:"lastName",type:"text",placeholder:"Enter last name",value:a.lastName,onChange:w=>l("lastName",w.target.value),className:Yr.inputClass,required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"email",className:"text-white",children:"Email Address"}),f.jsx(Kt,{id:"email",type:"email",placeholder:"customer@email.com",value:a.email,onChange:w=>l("email",w.target.value),className:Yr.inputClass,required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"phone",className:"text-white",children:"Phone Number"}),f.jsx(Kt,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:a.phone,onChange:w=>l("phone",w.target.value),className:Yr.inputClass,required:!0})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx(St,{htmlFor:"address",className:"text-white",children:"Address"}),f.jsx(Kt,{id:"address",type:"text",placeholder:"123 Main Street, City, State, ZIP",value:a.address,onChange:w=>l("address",w.target.value),className:Yr.inputClass,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"dateOfBirth",className:"text-white",children:"Date of Birth"}),f.jsx(Kt,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:w=>l("dateOfBirth",w.target.value),className:Yr.inputClass,required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"occupation",className:"text-white",children:"Occupation"}),f.jsx(Kt,{id:"occupation",type:"text",placeholder:"Software Engineer",value:a.occupation,onChange:w=>l("occupation",w.target.value),className:Yr.inputClass,required:!0})]})]})]})]}),f.jsxs(Ve,{className:Yr.cardClass,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(Qt,{className:"w-5 h-5"}),"Financial Information"]})}),f.jsx(Ge,{children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"annualIncome",className:"text-white",children:"Annual Income"}),f.jsx(Kt,{id:"annualIncome",type:"text",placeholder:"$50,000",value:a.annualIncome,onChange:w=>l("annualIncome",w.target.value),className:Yr.inputClass,required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"riskProfile",className:"text-white",children:"Risk Profile"}),f.jsxs("select",{id:"riskProfile",value:a.riskProfile,onChange:w=>l("riskProfile",w.target.value),className:Yr.selectClass,children:[f.jsx("option",{value:"low",children:"Low Risk"}),f.jsx("option",{value:"medium",children:"Medium Risk"}),f.jsx("option",{value:"high",children:"High Risk"})]})]})]})})]}),f.jsxs(Ve,{className:Yr.cardClass,children:[f.jsx(Nt,{children:f.jsxs(At,{className:"flex items-center gap-2 text-white",children:[f.jsx(ip,{className:"w-5 h-5"}),"Emergency Contact"]})}),f.jsxs(Ge,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(St,{htmlFor:"emergencyContact",className:"text-white",children:"Emergency Contact Name"}),f.jsx(Kt,{id:"emergencyContact",type:"text",placeholder:"John Doe",value:a.emergencyContact,onChange:w=>l("emergencyContact",w.target.value),className:Yr.inputClass,required:!0})]}),f.jsxs("div",{children:[f.jsx(St,{htmlFor:"emergencyPhone",className:"text-white",children:"Emergency Contact Phone"}),f.jsx(Kt,{id:"emergencyPhone",type:"tel",placeholder:"+1 (555) 987-6543",value:a.emergencyPhone,onChange:w=>l("emergencyPhone",w.target.value),className:Yr.inputClass,required:!0})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx(St,{htmlFor:"preferredContact",className:"text-white",children:"Preferred Contact Method"}),f.jsxs("select",{id:"preferredContact",value:a.preferredContact,onChange:w=>l("preferredContact",w.target.value),className:Yr.selectClass,children:[f.jsx("option",{value:"email",children:"Email"}),f.jsx("option",{value:"phone",children:"Phone"}),f.jsx("option",{value:"sms",children:"SMS"})]})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(Ze,{type:"button",variant:"outline",onClick:e,disabled:s,children:"Cancel"}),f.jsx(Ze,{type:"submit",disabled:s,className:Yr.buttonClass,children:s?"Adding Customer...":"Add Customer"})]})]})]});return r?f.jsx(da,{sidebarItems:g,user:p,currentView:v(),fullPageView:!1,children:y}):y},fle=({withLayout:t=!1})=>{const e=ni(),[n,r]=se.useState(""),[i,a]=se.useState("All"),[o,s]=se.useState("All"),u=[{id:1,name:"Agent Smith",email:"smith@ethsure.com",phone:"+1-555-0123",location:"New York, NY",customers:12,status:"Active",verified:!0,performance:"95%",joinDate:"2023-01-15",totalPolicies:45,totalClaims:8,successRate:"98%"},{id:2,name:"Agent Doe",email:"doe@ethsure.com",phone:"+1-555-0124",location:"Los Angeles, CA",customers:9,status:"Active",verified:!0,performance:"88%",joinDate:"2023-03-20",totalPolicies:32,totalClaims:5,successRate:"94%"},{id:3,name:"Agent Johnson",email:"johnson@ethsure.com",phone:"+1-555-0125",location:"Chicago, IL",customers:15,status:"Pending",verified:!1,performance:"92%",joinDate:"2024-01-10",totalPolicies:28,totalClaims:3,successRate:"96%"},{id:4,name:"Agent Brown",email:"brown@ethsure.com",phone:"+1-555-0126",location:"Miami, FL",customers:7,status:"Active",verified:!0,performance:"91%",joinDate:"2023-06-15",totalPolicies:22,totalClaims:4,successRate:"93%"},{id:5,name:"Agent Wilson",email:"wilson@ethsure.com",phone:"+1-555-0127",location:"Seattle, WA",customers:0,status:"Requesting",verified:!1,performance:"N/A",joinDate:"2024-02-01",totalPolicies:0,totalClaims:0,successRate:"N/A"},{id:6,name:"Agent Davis",email:"davis@ethsure.com",phone:"+1-555-0128",location:"Austin, TX",customers:0,status:"Waiting Verification",verified:!1,performance:"N/A",joinDate:"2024-02-05",totalPolicies:0,totalClaims:0,successRate:"N/A"},{id:7,name:"Agent Miller",email:"miller@ethsure.com",phone:"+1-555-0129",location:"Denver, CO",customers:0,status:"Requesting",verified:!1,performance:"N/A",joinDate:"2024-02-10",totalPolicies:0,totalClaims:0,successRate:"N/A"}],l={name:"Insurance Admin",role:"Company",email:"company@ethsure.com",wallet:"0x1234...abcd",company:"EthSure Insurance"},h=[{id:"overview",icon:Bu,label:"Overview",onClick:()=>e("/company-dashboard")},{id:"agents",icon:mi,label:"Agents",onClick:()=>e("/company/agents")},{id:"customers",icon:_p,label:"Customers",onClick:()=>e("/company/customers")},{id:"policies",icon:sn,label:"Policies",onClick:()=>e("/company/policies")},{id:"claims",icon:Vs,label:"Claims",onClick:()=>e("/company/claims")}],p=x=>({Active:"text-emerald-400 bg-emerald-500/20 border border-emerald-500/30",Pending:"text-amber-400 bg-amber-500/20 border border-amber-500/30",Requesting:"text-blue-400 bg-blue-500/20 border border-blue-500/30","Waiting Verification":"text-purple-400 bg-purple-500/20 border border-purple-500/30"})[x]||"text-gray-400 bg-gray-700/50",g=se.useMemo(()=>[...new Set(u.map(x=>x.location))].sort(),[u]),v=se.useMemo(()=>[...new Set(u.map(x=>x.status))].sort(),[u]),y=se.useMemo(()=>u.filter(x=>{const M=x.name.toLowerCase().includes(n.toLowerCase())||x.email.toLowerCase().includes(n.toLowerCase())||x.location.toLowerCase().includes(n.toLowerCase()),k=i==="All"||x.status===i,z=o==="All"||x.location===o;return M&&k&&z}),[u,n,i,o]),w=()=>{r(""),a("All"),s("All")},C=f.jsxs("div",{className:"space-y-6 pt-20",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(mi,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Agent"})," ",f.jsx("span",{className:"gradient-text",children:"Management"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"Oversee all registered insurance agents"})]})]})}),f.jsx("div",{className:"flex gap-3",children:f.jsxs(Ze,{className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 px-6 py-3 rounded-xl transition-all duration-200 hover:scale-105",children:[f.jsx(bB,{className:"w-5 h-5 mr-2"}),"Add Agent"]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Agents"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.length})]}),f.jsx(mi,{className:"w-8 h-8 text-cyan-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-emerald-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Active Agents"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(x=>x.status==="Active").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-emerald-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-amber-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Pending Verification"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(x=>x.status==="Pending"||x.status==="Waiting Verification").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-amber-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-purple-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Avg Performance"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:"92%"})]}),f.jsx(Qt,{className:"w-8 h-8 text-purple-400"})]})})})]}),f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[f.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[f.jsx(hb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),f.jsx(Kt,{type:"text",placeholder:"Search agents by name, email, or location...",value:n,onChange:x=>r(x.target.value),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20"})]}),f.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 min-w-[150px]",children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Statuses"}),v.map(x=>f.jsx("option",{value:x,className:"bg-gray-800",children:x},x))]}),f.jsxs("select",{value:o,onChange:x=>s(x.target.value),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 min-w-[150px]",children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Locations"}),g.map(x=>f.jsx("option",{value:x,className:"bg-gray-800",children:x},x))]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-gray-300 text-sm",children:[y.length," of ",u.length," agents"]}),(n||i!=="All"||o!=="All")&&f.jsxs(Ze,{variant:"outline",size:"sm",onClick:w,className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(us,{className:"w-4 h-4 mr-2"}),"Clear Filters"]}),f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(Go,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h2",{className:"text-xl font-semibold text-white",children:y.length===u.length?"All Agents":`Filtered Agents (${y.length})`})}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(x=>f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsxs(Ge,{className:"p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 flex items-center justify-center",children:f.jsx("span",{className:"text-white font-bold text-lg",children:x.name.split(" ").map(M=>M[0]).join("")})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:x.name}),f.jsx("p",{className:"text-gray-400 text-sm",children:x.email})]})]}),f.jsx(fi,{variant:"outline",className:p(x.status),children:x.status})]}),f.jsxs("div",{className:"space-y-2 text-gray-300 text-sm",children:[f.jsxs("p",{children:["Phone: ",x.phone]}),f.jsxs("p",{children:["Location: ",x.location]}),f.jsxs("p",{children:["Customers: ",x.customers]}),f.jsxs("p",{children:["Performance: ",f.jsx("span",{className:"font-medium text-white",children:x.performance})]})]}),f.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(Fa,{className:"w-4 h-4 mr-2"}),"View"]}),f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(boe,{className:"w-4 h-4 mr-2"}),"Edit"]}),f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-red-400/20 text-red-300 hover:bg-red-500/10 hover:border-red-400/30 hover:text-red-200 transition-all duration-200",children:[f.jsx(xoe,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})},x.id))})]})]});return t?f.jsx(da,{sidebarItems:h,user:l,currentView:"agents",fullPageView:!1,children:C}):C},hle=({withLayout:t=!1})=>{const e=ni(),[n,r]=se.useState(""),[i,a]=se.useState("All"),[o,s]=se.useState("All"),u=[{id:1,name:"John Doe",email:"john.doe@email.com",phone:"+1-555-1001",location:"New York, NY",policies:3,totalPremium:"1,92,000",status:"Active",verified:!0,joinDate:"2023-02-15",lastPayment:"2024-01-15",agent:{name:"Agent Smith",email:"smith@ethsure.com",phone:"+1-555-0123",verified:!0,performance:"95%"},customerPolicies:[{id:1,policyNumber:"POL-2024-001",type:"Life Insurance",premium:"16,000/month",coverage:"80,00,000",status:"Active",startDate:"2024-01-15",endDate:"2025-01-15"},{id:2,policyNumber:"POL-2024-002",type:"Health Insurance",premium:"12,000/month",coverage:"40,00,000",status:"Active",startDate:"2023-07-01",endDate:"2024-07-01"}]},{id:2,name:"Jane Smith",email:"jane.smith@email.com",phone:"+1-555-1002",location:"Los Angeles, CA",policies:2,totalPremium:"1,44,000",status:"Active",verified:!0,joinDate:"2023-03-01",lastPayment:"2024-01-20",agent:{name:"Agent Doe",email:"doe@ethsure.com",phone:"+1-555-0124",verified:!0,performance:"88%"},customerPolicies:[{id:1,policyNumber:"POL-2024-003",type:"Auto Insurance",premium:"8,000/month",coverage:"16,00,000",status:"Active",startDate:"2024-01-01",endDate:"2025-01-01"}]},{id:3,name:"Mike Johnson",email:"mike.johnson@email.com",phone:"+1-555-1003",location:"Chicago, IL",policies:1,totalPremium:"64,000",status:"Pending",verified:!1,joinDate:"2024-01-25",lastPayment:"N/A",agent:{name:"Agent Johnson",email:"johnson@ethsure.com",phone:"+1-555-0125",verified:!1,performance:"92%"},customerPolicies:[]}],l={name:"Insurance Admin",role:"Company",email:"company@ethsure.com",wallet:"0x1234...abcd",company:"EthSure Insurance"},h=[{id:"overview",icon:Bu,label:"Overview",onClick:()=>e("/company-dashboard")},{id:"agents",icon:mi,label:"Agents",onClick:()=>e("/company/agents")},{id:"customers",icon:_p,label:"Customers",onClick:()=>e("/company/customers")},{id:"policies",icon:sn,label:"Policies",onClick:()=>e("/company/policies")},{id:"claims",icon:Vs,label:"Claims",onClick:()=>e("/company/claims")}],p=x=>({Active:"text-emerald-400 bg-emerald-500/20 border border-emerald-500/30",Pending:"text-amber-400 bg-amber-500/20 border border-amber-500/30"})[x]||"text-gray-400 bg-gray-700/50",g=se.useMemo(()=>[...new Set(u.map(x=>x.agent.name))].sort(),[u]),v=se.useMemo(()=>[...new Set(u.map(x=>x.status))].sort(),[u]),y=se.useMemo(()=>u.filter(x=>{const M=x.name.toLowerCase().includes(n.toLowerCase())||x.email.toLowerCase().includes(n.toLowerCase())||x.location.toLowerCase().includes(n.toLowerCase()),k=i==="All"||x.status===i,z=o==="All"||x.agent.name===o;return M&&k&&z}),[u,n,i,o]),w=()=>{r(""),a("All"),s("All")},C=f.jsxs("div",{className:"space-y-6 pt-20",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(R4,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Customer"})," ",f.jsx("span",{className:"gradient-text",children:"Overview"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"View and manage all customers across the company"})]})]})})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Customers"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.length})]}),f.jsx(R4,{className:"w-8 h-8 text-cyan-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-emerald-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Active Customers"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(x=>x.status==="Active").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-emerald-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-amber-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Pending Verification"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(x=>x.status==="Pending").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-amber-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-purple-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Premium"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:"6,88,000"})]}),f.jsx(Qt,{className:"w-8 h-8 text-purple-400"})]})})})]}),f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[f.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[f.jsx(hb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),f.jsx(Kt,{type:"text",placeholder:"Search customers by name, email, or location...",value:n,onChange:x=>r(x.target.value),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20"})]}),f.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 min-w-[150px]",children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Statuses"}),v.map(x=>f.jsx("option",{value:x,className:"bg-gray-800",children:x},x))]}),f.jsxs("select",{value:o,onChange:x=>s(x.target.value),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 min-w-[150px]",children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Agents"}),g.map(x=>f.jsx("option",{value:x,className:"bg-gray-800",children:x},x))]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-gray-300 text-sm",children:[y.length," of ",u.length," customers"]}),(n||i!=="All"||o!=="All")&&f.jsxs(Ze,{variant:"outline",size:"sm",onClick:w,className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(us,{className:"w-4 h-4 mr-2"}),"Clear Filters"]}),f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(Go,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h2",{className:"text-xl font-semibold text-white",children:y.length===u.length?"All Customers":`Filtered Customers (${y.length})`})}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(x=>f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsxs(Ge,{className:"p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 flex items-center justify-center",children:f.jsx("span",{className:"text-white font-bold text-lg",children:x.name.split(" ").map(M=>M[0]).join("")})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:x.name}),f.jsx("p",{className:"text-gray-400 text-sm",children:x.email})]})]}),f.jsx(fi,{variant:"outline",className:p(x.status),children:x.status})]}),f.jsxs("div",{className:"space-y-2 text-gray-300 text-sm",children:[f.jsxs("p",{children:["Phone: ",x.phone]}),f.jsxs("p",{children:["Location: ",x.location]}),f.jsxs("p",{children:["Policies: ",x.policies]}),f.jsxs("p",{children:["Total Premium: ",f.jsx("span",{className:"font-medium text-white",children:x.totalPremium})]}),f.jsxs("p",{children:["Agent: ",f.jsx("span",{className:"font-medium text-white",children:x.agent.name})]})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(Fa,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},x.id))})]})]});return t?f.jsx(da,{sidebarItems:h,user:l,currentView:"customers",fullPageView:!1,children:C}):C},ple=({withLayout:t=!1})=>{const e=ni(),[n,r]=se.useState(""),[i,a]=se.useState("All"),[o,s]=se.useState("All"),u=[{id:1,policyNumber:"POL-2024-001",type:"Life Insurance",customer:"John Doe",agent:"Agent Smith",premium:"16,000/month",coverage:"80,00,000",status:"Active",startDate:"2024-01-15",endDate:"2025-01-15"},{id:2,policyNumber:"POL-2024-002",type:"Health Insurance",customer:"Jane Smith",agent:"Agent Doe",premium:"12,000/month",coverage:"40,00,000",status:"Active",startDate:"2023-07-01",endDate:"2024-07-01"},{id:3,policyNumber:"POL-2024-003",type:"Auto Insurance",customer:"Mike Johnson",agent:"Agent Johnson",premium:"9,600/month",coverage:"20,00,000",status:"Active",startDate:"2024-02-01",endDate:"2025-02-01"},{id:4,policyNumber:"POL-2024-004",type:"Property Insurance",customer:"Sarah Brown",agent:"Agent Brown",premium:"24,000/month",coverage:"1,60,00,000",status:"Active",startDate:"2023-12-01",endDate:"2024-12-01"}],l=[{id:5,policyNumber:"POL-REQ-001",type:"Life Insurance",customer:"David Wilson",agent:"Agent Smith",premium:"14,400/month",coverage:"64,00,000",status:"Requesting",submittedDate:"2024-02-15",documents:["Application Form","Medical Report","ID Proof"],priority:"High"},{id:6,policyNumber:"POL-REQ-002",type:"Health Insurance",customer:"Lisa Garcia",agent:"Agent Doe",premium:"17,600/month",coverage:"60,00,000",status:"Requesting",submittedDate:"2024-02-14",documents:["Application Form","Health Declaration","Bank Statement"],priority:"Medium"},{id:7,policyNumber:"POL-REQ-003",type:"Auto Insurance",customer:"Robert Lee",agent:"Agent Johnson",premium:"7,600/month",coverage:"24,00,000",status:"Requesting",submittedDate:"2024-02-13",documents:["Application Form","Vehicle Registration","Driver License"],priority:"Low"},{id:8,policyNumber:"POL-REQ-004",type:"Property Insurance",customer:"Maria Rodriguez",agent:"Agent Brown",premium:"28,000/month",coverage:"2,00,00,000",status:"Requesting",submittedDate:"2024-02-12",documents:["Application Form","Property Deed","Valuation Report"],priority:"High"}],h={name:"Insurance Admin",role:"Company",email:"company@ethsure.com",wallet:"0x1234...abcd",company:"EthSure Insurance"},p=[{id:"overview",icon:Bu,label:"Overview",onClick:()=>e("/company-dashboard")},{id:"agents",icon:mi,label:"Agents",onClick:()=>e("/company/agents")},{id:"customers",icon:_p,label:"Customers",onClick:()=>e("/company/customers")},{id:"policies",icon:sn,label:"Policies",onClick:()=>e("/company/policies")},{id:"claims",icon:Vs,label:"Claims",onClick:()=>e("/company/claims")}],g=P=>({Active:"text-emerald-400 bg-emerald-500/20 border border-emerald-500/30",Pending:"text-amber-400 bg-amber-500/20 border border-amber-500/30",Requesting:"text-blue-400 bg-blue-500/20 border border-blue-500/30",Expired:"text-red-400 bg-red-500/20 border border-red-500/30"})[P]||"text-gray-400 bg-gray-700/50",v=P=>({High:"text-red-300 bg-red-500/10 border border-red-400/20",Medium:"text-amber-400 bg-amber-500/20 border border-amber-500/30",Low:"text-green-400 bg-green-500/20 border border-green-500/30"})[P]||"text-gray-400 bg-gray-700/50",y=P=>({"Life Insurance":"text-blue-400 bg-blue-500/20 border border-blue-500/30","Health Insurance":"text-green-400 bg-green-500/20 border border-green-500/30","Auto Insurance":"text-purple-400 bg-purple-500/20 border border-purple-500/30","Property Insurance":"text-orange-400 bg-orange-500/20 border border-orange-500/30"})[P]||"text-gray-400 bg-gray-700/50",w=[...u,...l],C=se.useMemo(()=>[...new Set(w.map(P=>P.type))].sort(),[w]),x=se.useMemo(()=>[...new Set(w.map(P=>P.status))].sort(),[w]),M=se.useMemo(()=>w.filter(P=>{const K=P.policyNumber.toLowerCase().includes(n.toLowerCase())||P.customer.toLowerCase().includes(n.toLowerCase())||P.agent.toLowerCase().includes(n.toLowerCase())||P.type.toLowerCase().includes(n.toLowerCase()),W=i==="All"||P.status===i,B=o==="All"||P.type===o;return K&&W&&B}),[w,n,i,o]),k=()=>{r(""),a("All"),s("All")},z=f.jsxs("div",{className:"space-y-6 pt-20",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(sn,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Policy"})," ",f.jsx("span",{className:"gradient-text",children:"Management"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"Oversee all insurance policies across the company"})]})]})})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Policies"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:w.length})]}),f.jsx(sn,{className:"w-8 h-8 text-cyan-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-emerald-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Active Policies"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(P=>P.status==="Active").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-emerald-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-blue-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Requesting Review"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:l.length})]}),f.jsx(Qt,{className:"w-8 h-8 text-blue-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-purple-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Premium"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:"1,09,200/month"})]}),f.jsx(Qt,{className:"w-8 h-8 text-purple-400"})]})})})]}),f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[f.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[f.jsx(hb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),f.jsx(Kt,{type:"text",placeholder:"Search policies by number, customer, agent, or type...",value:n,onChange:P=>r(P.target.value),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20"})]}),f.jsxs("select",{value:i,onChange:P=>a(P.target.value),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 min-w-[150px]",children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Statuses"}),x.map(P=>f.jsx("option",{value:P,className:"bg-gray-800",children:P},P))]}),f.jsxs("select",{value:o,onChange:P=>s(P.target.value),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 min-w-[150px]",children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Types"}),C.map(P=>f.jsx("option",{value:P,className:"bg-gray-800",children:P},P))]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-gray-300 text-sm",children:[M.length," of ",w.length," policies"]}),(n||i!=="All"||o!=="All")&&f.jsxs(Ze,{variant:"outline",size:"sm",onClick:k,className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(us,{className:"w-4 h-4 mr-2"}),"Clear Filters"]}),f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(Go,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h2",{className:"text-xl font-semibold text-white",children:M.length===w.length?"All Policies":`Filtered Policies (${M.length})`})}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:M.map(P=>f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsxs(Ge,{className:"p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:P.policyNumber}),f.jsx("p",{className:"text-gray-400 text-sm",children:P.type})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(fi,{variant:"outline",className:y(P.type),children:P.type}),f.jsx(fi,{variant:"outline",className:g(P.status),children:P.status})]})]}),f.jsxs("div",{className:"space-y-2 text-gray-300 text-sm",children:[f.jsxs("p",{children:["Customer: ",P.customer]}),f.jsxs("p",{children:["Agent: ",P.agent]}),f.jsxs("p",{children:["Premium: ",f.jsx("span",{className:"font-medium text-white",children:P.premium})]}),f.jsxs("p",{children:["Coverage: ",f.jsx("span",{className:"font-medium text-white",children:P.coverage})]}),P.status==="Requesting"?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Submitted: ",f.jsx("span",{className:"font-medium text-white",children:P.submittedDate})]}),f.jsxs("p",{children:["Priority: ",f.jsx(fi,{className:v(P.priority),children:P.priority})]}),f.jsxs("p",{children:["Documents: ",f.jsxs("span",{className:"font-medium text-white",children:[P.documents?.length||0," files"]})]})]}):f.jsxs("p",{children:["Dates: ",P.startDate," - ",P.endDate]})]}),f.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[f.jsxs(Ze,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[f.jsx(Fa,{className:"w-4 h-4 mr-2"}),"View Details"]}),P.status==="Requesting"&&f.jsxs(f.Fragment,{children:[f.jsx(Ze,{size:"sm",className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",children:"Approve"}),f.jsx(Ze,{variant:"outline",size:"sm",className:"border-red-400/20 text-red-300 hover:bg-red-500/10 hover:border-red-400/30 hover:text-red-200 transition-all duration-200",children:"Reject"})]})]})]})},P.id))})]})]});return t?f.jsx(da,{sidebarItems:p,user:h,currentView:"policies",fullPageView:!1,children:z}):z},mle=({withLayout:t=!1})=>{const e=ni(),[n,r]=se.useState(""),[i,a]=se.useState("All"),[o,s]=se.useState("All"),u=AB,l=CB,h=Joe(e),p=se.useMemo(()=>[...new Set(u.map(C=>C.type))].sort(),[u]),g=se.useMemo(()=>[...new Set(u.map(C=>C.status))].sort(),[u]),v=se.useMemo(()=>u.filter(C=>{const x=C.claimNumber.toLowerCase().includes(n.toLowerCase())||C.customer.toLowerCase().includes(n.toLowerCase())||C.agent.toLowerCase().includes(n.toLowerCase())||C.type.toLowerCase().includes(n.toLowerCase()),M=i==="All"||C.status===i,k=o==="All"||C.type===o;return x&&M&&k}),[u,n,i,o]),y=()=>{r(""),a("All"),s("All")},w=f.jsxs("div",{className:"space-y-6 pt-20",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg glass",children:f.jsx(Ui,{className:"w-6 h-6 text-cyan-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[f.jsx("span",{className:"text-white",children:"Claims"})," ",f.jsx("span",{className:"gradient-text",children:"Management"})]}),f.jsx("p",{className:"text-xl text-gray-300",children:"Review and process insurance claims"})]})]})})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Total Claims"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.length})]}),f.jsx(Ui,{className:"w-8 h-8 text-cyan-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-emerald-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Approved Claims"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(C=>C.status==="Approved").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-emerald-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-amber-400/50 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Pending Claims"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(C=>C.status==="Pending").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-amber-400"})]})})}),f.jsx(Ve,{className:"glass border-white/10 hover:border-red-400/30 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 text-sm",children:"Rejected Claims"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:u.filter(C=>C.status==="Rejected").length})]}),f.jsx(Qt,{className:"w-8 h-8 text-red-300"})]})})})]}),f.jsx(Ve,{className:"glass border-white/10 hover:border-white/20 transition-all duration-300",children:f.jsx(Ge,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[f.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[f.jsx(hb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),f.jsx(Kt,{type:"text",placeholder:"Search claims by number, customer, agent, or type...",value:n,onChange:C=>r(C.target.value),className:Td.inputClass})]}),f.jsxs("select",{value:i,onChange:C=>a(C.target.value),className:Td.selectClass,children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Statuses"}),g.map(C=>f.jsx("option",{value:C,className:"bg-gray-800",children:C},C))]}),f.jsxs("select",{value:o,onChange:C=>s(C.target.value),className:Td.selectClass,children:[f.jsx("option",{value:"All",className:"bg-gray-800",children:"All Types"}),p.map(C=>f.jsx("option",{value:C,className:"bg-gray-800",children:C},C))]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"text-gray-300 text-sm",children:[v.length," of ",u.length," claims"]}),(n||i!=="All"||o!=="All")&&f.jsxs(Ze,{variant:"outline",size:"sm",onClick:y,className:Td.buttonClass,children:[f.jsx(us,{className:"w-4 h-4 mr-2"}),"Clear Filters"]}),f.jsxs(Ze,{variant:"outline",size:"sm",className:Td.buttonClass,children:[f.jsx(Go,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h2",{className:"text-xl font-semibold text-white",children:v.length===u.length?"All Claims":`Filtered Claims (${v.length})`})}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:v.map(C=>f.jsx(Ve,{className:"glass border-white/10 hover:border-cyan-400/50 transition-all duration-300",children:f.jsxs(Ge,{className:"p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:C.claimNumber}),f.jsx("p",{className:"text-gray-400 text-sm",children:C.type})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(fi,{variant:"outline",className:C.verified?"border-emerald-500/30 text-emerald-400":"border-amber-500/30 text-amber-400",children:C.verified?"Verified":"Pending"}),f.jsx(fi,{variant:"outline",className:NB(C.status),children:C.status})]})]}),f.jsxs("div",{className:"space-y-2 text-gray-300 text-sm",children:[f.jsxs("p",{children:["Customer: ",C.customer]}),f.jsxs("p",{children:["Agent: ",C.agent]}),f.jsxs("p",{children:["Policy: ",C.policy]}),f.jsxs("p",{children:["Type: ",C.type]}),f.jsxs("p",{children:["Amount: ",f.jsx("span",{className:"font-medium text-white",children:C.amount})]}),f.jsxs("p",{children:["Submitted: ",C.submittedDate]}),C.processedDate&&f.jsxs("p",{children:["Processed: ",C.processedDate]})]}),f.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[f.jsxs(Ze,{variant:"outline",size:"sm",className:Td.buttonClass,children:[f.jsx(Fa,{className:"w-4 h-4 mr-2"}),"View Details"]}),C.status==="Pending"&&f.jsxs(f.Fragment,{children:[f.jsx(Ze,{size:"sm",className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 hover:bg-emerald-500/30",children:"Approve"}),f.jsx(Ze,{size:"sm",variant:"outline",className:"border-red-400/20 text-red-300 hover:bg-red-500/10 hover:border-red-400/30 hover:text-red-200 transition-all duration-200",children:"Reject"})]})]})]})},C.id))})]})]});return t?f.jsx(da,{sidebarItems:h,user:l,currentView:"claims",fullPageView:!1,children:w}):w};function gle(){return f.jsxs(_$,{children:[f.jsx(Fn,{path:"/",element:f.jsx(sse,{})}),f.jsx(Fn,{path:"/login",element:f.jsx(ose,{})}),f.jsx(Fn,{path:"/about",element:f.jsx(ile,{})}),f.jsx(Fn,{path:"/services",element:f.jsx(ale,{})}),f.jsx(Fn,{path:"/contact",element:f.jsx(sle,{})}),f.jsx(Fn,{path:"/role-select",element:f.jsx(ole,{})}),f.jsx(Fn,{path:"/customer-dashboard",element:f.jsx(Voe,{})}),f.jsx(Fn,{path:"/agent-dashboard",element:f.jsx(Yoe,{})}),f.jsx(Fn,{path:"/company-dashboard",element:f.jsx(tle,{})}),f.jsx(Fn,{path:"/company/agents",element:f.jsx(fle,{withLayout:!0})}),f.jsx(Fn,{path:"/company/customers",element:f.jsx(hle,{withLayout:!0})}),f.jsx(Fn,{path:"/company/policies",element:f.jsx(ple,{withLayout:!0})}),f.jsx(Fn,{path:"/company/claims",element:f.jsx(mle,{withLayout:!0})}),f.jsx(Fn,{path:"/nominee-dashboard",element:f.jsx(rle,{})}),f.jsx(Fn,{path:"/agent/customers",element:f.jsx(lle,{withLayout:!0})}),f.jsx(Fn,{path:"/agent/claims",element:f.jsx(cle,{withLayout:!0})}),f.jsx(Fn,{path:"/agent/create-policy",element:f.jsx(ule,{isOpen:!0,onClose:()=>window.history.back(),withLayout:!0})}),f.jsx(Fn,{path:"/agent/add-customer",element:f.jsx(dle,{isOpen:!0,onClose:()=>window.history.back(),withLayout:!0})}),f.jsx(Fn,{path:"/agent/kyc",element:f.jsx(P4,{isOpen:!0,onClose:()=>window.history.back(),withLayout:!0})}),f.jsx(Fn,{path:"/customer/pay-emi",element:f.jsx(EB,{})}),f.jsx(Fn,{path:"/customer/payment-methods",element:f.jsx(xB,{onBack:()=>window.history.back()})}),f.jsx(Fn,{path:"/customer/policies",element:f.jsx(SB,{})}),f.jsx(Fn,{path:"/customer/kyc",element:f.jsx(P4,{isOpen:!0,onClose:()=>window.history.back()})})]})}const rE=mD({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),vle=sB({chains:[rE],connectors:[],ssr:!0,transports:{[rE.id]:pD(rE.rpcUrls.default.http[0])}}),yle=["children"],L4="web3auth";async function ble(t,e){let n=e.connectors.find(i=>i.id===L4);if(n)return n;n=cb({target:{provider:t,id:L4,name:"Web3Auth"}});const r=e._internal.connectors.setup(n);return e._internal.connectors.setState(i=>[...i,r]),r}async function wle(t,e){var n,r;await Promise.all([(n=e.storage)===null||n===void 0?void 0:n.removeItem(`${t.id}.disconnected`),(r=e.storage)===null||r===void 0?void 0:r.setItem("recentConnectorId",t.id)]);let i=await t.getChainId();e.chains.find(s=>s.id===i)||(i=e.chains[0].id);const a=await t.getAccounts(),o=new Map([[t.uid,{accounts:[a[0]],chainId:i,connector:t}]]);e.setState(s=>we(we({},s),{},{chainId:i,connections:o,current:t.uid,status:"connected"}))}async function xle(t){t._internal.connectors.setState(e=>e.filter(n=>n.id!==L4)),t.setState(e=>we(we({},e),{},{chainId:e.chainId,connections:new Map,current:void 0,status:"disconnected"}))}function Ele({children:t}){const{isConnected:e,provider:n}=ZD(),{disconnect:r}=XD(),i=ub(),{reconnect:a}=ase();return Mae({onDisconnect:async()=>{at.info("Disconnected from wagmi"),e&&await r()}}),se.useEffect(()=>{(async()=>{if(e&&n){const o=await ble(n,i);if(!o)throw at.error("Failed to setup react wagmi connector"),new Error("Failed to setup connector");await wle(o,i),a()}else e||i.state.status==="connected"&&await xle(i)})()},[e,i,n,a]),se.createElement(se.Fragment,null,t)}function Sle(t){let{children:e}=t,n=Cy(t,yle);const{config:r}=n,{web3Auth:i,isInitialized:a}=ZD(),o=se.useMemo(()=>{var s;if(i?.setAnalyticsProperties({wagmi_enabled:!0}),!a)return vle;const u=we(we({ssr:!0},r),{},{chains:void 0,connectors:[],transports:{},multiInjectedProviderDiscovery:!1,client:void 0}),l=[];if(a&&i!==null&&i!==void 0&&(s=i.coreOptions)!==null&&s!==void 0&&s.chains){var h;const p=(h=i.currentChain)===null||h===void 0?void 0:h.chainId,g=i.coreOptions.chains.filter(v=>v.chainNamespace===qt.EIP155);if(g.length===0)throw lt.invalidParams("No valid chains found in web3auth config for wagmi.");g.forEach(v=>{const y=mD({id:Number.parseInt(v.chainId,16),name:v.displayName,rpcUrls:{default:{http:[v.rpcTarget],webSocket:[v.wsTarget]}},blockExplorers:v.blockExplorerUrl?{default:{name:"explorer",url:v.blockExplorerUrl}}:void 0,nativeCurrency:{name:v.tickerName,symbol:v.ticker,decimals:v.decimals||18}});p===v.chainId?l.unshift(y):l.push(y),u.transports[y.id]=v.wsTarget?Dte(v.wsTarget):pD(v.rpcTarget)}),u.chains=[l[0],...l.slice(1)]}return sB(u)},[r,i,a]);return se.createElement(vae,we(we({},n),{},{config:o,reconnectOnMount:!1}),se.createElement(Ele,null,e))}const _le="BLZuDj_PfsNL7T-g-s9a0ar3WFHaIoqho2_TQVAJOqlaqJjOgPPnN8j8DsYCpVZ1s3mu9ElyrUXG39FoAattSa0",Cle={web3AuthOptions:{clientId:_le,web3AuthNetwork:Vd.SAPPHIRE_DEVNET,theme:"dark",modalConfig:{connectors:{[pt.AUTH]:{label:"auth",loginMethods:{google:{name:"google login"},email_passwordless:{name:"email passwordless login"},sms_passwordless:{name:"sms passwordless login"}},showOnModal:!0}}}}};function Nle({children:t}){const[e]=se.useState(()=>new Xae);return f.jsx(Xie,{config:Cle,children:f.jsx(rse,{client:e,children:f.jsx(Sle,{children:f.jsx("div",{className:"container",children:t})})})})}RU.createRoot(document.getElementById("root")).render(f.jsx(V$,{children:f.jsx(Nle,{children:f.jsx(gle,{})})}));export{Qo as $,p5 as A,xee as B,lc as C,yK as D,FY as E,BW as F,zle as G,l0 as H,pr as I,js as J,lg as K,y0 as L,sf as M,qT as N,eu as O,LG as P,mT as Q,gS as R,Kle as S,wS as T,CG as U,Qh as V,Ct as W,Fo as X,_V as Y,$i as Z,Ne as _,qt as a,Zle as a$,aI as a0,Lq as a1,Zh as a2,Wd as a3,Xg as a4,Qg as a5,ic as a6,bI as a7,we as a8,aK as a9,bU as aA,Yo as aB,EU as aC,VY as aD,WY as aE,KW as aF,Ty as aG,jle as aH,F8 as aI,pt as aJ,qn as aK,Bd as aL,Nn as aM,OW as aN,dO as aO,wte as aP,Kee as aQ,Vle as aR,cy as aS,Ste as aT,xte as aU,Ree as aV,qee as aW,Lee as aX,QL as aY,Du as aZ,ZL as a_,Uk as aa,$o as ab,xc as ac,Rle as ad,Lle as ae,Tle as af,$le as ag,XI as ah,cO as ai,Ule as aj,Z8 as ak,cE as al,Wle as am,cJ as an,dJ as ao,PE as ap,Xl as aq,QT as ar,lt as as,yee as at,vee as au,qW as av,zW as aw,bee as ax,wee as ay,eK as az,_o as b,T2 as b0,Yle as b1,Uee as b2,XL as b3,lD as b4,_te as b5,ace as b6,ff as b7,v5 as b8,Fee as b9,rce as bA,uy as bB,ice as bC,Jle as bD,Mte as bE,fS as bF,pD as bG,mD as bH,Gle as ba,lte as bb,Xle as bc,pO as bd,rD as be,df as bf,tte as bg,tD as bh,cte as bi,ece as bj,cD as bk,jte as bl,U0 as bm,g5 as bn,V0 as bo,X0 as bp,Ate as bq,uD as br,fD as bs,eD as bt,xf as bu,Pg as bv,Qle as bw,tce as bx,ete as by,nce as bz,ct as c,ht as d,Ba as e,Oee as f,xt as g,Et as h,yn as i,it as j,Fle as k,at as l,qle as m,Hle as n,T3 as o,qY as p,bK as q,Ple as r,vK as s,jS as t,oV as u,DG as v,ss as w,Fr as x,xp as y,dc as z};
